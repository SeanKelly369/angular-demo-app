"use strict";
exports.id = "vendor";
exports.ids = null;
exports.modules = {

/***/ "./node_modules/@nativescript/angular/fesm2022/nativescript-angular.mjs":
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   APP_ROOT_VIEW: () => (/* binding */ APP_ROOT_VIEW),
/* harmony export */   ActionBarComponent: () => (/* binding */ ActionBarComponent),
/* harmony export */   ActionBarScope: () => (/* binding */ ActionBarScope),
/* harmony export */   ActionItemDirective: () => (/* binding */ ActionItemDirective),
/* harmony export */   AndroidFilterComponent: () => (/* binding */ AndroidFilterComponent),
/* harmony export */   AppHostAsyncView: () => (/* binding */ AppHostAsyncView),
/* harmony export */   AppHostView: () => (/* binding */ AppHostView),
/* harmony export */   BasePortalOutlet: () => (/* binding */ BasePortalOutlet),
/* harmony export */   BaseValueAccessor: () => (/* binding */ BaseValueAccessor),
/* harmony export */   COMMON_PROVIDERS: () => (/* binding */ COMMON_PROVIDERS),
/* harmony export */   CdkPortal: () => (/* binding */ CdkPortal),
/* harmony export */   CdkPortalOutlet: () => (/* binding */ CdkPortalOutlet),
/* harmony export */   CheckedValueAccessor: () => (/* binding */ CheckedValueAccessor),
/* harmony export */   CommentNode: () => (/* binding */ CommentNode),
/* harmony export */   ComponentPortal: () => (/* binding */ ComponentPortal),
/* harmony export */   DEVICE: () => (/* binding */ DEVICE),
/* harmony export */   DISABLE_ROOT_VIEW_HANDLING: () => (/* binding */ DISABLE_ROOT_VIEW_HANDLING),
/* harmony export */   DateValueAccessor: () => (/* binding */ DateValueAccessor),
/* harmony export */   DetachedLoader: () => (/* binding */ DetachedLoader),
/* harmony export */   DomPortal: () => (/* binding */ DomPortal),
/* harmony export */   ENABLE_REUSABE_VIEWS: () => (/* binding */ ENABLE_REUSABE_VIEWS),
/* harmony export */   EmulatedRenderer: () => (/* binding */ EmulatedRenderer),
/* harmony export */   FrameDirective: () => (/* binding */ FrameDirective),
/* harmony export */   FramePageComponent: () => (/* binding */ FramePageComponent),
/* harmony export */   FramePageModule: () => (/* binding */ FramePageModule),
/* harmony export */   FrameService: () => (/* binding */ FrameService),
/* harmony export */   IOSFilterComponent: () => (/* binding */ IOSFilterComponent),
/* harmony export */   InjectableAnimationEngine: () => (/* binding */ InjectableAnimationEngine),
/* harmony export */   InvisibleNode: () => (/* binding */ InvisibleNode),
/* harmony export */   ItemContext: () => (/* binding */ ItemContext),
/* harmony export */   ListViewComponent: () => (/* binding */ ListViewComponent),
/* harmony export */   ModalDialogParams: () => (/* binding */ ModalDialogParams),
/* harmony export */   ModalDialogService: () => (/* binding */ ModalDialogService),
/* harmony export */   NAMESPACE_FILTERS: () => (/* binding */ NAMESPACE_FILTERS),
/* harmony export */   NATIVESCRIPT_MODULE_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_PROVIDERS),
/* harmony export */   NATIVESCRIPT_MODULE_STATIC_PROVIDERS: () => (/* binding */ NATIVESCRIPT_MODULE_STATIC_PROVIDERS),
/* harmony export */   NATIVESCRIPT_ROOT_MODULE_ID: () => (/* binding */ NATIVESCRIPT_ROOT_MODULE_ID),
/* harmony export */   NATIVE_DIALOG_DATA: () => (/* binding */ NATIVE_DIALOG_DATA),
/* harmony export */   NATIVE_DIALOG_DEFAULT_OPTIONS: () => (/* binding */ NATIVE_DIALOG_DEFAULT_OPTIONS),
/* harmony export */   NSEmptyOutletComponent: () => (/* binding */ NSEmptyOutletComponent),
/* harmony export */   NSFileSystem: () => (/* binding */ NSFileSystem),
/* harmony export */   NSLocationStrategy: () => (/* binding */ NSLocationStrategy),
/* harmony export */   NSRouteReuseStrategy: () => (/* binding */ NSRouteReuseStrategy),
/* harmony export */   NSRouterLink: () => (/* binding */ NSRouterLink),
/* harmony export */   NSRouterLinkActive: () => (/* binding */ NSRouterLinkActive),
/* harmony export */   NativeDialogCloseDirective: () => (/* binding */ NativeDialogCloseDirective),
/* harmony export */   NativeDialogConfig: () => (/* binding */ NativeDialogConfig),
/* harmony export */   NativeDialogModule: () => (/* binding */ NativeDialogModule),
/* harmony export */   NativeDialogRef: () => (/* binding */ NativeDialogRef),
/* harmony export */   NativeDialogService: () => (/* binding */ NativeDialogService),
/* harmony export */   NativeModalRef: () => (/* binding */ NativeModalRef),
/* harmony export */   NativeScriptAnimationDriver: () => (/* binding */ NativeScriptAnimationDriver),
/* harmony export */   NativeScriptAnimationPlayer: () => (/* binding */ NativeScriptAnimationPlayer),
/* harmony export */   NativeScriptAnimationsModule: () => (/* binding */ NativeScriptAnimationsModule),
/* harmony export */   NativeScriptCommonModule: () => (/* binding */ NativeScriptCommonModule),
/* harmony export */   NativeScriptDocument: () => (/* binding */ NativeScriptDocument),
/* harmony export */   NativeScriptDomPortalOutlet: () => (/* binding */ NativeScriptDomPortalOutlet),
/* harmony export */   NativeScriptFormsModule: () => (/* binding */ NativeScriptFormsModule),
/* harmony export */   NativeScriptHttpClientModule: () => (/* binding */ NativeScriptHttpClientModule),
/* harmony export */   NativeScriptLoadingService: () => (/* binding */ NativeScriptLoadingService),
/* harmony export */   NativeScriptModule: () => (/* binding */ NativeScriptModule),
/* harmony export */   NativeScriptNgSafeEvent: () => (/* binding */ NativeScriptNgSafeEvent),
/* harmony export */   NativeScriptNgZone: () => (/* binding */ NativeScriptNgZone),
/* harmony export */   NativeScriptRendererFactory: () => (/* binding */ NativeScriptRendererFactory),
/* harmony export */   NativeScriptRouterModule: () => (/* binding */ NativeScriptRouterModule),
/* harmony export */   NativeScriptSanitizer: () => (/* binding */ NativeScriptSanitizer),
/* harmony export */   NativescriptXhrFactory: () => (/* binding */ NativescriptXhrFactory),
/* harmony export */   NavigationButtonDirective: () => (/* binding */ NavigationButtonDirective),
/* harmony export */   NgViewRef: () => (/* binding */ NgViewRef),
/* harmony export */   NsHttpBackEnd: () => (/* binding */ NsHttpBackEnd),
/* harmony export */   NsTemplatedItem: () => (/* binding */ NsTemplatedItem),
/* harmony export */   NumberValueAccessor: () => (/* binding */ NumberValueAccessor),
/* harmony export */   Outlet: () => (/* binding */ Outlet),
/* harmony export */   PAGE_FACTORY: () => (/* binding */ PAGE_FACTORY),
/* harmony export */   PageDirective: () => (/* binding */ PageDirective),
/* harmony export */   PageRoute: () => (/* binding */ PageRoute),
/* harmony export */   PageRouterOutlet: () => (/* binding */ PageRouterOutlet),
/* harmony export */   PageService: () => (/* binding */ PageService),
/* harmony export */   PlatformNamespaceFilter: () => (/* binding */ PlatformNamespaceFilter),
/* harmony export */   Portal: () => (/* binding */ Portal),
/* harmony export */   PortalModule: () => (/* binding */ PortalModule),
/* harmony export */   RootCompositeModule: () => (/* binding */ RootCompositeModule),
/* harmony export */   RootViewProxy: () => (/* binding */ RootViewProxy),
/* harmony export */   RouterExtensions: () => (/* binding */ RouterExtensions),
/* harmony export */   START_PATH: () => (/* binding */ START_PATH),
/* harmony export */   SelectedIndexValueAccessor: () => (/* binding */ SelectedIndexValueAccessor),
/* harmony export */   TEMPLATED_ITEMS_COMPONENT: () => (/* binding */ TEMPLATED_ITEMS_COMPONENT),
/* harmony export */   TabViewDirective: () => (/* binding */ TabViewDirective),
/* harmony export */   TabViewItemDirective: () => (/* binding */ TabViewItemDirective),
/* harmony export */   TemplateKeyDirective: () => (/* binding */ TemplateKeyDirective),
/* harmony export */   TemplatePortal: () => (/* binding */ TemplatePortal),
/* harmony export */   TextNode: () => (/* binding */ TextNode),
/* harmony export */   TextValueAccessor: () => (/* binding */ TextValueAccessor),
/* harmony export */   TimeValueAccessor: () => (/* binding */ TimeValueAccessor),
/* harmony export */   VisionOSFilterComponent: () => (/* binding */ VisionOSFilterComponent),
/* harmony export */   _NativeDialogBase: () => (/* binding */ _NativeDialogBase),
/* harmony export */   bootstrapApplication: () => (/* binding */ bootstrapApplication),
/* harmony export */   createKeyframeAnimation: () => (/* binding */ createKeyframeAnimation),
/* harmony export */   customFrameComponentFactory: () => (/* binding */ customFrameComponentFactory),
/* harmony export */   customFrameDirectiveFactory: () => (/* binding */ customFrameDirectiveFactory),
/* harmony export */   customPageFactory: () => (/* binding */ customPageFactory),
/* harmony export */   customPageFactoryFromFrame: () => (/* binding */ customPageFactoryFromFrame),
/* harmony export */   dashCaseToCamelCase: () => (/* binding */ dashCaseToCamelCase),
/* harmony export */   defaultNavOptions: () => (/* binding */ defaultNavOptions),
/* harmony export */   defaultPageFactory: () => (/* binding */ defaultPageFactory),
/* harmony export */   defaultPageFactoryProvider: () => (/* binding */ defaultPageFactoryProvider),
/* harmony export */   detachViewFromParent: () => (/* binding */ detachViewFromParent),
/* harmony export */   disableRootViewHanding: () => (/* binding */ disableRootViewHanding),
/* harmony export */   errorHandler: () => (/* binding */ errorHandler),
/* harmony export */   extractSingleViewRecursive: () => (/* binding */ extractSingleViewRecursive),
/* harmony export */   frameMeta: () => (/* binding */ frameMeta),
/* harmony export */   generateDetachedLoader: () => (/* binding */ generateDetachedLoader),
/* harmony export */   generateFallbackRootView: () => (/* binding */ generateFallbackRootView),
/* harmony export */   generateNativeScriptView: () => (/* binding */ generateNativeScriptView),
/* harmony export */   generateRandomId: () => (/* binding */ generateRandomId),
/* harmony export */   generateRootLayoutAndProxy: () => (/* binding */ generateRootLayoutAndProxy),
/* harmony export */   getFirstNativeLikeView: () => (/* binding */ getFirstNativeLikeView),
/* harmony export */   getItemViewRoot: () => (/* binding */ getItemViewRoot),
/* harmony export */   getSingleViewRecursive: () => (/* binding */ getSingleViewRecursive),
/* harmony export */   getViewClass: () => (/* binding */ getViewClass),
/* harmony export */   getViewMeta: () => (/* binding */ getViewMeta),
/* harmony export */   instantiateDefaultStyleNormalizer: () => (/* binding */ instantiateDefaultStyleNormalizer),
/* harmony export */   instantiateSupportedAnimationDriver: () => (/* binding */ instantiateSupportedAnimationDriver),
/* harmony export */   isBlank: () => (/* binding */ isBlank),
/* harmony export */   isContentView: () => (/* binding */ isContentView),
/* harmony export */   isDetachedElement: () => (/* binding */ isDetachedElement),
/* harmony export */   isInvisibleNode: () => (/* binding */ isInvisibleNode),
/* harmony export */   isJsObject: () => (/* binding */ isJsObject),
/* harmony export */   isKnownView: () => (/* binding */ isKnownView),
/* harmony export */   isLayout: () => (/* binding */ isLayout),
/* harmony export */   isListLikeIterable: () => (/* binding */ isListLikeIterable),
/* harmony export */   isPresent: () => (/* binding */ isPresent),
/* harmony export */   isView: () => (/* binding */ isView),
/* harmony export */   onAfterLivesync: () => (/* binding */ onAfterLivesync),
/* harmony export */   onBeforeLivesync: () => (/* binding */ onBeforeLivesync),
/* harmony export */   once: () => (/* binding */ once),
/* harmony export */   platformNativeScript: () => (/* binding */ platformNativeScript),
/* harmony export */   platformNativeScriptDynamic: () => (/* binding */ platformNativeScriptDynamic),
/* harmony export */   postAngularBootstrap$: () => (/* binding */ postAngularBootstrap$),
/* harmony export */   preAngularDisposal$: () => (/* binding */ preAngularDisposal$),
/* harmony export */   provideLocationStrategy: () => (/* binding */ provideLocationStrategy),
/* harmony export */   registerElement: () => (/* binding */ registerElement),
/* harmony export */   registerNativeScriptViewComponents: () => (/* binding */ registerNativeScriptViewComponents),
/* harmony export */   runNativeScriptAngularApp: () => (/* binding */ runNativeScriptAngularApp),
/* harmony export */   throwIfAlreadyLoaded: () => (/* binding */ throwIfAlreadyLoaded),
/* harmony export */   throwNoPortalAttachedError: () => (/* binding */ throwNoPortalAttachedError),
/* harmony export */   throwNullPortalError: () => (/* binding */ throwNullPortalError),
/* harmony export */   throwNullPortalOutletError: () => (/* binding */ throwNullPortalOutletError),
/* harmony export */   throwPortalAlreadyAttachedError: () => (/* binding */ throwPortalAlreadyAttachedError),
/* harmony export */   throwPortalOutletAlreadyDisposedError: () => (/* binding */ throwPortalOutletAlreadyDisposedError),
/* harmony export */   throwUnknownPortalTypeError: () => (/* binding */ throwUnknownPortalTypeError),
/* harmony export */   "ɵCOMPONENT_VARIABLE": () => (/* binding */ COMPONENT_VARIABLE),
/* harmony export */   "ɵCONTENT_ATTR": () => (/* binding */ CONTENT_ATTR),
/* harmony export */   "ɵHOST_ATTR": () => (/* binding */ HOST_ATTR),
/* harmony export */   "ɵNativeScriptAngularDebug": () => (/* binding */ NativeScriptDebug),
/* harmony export */   "ɵViewUtil": () => (/* binding */ viewUtil),
/* harmony export */   "ɵactionBarMeta": () => (/* binding */ actionBarMeta),
/* harmony export */   "ɵelementMap": () => (/* binding */ elementMap),
/* harmony export */   "ɵisActionItem": () => (/* binding */ isActionItem),
/* harmony export */   "ɵisNavigationButton": () => (/* binding */ isNavigationButton)
/* harmony export */ });
/* harmony import */ var _Users_seankelly_nstudio_Nativescript_Angular_Demos_angular_demo_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("./node_modules/@nativescript/core/ui/page/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/view-base/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/layout-base.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("./node_modules/@nativescript/core/ui/content-view/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("./node_modules/@nativescript/core/ui/proxy-view-container/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("./node_modules/@nativescript/core/platform/common.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/grid-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("./node_modules/@nativescript/core/application/application.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__("./node_modules/@nativescript/core/trace/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/formatted-string.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-base/span.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/absolute-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__("./node_modules/@nativescript/core/ui/activity-indicator/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__("./node_modules/@nativescript/core/ui/button/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__("./node_modules/@nativescript/core/ui/date-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/dock-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__("./node_modules/@nativescript/core/ui/frame/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__("./node_modules/@nativescript/core/ui/html-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__("./node_modules/@nativescript/core/ui/image/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__("./node_modules/@nativescript/core/ui/label/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__("./node_modules/@nativescript/core/ui/list-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__("./node_modules/@nativescript/core/ui/placeholder/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__("./node_modules/@nativescript/core/ui/progress/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__("./node_modules/@nativescript/core/ui/repeater/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/root-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__("./node_modules/@nativescript/core/ui/scroll-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__("./node_modules/@nativescript/core/ui/search-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__("./node_modules/@nativescript/core/ui/segmented-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__("./node_modules/@nativescript/core/ui/slider/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/stack-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/flexbox-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__("./node_modules/@nativescript/core/ui/switch/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__("./node_modules/@nativescript/core/ui/tab-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-field/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__("./node_modules/@nativescript/core/ui/text-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__("./node_modules/@nativescript/core/ui/time-picker/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__("./node_modules/@nativescript/core/ui/web-view/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__("./node_modules/@nativescript/core/ui/layouts/wrap-layout/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__("./node_modules/@nativescript/core/ui/core/properties/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__("./node_modules/@nativescript/core/profiling/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/style-scope.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__("./node_modules/@nativescript/core/data/observable/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__("./node_modules/@nativescript/core/ui/action-bar/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__("./node_modules/@nativescript/core/data/observable-array/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__("./node_modules/@nativescript/core/color/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__("./node_modules/@nativescript/core/platform/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__("./node_modules/@nativescript/core/utils/macrotask-scheduler.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__("./node_modules/@nativescript/core/file-system/index.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__("./node_modules/@nativescript/core/ui/animation/keyframe-animation.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/converters.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-animation-parser.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__("./node_modules/@nativescript/core/ui/styling/css-selector.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__("./node_modules/@nativescript/core/utils/index.ios.js");
/* harmony import */ var _nativescript_core__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__("./node_modules/@nativescript/core/utils/mainthread-helper.ios.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__("./node_modules/rxjs/dist/cjs/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("./node_modules/rxjs/dist/cjs/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__("./node_modules/@angular/animations/fesm2022/browser.mjs");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs");
















const _c0 = ["vc"];
const _c1 = ["*"];
const _c2 = ["loader"];
function AndroidFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function IOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
function VisionOSFilterComponent_ng_content_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0, 0, ["*ngIf", "show"]);
  }
}
const getClassName = instance => instance.constructor.name;
class InvisibleNode extends _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(name = '') {
    super();
    this.name = name;
    this.nodeType = 1;
    this.nodeName = getClassName(this);
  }
  toString() {
    return `${this.nodeName}(${this.id})-${this.name}`;
  }
}
class CommentNode extends InvisibleNode {
  static {
    this.id = 0;
  }
  constructor(value) {
    super(value);
    this.meta = {
      skipAddToDom: true
    };
    this.id = CommentNode.id.toString();
    CommentNode.id += 1;
  }
}
class TextNode extends InvisibleNode {
  static {
    this.textChangeEvent = 'textChange';
  }
  static {
    this.id = 0;
  }
  get text() {
    return this._text;
  }
  set text(t) {
    this._text = t;
    this.notify({
      eventName: TextNode.textChangeEvent,
      object: this,
      value: t
    });
  }
  constructor(value) {
    super(value);
    this._text = '';
    this.callbackMap = new Map();
    this._text = value;
    this.meta = {
      skipAddToDom: true
    };
    this.id = TextNode.id.toString();
    TextNode.id += 1;
  }
  registerTextChange(callback, id) {
    const cb = evt => callback(evt.value);
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.push(cb);
    this.callbackMap.set(id, cbArr);
    this.on('textChange', cb);
  }
  unregisterTextChange(id) {
    const cbArr = this.callbackMap.get(id) || [];
    cbArr.forEach(cb => this.off('textChange', cb));
    this.callbackMap.delete(id);
  }
}
function isDetachedElement(element) {
  return element && element.meta && element.meta.skipAddToDom;
}
function isView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View;
}
function isInvisibleNode(view) {
  return view instanceof InvisibleNode;
}
function isLayout(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase;
}
function isContentView(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView;
}
function getFirstNativeLikeView(view, extractFromNSParent = false) {
  if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    if (view.getChildrenCount() === 0) {
      return null;
    }
    return getFirstNativeLikeView(view.getChildAt(0));
  }
  if (extractFromNSParent) {
    const node = view.parentNode;
    detachViewFromParent(view);
    view.parentNode = node;
  }
  return view;
}
function detachViewFromParent(view) {
  const parent = view?.parent;
  if (!parent) {
    return;
  }
  if (parent.meta && parent.meta.removeChild) {
    parent.meta.removeChild(parent, view);
  } else if (isLayout(parent)) {
    parent.removeChild(view);
  } else if (isContentView(parent) && parent.content === view) {
    parent.content = null;
  } else if (isView(parent)) {
    parent._removeView(view);
  }
}
const APP_ROOT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptAppRootView');
const NATIVESCRIPT_ROOT_MODULE_ID = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptRootModuleId');
const START_PATH = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptStartPath');
const ENABLE_REUSABE_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptEnableReusableViews');
const DISABLE_ROOT_VIEW_HANDLING = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDisableRootViewHandling');
const DEVICE = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptDevice');
const PAGE_FACTORY = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptPageFactory');
const defaultPageFactory = function (_opts) {
  return new _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page();
};
let PlatformNamespaceFilter = class PlatformNamespaceFilter {
  constructor(device) {
    this.device = device;
  }
  runsIn(namespace, next) {
    if (namespace === 'android') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
    }
    if (namespace === 'ios') {
      return this.device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
    }
    return next(namespace);
  }
};
PlatformNamespaceFilter = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(DEVICE)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object])], PlatformNamespaceFilter);
const NAMESPACE_FILTERS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeScriptNamespaceFilter');
class NgViewRef {
  constructor(ref) {
    this.ref = ref;
    this.view = ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef ? ref.location.nativeElement : ref.rootNodes.find(v => !(v instanceof InvisibleNode));
    this.firstNativeLikeView = getFirstNativeLikeView(this.view);
  }
  detachNativeLikeView() {
    detachViewFromParent(this.firstNativeLikeView);
  }
}
class AppHostView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(backgroundColor) {
    super();
    this.timeout = -1;
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this._ngAppRoot;
  }
  set ngAppRoot(value) {
    this._ngAppRoot = value;
  }
  // eslint-disable-next-line @typescript-eslint/ban-ts-comment
  //@ts-ignore
  get content() {
    return this._content;
  }
  set content(value) {
    if (this._content) {
      this._content.parentNode = undefined;
    }
    this._content = value;
    if (value) {
      this._content.parentNode = this;
    }
    this.ngAppRoot = value;
    if (this._content instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
      const grid = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
      grid.backgroundColor = this.backgroundColor;
      grid.addChild(this._content);
      this.ngAppRoot = grid;
    }
    if (this.ngAppRoot) {
      // maybe use this approach
      // this.scheduleRootChange();
    }
  }
  scheduleRootChange() {
    if (this.timeout === -1) {
      this.timeout = setTimeout(() => {
        //console.log(this.ngAppRoot);
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => this.content
        });
        this.timeout = -1;
      }, 0);
    }
  }
}
class AppHostAsyncView extends _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout {
  constructor(backgroundColor) {
    super();
    this.backgroundColor = backgroundColor;
  }
  get ngAppRoot() {
    return this;
  }
  set ngAppRoot(value) {
    // ignored
  }
}
class NativeScriptLoadingService {
  constructor() {
    this.mainModuleReady$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(false);
    this.readyToDestroy$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(true);
    this.onMainModuleReady$ = this.mainModuleReady$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready));
  }
  /**
   * delays destroying this module until `notifyReadyToDestroy()`.
   * remember to call `notifyReadyToDestroy()` when done!
   */
  waitUntilNotified() {
    this.readyToDestroy$.next(false);
  }
  /**
   * notifies this module is ready to be destroyed
   */
  notifyReadyToDestroy() {
    this.readyToDestroy$.next(true);
  }
  isMainModuleReady() {
    return this.mainModuleReady$.value;
  }
  ngOnDestroy() {
    this.readyToDestroy$.complete();
    this.mainModuleReady$.complete();
  }
  /**
   * This funcion is called by the bootstrap code when the app is ready
   * @internal
   */
  _notifyMainModuleReady() {
    this.mainModuleReady$.next(true);
  }
  static {
    this.ɵfac = function NativeScriptLoadingService_Factory(t) {
      return new (t || NativeScriptLoadingService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeScriptLoadingService,
      factory: NativeScriptLoadingService.ɵfac,
      providedIn: 'root'
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptLoadingService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class NativeScriptDebug {
  static {
    this.animationsTraceCategory = 'ns-animations';
  }
  static {
    this.rendererTraceCategory = 'ns-renderer';
  }
  static {
    this.viewUtilCategory = 'ns-view-util';
  }
  static {
    this.routerTraceCategory = 'ns-router';
  }
  static {
    this.routeReuseStrategyTraceCategory = 'ns-route-reuse-strategy';
  }
  static {
    this.listViewTraceCategory = 'ns-list-view';
  }
  static {
    this.bootstrapCategory = 'bootstrap';
  }
  // TODO: migrate all usage to this - avoids extraneous method executions
  static {
    this.enabled = _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static isLogEnabled() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.isEnabled();
  }
  static animationsLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.animationsTraceCategory);
  }
  static rendererLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.rendererTraceCategory);
  }
  static rendererError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.rendererTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static viewUtilLog(msg) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(msg, NativeScriptDebug.viewUtilCategory);
  }
  static routerLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory);
  }
  static routerError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routerTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static routeReuseStrategyLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.routeReuseStrategyTraceCategory);
  }
  static styleError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.categories.Style, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static listViewLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory);
  }
  static listViewError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.listViewTraceCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
  static bootstrapLog(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory);
  }
  static bootstrapLogError(message) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write(message, NativeScriptDebug.bootstrapCategory, _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.messageType.error);
  }
}
class NativescriptXhrFactory extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory {
  build() {
    return new XMLHttpRequest();
  }
  static {
    this.ɵfac = /* @__PURE__ */(() => {
      let ɵNativescriptXhrFactory_BaseFactory;
      return function NativescriptXhrFactory_Factory(t) {
        return (ɵNativescriptXhrFactory_BaseFactory || (ɵNativescriptXhrFactory_BaseFactory = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetInheritedFactory"](NativescriptXhrFactory)))(t || NativescriptXhrFactory);
      };
    })();
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptXhrFactory,
      factory: NativescriptXhrFactory.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptXhrFactory, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();
const frameMeta = {
  insertChild: (parent, child) => {
    // Page cannot be added to Frame with _addChildFromBuilder (thwos "use defaultPage" error)
    if (isInvisibleNode(child)) {
      return;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      parent.navigate({
        create: () => child
      });
    } else {
      throw new Error('Only a Page can be a child of Frame');
    }
  }
};
const formattedStringMeta = {
  insertChild(parent, child, next) {
    const index = parent.spans.indexOf(next);
    if (index > -1) {
      parent.spans.splice(index, 0, child);
    } else {
      parent.spans.push(child);
    }
  },
  removeChild(parent, child) {
    const index = parent.spans.indexOf(child);
    if (index > -1) {
      parent.spans.splice(index, 1);
    }
  }
};
const textBaseMeta = {
  insertChild(parent, child, next) {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      parent.formattedText = child;
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      parent.formattedText ??= new _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString();
      formattedStringMeta.insertChild(parent.formattedText, child, next);
    }
  },
  removeChild(parent, child) {
    if (!parent.formattedText) return;
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString) {
      if (parent.formattedText === child) {
        parent.formattedText = null;
      }
    } else if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span) {
      formattedStringMeta.removeChild(parent.formattedText, child);
    }
  }
};
const elementMap = new Map();
const camelCaseSplit = /([a-z0-9])([A-Z])/g;
const defaultViewMeta = {
  skipAddToDom: false
};
function registerElement(elementName, resolver, meta) {
  const entry = {
    resolver,
    meta
  };
  elementMap.set(elementName, entry);
  elementMap.set(elementName.toLowerCase(), entry);
  elementMap.set(elementName.replace(camelCaseSplit, '$1-$2').toLowerCase(), entry);
}
function getViewClass(elementName) {
  const entry = elementMap.get(elementName) || elementMap.get(elementName.toLowerCase());
  if (!entry) {
    throw new TypeError(`No known component for element ${elementName}.`);
  }
  try {
    return entry.resolver();
  } catch (e) {
    throw new TypeError(`Could not load view for: ${elementName}.${e}`);
  }
}
function getViewMeta(nodeName) {
  const entry = elementMap.get(nodeName) || elementMap.get(nodeName.toLowerCase());
  return entry && entry.meta || defaultViewMeta;
}
function isKnownView(elementName) {
  return elementMap.has(elementName) || elementMap.has(elementName.toLowerCase());
}
function extractSingleViewRecursive(nodes, nestLevel) {
  const actualNodes = nodes.filter(node => !(node instanceof InvisibleNode));
  if (actualNodes.length === 0) {
    throw new Error(`No suitable views found in list template! ` + `Nesting level: ${nestLevel}`);
  } else if (actualNodes.length > 1) {
    throw new Error(`More than one view found in list template!` + `Nesting level: ${nestLevel}`);
  }
  const rootLayout = actualNodes[0];
  if (!rootLayout) {
    return extractSingleViewRecursive(rootLayout.children, nestLevel + 1);
  }
  const parentLayout = rootLayout.parent;
  if (parentLayout instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase) {
    const node = rootLayout.parentNode;
    parentLayout.removeChild(rootLayout);
    rootLayout.parentNode = node;
  }
  return rootLayout;
}
/**
 * @deprecated getSingleViewRecursive is deprecated, use extractSingleViewRecursive
 */
function getSingleViewRecursive(nodes, nestLevel) {
  return extractSingleViewRecursive(nodes, nestLevel);
}

// Register default NativeScript components
// Note: ActionBar related components are registerd together with action-bar directives.
function registerNativeScriptViewComponents() {
  if (!global.__ngRegisteredViews) {
    global.__ngRegisteredViews = true;
    registerElement('AbsoluteLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_17__.AbsoluteLayout);
    registerElement('ActivityIndicator', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_18__.ActivityIndicator);
    registerElement('Button', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_19__.Button, textBaseMeta);
    registerElement('ContentView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView);
    registerElement('DatePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_20__.DatePicker);
    registerElement('DockLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_21__.DockLayout);
    registerElement('Frame', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, frameMeta);
    registerElement('GridLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout);
    registerElement('HtmlView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_23__.HtmlView);
    registerElement('Image', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    // Parse5 changes <Image> tags to <img>. WTF!
    registerElement('img', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_24__.Image);
    registerElement('Label', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_25__.Label, textBaseMeta);
    registerElement('ListPicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_26__.ListPicker);
    registerElement('ListView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_27__.ListView);
    registerElement('Page', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page);
    registerElement('Placeholder', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_28__.Placeholder);
    registerElement('Progress', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_29__.Progress);
    registerElement('ProxyViewContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer);
    registerElement('Repeater', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_30__.Repeater);
    registerElement('RootLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout);
    registerElement('ScrollView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_32__.ScrollView);
    registerElement('SearchBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_33__.SearchBar);
    registerElement('SegmentedBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBar);
    registerElement('SegmentedBarItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_34__.SegmentedBarItem);
    registerElement('Slider', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_35__.Slider);
    registerElement('StackLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_36__.StackLayout);
    registerElement('FlexboxLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_37__.FlexboxLayout);
    registerElement('Switch', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_38__.Switch);
    registerElement('TabView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabView);
    registerElement('TextField', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_40__.TextField, textBaseMeta);
    registerElement('TextView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView, textBaseMeta);
    registerElement('TimePicker', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_42__.TimePicker);
    registerElement('WebView', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_43__.WebView);
    registerElement('WrapLayout', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_44__.WrapLayout);
    registerElement('FormattedString', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_15__.FormattedString, formattedStringMeta);
    registerElement('Span', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_16__.Span);
  }
}

// Note: this utility exists from deep core import however results in
// Module not found: Error: Can't resolve '@nativescript/core/ui/core/properties'
function isCssVariable(property) {
  return /^--[^,\s]+?$/.test(property);
}
const ELEMENT_NODE_TYPE = 1;
const XML_ATTRIBUTES = Object.freeze(['style', 'rows', 'columns', 'fontAttributes']);
const whiteSpaceSplitter = /\s+/;
function printNgTree(view) {
  let parent = view;
  while (parent.parent && parent.parent.firstChild) {
    parent = parent.parent;
  }
  printChildrenRecurse(parent);
}
function printChildrenRecurse(parent) {
  const children = parent.firstChild ? [parent.firstChild, ...getChildrenSiblings(parent.firstChild).nextSiblings] : [];
  console.log(`parent: ${parent}, firstChild: ${parent.firstChild}, lastChild: ${parent.lastChild} children: ${children}`);
  if (parent.firstChild) {
    console.log(`----- start ${parent}`);
  }
  children.forEach(c => printChildrenRecurse(c));
  if (parent.firstChild) {
    console.log(`----- end ${parent}`);
  }
}
function getChildrenSiblings(view) {
  const nextSiblings = [];
  const previousSiblings = [];
  let sibling = view.nextSibling;
  while (sibling) {
    nextSiblings.push(sibling);
    sibling = sibling.nextSibling;
  }
  sibling = view.previousSibling;
  while (sibling) {
    previousSiblings.push(sibling);
    sibling = sibling.previousSibling;
  }
  return {
    previousSiblings,
    nextSiblings
  };
}
function printSiblingsTree(view) {
  const {
    previousSiblings,
    nextSiblings
  } = getChildrenSiblings(view);
  console.log(`${view} previousSiblings: ${previousSiblings} nextSiblings: ${nextSiblings}`);
}
// eslint-disable-next-line @typescript-eslint/ban-types
const propertyMaps = new Map();
class ViewUtil {
  constructor(namespaceFilters, reuseViews) {
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
  }
  /**
   * Inserts a child into a parrent, preferably before next.
   * @param parent parent view
   * @param child child view to be added
   * @param previous previous element. If present, insert after this.
   * @param next next element. If present, insert before this (previous is ignored).
   */
  insertChild(parent, child, previous, next) {
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    // this should never enter, as angular is supposed to remove the child from the previous parent before calling this
    // but when angular animations are enabled, the removal might be delayed, so we need to ensure this view is not anywhere
    // this seems to only happens to CommentNodes
    if (extendedChild.parentNode) {
      this.removeChild(extendedChild.parentNode, extendedChild);
    }
    // if there's a next child, previous is the previousSibling of it
    if (next) {
      previous = next.previousSibling;
    } else if (previous) {
      // if there's a previous, next is the nextSibling of it
      next = previous.nextSibling;
    } else {
      // no previous or next, append to the parent
      previous = extendedParent.lastChild; // this can still be undefined if the parent has no children!
    }
    this.insertInList(extendedParent, extendedChild, previous, next);
    if (isDetachedElement(child) || isInvisibleNode(child)) {
      extendedChild.parentNode = extendedParent;
    }
    if (!isDetachedElement(child)) {
      const nextVisual = this.findNextVisual(next);
      this.addToVisualTree(extendedParent, extendedChild, nextVisual);
    } else if (isInvisibleNode(extendedChild)) {
      const nextVisual = this.findNextVisual(next);
      this.addInvisibleNode(extendedParent, extendedChild, nextVisual);
    }
    // printNgTree(extendedChild);
  }
  insertBefore(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, undefined, extendedRef);
  }
  insertAfter(parent, child, refChild) {
    const extendedRef = refChild ? this.ensureNgViewExtensions(refChild) : undefined;
    this.insertChild(parent, child, extendedRef);
  }
  appendChild(parent, child) {
    this.insertChild(parent, child);
  }
  /**
   * Inserts a view into the parent/sibling linked list
   * !WARNING: this method makes no checks to validate the integrity of previous/next children
   * @param parent parent view
   * @param child child view
   * @param previous previous element. null/undefined for first element
   * @param next next element. null/undefined for last element
   */
  insertInList(parent, child, previous, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.insertInList parent: ${parent}, view: ${child}, ` + `previous: ${previous}, next: ${next}`);
    }
    if (previous) {
      previous.nextSibling = child;
      child.previousSibling = previous;
    } else {
      parent.firstChild = child;
    }
    if (next) {
      child.nextSibling = next;
      next.previousSibling = child;
    } else {
      parent.lastChild = child;
    }
  }
  addToVisualTree(parent, child, next) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.addToVisualTree parent: ${parent}, view: ${child}, next: ${next}`);
    }
    if (parent.meta && parent.meta.insertChild) {
      parent.meta.insertChild(parent, child, next);
    } else if (isLayout(parent)) {
      this.insertToLayout(parent, child, next);
    } else if (isContentView(parent)) {
      parent.content = child;
    } else if (parent && parent._addChildFromBuilder) {
      parent._addChildFromBuilder(child.nodeName, child);
    }
  }
  addInvisibleNode(parent, child, next) {
    if (parent.meta?.insertInvisibleNode) {
      parent.meta.insertInvisibleNode(parent, child, next);
    } else {
      if (child instanceof TextNode) {
        parent.text = child.text;
        child.registerTextChange(t => parent.text = t, parent);
      }
    }
  }
  insertToLayout(parent, child, next) {
    if (child.parent === parent) {
      this.removeLayoutChild(parent, child);
    }
    const nextVisual = this.findNextVisual(next);
    if (nextVisual) {
      const index = parent.getChildIndex(nextVisual);
      parent.insertChild(child, index);
    } else {
      parent.addChild(child);
    }
    // parent.eachChild((c) => {console.log(c); return true});
  }
  findNextVisual(view) {
    let next = view;
    while (next && isDetachedElement(next)) {
      next = next.nextSibling;
    }
    return next;
  }
  removeChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeChild parent: ${parent} child: ${child}`);
    }
    if (!parent) {
      return;
    }
    const extendedParent = this.ensureNgViewExtensions(parent);
    const extendedChild = this.ensureNgViewExtensions(child);
    extendedChild.parentNode = null;
    this.removeFromList(extendedParent, extendedChild);
    if (!isDetachedElement(extendedChild)) {
      this.removeFromVisualTree(extendedParent, extendedChild);
    } else if (isInvisibleNode(extendedChild)) {
      this.removeInvisibleNode(extendedParent, extendedChild);
    }
  }
  removeFromList(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromList parent: ${parent} child: ${child}`);
    }
    // only child. null everything
    if (parent.firstChild === child && parent.lastChild === child) {
      parent.firstChild = null;
      parent.lastChild = null;
      child.nextSibling = null;
      child.previousSibling = null;
      return;
    }
    const previous = child.previousSibling;
    const next = child.nextSibling;
    // is first child, make the next sibling the first child (can be null)
    if (parent.firstChild === child) {
      parent.firstChild = next;
    }
    // is last child, make the previous sibling the last child (can be null)
    if (parent.lastChild === child) {
      parent.lastChild = previous;
    }
    // we have a previous sibling, make it point to the next sibling
    if (previous) {
      previous.nextSibling = next;
    }
    // we have a next sibling, make it point to the previous
    if (next) {
      next.previousSibling = previous;
    }
    // finally, null the siblings
    child.nextSibling = null;
    child.previousSibling = null;
  }
  // NOTE: This one is O(n) - use carefully
  findPreviousElement(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.findPreviousElement parent: ${parent} child: ${child}`);
    }
    let previousVisual;
    if (isLayout(parent)) {
      previousVisual = this.getPreviousVisualElement(parent, child);
    }
    let previous = previousVisual || parent.firstChild;
    // since detached elements are not added to the visual tree,
    // we need to find the actual previous sibling of the view,
    // which may as well be an invisible node
    while (previous && previous !== child && previous.nextSibling !== child) {
      previous = previous.nextSibling;
    }
    return previous;
  }
  getPreviousVisualElement(parent, child) {
    const elementIndex = parent.getChildIndex(child);
    if (elementIndex > 0) {
      return parent.getChildAt(elementIndex - 1);
    }
  }
  // NOTE: This one is O(n) - use carefully
  getChildIndex(parent, child) {
    if (isLayout(parent)) {
      return parent.getChildIndex(child);
    } else if (isContentView(parent)) {
      return child === parent.content ? 0 : -1;
    }
  }
  removeFromVisualTree(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeFromVisualTree parent: ${parent} child: ${child}`);
    }
    if (parent.meta && parent.meta.removeChild) {
      parent.meta.removeChild(parent, child);
    } else if (isLayout(parent)) {
      this.removeLayoutChild(parent, child);
    } else if (isContentView(parent) && parent.content === child) {
      parent.content = null;
    } else if (isView(parent)) {
      parent._removeView(child);
    }
  }
  removeInvisibleNode(parent, child) {
    if (parent.meta?.removeInvisibleNode) {
      parent.meta.removeInvisibleNode(parent, child);
    } else {
      if (child instanceof TextNode) {
        child.unregisterTextChange(parent);
      }
    }
  }
  removeLayoutChild(parent, child) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`ViewUtil.removeLayoutChild parent: ${parent} child: ${child}`);
    }
    const index = parent.getChildIndex(child);
    if (index !== -1) {
      parent.removeChild(child);
    }
  }
  createComment(value) {
    return new CommentNode(value);
  }
  createText(value) {
    return new TextNode(value);
  }
  createView(name) {
    const originalName = name;
    if (!isKnownView(name)) {
      name = 'ProxyViewContainer';
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Creating view: ${originalName} ${name}`);
    }
    const viewClass = getViewClass(name);
    const view = new viewClass();
    const ngView = this.setNgViewExtensions(view, name);
    ngView.reusable = !!this.reuseViews;
    return ngView;
  }
  ensureNgViewExtensions(view) {
    if (Object.hasOwnProperty.call(view, 'meta')) {
      return view;
    } else {
      const name = view.cssType || view.typeName;
      const ngView = this.setNgViewExtensions(view, name);
      return ngView;
    }
  }
  setNgViewExtensions(view, name) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Make into a NgView view: ${view} name: "${name}"`);
    }
    const ngView = view;
    ngView.nodeName = name;
    ngView.meta = getViewMeta(name);
    // we're setting the node type of the view
    // to 'element' because of checks done in the
    // dom animation engine
    ngView.nodeType = ELEMENT_NODE_TYPE;
    return ngView;
  }
  setProperty(view, attributeName, value, namespace) {
    if (!view || namespace && !this.runsIn(namespace)) {
      return;
    }
    if (attributeName.indexOf('.') !== -1) {
      // Handle nested properties
      const properties = attributeName.split('.');
      attributeName = properties[properties.length - 1];
      let propMap = this.getProperties(view);
      let i = 0;
      while (i < properties.length - 1 && typeof view !== 'undefined') {
        let prop = properties[i];
        if (propMap.has(prop)) {
          prop = propMap.get(prop);
        }
        view = view[prop];
        propMap = this.getProperties(view);
        i++;
      }
    }
    if (typeof view !== 'undefined') {
      this.setPropertyInternal(view, attributeName, value);
    }
  }
  runsIn(platform) {
    let runs = true;
    const last = () => true;
    if (this.namespaceFilters) {
      let chain = p => true;
      for (let i = this.namespaceFilters.length - 1; i >= 0; i--) {
        const currentChain = chain;
        chain = p => this.namespaceFilters[i].runsIn(p, currentChain);
      }
      runs = chain(platform);
      runs = runs !== false ? true : false; // undefined means true
      // this.namespaceFilters.some((filter) => {
      // 	const runsInFilter = filter.runsIn(platform);
      // 	if (runsInFilter !== undefined) {
      // 		runs = runsInFilter;
      // 		return true;
      // 	}
      // });
    }
    return runs;
  }
  setPropertyInternal(view, attributeName, value) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.viewUtilLog(`Setting attribute: ${attributeName}=${value} to ${view}`);
    }
    if (attributeName === 'class') {
      this.setClasses(view, value);
      return;
    }
    if (XML_ATTRIBUTES.indexOf(attributeName) !== -1) {
      view[attributeName] = value;
      return;
    }
    const propMap = this.getProperties(view);
    const propertyName = propMap.get(attributeName);
    // Ensure the children of a collection currently have no parent set.
    if (Array.isArray(value)) {
      this.removeParentReferencesFromItems(value);
    }
    if (propertyName) {
      // We have a lower-upper case mapped property.
      view[propertyName] = value;
      return;
    }
    // Unknown attribute value -- just set it to our object as is.
    view[attributeName] = value;
  }
  removeParentReferencesFromItems(items) {
    for (const item of items) {
      if (item.parent && item.parentNode) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.viewUtilLog(`Unassigning parent ${item.parentNode} on value: ${item}`);
        }
        item.parent = undefined;
        item.parentNode = undefined;
      }
    }
  }
  getProperties(instance) {
    const type = instance && instance.constructor;
    if (!type) {
      return new Map();
    }
    if (!propertyMaps.has(type)) {
      const propMap = new Map();
      for (const propName in instance) {
        // tslint:disable:forin
        propMap.set(propName.toLowerCase(), propName);
      }
      propertyMaps.set(type, propMap);
    }
    return propertyMaps.get(type);
  }
  cssClasses(view) {
    if (!view.ngCssClasses) {
      view.ngCssClasses = new Map();
    }
    return view.ngCssClasses;
  }
  addClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).set(className, true);
    this.syncClasses(extendedView);
  }
  removeClass(view, className) {
    const extendedView = this.ensureNgViewExtensions(view);
    this.cssClasses(extendedView).delete(className);
    this.syncClasses(extendedView);
  }
  setClasses(view, classesValue) {
    const classes = classesValue.split(whiteSpaceSplitter);
    this.cssClasses(view).clear();
    classes.forEach(className => this.cssClasses(view).set(className, true));
    this.syncClasses(view);
  }
  syncClasses(view) {
    const classValue = Array.from(this.cssClasses(view).keys()).join(' ');
    view.className = classValue;
  }
  setStyle(view, styleName, value) {
    if (isCssVariable(styleName)) {
      view.style.setUnscopedCssVariable(styleName, value);
      view._onCssStateChange();
    } else {
      view.style[styleName] = value;
    }
  }
  removeStyle(view, styleName) {
    if (isCssVariable(styleName)) {
      // TODO: expose this on core
      view.style.unscopedCssVariables.delete(styleName);
      view._onCssStateChange();
    } else {
      view.style[styleName] = _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue;
    }
  }
}
var viewUtil = /*#__PURE__*/Object.freeze({
  __proto__: null,
  ViewUtil: ViewUtil
});
const addStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('"renderer".addStyleToCss', function addStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
function runInRootZone(fn) {
  if (typeof Zone === 'undefined') {
    return fn();
  }
  return Zone.root.run(fn);
}
function inRootZone() {
  return function (target, key, descriptor) {
    const childFunction = descriptor.value;
    descriptor.value = function (...args) {
      const fn = childFunction.bind(this);
      return runInRootZone(() => fn(...args));
    };
    return descriptor;
  };
}
let NativeScriptRendererFactory = class NativeScriptRendererFactory {
  constructor(rootView, namespaceFilters, rootModuleID, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.rootModuleID = rootModuleID;
    this.reuseViews = reuseViews;
    this.componentRenderers = new Map();
    // backwards compatibility with RadListView
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    if (typeof this.reuseViews !== 'boolean') {
      this.reuseViews = false; // default to false
    }
    this.defaultRenderer = new NativeScriptRenderer(rootView, namespaceFilters, this.reuseViews);
  }
  createRenderer(hostElement, type) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRendererFactory.createRenderer ${hostElement}. type.id: ${type.id} type.encapsulation: ${type.encapsulation}`);
    }
    if (!hostElement || !type) {
      return this.defaultRenderer;
    }
    let renderer = this.componentRenderers.get(type.id);
    /**
     *! WARNING
     *! We're reusing the renderer for the components
     *! this might cause unexpected behavior as the "rootView" is an arbitrary hostElement
     *! also, the renderer has it's .destroy() called!
     *! might be useful to create a BaseEmulatedRender and a ProxyEmulatedRender
     *! every component type gets a BaseEmulatedRender (singleton) which is passed to ProxyEmulatedRender
     *! ProxyEmulatedRenderer registers with BaseEmulatedRender so we can clean up things like CSS when it's not needed
     *! this might be useful if we find a way to HMR component styling without a full rebootstrap
     */
    if (renderer) {
      if (renderer instanceof EmulatedRenderer) {
        renderer.applyToHost(hostElement);
      }
      return renderer;
    }
    if (type.encapsulation === _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewEncapsulation.None) {
      type.styles.map(s => s.toString()).forEach(v => addStyleToCss(v, this.rootModuleID));
      renderer = this.defaultRenderer;
    } else {
      renderer = new EmulatedRenderer(type, hostElement, this.namespaceFilters, this.rootModuleID, this.reuseViews);
      renderer.applyToHost(hostElement);
    }
    this.componentRenderers.set(type.id, renderer);
    return renderer;
  }
  // begin?(): void {
  //     throw new Error("Method not implemented.");
  // }
  // end?(): void {
  //     throw new Error("Method not implemented.");
  // }
  whenRenderingDone() {
    if (!this.rootView) {
      return Promise.resolve();
    }
    return new Promise(resolve => {
      let interval = 0;
      function scheduleResolve() {
        // iOS really hates synchronous things...
        // Utils.queueMacrotask(resolve);
        setTimeout(resolve, 15);
      }
      function fireWhenLoaded() {
        const view = rootFactory();
        if (view.isLoaded) {
          scheduleResolve();
        } else {
          view.once('loaded', scheduleResolve);
        }
      }
      const rootFactory = () => this.rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView ? this.rootView.content : this.rootView;
      if (!rootFactory()) {
        interval = setInterval(() => {
          if (rootFactory()) {
            clearInterval(interval);
            fireWhenLoaded();
          }
        }, 10);
      } else {
        fireWhenLoaded();
      }
    });
    // throw new Error("Method not implemented.");
  }
};
NativeScriptRendererFactory = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(0, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(APP_ROOT_VIEW)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(1, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NAMESPACE_FILTERS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(NATIVESCRIPT_ROOT_MODULE_ID)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(3, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject)(ENABLE_REUSABE_VIEWS)), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, Array, Object, Object])], NativeScriptRendererFactory);
class NativeScriptRenderer {
  constructor(rootView, namespaceFilters, reuseViews) {
    this.rootView = rootView;
    this.namespaceFilters = namespaceFilters;
    this.reuseViews = reuseViews;
    this.viewUtil = new ViewUtil(this.namespaceFilters, this.reuseViews);
    this.destroyNode = node => runInRootZone(() => {
      if (NativeScriptDebug.enabled) {
        NativeScriptDebug.rendererLog(`NativeScriptRenderer.destroyNode node: ${node}`);
      }
      if (node?.destroyNode) {
        node?.destroyNode();
      }
    });
  }
  get data() {
    throw new Error('Method not implemented.');
  }
  destroy() {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.destroy');
    }
  }
  createElement(name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createElement: ${name}`);
    }
    let oldName;
    if (!isKnownView(name)) {
      oldName = name;
      name = 'ProxyViewContainer';
    }
    const view = this.viewUtil.createView(name);
    if (oldName) {
      view.customCSSName = oldName;
    }
    return view;
  }
  createComment(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createComment ${value}`);
    }
    return this.viewUtil.createComment(value);
  }
  createText(value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.createText ${value}`);
    }
    return this.viewUtil.createText(value);
  }
  appendChild(parent, newChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.appendChild child: ${newChild} parent: ${parent}`);
    }
    this.viewUtil.appendChild(parent, newChild);
  }
  insertBefore(parent, newChild, refChild) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.insertBefore child: ${newChild} ` + `parent: ${parent} refChild: ${refChild}`);
    }
    this.viewUtil.insertBefore(parent, newChild, refChild);
  }
  removeChild(parent, oldChild, isHostElement) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeChild child: ${oldChild} parent: ${parent}`);
    }
    this.viewUtil.removeChild(parent, oldChild);
  }
  selectRootElement(selectorOrNode, preserveContent) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.selectRootElement: ${selectorOrNode}`);
    }
    if (selectorOrNode instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      return selectorOrNode;
    }
    if (selectorOrNode && selectorOrNode[0] === '#') {
      const result = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.getViewById)(this.rootView, selectorOrNode.slice(1));
      return result || this.rootView;
    }
    if (typeof selectorOrNode === 'string') {
      const view = this.viewUtil.createView(selectorOrNode);
      if (getFirstNativeLikeView(view) === view) {
        // view is nativelike!
        this.appendChild(this.rootView, view);
        return view;
      }
    }
    return this.rootView;
  }
  parentNode(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.parentNode for node: ${node} is ${node.parentNode}`);
    }
    return node.parentNode;
  }
  nextSibling(node) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.nextSibling of ${node} is ${node.nextSibling}`);
    }
    return node.nextSibling;
  }
  setAttribute(el, name, value, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setAttribute ${namespace ? namespace + ':' : ''}${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value, namespace);
  }
  removeAttribute(el, name, namespace) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeAttribute ${namespace ? namespace + ':' : ''}${el}.${name}`);
    }
  }
  addClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.addClass ${name}`);
    }
    this.viewUtil.addClass(el, name);
  }
  removeClass(el, name) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.removeClass ${name}`);
    }
    this.viewUtil.removeClass(el, name);
  }
  setStyle(el, style, value, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setStyle: ${el}, ${style} = ${value}`);
    }
    this.viewUtil.setStyle(el, style, value);
  }
  removeStyle(el, style, flags) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog('NativeScriptRenderer.removeStyle: ${styleName}');
    }
    this.viewUtil.removeStyle(el, style);
  }
  setProperty(el, name, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setProperty ${el}.${name} = ${value}`);
    }
    this.viewUtil.setProperty(el, name, value);
  }
  setValue(node, value) {
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.setValue renderNode: ${node}, value: ${value}`);
    }
    if (node instanceof TextNode) {
      node.text = value;
    }
    // throw new Error("Method not implemented.");
  }
  listen(target, eventName, callback) {
    // throw new Error("Method not implemented.");
    if (NativeScriptDebug.enabled) {
      NativeScriptDebug.rendererLog(`NativeScriptRenderer.listen: ${eventName}`);
    }
    target.on(eventName, callback);
    if (eventName === _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent && target.isLoaded) {
      // we must create a new obervable here to ensure that the event goes through whatever zone patches are applied
      const obs = new _nativescript_core__WEBPACK_IMPORTED_MODULE_49__.Observable();
      obs.once(eventName, callback);
      obs.notify({
        eventName,
        object: target
      });
    }
    return () => target.off(eventName, callback);
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createElement", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createComment", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "createText", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "appendChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "insertBefore", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, Object, Boolean]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeChild", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, String, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setAttribute", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "addClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeClass", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Number]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "removeStyle", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([inRootZone(), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object, String, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], NativeScriptRenderer.prototype, "setProperty", null);
// CONTENT_ATTR not exported from nativescript-renderer - we need it for styles application.
const COMPONENT_REGEX = /%COMP%/g;
const ATTR_SANITIZER = /-/g;
const COMPONENT_VARIABLE = '%COMP%';
const HOST_ATTR = `_nghost-${COMPONENT_VARIABLE}`;
const CONTENT_ATTR = `_ngcontent-${COMPONENT_VARIABLE}`;
const replaceNgAttribute = function (input, componentId) {
  return input.replace(COMPONENT_REGEX, componentId);
};
const addScopedStyleToCss = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)(`"renderer".addScopedStyleToCss`, function addScopedStyleToCss(style, tag) {
  if (tag) {
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.addTaggedAdditionalCSS)(style, tag);
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.addCss(style);
  }
});
class EmulatedRenderer extends NativeScriptRenderer {
  constructor(component, rootView, namespaceFilters, rootModuleId, reuseViews) {
    super(rootView, namespaceFilters, reuseViews);
    this.rootModuleId = rootModuleId;
    const componentId = component.id.replace(ATTR_SANITIZER, '_');
    this.contentAttr = replaceNgAttribute(CONTENT_ATTR, componentId);
    this.hostAttr = replaceNgAttribute(HOST_ATTR, componentId);
    this.addStyles(component.styles, componentId);
  }
  applyToHost(view) {
    super.setAttribute(view, this.hostAttr, '');
  }
  appendChild(parent, newChild) {
    super.appendChild(parent, newChild);
  }
  createElement(parent, name) {
    const view = super.createElement(parent, name);
    // Set an attribute to the view to scope component-specific css.
    // The property name is pre-generated by Angular.
    super.setAttribute(view, this.contentAttr, '');
    return view;
  }
  addStyles(styles, componentId) {
    styles.map(s => s.toString()).map(s => replaceNgAttribute(s, componentId)).forEach(s => addScopedStyleToCss(s, this.rootModuleId));
  }
  static {
    this.ɵfac = function EmulatedRenderer_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: EmulatedRenderer,
      factory: EmulatedRenderer.ɵfac
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Array, String]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], EmulatedRenderer.prototype, "addStyles", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EmulatedRenderer, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: undefined
  }, {
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View
  }, {
    type: undefined
  }, {
    type: undefined
  }, {
    type: undefined
  }], {
    addStyles: []
  });
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Throws an exception when attempting to attach a null portal to a host.
 * @docs-private
 */
function throwNullPortalError() {
  throw Error('Must provide a portal to attach');
}
/**
 * Throws an exception when attempting to attach a portal to a host that is already attached.
 * @docs-private
 */
function throwPortalAlreadyAttachedError() {
  throw Error('Host already has a portal attached');
}
/**
 * Throws an exception when attempting to attach a portal to an already-disposed host.
 * @docs-private
 */
function throwPortalOutletAlreadyDisposedError() {
  throw Error('This PortalOutlet has already been disposed');
}
/**
 * Throws an exception when attempting to attach an unknown portal type.
 * @docs-private
 */
function throwUnknownPortalTypeError() {
  throw Error('Attempting to attach an unknown Portal type. BasePortalOutlet accepts either ' + 'a ComponentPortal or a TemplatePortal.');
}
/**
 * Throws an exception when attempting to attach a portal to a null host.
 * @docs-private
 */
function throwNullPortalOutletError() {
  throw Error('Attempting to attach a portal to a null PortalOutlet');
}
/**
 * Throws an exception when attempting to detach a portal that is not attached.
 * @docs-private
 */
function throwNoPortalAttachedError() {
  throw Error('Attempting to detach a portal that is not attached to a host');
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A `Portal` is something that you want to render somewhere else.
 * It can be attach to / detached from a `PortalOutlet`.
 */
class Portal {
  /** Attach this portal to a host. */
  attach(host) {
    if (typeof global.ngDevMode === 'undefined' || global.ngDevMode) {
      if (host == null) {
        throwNullPortalOutletError();
      }
      if (host.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
    }
    this._attachedHost = host;
    return host.attach(this);
  }
  /** Detach this portal from its host */
  detach() {
    const host = this._attachedHost;
    if (host != null) {
      this._attachedHost = null;
      host.detach();
    } else if (typeof global.ngDevMode === 'undefined' || global.ngDevMode) {
      throwNoPortalAttachedError();
    }
  }
  /** Whether this portal is attached to a host. */
  get isAttached() {
    return this._attachedHost != null;
  }
  /**
   * Sets the PortalOutlet reference without performing `attach()`. This is used directly by
   * the PortalOutlet when it is performing an `attach()` or `detach()`.
   */
  setAttachedHost(host) {
    this._attachedHost = host;
  }
}
/**
 * A `ComponentPortal` is a portal that instantiates some Component upon attachment.
 */
class ComponentPortal extends Portal {
  constructor(component, viewContainerRef, injector, componentFactoryResolver) {
    super();
    this.component = component;
    this.viewContainerRef = viewContainerRef;
    this.injector = injector;
    this.componentFactoryResolver = componentFactoryResolver;
  }
}
/**
 * A `TemplatePortal` is a portal that represents some embedded template (TemplateRef).
 */
class TemplatePortal extends Portal {
  constructor(template, viewContainerRef, context) {
    super();
    this.templateRef = template;
    this.viewContainerRef = viewContainerRef;
    this.context = context;
  }
  get origin() {
    return this.templateRef.elementRef;
  }
  /**
   * Attach the portal to the provided `PortalOutlet`.
   * When a context is provided it will override the `context` property of the `TemplatePortal`
   * instance.
   */
  attach(host, context = this.context) {
    this.context = context;
    return super.attach(host);
  }
  detach() {
    this.context = undefined;
    return super.detach();
  }
}
/**
 * A `DomPortal` is a portal whose DOM element will be taken from its current position
 * in the DOM and moved into a portal outlet, when it is attached. On detach, the content
 * will be restored to its original position.
 */
class DomPortal extends Portal {
  constructor(element) {
    super();
    this.element = element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef ? element.nativeElement : element;
  }
}
/**
 * Partial implementation of PortalOutlet that handles attaching
 * ComponentPortal and TemplatePortal.
 */
class BasePortalOutlet {
  constructor() {
    /** Whether this host has already been permanently disposed. */
    this._isDisposed = false;
    // @breaking-change 10.0.0 `attachDomPortal` to become a required abstract method.
    // eslint-disable-next-line @typescript-eslint/member-ordering
    this.attachDomPortal = null;
  }
  /** Whether this host has an attached portal. */
  hasAttached() {
    return !!this._attachedPortal;
  }
  /** Attaches a portal. */
  attach(portal) {
    if (typeof global.ngDevMode === 'undefined' || global.ngDevMode) {
      if (!portal) {
        throwNullPortalError();
      }
      if (this.hasAttached()) {
        throwPortalAlreadyAttachedError();
      }
      if (this._isDisposed) {
        throwPortalOutletAlreadyDisposedError();
      }
    }
    if (portal instanceof ComponentPortal) {
      this._attachedPortal = portal;
      return this.attachComponentPortal(portal);
    } else if (portal instanceof TemplatePortal) {
      this._attachedPortal = portal;
      return this.attachTemplatePortal(portal);
      // @breaking-change 10.0.0 remove null check for `this.attachDomPortal`.
    } else if (this.attachDomPortal && portal instanceof DomPortal) {
      this._attachedPortal = portal;
      return this.attachDomPortal(portal);
    }
    if (typeof global.ngDevMode === 'undefined' || global.ngDevMode) {
      throwUnknownPortalTypeError();
    }
  }
  /** Detaches a previously attached portal. */
  detach() {
    if (this._attachedPortal) {
      this._attachedPortal.setAttachedHost(null);
      this._attachedPortal = null;
    }
    this._invokeDisposeFn();
  }
  /** Permanently dispose of this portal host. */
  dispose() {
    if (this.hasAttached()) {
      this.detach();
    }
    this._invokeDisposeFn();
    this._isDisposed = true;
  }
  /** @docs-private */
  setDisposeFn(fn) {
    this._disposeFn = fn;
  }
  _invokeDisposeFn() {
    if (this._disposeFn) {
      this._disposeFn();
      this._disposeFn = null;
    }
  }
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive version of a `TemplatePortal`. Because the directive *is* a TemplatePortal,
 * the directive instance itself can be attached to a host, enabling declarative use of portals.
 */
class CdkPortal extends TemplatePortal {
  constructor(templateRef, viewContainerRef) {
    super(templateRef, viewContainerRef);
  }
  static {
    this.ɵfac = function CdkPortal_Factory(t) {
      return new (t || CdkPortal)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortal,
      selectors: [["", "cdkPortal", ""]],
      exportAs: ["cdkPortal"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortal, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortal]',
      exportAs: 'cdkPortal'
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
  }], null);
})();
/**
 * Directive version of a PortalOutlet. Because the directive *is* a PortalOutlet, portals can be
 * directly attached to it, enabling declarative use.
 *
 * Usage:
 * `<ng-template [cdkPortalOutlet]="greeting"></ng-template>`
 */
class CdkPortalOutlet extends BasePortalOutlet {
  constructor(_viewContainerRef, renderer) {
    super();
    this._viewContainerRef = _viewContainerRef;
    this.renderer = renderer;
    /** Whether the portal component is initialized. */
    this._isInitialized = false;
    /** Emits when a portal is attached to the outlet. */
    this.attached = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    /**
     * Attaches the given DomPortal to this PortalHost by moving all of the portal content into it.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof global.ngDevMode === 'undefined' || global.ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this.renderer.createComment('dom-portal');
      portal.setAttachedHost(this);
      this.renderer.insertBefore(element.parentNode, anchorNode, element);
      this.renderer.appendChild(this._getRootNode(), element);
      super.setDisposeFn(() => {
        if (anchorNode.parentNode) {
          this.renderer.insertBefore(anchorNode.parentNode, element, anchorNode);
          this.renderer.removeChild(anchorNode.parentNode, anchorNode);
          // anchorNode.parentNode!.replaceChild(element, anchorNode);
        }
      });
    };
  }
  /** Portal associated with the Portal outlet. */
  get portal() {
    return this._attachedPortal;
  }
  set portal(portal) {
    // Ignore the cases where the `portal` is set to a falsy value before the lifecycle hooks have
    // run. This handles the cases where the user might do something like `<div cdkPortalOutlet>`
    // and attach a portal programmatically in the parent component. When Angular does the first CD
    // round, it will fire the setter with empty string, causing the user's content to be cleared.
    if (this.hasAttached() && !portal && !this._isInitialized) {
      return;
    }
    if (this.hasAttached()) {
      super.detach();
    }
    if (portal) {
      super.attach(portal);
    }
    this._attachedPortal = portal;
  }
  /** Component or view reference that is attached to the portal. */
  get attachedRef() {
    return this._attachedRef;
  }
  ngOnInit() {
    this._isInitialized = true;
  }
  ngOnDestroy() {
    super.dispose();
    this._attachedPortal = null;
    this._attachedRef = null;
  }
  /**
   * Attach the given ComponentPortal to this PortalOutlet using the ComponentFactoryResolver.
   *
   * @param portal Portal to be attached to the portal outlet.
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    portal.setAttachedHost(this);
    // If the portal specifies an origin, use that as the logical location of the component
    // in the application tree. Otherwise use the location of this PortalOutlet.
    const viewContainerRef = portal.viewContainerRef != null ? portal.viewContainerRef : this._viewContainerRef;
    // const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    // const componentFactory = resolver.resolveComponentFactory<T>(portal.component);
    const ref = viewContainerRef.createComponent(portal.component);
    // const ref = viewContainerRef.createComponent<T>(portal.component, viewContainerRef.length, portal.injector || viewContainerRef.injector);
    // If we're using a view container that's different from the injected one (e.g. when the portal
    // specifies its own) we need to move the component into the outlet, otherwise it'll be rendered
    // inside of the alternate view container.
    if (viewContainerRef !== this._viewContainerRef) {
      this.renderer.appendChild(this._getRootNode(), ref.hostView.rootNodes[0]);
    }
    super.setDisposeFn(() => ref.destroy());
    this._attachedPortal = portal;
    this._attachedRef = ref;
    this.attached.emit(ref);
    return ref;
  }
  /**
   * Attach the given TemplatePortal to this PortalHost as an embedded View.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    portal.setAttachedHost(this);
    const viewRef = this._viewContainerRef.createEmbeddedView(portal.templateRef, portal.context);
    super.setDisposeFn(() => this._viewContainerRef.clear());
    this._attachedPortal = portal;
    this._attachedRef = viewRef;
    this.attached.emit(viewRef);
    return viewRef;
  }
  /** Gets the root node of the portal outlet. */
  _getRootNode() {
    const nativeElement = this._viewContainerRef.element.nativeElement;
    // The directive could be set on a template which will result in a comment
    // node being the root. Use the comment's parent node if that is the case.
    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    return !(nativeElement instanceof CommentNode) ? nativeElement : nativeElement.parentNode;
  }
  static {
    this.ɵfac = function CdkPortalOutlet_Factory(t) {
      return new (t || CdkPortalOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CdkPortalOutlet,
      selectors: [["", "cdkPortalOutlet", ""]],
      inputs: {
        portal: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputFlags"].None, "cdkPortalOutlet", "portal"]
      },
      outputs: {
        attached: "attached"
      },
      exportAs: ["cdkPortalOutlet"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CdkPortalOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[cdkPortalOutlet]',
      exportAs: 'cdkPortalOutlet',
      // eslint-disable-next-line @angular-eslint/no-inputs-metadata-property
      inputs: ['portal: cdkPortalOutlet']
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
  }], {
    attached: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PortalModule {
  static {
    this.ɵfac = function PortalModule_Factory(t) {
      return new (t || PortalModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: PortalModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PortalModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      exports: [CdkPortal, CdkPortalOutlet],
      declarations: [CdkPortal, CdkPortalOutlet]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A PortalOutlet for attaching portals to an arbitrary DOM element outside of the Angular
 * application context.
 */
let NativeScriptDomPortalOutlet = class NativeScriptDomPortalOutlet extends BasePortalOutlet {
  constructor( /** Element into which the content is projected. */
  outletElement, _componentFactoryResolver, _appRef, _defaultInjector, viewUtil) {
    super();
    this.outletElement = outletElement;
    this._componentFactoryResolver = _componentFactoryResolver;
    this._appRef = _appRef;
    this._defaultInjector = _defaultInjector;
    /**
     * Attaches a DOM portal by transferring its content into the outlet.
     * @param portal Portal to be attached.
     * @deprecated To be turned into a method.
     * @breaking-change 10.0.0
     */
    this.attachDomPortal = portal => {
      const element = portal.element;
      if (!element.parentNode && (typeof global.ngDevMode === 'undefined' || global.ngDevMode)) {
        throw Error('DOM portal content must be attached to a parent node.');
      }
      // Anchor used to save the element's previous position so
      // that we can restore it when the portal is detached.
      const anchorNode = this._viewUtil.createComment('dom-portal');
      this._viewUtil.insertBefore(element.parentNode, anchorNode, element);
      this._viewUtil.appendChild(this.outletElement, element);
      super.setDisposeFn(() => {
        // We can't use `replaceWith` here because IE doesn't support it.
        if (anchorNode.parentNode) {
          this._viewUtil.insertBefore(anchorNode.parentNode, element, anchorNode);
          this._viewUtil.removeChild(anchorNode.parentNode, anchorNode);
          //anchorNode.parentNode.replaceChild(element, anchorNode);
        }
      });
    };
    this._viewUtil = viewUtil || this._defaultInjector.get(ViewUtil);
  }
  /**
   * Attach the given ComponentPortal to DOM element using the ComponentFactoryResolver.
   * @param portal Portal to be attached
   * @returns Reference to the created component.
   */
  attachComponentPortal(portal) {
    const resolver = portal.componentFactoryResolver || this._componentFactoryResolver;
    const componentFactory = resolver.resolveComponentFactory(portal.component);
    let componentRef;
    // If the portal specifies a ViewContainerRef, we will use that as the attachment point
    // for the component (in terms of Angular's component tree, not rendering).
    // When the ViewContainerRef is missing, we use the factory to create the component directly
    // and then manually attach the view to the application.
    if (portal.viewContainerRef) {
      componentRef = portal.viewContainerRef.createComponent(componentFactory, portal.viewContainerRef.length, portal.injector || portal.viewContainerRef.injector);
      this.setDisposeFn(() => componentRef.destroy());
    } else {
      componentRef = componentFactory.create(portal.injector || this._defaultInjector);
      this._appRef.attachView(componentRef.hostView);
      this.setDisposeFn(() => {
        this._appRef.detachView(componentRef.hostView);
        componentRef.destroy();
      });
    }
    // At this point the component has been instantiated, so we move it to the location in the DOM
    // where we want it to be rendered.
    const rootNode = this._getComponentRootNode(componentRef);
    if (rootNode.parent) {
      this._viewUtil.removeChild(rootNode.parent, rootNode);
    }
    this._viewUtil.appendChild(this.outletElement, this._getComponentRootNode(componentRef));
    return componentRef;
  }
  /**
   * Attaches a template portal to the DOM as an embedded view.
   * @param portal Portal to be attached.
   * @returns Reference to the created embedded view.
   */
  attachTemplatePortal(portal) {
    const viewContainer = portal.viewContainerRef;
    const viewRef = viewContainer.createEmbeddedView(portal.templateRef, portal.context);
    // The method `createEmbeddedView` will add the view as a child of the viewContainer.
    // But for the DomPortalOutlet the view can be added everywhere in the DOM
    // (e.g Overlay Container) To move the view to the specified host element. We just
    // re-append the existing root nodes.
    viewRef.rootNodes.forEach(rootNode => {
      if (rootNode.parent) {
        this._viewUtil.removeChild(rootNode.parent, rootNode);
      }
      this._viewUtil.appendChild(this.outletElement, rootNode);
    });
    // Note that we want to detect changes after the nodes have been moved so that
    // any directives inside the portal that are looking at the DOM inside a lifecycle
    // hook won't be invoked too early.
    viewRef.detectChanges();
    this.setDisposeFn(() => {
      const index = viewContainer.indexOf(viewRef);
      if (index !== -1) {
        viewContainer.remove(index);
      }
    });
    // TODO(jelbourn): Return locals from view.
    return viewRef;
  }
  /**
   * Clears out a portal from the DOM.
   */
  dispose() {
    super.dispose();
    if (this.outletElement.parentNode != null) {
      this._viewUtil.removeChild(this.outletElement.parentNode, this.outletElement);
    }
  }
  /** Gets the root HTMLElement for an instantiated component. */
  _getComponentRootNode(componentRef) {
    return componentRef.hostView.rootNodes[0];
  }
};
NativeScriptDomPortalOutlet = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(4, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, ViewUtil])], NativeScriptDomPortalOutlet);
registerElement('DetachedContainer', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer, {
  skipAddToDom: true
});
/**
 * Wrapper component used for loading components when navigating
 * It uses DetachedContainer as selector so that it is containerRef is not attached to
 * the visual tree.
 */
// eslint-disable-next-line @angular-eslint/component-class-suffix
class DetachedLoader {
  // tslint:disable-line:component-class-suffix
  constructor(resolver, changeDetector, containerRef, appRef) {
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.containerRef = containerRef;
    this.appRef = appRef;
    this.disposeFunctions = [];
  }
  createComponentPortal(componentType, customInjector) {
    return new ComponentPortal(componentType, this.vc, customInjector || this.vc.injector);
  }
  createTemplatePortal(templateRef, context) {
    return new TemplatePortal(templateRef, this.vc, context);
  }
  loadInAppRef(componentType) {
    const factory = this.resolver.resolveComponentFactory(componentType);
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    // Component is created, built may not be checked if we are loading
    // inside component with OnPush CD strategy. Mark us for check to be sure CD will reach us.
    // We are inside a promise here so no need for setTimeout - CD should trigger
    // after the promise.
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadInLocation component loaded -> markForCheck', 'detached-loader');
    return componentRef;
  }
  loadInLocation(componentType) {
    return this.vc.createComponent(componentType);
  }
  ngOnDestroy() {
    this.disposeFunctions.forEach(fn => fn());
  }
  detectChanges() {
    this.changeDetector.markForCheck();
  }
  /**
   * @deprecated use Portals
   */
  loadComponent(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponent', 'detached-loader');
    return Promise.resolve(this.loadInAppRef(componentType));
  }
  /**
   * @deprecated use Portals
   */
  loadComponentSync(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentSync', 'detached-loader');
    return this.loadInAppRef(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadComponentInLocation(componentType) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_13__.Trace.write('DetachedLoader.loadComponentInLocation', 'detached-loader');
    return this.loadInLocation(componentType);
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactory(factory) {
    const componentRef = factory.create(this.containerRef.injector);
    this.appRef.attachView(componentRef.hostView);
    this.disposeFunctions.push(() => {
      this.appRef.detachView(componentRef.hostView);
      componentRef.destroy();
    });
    return componentRef;
  }
  /**
   * @deprecated use Portals
   */
  loadWithFactoryInLocation(factory) {
    return this.vc.createComponent(factory);
  }
  static {
    this.ɵfac = function DetachedLoader_Factory(t) {
      return new (t || DetachedLoader)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: DetachedLoader,
      selectors: [["DetachedContainer"]],
      viewQuery: function DetachedLoader_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.vc = _t.first);
        }
      },
      ngContentSelectors: _c1,
      decls: 5,
      vars: 0,
      consts: [["loader", ""], ["vc", ""]],
      template: function DetachedLoader_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "Placeholder", null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](2, null, 1);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](4);
        }
      },
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DetachedLoader, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'DetachedContainer',
      template: `<Placeholder #loader></Placeholder>
    <ng-container #vc></ng-container>
    <ng-content></ng-content>`
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
  }], {
    vc: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['vc', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }]
  });
})();
class PageService {
  get inPage() {
    return this._inPage$.value;
  }
  get inPage$() {
    return this._inPage$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.distinctUntilChanged)());
  }
  get pageEvents$() {
    return this._pageEvents$.asObservable();
  }
  constructor(page, elRef, view) {
    this._pageEvents$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    if (page) {
      this.page = page;
    } else {
      view = view || elRef.nativeElement;
      while (view) {
        if (view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
          this.page = view;
          break;
        }
        view = view.parent;
      }
    }
    this._inPage$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(!!this.page?.isLoaded);
    if (this.page) {
      this.page.on('navigatedFrom', this.pageEvent, this);
      this.page.on('navigatedTo', this.pageEvent, this);
      this.page.on('navigatingFrom', this.pageEvent, this);
      this.page.on('navigatingTo', this.pageEvent, this);
    }
  }
  ngOnDestroy() {
    if (this.page) {
      this.page.off('navigatedFrom', this.pageEvent, this);
      this.page.off('navigatedTo', this.pageEvent, this);
      this.page.off('navigatingFrom', this.pageEvent, this);
      this.page.off('navigatingTo', this.pageEvent, this);
    }
    this._inPage$.complete();
    this._pageEvents$.complete();
  }
  pageEvent(evt) {
    this._pageEvents$.next(evt);
    switch (evt.eventName) {
      case 'navigatedTo':
        this._inPage$.next(true);
        break;
      case 'navigatedFrom':
        this._inPage$.next(false);
        break;
      default:
    }
  }
  static {
    this.ɵfac = function PageService_Factory(t) {
      return new (t || PageService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: PageService,
      factory: PageService.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }, {
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_48__.ViewBase,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
function customFrameComponentFactory(v) {
  return v.element.nativeElement;
}
function customPageFactoryFromFrame(v) {
  return v.page;
}
registerElement('FramePage', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame, {
  insertChild: (parent, child) => {
    if (child instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page) {
      frameMeta.insertChild(parent, child);
      return;
    }
    parent['__ng_page__'].content = child;
  }
});
class FramePageComponent {
  constructor(element, renderer) {
    this.element = element;
    this.actionBarHidden = false;
    this.page = renderer.createElement('Page');
    element.nativeElement['__ng_page__'] = this.page;
    renderer.appendChild(element.nativeElement, this.page);
  }
  ngOnChanges(changes) {
    if (changes.actionBarHidden && changes.actionBarHidden.previousValue !== changes.actionBarHidden.currentValue) {
      if (this.page) {
        this.page.actionBarHidden = !!this.actionBarHidden;
      }
    }
  }
  ngAfterViewInit() {
    if (this.page) {
      this.page.actionBarHidden = !!this.actionBarHidden;
    }
  }
  static {
    this.ɵfac = function FramePageComponent_Factory(t) {
      return new (t || FramePageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: FramePageComponent,
      selectors: [["FramePage"]],
      inputs: {
        actionBarHidden: "actionBarHidden"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function FramePageComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'FramePage',
      template: `<ng-content></ng-content>`,
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameComponentFactory,
        deps: [FramePageComponent]
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactoryFromFrame,
        deps: [FramePageComponent]
      }, PageService]
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
  }], {
    actionBarHidden: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
function customFrameDirectiveFactory(v) {
  return v.element.nativeElement;
}
class FrameDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function FrameDirective_Factory(t) {
      return new (t || FrameDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: FrameDirective,
      selectors: [["Frame"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }])]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Frame',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useFactory: customFrameDirectiveFactory,
        deps: [FrameDirective]
      }]
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
function customPageFactory(v) {
  return v.element.nativeElement;
}
class PageDirective {
  constructor(element) {
    this.element = element;
  }
  static {
    this.ɵfac = function PageDirective_Factory(t) {
      return new (t || PageDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageDirective,
      selectors: [["Page"]],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService])]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: 'Page',
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useFactory: customPageFactory,
        deps: [PageDirective]
      }, PageService]
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
class FramePageModule {
  static {
    this.ɵfac = function FramePageModule_Factory(t) {
      return new (t || FramePageModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: FramePageModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({});
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FramePageModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [FrameDirective, PageDirective, FramePageComponent],
      exports: [FrameDirective, PageDirective, FramePageComponent]
    }]
  }], null, null);
})();
function isPresent(obj) {
  return obj !== undefined && obj !== null;
}
function isBlank(obj) {
  return obj === undefined || obj === null;
}
function isActionItem(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem;
}
function isNavigationButton(view) {
  return view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton;
}
const actionBarMeta = {
  skipAddToDom: true,
  insertChild: (parent, child, next) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      parent.navigationButton = child;
      child.parentNode = parent;
    } else if (isActionItem(child)) {
      addActionItem(parent, child, next);
      child.parentNode = parent;
    } else if (isView(child)) {
      parent.titleView = child;
    }
  },
  removeChild: (parent, child) => {
    if (isInvisibleNode(child)) {
      return;
    } else if (isNavigationButton(child)) {
      if (parent.navigationButton === child) {
        parent.navigationButton = null;
      }
      child.parentNode = null;
    } else if (isActionItem(child)) {
      parent.actionItems.removeItem(child);
      child.parentNode = null;
    } else if (isView(child) && parent.titleView && parent.titleView === child) {
      parent.titleView = null;
    }
  }
};
registerElement('ActionBar', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionBar, actionBarMeta);
registerElement('ActionItem', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.ActionItem);
registerElement('NavigationButton', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_50__.NavigationButton);
const addActionItem = (bar, item, next) => {
  if (next) {
    insertActionItemBefore(bar, item, next);
  } else {
    appendActionItem(bar, item);
  }
};
const insertActionItemBefore = (bar, item, next) => {
  const actionItems = bar.actionItems;
  const actionItemsCollection = actionItems.getItems();
  const indexToInsert = actionItemsCollection.indexOf(next);
  actionItemsCollection.splice(indexToInsert, 0, item);
  actionItems.setItems(actionItemsCollection);
};
const appendActionItem = (bar, item) => {
  bar.actionItems.addItem(item);
};
class ActionBarComponent {
  constructor(element, page) {
    this.element = element;
    this.page = page;
    if (!this.page) {
      throw new Error('No Page found in ActionBarComponent.\n' + 'Only a Page can contain an ActionBar, so please ensure ActionBar is only used inside a Component that is routed via page-router-outlet or is contained in a Page.\n' + 'Example for root action bars in AppComponent: <Frame><Page><ActionBar>....</ActionBar></Page></Frame>');
    }
    if (isBlank(this.page.actionBarHidden)) {
      this.page.actionBarHidden = false;
    }
    this.page.actionBar = this.element.nativeElement;
    this.page.actionBar.update();
  }
  static {
    this.ɵfac = function ActionBarComponent_Factory(t) {
      return new (t || ActionBarComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarComponent,
      selectors: [["ActionBar"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 0,
      template: function ActionBarComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](0);
        }
      },
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBar',
      template: '<ng-content></ng-content>'
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
// eslint-disable-next-line @angular-eslint/component-class-suffix
class ActionBarScope {
  // tslint:disable-line:component-class-suffix
  constructor(page) {
    this.page = page;
    if (!this.page) {
      throw new Error('Inside ActionBarExtension but no ActionBar found to extend.');
    }
  }
  onNavButtonInit(navBtn) {
    this.page.actionBar.navigationButton = navBtn.element.nativeElement;
  }
  onNavButtonDestroy(navBtn) {
    const nav = navBtn.element.nativeElement;
    if (nav && this.page.actionBar.navigationButton === nav) {
      this.page.actionBar.navigationButton = null;
    }
  }
  onActionInit(item) {
    this.page.actionBar.actionItems.addItem(item.element.nativeElement);
  }
  onActionDestroy(item) {
    if (item.element.nativeElement.actionBar) {
      this.page.actionBar.actionItems.removeItem(item.element.nativeElement);
    }
  }
  static {
    this.ɵfac = function ActionBarScope_Factory(t) {
      return new (t || ActionBarScope)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, 8));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ActionBarScope,
      selectors: [["ActionBarExtension"]],
      decls: 0,
      vars: 0,
      template: function ActionBarScope_Template(rf, ctx) {},
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionBarScope, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ActionBarExtension',
      template: ''
    }]
  }], () => [{
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
class ActionItemDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onActionInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onActionDestroy(this);
    }
  }
  static {
    this.ɵfac = function ActionItemDirective_Factory(t) {
      return new (t || ActionItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: ActionItemDirective,
      selectors: [["ActionItem"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActionItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'ActionItem' // tslint:disable-line:directive-selector
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: ActionBarScope,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
class NavigationButtonDirective {
  constructor(element, ownerScope) {
    this.element = element;
    this.ownerScope = ownerScope;
    if (this.ownerScope) {
      this.ownerScope.onNavButtonInit(this);
    }
  }
  ngOnDestroy() {
    if (this.ownerScope) {
      this.ownerScope.onNavButtonDestroy(this);
    }
  }
  static {
    this.ɵfac = function NavigationButtonDirective_Factory(t) {
      return new (t || NavigationButtonDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ActionBarScope, 8));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NavigationButtonDirective,
      selectors: [["NavigationButton"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NavigationButtonDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'NavigationButton' // tslint:disable-line:directive-selector
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: ActionBarScope,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();

/**
 * Utility method to ensure a NgModule is only imported once in a codebase, otherwise will throw to help prevent accidental double importing
 * @param parentModule Parent module name
 * @param moduleName The module name
 */
function throwIfAlreadyLoaded(parentModule, moduleName) {
  if (parentModule) {
    throw new Error(`${moduleName} has already been loaded. Import ${moduleName} in the AppModule only.`);
  }
}
/**
 * Utility method which will only fire the callback once ever
 * @param fn callback to call only once
 */
// eslint-disable-next-line @typescript-eslint/ban-types
function once(fn) {
  let wasCalled = false;
  return function wrapper() {
    if (wasCalled) {
      return;
    }
    wasCalled = true;
    // eslint-disable-next-line prefer-spread, prefer-rest-params
    fn.apply(null, arguments);
  };
}
function isListLikeIterable(obj) {
  if (!isJsObject(obj)) return false;
  return Array.isArray(obj) || !(obj instanceof Map) &&
  // JS Map are iterables but return entries as [k, v]
  Symbol.iterator in obj; // JS Iterable have a Symbol.iterator prop
}
function isJsObject(o) {
  return o !== null && (typeof o === 'function' || typeof o === 'object');
}
const NG_VIEW = '_ngViewRef';
const TEMPLATED_ITEMS_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('TemplatedItemsComponent');
class ItemContext {
  constructor($implicit, item, index, even, odd) {
    this.$implicit = $implicit;
    this.item = item;
    this.index = index;
    this.even = even;
    this.odd = odd;
  }
}
class NsTemplatedItem {
  constructor(template, location, onCreate) {
    this.template = template;
    this.location = location;
    this.onCreate = onCreate;
  }
  create(context) {
    const viewRef = this.location.createEmbeddedView(this.template, context ? this.setupItemContext(context) : new ItemContext());
    viewRef.detach(); // create detached, just beware this doesn't always work and the view might run the first CD anyway.
    const resultView = getItemViewRoot(viewRef);
    resultView[NG_VIEW] = viewRef;
    if (this.onCreate) {
      this.onCreate(resultView);
    }
    return resultView;
  }
  update(view, context) {
    const viewRef = this.getEmbeddedViewRef(view);
    this.setupItemContext(context, viewRef);
    viewRef?.detectChanges();
  }
  attach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.reattach();
    viewRef?.detectChanges();
  }
  detach(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.detach();
  }
  dispose(view) {
    const viewRef = this.getEmbeddedViewRef(view);
    viewRef?.destroy();
  }
  getEmbeddedViewRef(view) {
    let viewRef = view[NG_VIEW];
    // Getting angular view from original element (in cases when ProxyViewContainer
    // is used NativeScript internally wraps it in a StackLayout)
    if (!viewRef && view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && view.getChildrenCount() > 0) {
      viewRef = view.getChildAt(0)[NG_VIEW];
    }
    return viewRef;
  }
  isValid(view) {
    return !!this.getEmbeddedViewRef(view);
  }
  setupItemContext({
    index,
    data
  }, oldView) {
    const context = oldView ? oldView.context : new ItemContext();
    context.$implicit = data;
    context.item = data;
    context.index = index;
    context.even = index % 2 === 0;
    context.odd = !context.even;
    return context;
  }
}
class ListViewComponent {
  get nativeElement() {
    return this.templatedItemsView;
  }
  get items() {
    return this._items;
  }
  set items(value) {
    this._items = value;
    let needDiffer = true;
    if (value instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_51__.ObservableArray) {
      needDiffer = false;
    }
    if (needDiffer && !this._differ && isListLikeIterable(value)) {
      this._differ = this._iterableDiffers.find(this._items).create((_index, item) => {
        return item;
      });
    }
    this.templatedItemsView.items = this._items;
  }
  // this elementRef is only here for backwards compatibility reasons
  constructor(_elementRef) {
    this._iterableDiffers = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.IterableDiffers);
    this._changeDetectorRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef);
    this._elementRef = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    // I believe this only exists so this can be inherited and people can override it.
    this.templatedItemsView = this._elementRef.nativeElement;
    this._viewToTemplate = new WeakMap();
    this.setupItemView = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    if (_elementRef) {
      this.templatedItemsView = _elementRef.nativeElement;
    }
  }
  ngAfterContentInit() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog('TemplatedItemsView.ngAfterContentInit()');
    }
    this.setItemTemplates();
  }
  ngOnDestroy() {
    this.templatedItemsView = null;
    if (this._templateMap) {
      this._templateMap.clear();
    }
  }
  setItemTemplates() {
    // The itemTemplateQuery may be changed after list items are added that contain <template> inside,
    // so cache and use only the original template to avoid errors.
    this.fallbackItemTemplate = this.itemTemplateQuery;
    if (this.fallbackItemTemplate && !this._templateMap?.has('default')) {
      // apparently you can create a Core ListView without a template...
      // we also add a fallback default for when the user sets multiple templates but no templateSelector
      this.registerTemplate('default', this.fallbackItemTemplate);
    }
    if (this._templateMap) {
      // sometimes templates are registered before loader is ready, so we update here
      this._templateMap.forEach(t => t.location = this.loader);
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('Setting templates');
      }
      const templates = [];
      this._templateMap.forEach((value, key) => {
        templates.push({
          createView: () => null,
          key
        });
      });
      this.templatedItemsView.itemTemplates = templates;
    }
  }
  registerTemplate(key, template) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.listViewLog(`registerTemplate for key: ${key}, ${this.loader}`);
    }
    if (!this._templateMap) {
      this._templateMap = new Map();
    }
    this._templateMap.set(key, new NsTemplatedItem(template, this.loader, v => this._viewToTemplate.set(v, key)));
  }
  onItemLoading(args) {
    if (!this._templateMap) {
      return;
    }
    const index = args.index;
    const lview = args.object;
    const items = lview.items;
    const currentItem = 'getItem' in items && typeof items.getItem === 'function' ? items.getItem(index) : items[index];
    let template;
    if (args.view) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog(`onItemLoading: ${index} - Reusing existing view`);
      }
      let templateKey = this._viewToTemplate.get(args.view);
      if (!templateKey && args.view instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_3__.LayoutBase && args.view.getChildrenCount() > 0) {
        templateKey = this._viewToTemplate.get(args.view.getChildAt(0));
      }
      if (!templateKey) {
        // this template was not created by us
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`ViewReference not found for item ${index}. View recycling is not working`);
        }
        return;
      }
      template = this._templateMap.get(templateKey);
      template.update(args.view, {
        index,
        data: currentItem
      });
    } else {
      // this should never enter if it creates the view
      const templateKey = typeof lview.itemTemplateSelector === 'function' ? lview.itemTemplateSelector(currentItem, index, items) : 'default';
      template = this._templateMap.get(templateKey);
      if (!template) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewError(`Template for key '${templateKey}' not found.`);
        }
        return;
      }
      args.view = template.create({
        index,
        data: currentItem
      });
    }
    this.setupViewRef(template.getEmbeddedViewRef(args.view), currentItem, index, args.view);
    template.attach(args.view);
    this._changeDetectorRef.detectChanges();
  }
  setupViewRef(viewRef, data, index, nativeElement) {
    const context = viewRef.context;
    this.setupItemView.next({
      view: viewRef,
      nativeElement,
      data: data,
      index: index,
      context: context
    });
  }
  ngDoCheck() {
    if (this._differ) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.listViewLog('ngDoCheck() - execute differ');
      }
      const changes = this._differ.diff(this._items);
      if (changes) {
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.listViewLog('ngDoCheck() - refresh');
        }
        this.templatedItemsView.refresh();
      }
    }
  }
  static {
    this.ɵfac = function ListViewComponent_Factory(t) {
      return new (t || ListViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: ListViewComponent,
      selectors: [["ListView"]],
      contentQueries: function ListViewComponent_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.itemTemplateQuery = _t.first);
        }
      },
      viewQuery: function ListViewComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c2, 7, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.loader = _t.first);
        }
      },
      hostBindings: function ListViewComponent_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("itemLoading", function ListViewComponent_itemLoading_HostBindingHandler($event) {
            return ctx.onItemLoading($event);
          });
        }
      },
      inputs: {
        items: "items"
      },
      outputs: {
        setupItemView: "setupItemView"
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }])],
      decls: 3,
      vars: 0,
      consts: [["loader", ""]],
      template: function ListViewComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "DetachedContainer");
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](1, null, 0);
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        }
      },
      encapsulation: 2,
      changeDetection: 0
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], ListViewComponent.prototype, "onItemLoading", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ListViewComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // eslint-disable-next-line @angular-eslint/component-selector
      selector: 'ListView',
      template: `<DetachedContainer>
    <ng-container #loader></ng-container>
  </DetachedContainer>`,
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,
      providers: [{
        provide: TEMPLATED_ITEMS_COMPONENT,
        useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => ListViewComponent)
      }]
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], {
    loader: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['loader', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef,
        static: true
      }]
    }],
    setupItemView: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    itemTemplateQuery: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChild,
      args: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef, {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef,
        static: false
      }]
    }],
    items: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    onItemLoading: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['itemLoading', ['$event']]
    }]
  });
})();
function getItemViewRoot(viewRef, rootLocator = extractSingleViewRecursive) {
  const rootView = rootLocator(viewRef.rootNodes, 0);
  return rootView;
}
// eslint-disable-next-line @angular-eslint/directive-selector
class TemplateKeyDirective {
  constructor(templateRef, comp) {
    this.templateRef = templateRef;
    this.comp = comp;
  }
  set nsTemplateKey(value) {
    if (this.comp && this.templateRef) {
      this.comp.registerTemplate(value, this.templateRef);
    }
  }
  set nsTemplateKeys(values) {
    // single template with multiple keys
    if (this.comp && this.templateRef && values) {
      values.forEach(value => this.comp.registerTemplate(value, this.templateRef));
    }
  }
  static {
    this.ɵfac = function TemplateKeyDirective_Factory(t) {
      return new (t || TemplateKeyDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TEMPLATED_ITEMS_COMPONENT, 1));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TemplateKeyDirective,
      selectors: [["", "nsTemplateKey", ""], ["", "nsTemplateKeys", ""]],
      inputs: {
        nsTemplateKey: "nsTemplateKey",
        nsTemplateKeys: "nsTemplateKeys"
      }
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TemplateKeyDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsTemplateKey],[nsTemplateKeys]'
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Host
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [TEMPLATED_ITEMS_COMPONENT]
    }]
  }], {
    nsTemplateKey: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsTemplateKeys: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class FrameService {
  // TODO: Add any methods that are needed to handle frame/page navigation
  getFrame() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
  }
  static {
    this.ɵfac = function FrameService_Factory(t) {
      return new (t || FrameService)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: FrameService,
      factory: FrameService.ɵfac,
      providedIn: 'root'
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FrameService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], null, null);
})();
class Outlet {
  get isPageNavigationBack() {
    return this._navigatingBackOutlets.size > 0;
  }
  set isPageNavigationBack(isBack) {
    if (!isBack) {
      if (this._navigatingBackOutlets.size > 0) {
        this._navigatingBackOutlets.delete(this._navigatingBackOutlets.values().next().value);
      }
    } else {
      for (const key of this.outletKeys) {
        this._navigatingBackOutlets.add(key);
      }
    }
  }
  constructor(outletKey, path, pathByOutlets, modalNavigationDepth) {
    this._navigatingBackOutlets = new Set();
    // More than one frame available when using NSEmptyOutletComponent component
    // in module that lazy loads children (loadChildren) and has outlet name.
    this.frames = [];
    this.states = [];
    // Used in reuse-strategy by its children to determine if they should be detached too.
    this.shouldDetach = true;
    this.outletKeys = [outletKey];
    this.isPageNavigationBack = false;
    this.showingModal = false;
    this.modalNavigationDepth = modalNavigationDepth || 0;
    this.pathByOutlets = pathByOutlets;
    this.path = path;
  }
  setOutletKeyNavigatingBack(key) {
    const nests = key.split('/');
    this.outletKeys.filter(k => k.split('/').length >= nests.length).forEach(k => {
      this._navigatingBackOutlets.add(k);
    });
  }
  containsFrame(frame) {
    return this.frames.indexOf(frame) > -1;
  }
  peekState() {
    if (this.states.length > 0) {
      return this.states[this.states.length - 1];
    }
    return null;
  }
  containsTopState(stateUrl) {
    const lastState = this.peekState();
    return lastState && lastState.segmentGroup.toString() === stateUrl;
  }
  // Search for frame that can go back.
  // Nested 'primary' outlets could result in Outlet with multiple navigatable frames.
  getFrameToBack() {
    let frame = this.frames[this.frames.length - 1];
    if (!this.isNSEmptyOutlet) {
      for (let index = this.frames.length - 1; index >= 0; index--) {
        const currentFrame = this.frames[index];
        if (currentFrame.canGoBack()) {
          frame = currentFrame;
          break;
        }
      }
    }
    return frame;
  }
}
const defaultNavOptions = {
  clearHistory: false,
  animated: true
};
class NSLocationStrategy extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy {
  constructor(frameService, startPath) {
    super();
    this.frameService = frameService;
    this.startPath = startPath;
    this.outlets = [];
    this.popStateCallbacks = new Array();
    this._modalNavigationDepth = 0;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.constructor()');
    }
  }
  getState() {
    return this.currentOutlet && this.currentOutlet.peekState();
  }
  path() {
    if (!this.currentUrlTree) {
      return this.startPath || '/';
    }
    const state = this.currentOutlet && this.currentOutlet.peekState();
    if (!state) {
      return '/';
    }
    const tree = this.currentUrlTree;
    const changedOutlet = this.getSegmentGroupByOutlet(this.currentOutlet);
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (state.isRootSegmentGroup) {
      tree.root = state.segmentGroup;
    } else if (changedOutlet) {
      this.updateSegmentGroup(tree.root, changedOutlet, state.segmentGroup);
    }
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    tree.queryParams = state.queryParams;
    const url = urlSerializer.serialize(tree);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.path(): ' + url);
    }
    return url;
  }
  prepareExternalUrl(internal) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.prepareExternalUrl() internal: ' + internal);
    }
    return internal;
  }
  pushState(state, title, url, queryParams) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.pushState state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
    }
    this.pushStateInternal(state, title, url, queryParams);
  }
  pushStateInternal(state, title, url, queryParams, replace = false) {
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    this.currentUrlTree = urlSerializer.parse(url);
    const urlTreeRoot = this.currentUrlTree.root;
    // Handle case where the user declares a component at path "/".
    // The url serializer doesn't parse this url as having a primary outlet.
    if (!Object.keys(urlTreeRoot.children).length) {
      const segmentGroup = this.currentUrlTree && this.currentUrlTree.root;
      const outletKey = this.getOutletKey(this.getSegmentGroupFullPath(segmentGroup), 'primary');
      const outlet = this.findOutlet(outletKey);
      if (outlet && this.updateStates(outlet, segmentGroup, this.currentUrlTree.queryParams, replace)) {
        this.currentOutlet = outlet; // If states updated
      } else if (!outlet) {
        // tslint:disable-next-line:max-line-length
        const rootOutlet = this.createOutlet('primary', null, segmentGroup, null, null, this.currentUrlTree.queryParams);
        this.currentOutlet = rootOutlet;
      }
      this.currentOutlet.peekState().isRootSegmentGroup = true;
      return;
    }
    const queue = [];
    let currentTree = urlTreeRoot;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        const currentSegmentGroup = currentTree.children[outletName];
        currentSegmentGroup.outlet = outletName;
        currentSegmentGroup.root = urlTreeRoot;
        const outletPath = this.getSegmentGroupFullPath(currentTree);
        const outletKey = this.getOutletKey(outletPath, outletName);
        let outlet = this.findOutlet(outletKey);
        const parentOutletName = currentTree.outlet || '';
        const parentOutletPath = this.getSegmentGroupFullPath(currentTree.parent);
        const parentOutletKey = this.getOutletKey(parentOutletPath, parentOutletName);
        const parentOutlet = this.findOutlet(parentOutletKey);
        const containsLastState = outlet && outlet.containsTopState(currentSegmentGroup.toString());
        if (!outlet) {
          // tslint:disable-next-line:max-line-length
          outlet = this.createOutlet(outletKey, outletPath, currentSegmentGroup, parentOutlet, this._modalNavigationDepth, this.currentUrlTree.queryParams);
          this.currentOutlet = outlet;
        } else if (this._modalNavigationDepth > 0 && outlet.showingModal && !containsLastState) {
          // Navigation inside modal view.
          this.upsertModalOutlet(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace);
        } else {
          outlet.parent = parentOutlet;
          if (this.updateStates(outlet, currentSegmentGroup, this.currentUrlTree.queryParams, replace)) {
            this.currentOutlet = outlet; // If states updated
          }
        }
        queue.push(currentSegmentGroup);
      });
      currentTree = queue.shift();
    }
  }
  replaceState(state, title, url, queryParams) {
    const states = this.currentOutlet && this.currentOutlet.states;
    if (states && states.length > 0) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState changing existing state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams, true);
    } else {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy.replaceState pushing new state: ' + `${state}, title: ${title}, url: ${url}, queryParams: ${queryParams}`);
      }
      this.pushStateInternal(state, title, url, queryParams);
    }
  }
  forward() {
    throw new Error('NSLocationStrategy.forward() - not implemented');
  }
  back(outlet, frame) {
    this.currentOutlet = outlet || this.currentOutlet;
    if (this.currentOutlet.isPageNavigationBack) {
      const states = this.currentOutlet.states;
      // We are navigating to the previous page
      // clear the stack until we get to a page navigation state
      let state = states.pop();
      let count = 1;
      if (frame) {
        while (state.frame && state.frame !== frame) {
          state = states.pop();
          count++;
        }
      }
      while (!state.isPageNavigation) {
        state = states.pop();
        count++;
      }
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog(`NSLocationStrategy.back() while navigating back. States popped: ${count}`);
      }
      this.callPopState(state, true);
    } else {
      const state = this.currentOutlet.peekState();
      if (state && state.isPageNavigation) {
        // This was a page navigation - so navigate through frame.
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is page - will call frame.goBack()');
        }
        if (!outlet) {
          const topmostFrame = this.frameService.getFrame();
          this.currentOutlet = this.getOutletByFrame(topmostFrame) || this.currentOutlet;
        }
        const frameToBack = this.currentOutlet.getFrameToBack();
        if (frameToBack) {
          frameToBack.goBack();
        }
      } else {
        // Nested navigation - just pop the state
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('NSLocationStrategy.back() while not navigating back but top' + ' state is not page - just pop');
        }
        this.callPopState(this.currentOutlet.states.pop(), true);
      }
    }
  }
  canGoBack(outlet) {
    outlet = outlet || this.currentOutlet;
    return outlet.states.length > 1;
  }
  onPopState(fn) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.onPopState');
    }
    this.popStateCallbacks.push(fn);
  }
  getBaseHref() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.getBaseHref()');
    }
    return '';
  }
  callPopState(state, pop = true, outlet) {
    outlet = outlet || this.currentOutlet;
    const urlSerializer = new _angular_router__WEBPACK_IMPORTED_MODULE_52__.DefaultUrlSerializer();
    const changedOutlet = this.getSegmentGroupByOutlet(outlet);
    if (state && changedOutlet) {
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, state.segmentGroup);
    } else if (changedOutlet) {
      // when closing modal view there are scenarios (e.g. root viewContainerRef) when we need
      // to clean up the named page router outlet to make sure we will open the modal properly again if needed.
      this.updateSegmentGroup(this.currentUrlTree.root, changedOutlet, null);
    }
    const url = urlSerializer.serialize(this.currentUrlTree);
    const change = {
      state,
      type: 'popstate'
    };
    for (const fn of this.popStateCallbacks) {
      fn(change);
    }
  }
  toString() {
    let result = [];
    this.outlets.forEach(outlet => {
      const outletStates = outlet.states;
      const outletLog = outletStates
      // tslint:disable-next-line:max-line-length
      .map((v, i) => `${outlet.outletKeys}.${i}.[${v.isPageNavigation ? 'PAGE' : 'INTERNAL'}].[${outlet.modalNavigationDepth ? 'MODAL' : 'BASE'}] "${v.segmentGroup.toString()}"`).reverse();
      result = result.concat(outletLog);
    });
    return result.join('\n');
  }
  // Methods for syncing with page navigation in PageRouterOutlet
  _beginBackPageNavigation(frame, outletKey) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call startGoBack while going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.startGoBack()');
    }
    outlet.setOutletKeyNavigatingBack(outletKey);
    // outlet.isPageNavigationBack = true;
    // we find all the children and also set their isPageNavigationBack
    this.outlets.filter(o => {
      let parent = o.parent;
      while (parent) {
        if (parent === outlet) {
          return true;
        }
        parent = parent.parent;
      }
      return false;
    }).forEach(o => o.isPageNavigationBack = true);
    this.currentOutlet = outlet;
  }
  _finishBackPageNavigation(frame) {
    const outlet = this.getOutletByFrame(frame);
    if (!outlet || !outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('Attempted to call endGoBack while not going back.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.finishBackPageNavigation()');
    }
    outlet.isPageNavigationBack = false;
  }
  _beginModalNavigation(frame) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginModalNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    // It is possible to have frame, but not corresponding Outlet, if
    // showing modal dialog on app.component.ts ngOnInit() e.g. In that case
    // the modal is treated as none modal navigation.
    if (this.currentOutlet) {
      this.currentOutlet.showingModal = true;
      this._modalNavigationDepth++;
    }
  }
  _closeModalNavigation() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.closeModalNavigation()');
    }
    const isShowingModal = this._modalNavigationDepth > 0;
    if (isShowingModal) {
      this._modalNavigationDepth--;
    }
    // currentOutlet should be the one that corresponds to the topmost frame
    const topmostOutlet = this.getOutletByFrame(this.frameService.getFrame());
    const outlet = this.findOutletByModal(this._modalNavigationDepth, isShowingModal) || topmostOutlet;
    if (outlet) {
      this.currentOutlet = outlet;
      this.currentOutlet.showingModal = false;
      this.callPopState(this.currentOutlet.peekState(), false);
      // this is needed because angular does a setTimeout on onPopState, so if we don't do this we might end up with inconsistent state
      return new Promise(resolve => setTimeout(resolve, 0));
    }
  }
  _beginPageNavigation(frame, options) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation()');
    }
    this.currentOutlet = this.getOutletByFrame(frame) || this.currentOutlet;
    const lastState = this.currentOutlet.peekState();
    if (lastState) {
      lastState.isPageNavigation = true;
    }
    const navOptions = options || defaultNavOptions;
    if (navOptions.clearHistory) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('NSLocationStrategy._beginPageNavigation clearing states history');
      }
      this.currentOutlet.states = [lastState];
    }
    return navOptions;
  }
  _getOutlets() {
    return this.outlets;
  }
  updateOutletFrame(outlet, frame, isEmptyOutletFrame) {
    const lastState = outlet.peekState();
    if (lastState && !lastState.frame && !isEmptyOutletFrame) {
      lastState.frame = frame;
    }
    if (!outlet.containsFrame(frame)) {
      outlet.frames.push(frame);
    }
    this.currentOutlet = outlet;
  }
  clearOutlet(frame) {
    this.outlets = this.outlets.filter(currentOutlet => {
      let isEqualToCurrent;
      if (this.currentOutlet) {
        isEqualToCurrent = currentOutlet.pathByOutlets === this.currentOutlet.pathByOutlets;
      }
      // Remove outlet from the url tree.
      if (currentOutlet.containsFrame(frame) && !isEqualToCurrent) {
        this.callPopState(null, true, currentOutlet);
      }
      // Skip frames filtering since currentOutlet is <router-outlet> when no frames available.
      if (currentOutlet.frames.length && !currentOutlet.isNSEmptyOutlet) {
        currentOutlet.frames = currentOutlet.frames.filter(currentFrame => currentFrame !== frame);
        return currentOutlet.frames.length;
      }
      return !currentOutlet.containsFrame(frame);
    });
  }
  getSegmentGroupFullPath(segmentGroup) {
    let fullPath = '';
    while (segmentGroup) {
      const url = segmentGroup.toString();
      if (fullPath) {
        fullPath = (url ? url + '/' : '') + fullPath;
      } else {
        fullPath = url;
      }
      segmentGroup = segmentGroup.parent;
    }
    return fullPath;
  }
  getRouteFullPath(currentRoute) {
    const outletName = currentRoute.outlet;
    let fullPath;
    currentRoute = currentRoute.parent;
    while (currentRoute) {
      const urls = currentRoute.url.value || currentRoute.url;
      let url = urls;
      if (Array.isArray(urls)) {
        url = url.join('/');
      }
      fullPath = fullPath ? (url ? url + '/' : url) + fullPath : url;
      currentRoute = currentRoute.parent;
    }
    return fullPath ? fullPath + '-' + outletName : outletName;
  }
  getPathByOutlets(urlSegmentGroup) {
    if (!urlSegmentGroup) {
      return '';
    }
    let pathToOutlet;
    let lastPath = urlSegmentGroup.outlet || 'primary';
    let parent = urlSegmentGroup.parent;
    while (parent && urlSegmentGroup.root !== parent) {
      if (parent && parent.outlet !== lastPath) {
        if (lastPath === 'primary') {
          lastPath = parent.outlet;
        } else {
          lastPath = parent.outlet;
          pathToOutlet = lastPath + '-' + (pathToOutlet || urlSegmentGroup.outlet);
        }
      }
      parent = parent.parent;
    }
    return pathToOutlet || lastPath;
  }
  findOutlet(outletKey, activatedRouteSnapshot) {
    let outlet = this.outlets.find(currentOutlet => {
      const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
      return equalModalDepth && currentOutlet.outletKeys.indexOf(outletKey) > -1;
    });
    // No Outlet with the given outletKey could happen when using nested unnamed p-r-o
    // primary -> primary -> prymary
    if (!outlet && activatedRouteSnapshot) {
      const pathByOutlets = this.getPathByOutlets(activatedRouteSnapshot);
      outlet = this.outlets.find(currentOutlet => {
        const equalModalDepth = currentOutlet.modalNavigationDepth === this._modalNavigationDepth;
        return equalModalDepth && currentOutlet.pathByOutlets === pathByOutlets;
      });
    }
    return outlet;
  }
  findOutletByModal(modalNavigation, isShowingModal) {
    return this.outlets.find(outlet => {
      const equalModalDepth = outlet.modalNavigationDepth === modalNavigation;
      return isShowingModal ? equalModalDepth && outlet.showingModal : equalModalDepth;
    });
  }
  getOutletByFrame(frame) {
    let outlet;
    for (let index = 0; index < this.outlets.length; index++) {
      const currentOutlet = this.outlets[index];
      if (currentOutlet.containsFrame(frame)) {
        outlet = currentOutlet;
        break;
      }
    }
    return outlet;
  }
  updateStates(outlet, currentSegmentGroup, queryParams, replace = false) {
    const isNewPage = outlet.states.length === 0;
    const lastState = outlet.states[outlet.states.length - 1];
    const equalStateUrls = outlet.containsTopState(currentSegmentGroup.toString());
    const locationState = {
      segmentGroup: currentSegmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: isNewPage,
      queryParams: {
        ...queryParams
      }
    };
    if (!lastState || !equalStateUrls) {
      if (replace) {
        outlet.states.pop();
      }
      outlet.states.push(locationState);
      // Update last state segmentGroup of parent Outlet.
      if (this._modalNavigationDepth === 0 && !outlet.showingModal) {
        this.updateParentsStates(outlet, currentSegmentGroup.parent);
      }
      return true;
    } else {
      if (lastState && equalStateUrls) {
        // update query params for last state
        lastState.queryParams = {
          ...queryParams
        };
      }
    }
    return false;
  }
  updateParentsStates(outlet, newSegmentGroup) {
    let parentOutlet = outlet.parent;
    // Update parents lastState segmentGroups
    while (parentOutlet && newSegmentGroup) {
      const state = parentOutlet.peekState();
      if (state) {
        state.segmentGroup = newSegmentGroup;
        newSegmentGroup = newSegmentGroup.parent;
        parentOutlet = parentOutlet.parent;
      }
    }
  }
  // tslint:disable-next-line:max-line-length
  createOutlet(outletKey, path, segmentGroup, parent, modalNavigation, queryParams = {}) {
    const pathByOutlets = this.getPathByOutlets(segmentGroup);
    const newOutlet = new Outlet(outletKey, path, pathByOutlets, modalNavigation);
    const locationState = {
      segmentGroup: segmentGroup,
      isRootSegmentGroup: false,
      isPageNavigation: true,
      queryParams: {
        ...queryParams
      }
    };
    newOutlet.states = [locationState];
    newOutlet.parent = parent;
    this.outlets.push(newOutlet);
    // Update last state segmentGroup of parent Outlet.
    if (this._modalNavigationDepth === 0 && !newOutlet.showingModal) {
      this.updateParentsStates(newOutlet, segmentGroup.parent);
    }
    return newOutlet;
  }
  getSegmentGroupByOutlet(outlet) {
    const pathList = outlet.pathByOutlets.split('-');
    let segmentGroup = this.currentUrlTree.root;
    let pathToOutlet;
    for (let index = 0; index < pathList.length; index++) {
      const currentPath = pathList[index];
      const childrenCount = Object.keys(segmentGroup.children).length;
      if (childrenCount && segmentGroup.children[currentPath]) {
        const url = segmentGroup.toString();
        pathToOutlet = pathToOutlet ? pathToOutlet + '/' + url : url;
        segmentGroup = segmentGroup.children[currentPath];
      } else {
        // If no child outlet found with the given name - forget about all previously found outlets.
        // example: seaching for 'primary-second-primary' shouldn't return 'primary-second'
        // if no 'primary' child available on 'second'.
        segmentGroup = null;
        break;
      }
    }
    // Paths should also match since there could be another Outlet
    // with the same pathByOutlets but different url path.
    if (segmentGroup && outlet.path && pathToOutlet && outlet.path !== pathToOutlet) {
      segmentGroup = null;
    }
    return segmentGroup;
  }
  // Traversal and replacement of segmentGroup.
  updateSegmentGroup(rootNode, oldSegmentGroup, newSegmentGroup) {
    const queue = [];
    let currentTree = rootNode;
    while (currentTree) {
      Object.keys(currentTree.children).forEach(outletName => {
        if (currentTree.children[outletName] === oldSegmentGroup) {
          if (newSegmentGroup) {
            currentTree.children[outletName] = newSegmentGroup;
          } else {
            delete currentTree.children[outletName];
          }
        }
        queue.push(currentTree.children[outletName]);
      });
      currentTree = queue.shift();
    }
  }
  upsertModalOutlet(parentOutlet, segmentedGroup, queryParams, replace = false) {
    let currentModalOutlet = this.findOutletByModal(this._modalNavigationDepth);
    // We want to treat every p-r-o as a standalone Outlet.
    if (!currentModalOutlet) {
      if (this._modalNavigationDepth > 1) {
        // The parent of the current Outlet should be the previous opened modal (if any).
        parentOutlet = this.findOutletByModal(this._modalNavigationDepth - 1);
      }
      // No currentModalOutlet available when opening 'primary' p-r-o.
      const outletName = 'primary';
      const outletPath = parentOutlet.peekState().segmentGroup.toString();
      const outletKey = this.getOutletKey(outletPath, outletName);
      // tslint:disable-next-line:max-line-length
      currentModalOutlet = this.createOutlet(outletKey, outletPath, segmentedGroup, parentOutlet, this._modalNavigationDepth, queryParams);
      this.currentOutlet = currentModalOutlet;
    } else if (this.updateStates(currentModalOutlet, segmentedGroup, queryParams, replace)) {
      this.currentOutlet = currentModalOutlet; // If states updated
    }
  }
  getOutletKey(path, outletName) {
    return path ? path + '-' + outletName : outletName;
  }
  ngOnDestroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NSLocationStrategy.ngOnDestroy()');
    }
    this.outlets = [];
    this.currentOutlet = null;
  }
  static {
    this.ɵfac = function NSLocationStrategy_Factory(t) {
      return new (t || NSLocationStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](START_PATH, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSLocationStrategy,
      factory: NSLocationStrategy.ɵfac,
      providedIn: 'root'
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSLocationStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], () => [{
    type: FrameService
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [START_PATH]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
class ModalDialogParams {
  constructor(context = {}, closeCallback) {
    this.context = context;
    this.closeCallback = closeCallback;
  }
}
class ModalDialogService {
  constructor(location, zone, appRef, defaultInjector) {
    this.location = location;
    this.zone = zone;
    this.appRef = appRef;
    this.defaultInjector = defaultInjector;
  }
  /**
   * Emits anytime a modal is closed with the ModalDialogParams which were injected into the component which is now closing.
   * For example, can be used to wire up Rx flows outside the scope of just the component being handled.
   */
  get closed$() {
    if (!this._closed$) {
      this._closed$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    }
    return this._closed$;
  }
  showModal(type, options = {}) {
    // if (!options.viewContainerRef) {
    //   throw new Error('No viewContainerRef: ' + 'Make sure you pass viewContainerRef in ModalDialogOptions.');
    // }
    let parentView = options.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if (options.target) {
      parentView = options.target;
    }
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    if (parentView._ngDialogRoot) {
      parentView = parentView._ngDialogRoot;
    }
    // resolve from particular module (moduleRef)
    // or from same module as parentView (viewContainerRef)
    const componentInjector = options.moduleRef?.injector || options.viewContainerRef?.injector || this.defaultInjector;
    const resolver = componentInjector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
    let frame = parentView;
    if (!(parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame)) {
      frame = parentView.page && parentView.page.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    }
    this.location?._beginModalNavigation(frame);
    return new Promise((resolve, reject) => {
      setTimeout(() => {
        try {
          this._showDialog({
            ...options,
            containerRef: options.viewContainerRef,
            injector: componentInjector,
            context: options.context,
            doneCallback: resolve,
            parentView,
            resolver,
            type
          });
        } catch (err) {
          reject(err);
        }
      }, 10);
    });
  }
  _showDialog(options) {
    var _this = this;
    let componentViewRef;
    let detachedLoaderRef;
    let portalOutlet;
    const closeCallback = once( /*#__PURE__*/(0,_Users_seankelly_nstudio_Nativescript_Angular_Demos_angular_demo_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (...args) {
      options.doneCallback.apply(undefined, args);
      if (componentViewRef) {
        componentViewRef.firstNativeLikeView.closeModal();
        const params = _this.openedModalParams.pop();
        if (_this._closed$) {
          _this._closed$.next(params);
        }
        yield _this.location._closeModalNavigation();
        if (detachedLoaderRef || portalOutlet) {
          _this.zone.run(() => {
            portalOutlet?.dispose();
            detachedLoaderRef?.instance.detectChanges();
            detachedLoaderRef?.destroy();
          });
        }
      }
    }));
    const modalParams = new ModalDialogParams(options.context, closeCallback);
    if (!this.openedModalParams) {
      this.openedModalParams = [];
    }
    this.openedModalParams.push(modalParams);
    const childInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: ModalDialogParams,
        useValue: modalParams
      }],
      parent: options.injector
    });
    this.zone.run(() => {
      // if we ever support templates in the old API
      // if(options.templateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      // }
      const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
      const portal = new ComponentPortal(options.type);
      portalOutlet = new NativeScriptDomPortalOutlet(targetView, options.resolver, this.appRef, childInjector);
      const componentRef = portalOutlet.attach(portal);
      componentRef.changeDetectorRef.detectChanges();
      componentViewRef = new NgViewRef(componentRef);
      if (options.useContextAsComponentProps && options.context) {
        for (const key in options.context) {
          componentViewRef.ref.instance[key] = options.context[key];
        }
      }
      if (componentViewRef !== componentRef.location.nativeElement) {
        componentRef.location.nativeElement._ngDialogRoot = componentViewRef.firstNativeLikeView;
      }
      // if we don't detach the view from its parent, ios gets mad
      componentViewRef.detachNativeLikeView();
      options.parentView.showModal(componentViewRef.firstNativeLikeView, {
        ...options,
        closeCallback
      });
    });
  }
  static {
    this.ɵfac = function ModalDialogService_Factory(t) {
      return new (t || ModalDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: ModalDialogService,
      factory: ModalDialogService.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ModalDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: NSLocationStrategy
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
  }], null);
})();

/**
 * This decorator delays a potentially unsafe event (like loaded/unloaded that will sometimes be called before ngOnInit) to be handled safely by ensuring it's called after a lifecycle hook.
 * @param runAfterEvent event/function call to wait until the event can be fired ('ngOnInit', 'ngAfterViewInit', ...)
 * @param options Optional event handling params
 * @returns decorator
 */
function NativeScriptNgSafeEvent(runAfterEvent, options = {}) {
  const event = runAfterEvent;
  return function (target, propertyKey, descriptor) {
    function getNgSafe() {
      return target['__ng_safe__'];
    }
    if (!target['__ng_safe__']) {
      const defaultNgSafe = {
        events: {},
        runBefore: {}
      };
      target['__ng_safe__'] = defaultNgSafe;
    }
    if (!getNgSafe().events[event]) {
      getNgSafe().events[event] = {
        done: false,
        buffer: [],
        originalDelegate: target[event]
      };
      target[event] = function (...args) {
        try {
          if (getNgSafe().events[event].originalDelegate) {
            return getNgSafe().events[event].originalDelegate.apply(this, args);
          }
        } finally {
          getNgSafe().events[event].done = true;
          getNgSafe().events[event].buffer.forEach(fn => fn.fn());
          getNgSafe().events[event].buffer = [];
        }
      };
    }
    if (options.alwaysRunBefore) {
      getNgSafe().runBefore[propertyKey] = target[options.alwaysRunBefore];
      target[`${options.alwaysRunBefore}`] = function (...args) {
        getNgSafe().events[event].buffer.filter(v => v.key === propertyKey).forEach(fn => fn.fn());
        getNgSafe().events[event].buffer = getNgSafe().events[event].buffer.filter(v => v.key !== propertyKey);
        getNgSafe().runBefore[propertyKey];
        if (getNgSafe().runBefore[propertyKey]) {
          return getNgSafe().runBefore[propertyKey].apply(this, args);
        }
      };
    }
    const oldFn = descriptor.value;
    descriptor.value = function (...args) {
      if (getNgSafe().events[event].done) {
        return oldFn.apply(this, args);
      }
      let shouldPush = true;
      if (options.onlyFirst || options.onlyLast) {
        for (let i = 0; i < getNgSafe().events[event].buffer.length; i++) {
          if (getNgSafe().events[event].buffer[i].key === propertyKey) {
            if (options.onlyFirst) {
              shouldPush = false;
              break;
            }
            if (options.onlyLast) {
              getNgSafe().events[event].buffer.splice(i, 1);
              break;
            }
          }
        }
      }
      if (shouldPush) {
        getNgSafe().events[event].buffer.push({
          key: propertyKey,
          fn: oldFn.bind(this, args)
        });
      }
    };
  };
}
class TabViewDirective {
  get selectedIndex() {
    return this._selectedIndex;
  }
  set selectedIndex(value) {
    this._selectedIndex = value;
    if (this.viewInitialized) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  constructor(element) {
    this.tabView = element.nativeElement;
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.rendererLog('this._selectedIndex: ' + this._selectedIndex);
    }
    if (!isBlank(this._selectedIndex)) {
      this.tabView.selectedIndex = this._selectedIndex;
    }
  }
  static {
    this.ɵfac = function TabViewDirective_Factory(t) {
      return new (t || TabViewDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewDirective,
      selectors: [["TabView"]],
      inputs: {
        selectedIndex: "selectedIndex"
      }
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TabView' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], {
    selectedIndex: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class TabViewItemDirective {
  constructor(owner, templateRef, viewContainer) {
    this.owner = owner;
    this.templateRef = templateRef;
    this.viewContainer = viewContainer;
  }
  set config(config) {
    if (!this._config || this._config.iconSource !== config.iconSource || this._config.title !== config.title || this._config.textTransform !== config.textTransform) {
      this._config = config;
      this.applyConfig();
    }
  }
  get config() {
    // tslint:disable-line:no-input-rename
    return this._config || {};
  }
  set title(title) {
    this.config = Object.assign(this.config, {
      title
    });
  }
  get title() {
    return this.config.title;
  }
  set iconSource(iconSource) {
    this.config = Object.assign(this.config, {
      iconSource
    });
  }
  get iconSource() {
    return this.config.iconSource;
  }
  set textTransform(textTransform) {
    this.config = Object.assign(this.config, {
      textTransform
    });
  }
  get textTransform() {
    return this.config.textTransform;
  }
  ensureItem() {
    if (!this.item) {
      this.item = new _nativescript_core__WEBPACK_IMPORTED_MODULE_39__.TabViewItem();
    }
  }
  applyConfig() {
    this.ensureItem();
    if (this.config.title) {
      this.item.title = this.config.title;
    }
    if (this.config.iconSource) {
      this.item.iconSource = this.config.iconSource;
    }
    //  TabViewItem textTransform has a default value for Android that kick in
    // only if no value (even a null value) is set.
    if (this.config.textTransform) {
      this.item.textTransform = this.config.textTransform;
    }
  }
  ngOnInit() {
    this.applyConfig();
    const viewRef = this.viewContainer.createEmbeddedView(this.templateRef);
    // Filter out text nodes and comments
    const realViews = viewRef.rootNodes.filter(node => !(node instanceof InvisibleNode));
    if (realViews.length > 0) {
      this.item.view = realViews[0];
      const newItems = (this.owner.tabView.items || []).concat([this.item]);
      this.owner.tabView.items = newItems;
    }
  }
  static {
    this.ɵfac = function TabViewItemDirective_Factory(t) {
      return new (t || TabViewItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](TabViewDirective), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TabViewItemDirective,
      selectors: [["", "tabItem", ""]],
      inputs: {
        config: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputFlags"].None, "tabItem", "config"],
        title: "title",
        iconSource: "iconSource",
        textTransform: "textTransform"
      }
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TabViewItemDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[tabItem]' // eslint-disable-line @angular-eslint/directive-selector
    }]
  }], () => [{
    type: TabViewDirective
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
  }], {
    config: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['tabItem']
    }],
    title: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    iconSource: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    textTransform: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();

/* eslint-disable @angular-eslint/component-selector */
class AndroidFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.android;
  }
  static {
    this.ɵfac = function AndroidFilterComponent_Factory(t) {
      return new (t || AndroidFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: AndroidFilterComponent,
      selectors: [["android"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function AndroidFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, AndroidFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AndroidFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'android',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], () => [{
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [DEVICE]
    }]
  }], null);
})();

/* eslint-disable @angular-eslint/component-selector */
class IOSFilterComponent {
  constructor(device) {
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.ios;
  }
  static {
    this.ɵfac = function IOSFilterComponent_Factory(t) {
      return new (t || IOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: IOSFilterComponent,
      selectors: [["ios"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function IOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, IOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'ios',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], () => [{
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [DEVICE]
    }]
  }], null);
})();

/* eslint-disable @angular-eslint/component-selector */
class VisionOSFilterComponent {
  constructor(device) {
    // Note: casting any to be backwards compatible
    // Available in 8.6+ only
    this.show = device.os === _nativescript_core__WEBPACK_IMPORTED_MODULE_7__.platformNames.visionos;
  }
  static {
    this.ɵfac = function VisionOSFilterComponent_Factory(t) {
      return new (t || VisionOSFilterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](DEVICE));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: VisionOSFilterComponent,
      selectors: [["visionos"]],
      ngContentSelectors: _c1,
      decls: 1,
      vars: 1,
      consts: [[4, "ngIf"]],
      template: function VisionOSFilterComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, VisionOSFilterComponent_ng_content_0_Template, 1, 0, "ng-content", 0);
        }
        if (rf & 2) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.show);
        }
      },
      dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.NgIf],
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VisionOSFilterComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'visionos',
      template: `<ng-content *ngIf="show"></ng-content>`
    }]
  }], () => [{
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [DEVICE]
    }]
  }], null);
})();
const CDK_COMPONENTS = [ActionBarComponent, ActionBarScope, ActionItemDirective, NavigationButtonDirective, ListViewComponent, TemplateKeyDirective, TabViewDirective, TabViewItemDirective, AndroidFilterComponent, IOSFilterComponent, VisionOSFilterComponent];
registerNativeScriptViewComponents();
class NativeScriptCommonModule {
  static {
    this.ɵfac = function NativeScriptCommonModule_Factory(t) {
      return new (t || NativeScriptCommonModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptCommonModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [ModalDialogService],
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, _angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptCommonModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule],
      declarations: [...CDK_COMPONENTS],
      exports: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.CommonModule, FramePageModule, ...CDK_COMPONENTS],
      providers: [ModalDialogService],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();
function generateFallbackRootView(parentRootView) {
  if (parentRootView) {
    return parentRootView;
  }
  return new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('white'));
}
function errorHandler() {
  return new _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler();
}
function generateRandomId() {
  return `${Date.now()}` + '_' + Math.random().toString(36).substr(2, 9);
}
const NATIVESCRIPT_MODULE_STATIC_PROVIDERS = [{
  provide: APP_ROOT_VIEW,
  useFactory: generateFallbackRootView,
  deps: [[new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf(), APP_ROOT_VIEW]]
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵINJECTOR_SCOPE"],
  useValue: 'root'
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler,
  useFactory: errorHandler,
  deps: []
}, {
  provide: ViewUtil,
  useClass: ViewUtil,
  deps: [NAMESPACE_FILTERS, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NativeScriptRendererFactory,
  useClass: NativeScriptRendererFactory,
  deps: [APP_ROOT_VIEW, NAMESPACE_FILTERS, NATIVESCRIPT_ROOT_MODULE_ID, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), ENABLE_REUSABE_VIEWS]]
}, {
  provide: NATIVESCRIPT_ROOT_MODULE_ID,
  useFactory: generateRandomId
}, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.RendererFactory2,
  useExisting: NativeScriptRendererFactory
}, {
  provide: NAMESPACE_FILTERS,
  useClass: PlatformNamespaceFilter,
  deps: [DEVICE],
  multi: true
}, {
  provide: DEVICE,
  useValue: _nativescript_core__WEBPACK_IMPORTED_MODULE_54__.Device
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory,
  useClass: NativescriptXhrFactory,
  deps: []
}];
const NATIVESCRIPT_MODULE_PROVIDERS = [{
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.ViewportScroller,
  useClass: _angular_common__WEBPACK_IMPORTED_MODULE_14__["ɵNullViewportScroller"]
}];
class NativeScriptModule {
  constructor(parentModule) {
    if (parentModule) {
      throw new Error(`NativeScriptModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.`);
    }
  }
  static {
    this.ɵfac = function NativeScriptModule_Factory(t) {
      return new (t || NativeScriptModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, NativeScriptCommonModule],
      declarations: [DetachedLoader],
      providers: [...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...NATIVESCRIPT_MODULE_PROVIDERS],
      exports: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationModule, DetachedLoader, NativeScriptCommonModule],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], () => [{
    type: NativeScriptModule,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [NativeScriptModule]
    }]
  }], null);
})();
function disableRootViewHanding(view) {
  view.__disable_root_view_handling = true;
}
const preAngularDisposal$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
const postAngularBootstrap$ = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
/**
 * @deprecated
 */
const onBeforeLivesync = preAngularDisposal$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main' && v.reason === 'hotreload'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => v.reference));
/**
 * @deprecated
 */
const onAfterLivesync = postAngularBootstrap$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(v => v.moduleType === 'main'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.map)(v => ({
  moduleRef: v.reference
})));
if (true) {
  __webpack_module__.hot.decline();
  global.__onLiveSyncCore = () => {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._onCssStateChange();
    // all other changes are applied by runNativeScriptAngularApp
  };
}
function emitModuleBootstrapEvent(ref, name, reason) {
  postAngularBootstrap$.next({
    moduleType: name,
    reference: ref,
    reason
  });
}
function destroyRef(ref, name, reason) {
  if (ref) {
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef) {
      preAngularDisposal$.next({
        moduleType: 'platform',
        reference: ref,
        reason: name
      });
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      preAngularDisposal$.next({
        moduleType: name,
        reference: ref,
        reason
      });
    }
    ref.destroy();
  }
}
function runZoneSyncTask(fn) {
  if (typeof Zone === 'undefined') {
    return;
  }
  const zone = Zone.current;
  const task = zone.scheduleEventTask('sync_function', fn, {}, () => {
    //
  }, () => {
    //
  });
  try {
    // console.log(task.state);
    task.invoke();
    // zone.runTask(task);
    // console.log(task.state);
  } finally {
    zone.cancelTask(task);
  }
}
function ZoneCanWorkSync() {
  let canRunSync = false;
  runZoneSyncTask(() => {
    Promise.resolve().then(() => canRunSync = true);
  });
  return canRunSync;
}
/**
 * Tests if global.__drainMicrotaskQueue can be used to drain microtasks
 * Because of Zone.js, even though the native queue might be drained, zone microtasks might not be
 * @param makeTestDrain should it drain the current microtask queue to ensure the queue can be drained
 * @returns if global.__drainMicrotaskQueue can be called
 */
function nativeQueueCanBeDrained(makeTestDrain) {
  if (typeof global.__drainMicrotaskQueue !== 'function') {
    return false;
  }
  if (!makeTestDrain) {
    return true;
  }
  let canRunSync = false;
  Promise.resolve().then(() => canRunSync = true);
  global.__drainMicrotaskQueue();
  return canRunSync;
}
/**
 * Runs a function in the most synchronous way possible
 * @param fn function to run
 * @param done function to chain after done
 */
function runSynchronously(fn, done) {
  if (typeof Zone !== 'undefined' && ZoneCanWorkSync()) {
    runZoneSyncTask(fn);
    done?.();
    return;
  }
  if (nativeQueueCanBeDrained(true)) {
    fn();
    global.__drainMicrotaskQueue();
    done?.();
    return;
  }
  fn();
  if (done) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(done);
  }
}
function createProvidersConfig(options) {
  return {
    appProviders: [...NATIVESCRIPT_MODULE_PROVIDERS, ...NATIVESCRIPT_MODULE_STATIC_PROVIDERS, ...(options?.providers ?? [])]
    // platformProviders: INTERNAL_BROWSER_PLATFORM_PROVIDERS
  };
}
function bootstrapApplication(rootComponent, options) {
  return (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵinternalCreateApplication"])({
    rootComponent,
    ...createProvidersConfig(options)
  });
}
function runNativeScriptAngularApp(options) {
  let mainModuleRef = null;
  let loadingModuleRef;
  let platformRef = null;
  let bootstrapId = -1;
  const updatePlatformRef = (moduleRef, reason) => {
    const newPlatformRef = moduleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef);
    if (newPlatformRef === platformRef) {
      return;
    }
    destroyRef(platformRef, reason);
    platformRef = newPlatformRef;
    platformRef.onDestroy(() => platformRef = platformRef === newPlatformRef ? null : platformRef);
  };
  let launchEventDone = true;
  let targetRootView = null;
  const setRootView = ref => {
    if (bootstrapId === -1) {
      // treat edge cases
      return;
    }
    if (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModuleRef || ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef) {
      if (ref.injector.get(DISABLE_ROOT_VIEW_HANDLING, false)) {
        return;
      }
    } else {
      if (ref['__disable_root_view_handling']) {
        return;
      }
    }
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView()?._closeAllModalViewsInternal(); // cleanup old rootview
    NativeScriptDebug.bootstrapLog(`Setting RootView ${launchEventDone ? 'outside of' : 'during'} launch event`);
    // TODO: check for leaks when root view isn't properly destroyed
    if (ref instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.bootstrapLog(`Setting RootView to ${ref}`);
      }
      if (options.embedded) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
          create: () => ref
        });
      } else if (launchEventDone) {
        _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
          create: () => ref
        });
      } else {
        targetRootView = ref;
      }
      return;
    }
    const view = ref.injector.get(APP_ROOT_VIEW);
    const newRoot = view instanceof AppHostView ? view.content : view;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.bootstrapLog(`Setting RootView to ${newRoot}`);
    }
    if (options.embedded) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run({
        create: () => newRoot
      });
    } else if (launchEventDone) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
        create: () => newRoot
      });
    } else {
      targetRootView = newRoot;
    }
  };
  const showErrorUI = error => {
    const message = error.message + '\n\n' + error.stack;
    const errorTextBox = new _nativescript_core__WEBPACK_IMPORTED_MODULE_41__.TextView();
    errorTextBox.text = message;
    errorTextBox.color = new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color('red');
    setRootView(errorTextBox);
  };
  const bootstrapRoot = reason => {
    try {
      bootstrapId = Date.now();
      const currentBootstrapId = bootstrapId;
      let bootstrapped = false;
      let onMainBootstrap = () => {
        setRootView(mainModuleRef);
      };
      runSynchronously(() => options.appModuleBootstrap(reason).then(ref => {
        if (currentBootstrapId !== bootstrapId) {
          // this module is old and not needed anymore
          // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
          ref.destroy();
          return;
        }
        mainModuleRef = ref;
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => mainModuleRef = mainModuleRef === ref ? null : mainModuleRef);
        updatePlatformRef(ref, reason);
        const styleTag = ref.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
        (ref instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? ref.components[0] : ref).onDestroy(() => {
          (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
        });
        bootstrapped = true;
        onMainBootstrap();
        emitModuleBootstrapEvent(ref, 'main', reason);
        // bootstrapped component: (ref as any)._bootstrapComponents[0];
      }, err => {
        bootstrapped = true;
        NativeScriptDebug.bootstrapLogError(`Error bootstrapping app module:\n${err.message}\n\n${err.stack}`);
        showErrorUI(err);
        throw err;
      }), () => {
        if (currentBootstrapId !== bootstrapId) {
          return;
        }
        if (!bootstrapped) {
          if (options.loadingModule) {
            runSynchronously(() => options.loadingModule(reason).then(loadingRef => {
              if (currentBootstrapId !== bootstrapId) {
                // this module is old and not needed anymore
                // this may happen when developer uses async app initializer and the user exits the app before this bootstraps
                loadingRef.destroy();
                return;
              }
              loadingModuleRef = loadingRef;
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => loadingModuleRef = loadingModuleRef === loadingRef ? null : loadingModuleRef);
              updatePlatformRef(loadingRef, reason);
              const styleTag = loadingModuleRef.injector.get(NATIVESCRIPT_ROOT_MODULE_ID);
              (loadingModuleRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef ? loadingModuleRef.components[0] : loadingModuleRef).onDestroy(() => {
                (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_47__.removeTaggedAdditionalCSS)(styleTag);
              });
              setRootView(loadingRef);
              onMainBootstrap = () => {
                // delay showing the new rootview to avoid flashes
                _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                  const loadingService = loadingModuleRef.injector.get(NativeScriptLoadingService);
                  loadingModuleRef.injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone).run(() => {
                    loadingService._notifyMainModuleReady();
                  });
                  loadingService.readyToDestroy$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(ready => ready), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
                    destroyRef(loadingModuleRef, 'loading', reason);
                    loadingModuleRef = null;
                    setRootView(mainModuleRef);
                  });
                });
              };
              emitModuleBootstrapEvent(loadingModuleRef, 'loading', reason);
            }, err => {
              NativeScriptDebug.bootstrapLogError(`Error bootstrapping loading module:\n${err.message}\n\n${err.stack}`);
              showErrorUI(err);
              throw err;
            }));
          } else if (options.launchView) {
            let launchView = options.launchView(reason);
            setRootView(launchView);
            if (launchView.startAnimation) {
              setTimeout(() => {
                // ensure launch animation is executed after launchView added to view stack
                launchView.startAnimation();
              });
            }
            onMainBootstrap = () => {
              // delay showing the new rootview to avoid flashes
              _nativescript_core__WEBPACK_IMPORTED_MODULE_55__.queueMacrotask(() => {
                if (launchView.cleanup) {
                  launchView.cleanup().catch().then(() => {
                    launchView = null;
                    setRootView(mainModuleRef);
                  });
                } else {
                  launchView = null;
                  setRootView(mainModuleRef);
                }
              });
            };
          } else {
            console.warn('App is bootstrapping asynchronously (likely APP_INITIALIZER) but did not provide a launchView or LoadingModule.');
          }
        }
      });
    } catch (err) {
      NativeScriptDebug.bootstrapLogError(`Error in Bootstrap Function:\n${err.message}\n\n${err.stack}`);
    }
  };
  const disposePlatform = reason => {
    destroyRef(platformRef, reason);
    platformRef = null;
  };
  const disposeLastModules = reason => {
    // reset bootstrap ID to make sure any modules bootstrapped after this are discarded
    bootstrapId = -1;
    destroyRef(loadingModuleRef, 'loading', reason);
    loadingModuleRef = null;
    destroyRef(mainModuleRef, 'main', reason);
    mainModuleRef = null;
  };
  const launchCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.launchCallback', args => {
    launchEventDone = false;
    bootstrapRoot('applaunch');
    launchEventDone = true;
    args.root = targetRootView || null;
  });
  const exitCallback = (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile)('@nativescript/angular/platform-common.exitCallback', args => {
    disposeLastModules('appexit');
  });
  let oldAddEventListener;
  if (typeof Zone !== 'undefined' && global.NativeScriptGlobals?.events?.[Zone.__symbol__('addEventListener')]) {
    oldAddEventListener = global.NativeScriptGlobals.events.addEventListener;
    global.NativeScriptGlobals.events.addEventListener = global.NativeScriptGlobals.events[Zone.__symbol__('addEventListener')];
  }
  if (!options.embedded) {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
  }
  _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
  if (oldAddEventListener) {
    global.NativeScriptGlobals.events.addEventListener = oldAddEventListener;
  }
  if (true) {
    // handle HMR Application.run
    global['__dispose_app_ng_platform__'] = () => {
      disposePlatform('hotreload');
    };
    global['__dispose_app_ng_modules__'] = () => {
      disposeLastModules('hotreload');
    };
    global['__bootstrap_app_ng_modules__'] = () => {
      bootstrapRoot('hotreload');
    };
    global['__cleanup_ng_hot__'] = () => {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.launchEvent, launchCallback);
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.exitEvent, exitCallback);
      disposeLastModules('hotreload');
      disposePlatform('hotreload');
    };
    global['__reboot_ng_modules__'] = (shouldDisposePlatform = false) => {
      disposeLastModules('hotreload');
      if (shouldDisposePlatform) {
        disposePlatform('hotreload');
      }
      bootstrapRoot('hotreload');
    };
    if (!_nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.hasLaunched()) {
      _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
      return;
    }
    bootstrapRoot('hotreload');
    return;
  }
  if (options.embedded) {
    bootstrapRoot('applaunch');
  } else {
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.run();
  }
}
class NativeScriptPlatformRefProxy extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.PlatformRef {
  constructor(platform, launchView) {
    super();
    this.platform = platform;
    this.launchView = launchView;
  }
  bootstrapModuleFactory(moduleFactory) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModuleFactory(moduleFactory),
      launchView: () => this.launchView
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  bootstrapModule(moduleType, compilerOptions) {
    this.options = {
      appModuleBootstrap: () => this.platform.bootstrapModule(moduleType, compilerOptions)
    };
    runNativeScriptAngularApp(this.options);
    return null;
  }
  onDestroy(callback) {
    this.platform.onDestroy(callback);
  }
  get injector() {
    return this.platform.injector;
  }
  destroy() {
    this.platform.destroy();
  }
  get destroyed() {
    return this.platform.destroyed;
  }
}
const defaultPageFactoryProvider = {
  provide: PAGE_FACTORY,
  useValue: defaultPageFactory
};
class NativeScriptSanitizer extends _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer {
  sanitize(_context, value) {
    return value;
  }
}
// TODO: when angular finally exports their scheduler token for ivy CD, provide our own with queueMacroTask
// export function schedulerFactory() {
//   return (fn: any) => {
//     console.log('SCHEDULER');
//     setTimeout(fn, 0);
//   };
// }
class NativeScriptDocument {
  constructor() {
    // Required by the AnimationDriver
    this.body = {
      isOverride: true
    };
  }
  createElement(tag) {
    throw new Error('NativeScriptDocument is not DOM Document. There is no createElement() method.');
  }
}
const COMMON_PROVIDERS = [defaultPageFactoryProvider, {
  provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Sanitizer,
  useClass: NativeScriptSanitizer,
  deps: []
}, {
  provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT,
  useClass: NativeScriptDocument,
  deps: []
}];
const platformNativeScript = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.createPlatformFactory)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.platformCore, 'nativescriptDynamic', COMMON_PROVIDERS);
/**
 * @deprecated use runNativeScriptAngularApp instead
 */
const platformNativeScriptDynamic = function (options, extraProviders) {
  console.log('platformNativeScriptDynamic is deprecated, use runNativeScriptAngularApp instead');
  options = options || {};
  extraProviders = extraProviders || [];
  const ngRootView = new AppHostView(new _nativescript_core__WEBPACK_IMPORTED_MODULE_53__.Color(options.backgroundColor || 'white'));
  let launchView = options.launchView;
  if (!launchView && options.async) {
    launchView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_9__.GridLayout();
    launchView.backgroundColor = options.backgroundColor || 'white';
  }
  return new NativeScriptPlatformRefProxy(platformNativeScript([...extraProviders]), launchView);
};
class RootViewProxy extends _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView {
  constructor(parentRootLayout) {
    super();
    this.parentRootLayout = parentRootLayout;
  }
  _addView(view, atIndex) {
    super._addView(view, atIndex);
    if (this.parentRootLayout.getChildIndex(this) < 0) {
      this.parentRootLayout.insertChild(this, 0);
    }
  }
  _removeView(view) {
    super._removeView(view);
    this.parentRootLayout.removeChild(this);
  }
}
/**
 * This generates a RootLayout and returns a RootViewProxy.
 * Setting RootViewProxy.content will add the view to the bottom of the RootLayout
 * Setting RootViewProxy.content = null will remove the view from the RootLayout
 * @returns RootViewProxy that will insert content into the start of the RootLayout
 */
function generateRootLayoutAndProxy() {
  let rootView = _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
  if (!rootView || !(rootView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout)) {
    rootView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_31__.RootLayout();
    _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.resetRootView({
      create: () => rootView
    });
  }
  const viewProxy = new RootViewProxy(rootView);
  // (rootView as RootLayout).insertChild(viewProxy, 0);
  return viewProxy;
}
class RootCompositeModule {
  static {
    this.ɵfac = function RootCompositeModule_Factory(t) {
      return new (t || RootCompositeModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: RootCompositeModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RootCompositeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [{
        provide: DISABLE_ROOT_VIEW_HANDLING,
        useValue: true
      }, {
        provide: APP_ROOT_VIEW,
        useFactory: generateRootLayoutAndProxy
      }]
    }]
  }], null, null);
})();

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Configuration for opening a modal dialog with the MatDialog service.
 */
class NativeDialogConfig {
  constructor() {
    /** Whether the dialog has a backdrop. */
    this.hasBackdrop = true;
    /** Whether the user can use escape or clicking on the backdrop to close the modal. */
    this.disableClose = false;
    /** Data being injected into the child component. */
    this.data = null;
    /**
     * Whether the dialog should close when the user goes backwards/forwards in history.
     * Note that this usually doesn't include clicking on links (unless the user is using
     * the `HashLocationStrategy`).
     */
    this.closeOnNavigation = true;
    this.nativeOptions = {};
    // TODO(jelbourn): add configuration for lifecycle hooks, ARIA labelling.
  }
}

// Counter for unique dialog ids.
let uniqueId = 0;
class NativeDialogRef {
  constructor(_nativeModalRef, id = `native-dialog-${uniqueId++}`) {
    this._nativeModalRef = _nativeModalRef;
    this.id = id;
    /** Subject for notifying the user that the dialog has finished opening. */
    this._afterOpened = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has finished closing. */
    this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Subject for notifying the user that the dialog has started closing. */
    this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    /** Current state of the dialog. */
    this._state = 0 /* NativeDialogState.OPEN */;
    // Pass the id along to the container.
    _nativeModalRef._id = id;
    // Emit when opening animation completes
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'opened'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      this._afterOpened.next();
      this._afterOpened.complete();
    });
    // Dispose overlay when closing animation is complete
    _nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closed'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => {
      clearTimeout(this._closeFallbackTimeout);
      this._finishDialogClose();
      this._afterClosed.next(this._result);
      this._afterClosed.complete();
    });
    _nativeModalRef.onDismiss.subscribe(() => {
      this._beforeClosed.next(this._result);
      this._beforeClosed.complete();
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.componentInstance = null;
      _nativeModalRef.dispose();
    });
  }
  /**
   * Close the dialog.
   * @param dialogResult Optional result to return to the dialog opener.
   */
  close(dialogResult) {
    this._result = dialogResult;
    // Transition the backdrop in parallel to the dialog.
    this._nativeModalRef.stateChanged.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.filter)(event => event.state === 'closing'), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(event => {
      this._beforeClosed.next(dialogResult);
      this._beforeClosed.complete();
      this._nativeModalRef.dispose();
      // this._overlayRef.detachBackdrop();
      // The logic that disposes of the overlay depends on the exit animation completing, however
      // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback
      // timeout which will clean everything up if the animation hasn't fired within the specified
      // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the
      // vast majority of cases the timeout will have been cleared before it has the chance to fire.
      this._closeFallbackTimeout = setTimeout(() => {
        this._finishDialogClose();
        this._afterClosed.next(this._result);
        this._afterClosed.complete();
      },
      //event.totalTime + 100);
      100);
    });
    this._state = 1 /* NativeDialogState.CLOSING */;
    this._nativeModalRef._startExitAnimation();
  }
  /**
   * Gets an observable that is notified when the dialog is finished opening.
   */
  afterOpened() {
    return this._afterOpened;
  }
  /**
   * Gets an observable that is notified when the dialog is finished closing.
   */
  afterClosed() {
    return this._afterClosed;
  }
  /**
   * Gets an observable that is notified when the dialog has started closing.
   */
  beforeClosed() {
    return this._beforeClosed;
  }
  /**
   * Gets an observable that emits when the overlay's backdrop has been clicked.
   */
  backdropClick() {
    throw new Error('Method not implemented');
  }
  /** Add a CSS class or an array of classes to the overlay pane. */
  addPanelClass(classes) {
    // this._overlayRef.addPanelClass(classes);
    return this;
  }
  /** Remove a CSS class or an array of classes from the overlay pane. */
  removePanelClass(classes) {
    // this._overlayRef.removePanelClass(classes);
    return this;
  }
  /** Gets the current state of the dialog's lifecycle. */
  getState() {
    return this._state;
  }
  /**
   * Finishes the dialog close by updating the state of the dialog
   * and disposing the overlay.
   */
  _finishDialogClose() {
    this._state = 2 /* NativeDialogState.CLOSED */;
    this._nativeModalRef.dispose();
  }
}
let NativeModalRef = class NativeModalRef {
  constructor(_config, _injector, location) {
    var _this2 = this;
    this._config = _config;
    this._injector = _injector;
    this.location = location;
    this.stateChanged = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this.onDismiss = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._isDismissed = false;
    let parentView = this._config.viewContainerRef?.element.nativeElement || _nativescript_core__WEBPACK_IMPORTED_MODULE_10__.Application.getRootView();
    if ((parentView instanceof AppHostView || parentView instanceof AppHostAsyncView) && parentView.ngAppRoot) {
      parentView = parentView.ngAppRoot;
    }
    // _ngDialogRoot is the first child of the previously detached proxy.
    // It should have 'viewController' (iOS) or '_dialogFragment' (Android) available for
    // presenting future modal views.
    while (parentView._modal || parentView._ngDialogRoot) {
      parentView = parentView._modal || parentView._ngDialogRoot;
    }
    this.parentView = parentView;
    this._closeCallback = once( /*#__PURE__*/(0,_Users_seankelly_nstudio_Nativescript_Angular_Demos_angular_demo_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.stateChanged.next({
        state: 'closing'
      });
      if (!_this2._isDismissed) {
        _this2.modalViewRef.firstNativeLikeView?.closeModal();
      }
      yield _this2.location?._closeModalNavigation();
      // this.detachedLoaderRef?.destroy();
      if (_this2.modalViewRef?.firstNativeLikeView.isLoaded) {
        (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.fromEvent)(_this2.modalViewRef.firstNativeLikeView, 'unloaded').pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.take)(1)).subscribe(() => _this2.stateChanged.next({
          state: 'closed'
        }));
      } else {
        _this2.stateChanged.next({
          state: 'closed'
        });
      }
    }));
  }
  _generateDetachedContainer(vcRef) {
    const detachedFactory = (this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)).resolveComponentFactory(DetachedLoader);
    if (vcRef) {
      this.detachedLoaderRef = vcRef.createComponent(detachedFactory);
    } else {
      this.detachedLoaderRef = detachedFactory.create(this._config.viewContainerRef?.injector || this._injector);
      this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(this.detachedLoaderRef.hostView);
    }
    this.detachedLoaderRef.changeDetectorRef.detectChanges();
  }
  attachTemplatePortal(portal) {
    var _this3 = this;
    this.startModalNavigation();
    const vcRef = portal.viewContainerRef || this._config.viewContainerRef;
    this._generateDetachedContainer(vcRef);
    portal.viewContainerRef = this.detachedLoaderRef.instance.vc;
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const templateRef = this.portalOutlet.attach(portal);
    this.modalViewRef = new NgViewRef(templateRef);
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref3 = (0,_Users_seankelly_nstudio_Nativescript_Angular_Demos_angular_demo_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          yield _this3.location?._closeModalNavigation();
          _this3.onDismiss.next();
          _this3.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref3.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    //   if (this.modalView !== templateRef.rootNodes[0]) {
    //     componentRef.location.nativeElement._ngDialogRoot = this.modalView;
    //   }
    return templateRef;
  }
  attachComponentPortal(portal) {
    var _this4 = this;
    this.startModalNavigation();
    const targetView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
    this.portalOutlet = new NativeScriptDomPortalOutlet(targetView, this._config.componentFactoryResolver || this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), this._injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), this._injector);
    const componentRef = this.portalOutlet.attach(portal);
    componentRef.changeDetectorRef.detectChanges();
    this.modalViewRef = new NgViewRef(componentRef);
    if (this.modalViewRef.firstNativeLikeView !== this.modalViewRef.view) {
      this.modalViewRef.view._ngDialogRoot = this.modalViewRef.firstNativeLikeView;
    }
    this.modalViewRef.firstNativeLikeView['__ng_modal_id__'] = this._id;
    // if we don't detach the view from its parent, ios gets mad
    this.modalViewRef.detachNativeLikeView();
    const userOptions = this._config.nativeOptions || {};
    this.parentView.showModal(this.modalViewRef.firstNativeLikeView, {
      context: null,
      ...userOptions,
      closeCallback: function () {
        var _ref4 = (0,_Users_seankelly_nstudio_Nativescript_Angular_Demos_angular_demo_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          _this4._isDismissed = true;
          _this4._closeCallback(); // close callback can only be called once, so we call it here to setup the exit events
          _this4.onDismiss.next();
          _this4.onDismiss.complete();
        });
        return function closeCallback() {
          return _ref4.apply(this, arguments);
        };
      }(),
      cancelable: !this._config.disableClose
    });
    return componentRef;
  }
  _startExitAnimation() {
    this._closeCallback();
  }
  dispose() {
    this.portalOutlet.dispose();
  }
  startModalNavigation() {
    const frame = this.parentView instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame ? this.parentView : this.parentView?.page?.frame || _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame.topmost();
    this.location?._beginModalNavigation(frame);
  }
};
NativeModalRef = (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__param)(2, (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [NativeDialogConfig, _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector, NSLocationStrategy])], NativeModalRef);

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/** Injection token that can be used to access the data that was passed in to a dialog. */
const NATIVE_DIALOG_DATA = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('NativeDialogData');
/** Injection token that can be used to specify default dialog options. */
const NATIVE_DIALOG_DEFAULT_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken('native-dialog-default-options');
/**
 * Base class for dialog services. The base dialog service allows
 * for arbitrary dialog refs and dialog container components.
 */
class _NativeDialogBase {
  /** Keeps track of the currently-open dialogs. */
  get openDialogs() {
    return this._parentDialog ? this._parentDialog.openDialogs : this._openDialogsAtThisLevel;
  }
  /** Stream that emits when a dialog has been opened. */
  get afterOpened() {
    return this._parentDialog ? this._parentDialog.afterOpened : this._afterOpenedAtThisLevel;
  }
  _getAfterAllClosed() {
    const parent = this._parentDialog;
    return parent ? parent._getAfterAllClosed() : this._afterAllClosedAtThisLevel;
  }
  constructor(_injector, _defaultOptions, _parentDialog, _dialogRefConstructor, _nativeModalType, _dialogDataToken, locationStrategy) {
    this._injector = _injector;
    this._defaultOptions = _defaultOptions;
    this._parentDialog = _parentDialog;
    this._dialogRefConstructor = _dialogRefConstructor;
    this._nativeModalType = _nativeModalType;
    this._dialogDataToken = _dialogDataToken;
    this.locationStrategy = locationStrategy;
    this._openDialogsAtThisLevel = [];
    this._afterAllClosedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    this._afterOpenedAtThisLevel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.Subject();
    // TODO (jelbourn): tighten the typing right-hand side of this expression.
    /**
     * Stream that emits when all open dialog have finished closing.
     * Will emit on subscribe if there are no open dialogs to begin with.
     */
    this.afterAllClosed = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.defer)(() => this.openDialogs.length ? this._getAfterAllClosed() : this._getAfterAllClosed().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.startWith)(undefined)));
  }
  open(componentOrTemplateRef, config) {
    config = _applyConfigDefaults(config, this._defaultOptions || new NativeDialogConfig());
    if (config.id && this.getDialogById(config.id) && (typeof global.ngDevMode === 'undefined' || global.ngDevMode)) {
      throw Error(`Dialog with id "${config.id}" exists already. The dialog id must be unique.`);
    }
    const dialogRef = this._attachDialogContent(componentOrTemplateRef, config);
    this.openDialogs.push(dialogRef);
    dialogRef.afterClosed().subscribe(() => this._removeOpenDialog(dialogRef));
    this.afterOpened.next(dialogRef);
    // Notify the dialog container that the content has been attached.
    // dialogContainer._initializeWithAttachedContent();
    return dialogRef;
  }
  /**
   * Closes all of the currently-open dialogs.
   */
  closeAll() {
    this._closeDialogs(this.openDialogs);
  }
  /**
   * Finds an open dialog by its id.
   * @param id ID to use when looking up the dialog.
   */
  getDialogById(id) {
    return this.openDialogs.find(dialog => dialog.id === id);
  }
  ngOnDestroy() {
    // Only close the dialogs at this level on destroy
    // since the parent service may still be active.
    this._closeDialogs(this._openDialogsAtThisLevel);
    this._afterAllClosedAtThisLevel.complete();
    this._afterOpenedAtThisLevel.complete();
  }
  /**
   * Attaches the user-provided component to the already-created dialog container.
   * @param componentOrTemplateRef The type of component being loaded into the dialog,
   *     or a TemplateRef to instantiate as the content.
   * @param dialogContainer Reference to the wrapping dialog container.
   * @param overlayRef Reference to the overlay in which the dialog resides.
   * @param config The dialog configuration.
   * @returns A promise resolving to the MatDialogRef that should be returned to the user.
   */
  _attachDialogContent(componentOrTemplateRef, config) {
    // Create a reference to the dialog we're creating in order to give the user a handle
    // to modify and close it.
    const nativeModalRef = new this._nativeModalType(config, this._injector, this.locationStrategy);
    const dialogRef = new this._dialogRefConstructor(nativeModalRef, config.id);
    if (componentOrTemplateRef instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
      //     const detachedFactory = options.resolver.resolveComponentFactory(DetachedLoader);
      //     if(options.attachToContainerRef) {
      //         detachedLoaderRef = options.attachToContainerRef.createComponent(detachedFactory, 0, childInjector, null);
      //     } else {
      //         detachedLoaderRef = detachedFactory.create(childInjector); // this DetachedLoader is **completely** detached
      //         this.appRef.attachView(detachedLoaderRef.hostView); // we attach it to the applicationRef, so it becomes a "root" view in angular's hierarchy
      //     }
      //     detachedLoaderRef.changeDetectorRef.detectChanges(); // force a change detection
      //     detachedLoaderRef.instance.createTemplatePortal(options.templateRef);
      nativeModalRef.attachTemplatePortal(
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      new TemplatePortal(componentOrTemplateRef, null, {
        $implicit: config.data,
        dialogRef
      }));
    } else {
      const injector = this._createInjector(config, dialogRef);
      const contentRef = nativeModalRef.attachComponentPortal(new ComponentPortal(componentOrTemplateRef, config.viewContainerRef, injector));
      dialogRef.componentInstance = contentRef.instance;
    }
    return dialogRef;
  }
  /**
   * Creates a custom injector to be used inside the dialog. This allows a component loaded inside
   * of a dialog to close itself and, optionally, to return a value.
   * @param config Config object that is used to construct the dialog.
   * @param dialogRef Reference to the dialog.
   * @param dialogContainer Dialog container element that wraps all of the contents.
   * @returns The custom injector that can be used inside the dialog.
   */
  _createInjector(config, dialogRef) {
    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;
    // The dialog container should be provided as the dialog container and the dialog's
    // content are created out of the same `ViewContainerRef` and as such, are siblings
    // for injector purposes. To allow the hierarchy that is expected, the dialog
    // container is explicitly provided in the injector.
    const providers = [{
      provide: this._dialogDataToken,
      useValue: config.data
    }, {
      provide: this._dialogRefConstructor,
      useValue: dialogRef
    }];
    return _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      parent: userInjector || this._injector,
      providers
    });
  }
  /**
   * Removes a dialog from the array of open dialogs.
   * @param dialogRef Dialog to be removed.
   */
  _removeOpenDialog(dialogRef) {
    const index = this.openDialogs.indexOf(dialogRef);
    if (index > -1) {
      this.openDialogs.splice(index, 1);
      // If all the dialogs were closed, remove/restore the `aria-hidden`
      // to a the siblings and emit to the `afterAllClosed` stream.
      if (!this.openDialogs.length) {
        this._getAfterAllClosed().next();
      }
    }
  }
  /** Closes all of the dialogs in an array. */
  _closeDialogs(dialogs) {
    let i = dialogs.length;
    while (i--) {
      // The `_openDialogs` property isn't updated after close until the rxjs subscription
      // runs on the next microtask, in addition to modifying the array as we're going
      // through it. We loop through all of them and call close without assuming that
      // they'll be removed from the list instantaneously.
      dialogs[i].close();
    }
  }
  static {
    this.ɵfac = function _NativeDialogBase_Factory(t) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinvalidFactory"]();
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: _NativeDialogBase
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](_NativeDialogBase, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
  }, {
    type: undefined
  }, {
    type: undefined
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Type
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectionToken
  }, {
    type: NSLocationStrategy
  }], null);
})();
/**
 * Service to open Material Design modal dialogs.
 */
class NativeDialogService extends _NativeDialogBase {
  constructor(injector, defaultOptions, parentDialog, location) {
    super(injector, defaultOptions, parentDialog, NativeDialogRef, NativeModalRef, NATIVE_DIALOG_DATA, location);
  }
  static {
    this.ɵfac = function NativeDialogService_Factory(t) {
      return new (t || NativeDialogService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NATIVE_DIALOG_DEFAULT_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeDialogService, 12), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy, 8));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativeDialogService,
      factory: NativeDialogService.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector
  }, {
    type: NativeDialogConfig,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [NATIVE_DIALOG_DEFAULT_OPTIONS]
    }]
  }, {
    type: NativeDialogService,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
    }]
  }, {
    type: NSLocationStrategy,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }], null);
})();
/**
 * Applies default options to the dialog config.
 * @param config Config to be modified.
 * @param defaultOptions Default options provided.
 * @returns The new configuration object.
 */
function _applyConfigDefaults(config, defaultOptions) {
  return {
    ...defaultOptions,
    ...config
  };
}

/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Button that will close the current dialog.
 */
class NativeDialogCloseDirective {
  constructor(
  // The dialog title directive is always used in combination with a `MatDialogRef`.
  // tslint:disable-next-line: lightweight-tokens
  dialogRef, _elementRef, _dialog) {
    this.dialogRef = dialogRef;
    this._elementRef = _elementRef;
    this._dialog = _dialog;
  }
  ngOnInit() {
    if (!this.dialogRef) {
      // When this directive is included in a dialog via TemplateRef (rather than being
      // in a Component), the DialogRef isn't available via injection because embedded
      // views cannot be given a custom injector. Instead, we look up the DialogRef by
      // ID. This must occur in `onInit`, as the ID binding for the dialog container won't
      // be resolved at constructor time.
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      this.dialogRef = getClosestDialog(this._elementRef, this._dialog.openDialogs);
    }
  }
  ngOnChanges(changes) {
    const proxiedChange = changes['_matDialogClose'] || changes['_matDialogCloseResult'];
    if (proxiedChange) {
      this.dialogResult = proxiedChange.currentValue;
    }
  }
  _onButtonClick() {
    // Determinate the focus origin using the click event, because using the FocusMonitor will
    // result in incorrect origins. Most of the time, close buttons will be auto focused in the
    // dialog, and therefore clicking the button won't result in a focus change. This means that
    // the FocusMonitor won't detect any origin change, and will always output `program`.
    this.dialogRef.close(this.dialogResult);
  }
  static {
    this.ɵfac = function NativeDialogCloseDirective_Factory(t) {
      return new (t || NativeDialogCloseDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogRef, 8), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NativeDialogService));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NativeDialogCloseDirective,
      selectors: [["", "native-dialog-close", ""], ["", "nativeDialogClose", ""]],
      hostBindings: function NativeDialogCloseDirective_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("tap", function NativeDialogCloseDirective_tap_HostBindingHandler() {
            return ctx._onButtonClick();
          });
        }
      },
      inputs: {
        dialogResult: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputFlags"].None, "native-dialog-close", "dialogResult"],
        _matDialogClose: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputFlags"].None, "nativeDialogClose", "_matDialogClose"]
      },
      exportAs: ["nativeDialogClose"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogCloseDirective, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      // eslint-disable-next-line @angular-eslint/directive-selector
      selector: '[native-dialog-close], [nativeDialogClose]',
      exportAs: 'nativeDialogClose'
    }]
  }], () => [{
    type: NativeDialogRef,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }]
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: NativeDialogService
  }], {
    dialogResult: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['native-dialog-close']
    }],
    _matDialogClose: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nativeDialogClose']
    }],
    _onButtonClick: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['tap']
    }]
  });
})();
/**
 * Finds the closest MatDialogRef to an element by looking at the DOM.
 * @param element Element relative to which to look for a dialog.
 * @param openDialogs References to the currently-open dialogs.
 */
function getClosestDialog(element, openDialogs) {
  let view = element.nativeElement.parent;
  while (view && !Object.hasOwnProperty.call(view, '__ng_modal_id__')) {
    view = view.parent;
  }
  return view ? openDialogs.find(dialog => dialog.id === view['__ng_modal_id__']) : null;
}
class NativeDialogModule {
  static {
    this.ɵfac = function NativeDialogModule_Factory(t) {
      return new (t || NativeDialogModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeDialogModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NativeDialogService]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NativeDialogCloseDirective],
      exports: [NativeDialogCloseDirective],
      providers: [NativeDialogService]
    }]
  }], null, null);
})();

// Allows greater flexibility with `file-system` and Angular
// Also provides a way for `file-system` to be mocked for testing
class NSFileSystem {
  currentApp() {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.knownFolders.currentApp();
  }
  fileFromPath(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.fromPath(path);
  }
  fileExists(path) {
    return _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.File.exists(path);
  }
  static {
    this.ɵfac = function NSFileSystem_Factory(t) {
      return new (t || NSFileSystem)();
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSFileSystem,
      factory: NSFileSystem.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSFileSystem, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();

/**
 * creates a DetachedLoader either linked to the ViewContainerRef or the ApplicationRef if ViewContainerRef is not defined
 * @param resolver component factory resolver
 * @param injector default injector, unused if viewContainerRef is set
 * @param viewContainerRef where the view should live in the angular tree
 * @returns reference to the DetachedLoader
 */
function generateDetachedLoader(resolver, injector, viewContainerRef) {
  injector = viewContainerRef?.injector || injector;
  const detachedFactory = resolver.resolveComponentFactory(DetachedLoader);
  const detachedLoaderRef = viewContainerRef?.createComponent(detachedFactory) || detachedFactory.create(injector);
  if (!viewContainerRef) {
    injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef).attachView(detachedLoaderRef.hostView);
  }
  detachedLoaderRef.changeDetectorRef.detectChanges();
  return detachedLoaderRef;
}
/**
 * Generates a NgViewRef from a component or template. @see NgViewRef
 * Pass keepNativeViewAttached as `true` if you don't want the first native view to be detached from its parent.
 * For opening modals and others, the firstNativeLikeView should be detached.
 * @param typeOrTemplate ComponentType or TemplateRef that should be instanced
 * @param options options for creating the view
 * @returns NgViewRef
 */
function generateNativeScriptView(typeOrTemplate, options) {
  let detachedLoaderRef = options.detachedLoaderRef;
  const reusingDetachedLoader = !!detachedLoaderRef;
  if (reusingDetachedLoader) {
    options.viewContainerRef = detachedLoaderRef.instance.vc;
  }
  const injector = options.viewContainerRef?.injector || options.injector;
  const resolver = options.resolver || injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver);
  if (!detachedLoaderRef && (options.viewContainerRef || typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef)) {
    detachedLoaderRef = generateDetachedLoader(resolver, injector, options.viewContainerRef);
  }
  let portal;
  if (typeOrTemplate instanceof _angular_core__WEBPACK_IMPORTED_MODULE_1__.TemplateRef) {
    portal = new TemplatePortal(typeOrTemplate, detachedLoaderRef.instance.vc);
  } else {
    portal = new ComponentPortal(typeOrTemplate, detachedLoaderRef?.instance.vc);
  }
  const parentView = new _nativescript_core__WEBPACK_IMPORTED_MODULE_4__.ContentView();
  const portalOutlet = new NativeScriptDomPortalOutlet(parentView, resolver, injector.get(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ApplicationRef), injector);
  const componentOrTemplateRef = portalOutlet.attach(portal);
  componentOrTemplateRef.onDestroy(() => {
    portalOutlet.dispose();
  });
  if (detachedLoaderRef && !reusingDetachedLoader) {
    componentOrTemplateRef.onDestroy(() => {
      detachedLoaderRef.destroy();
    });
  }
  const viewRef = new NgViewRef(componentOrTemplateRef);
  viewRef.detachedLoaderRef = detachedLoaderRef;
  if (!options.keepNativeViewAttached) {
    viewRef.detachNativeLikeView();
  }
  return viewRef;
}
class BaseValueAccessor {
  constructor(view) {
    this.view = view;
    this.pendingChangeNotification = 0;
    this.onChange = () => {
      //
    };
    this.onTouched = () => {
      //
    };
  }
  registerOnChange(fn) {
    this.onChange = arg => {
      if (this.pendingChangeNotification) {
        clearTimeout(this.pendingChangeNotification);
      }
      this.pendingChangeNotification = setTimeout(() => {
        this.pendingChangeNotification = 0;
        fn(arg);
      }, 20);
    };
  }
  registerOnTouched(fn) {
    this.onTouched = fn;
  }
  setDisabledState(isDisabled) {
    this.view.isEnabled = !isDisabled;
  }
  writeValue(_) {
    //
  }
  normalizeValue(value) {
    return isBlank(value) ? _nativescript_core__WEBPACK_IMPORTED_MODULE_45__.unsetValue : value;
  }
}
const TEXT_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TextValueAccessor),
  multi: true
};
/**
 * The accessor for writing a text and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TextField [(ngModel)]="model.test">
 *  ```
 */
class TextValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value ? `${value}` : value);
    this.view.text = normalized;
  }
  static {
    this.ɵfac = function TextValueAccessor_Factory(t) {
      return new (t || TextValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TextValueAccessor,
      selectors: [["TextField", "ngModel", ""], ["TextField", "formControlName", ""], ["TextField", "formControl", ""], ["textField", "ngModel", ""], ["textField", "formControlName", ""], ["textField", "formControl", ""], ["textfield", "ngModel", ""], ["textfield", "formControlName", ""], ["textfield", "formControl", ""], ["text-field", "ngModel", ""], ["text-field", "formControlName", ""], ["text-field", "formControl", ""], ["TextView", "ngModel", ""], ["TextView", "formControlName", ""], ["TextView", "formControl", ""], ["textView", "ngModel", ""], ["textView", "formControlName", ""], ["textView", "formControl", ""], ["textview", "ngModel", ""], ["textview", "formControlName", ""], ["textview", "formControl", ""], ["text-view", "ngModel", ""], ["text-view", "formControlName", ""], ["text-view", "formControl", ""], ["SearchBar", "ngModel", ""], ["SearchBar", "formControlName", ""], ["SearchBar", "formControl", ""], ["searchBar", "ngModel", ""], ["searchBar", "formControlName", ""], ["searchBar", "formControl", ""], ["searchbar", "ngModel", ""], ["searchbar", "formControlName", ""], ["searchbar", "formControl", ""], ["search-bar", "ngModel", ""], ["search-bar", "formControlName", ""], ["search-bar", "formControl", ""]],
      hostBindings: function TextValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function TextValueAccessor_blur_HostBindingHandler() {
            return ctx.onTouched();
          })("textChange", function TextValueAccessor_textChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TEXT_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TextValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TextField[ngModel],TextField[formControlName],TextField[formControl],' + 'textField[ngModel],textField[formControlName],textField[formControl],' + 'textfield[ngModel],textfield[formControlName],textfield[formControl],' + 'text-field[ngModel],text-field[formControlName],text-field[formControl],' + 'TextView[ngModel],TextView[formControlName],TextView[formControl],' + 'textView[ngModel],textView[formControlName],textView[formControl],' + 'textview[ngModel],textview[formControlName],textview[formControl],' + 'text-view[ngModel],text-view[formControlName],text-view[formControl],' + 'SearchBar[ngModel],SearchBar[formControlName],SearchBar[formControl],' + 'searchBar[ngModel],searchBar[formControlName],searchBar[formControl],' + 'searchbar[ngModel],searchbar[formControlName],searchbar[formControl],' + 'search-bar[ngModel], search-bar[formControlName],search-bar[formControl]',
      providers: [TEXT_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(blur)': 'onTouched()',
        '(textChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
const CHECKED_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => CheckedValueAccessor),
  multi: true
};
/**
 * The accessor for setting a checked property and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <Switch [(ngModel)]="model.test">
 *  ```
 */
class CheckedValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.checked = normalized;
  }
  static {
    this.ɵfac = function CheckedValueAccessor_Factory(t) {
      return new (t || CheckedValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: CheckedValueAccessor,
      selectors: [["Switch", "ngModel", ""], ["Switch", "formControlName", ""], ["Switch", "formControl", ""], ["switch", "ngModel", ""], ["switch", "formControlName", ""], ["switch", "formControl", ""]],
      hostBindings: function CheckedValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("checkedChange", function CheckedValueAccessor_checkedChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([CHECKED_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckedValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Switch[ngModel],Switch[formControlName],Switch[formControl],' + 'switch[ngModel],switch[formControlName],switch[formControl]',
      providers: [CHECKED_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(checkedChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
const DATE_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => DateValueAccessor),
  multi: true
};
/**
 * The accessor for setting a date and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <DatePicker [(ngModel)]="model.test">
 *  ```
 */
class DateValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.date = normalized;
  }
  static {
    this.ɵfac = function DateValueAccessor_Factory(t) {
      return new (t || DateValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: DateValueAccessor,
      selectors: [["DatePicker", "ngModel", ""], ["DatePicker", "formControlName", ""], ["DatePicker", "formControl", ""], ["datepicker", "ngModel", ""], ["datepicker", "formControlName", ""], ["datepicker", "formControl", ""], ["datePicker", "ngModel", ""], ["datePicker", "formControlName", ""], ["datePicker", "formControl", ""], ["date-picker", "ngModel", ""], ["date-picker", "formControlName", ""], ["date-picker", "formControl", ""]],
      hostBindings: function DateValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dateChange", function DateValueAccessor_dateChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([DATE_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DateValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'DatePicker[ngModel],DatePicker[formControlName],DatePicker[formControl],' + 'datepicker[ngModel],datepicker[formControlName],datepicker[formControl],' + 'datePicker[ngModel],datePicker[formControlName],datePicker[formControl],' + 'date-picker[ngModel],date-picker[formControlName],date-picker[formControl]',
      providers: [DATE_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(dateChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
const TIME_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => TimeValueAccessor),
  multi: true
};
/**
 * The accessor for setting a time and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <TimePicker [(ngModel)]="model.test">
 *  ```
 */
class TimeValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.time = normalized;
  }
  static {
    this.ɵfac = function TimeValueAccessor_Factory(t) {
      return new (t || TimeValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: TimeValueAccessor,
      selectors: [["TimePicker", "ngModel", ""], ["TimePicker", "formControlName", ""], ["TimePicker", "formControl", ""], ["timepicker", "ngModel", ""], ["timepicker", "formControlName", ""], ["timepicker", "formControl", ""], ["timePicker", "ngModel", ""], ["timePicker", "formControlName", ""], ["timePicker", "formControl", ""], ["time-picker", "ngModel", ""], ["time-picker", "formControlName", ""], ["time-picker", "formControl", ""]],
      hostBindings: function TimeValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("timeChange", function TimeValueAccessor_timeChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([TIME_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TimeValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'TimePicker[ngModel],TimePicker[formControlName],TimePicker[formControl],' + 'timepicker[ngModel],timepicker[formControlName],timepicker[formControl],' + 'timePicker[ngModel],timePicker[formControlName],timePicker[formControl],' + 'time-picker[ngModel],time-picker[formControlName],time-picker[formControl]',
      providers: [TIME_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(timeChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
const NUMBER_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => NumberValueAccessor),
  multi: true
};
/**
 * The accessor for setting a value and listening to changes that is used by the
 * {@link NgModel}
 *
 *  ### Example
 *  ```
 *  <Slider [(ngModel)]="model.test">
 *  ```
 */
class NumberValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.view.value = normalized;
  }
  static {
    this.ɵfac = function NumberValueAccessor_Factory(t) {
      return new (t || NumberValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NumberValueAccessor,
      selectors: [["Slider", "ngModel", ""], ["Slider", "formControlName", ""], ["Slider", "formControl", ""], ["slider", "ngModel", ""], ["slider", "formControlName", ""], ["slider", "formControl", ""]],
      hostBindings: function NumberValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("valueChange", function NumberValueAccessor_valueChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([NUMBER_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NumberValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'Slider[ngModel],Slider[formControlName],Slider[formControl],' + 'slider[ngModel],slider[formControlName],slider[formControl]',
      providers: [NUMBER_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(valueChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
const SELECTED_INDEX_VALUE_ACCESSOR = {
  provide: _angular_forms__WEBPACK_IMPORTED_MODULE_57__.NG_VALUE_ACCESSOR,
  useExisting: (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(() => SelectedIndexValueAccessor),
  multi: true
};
/**
 * The accessor for setting a selectedIndex and listening to changes that is used by the
 * {@link NgModel} directives.
 *
 *  ### Example
 *  ```
 *  <SegmentedBar [(ngModel)]="model.test">
 *  ```
 */
class SelectedIndexValueAccessor extends BaseValueAccessor {
  // tslint:disable-line:max-line-length directive-class-suffix
  constructor(elementRef) {
    super(elementRef.nativeElement);
  }
  writeValue(value) {
    const normalized = super.normalizeValue(value);
    this.value = normalized;
    if (this.viewInitialized) {
      this.view.selectedIndex = this.value;
    }
  }
  ngAfterViewInit() {
    this.viewInitialized = true;
    this.view.selectedIndex = this.value;
  }
  static {
    this.ɵfac = function SelectedIndexValueAccessor_Factory(t) {
      return new (t || SelectedIndexValueAccessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: SelectedIndexValueAccessor,
      selectors: [["SegmentedBar", "ngModel", ""], ["SegmentedBar", "formControlName", ""], ["SegmentedBar", "formControl", ""], ["segmentedBar", "ngModel", ""], ["segmentedBar", "formControlName", ""], ["segmentedBar", "formControl", ""], ["segmentedbar", "ngModel", ""], ["segmentedbar", "formControlName", ""], ["segmentedbar", "formControl", ""], ["segmented-bar", "ngModel", ""], ["segmented-bar", "formControlName", ""], ["segmented-bar", "formControl", ""], ["ListPicker", "ngModel", ""], ["ListPicker", "formControlName", ""], ["ListPicker", "formControl", ""], ["listPicker", "ngModel", ""], ["listPicker", "formControlName", ""], ["listPicker", "formControl", ""], ["listpicker", "ngModel", ""], ["listpicker", "formControlName", ""], ["listpicker", "formControl", ""], ["list-picker", "ngModel", ""], ["list-picker", "formControlName", ""], ["list-picker", "formControl", ""], ["TabView", "ngModel", ""], ["TabView", "formControlName", ""], ["TabView", "formControl", ""], ["tabView", "ngModel", ""], ["tabView", "formControlName", ""], ["tabView", "formControl", ""], ["tabview", "ngModel", ""], ["tabview", "formControlName", ""], ["tabview", "formControl", ""], ["tab-view", "ngModel", ""], ["tab-view", "formControlName", ""], ["tab-view", "formControl", ""]],
      hostBindings: function SelectedIndexValueAccessor_HostBindings(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedIndexChange", function SelectedIndexValueAccessor_selectedIndexChange_HostBindingHandler($event) {
            return ctx.onChange($event.value);
          });
        }
      },
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([SELECTED_INDEX_VALUE_ACCESSOR]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SelectedIndexValueAccessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'SegmentedBar[ngModel],SegmentedBar[formControlName],SegmentedBar[formControl],' + 'segmentedBar[ngModel],segmentedBar[formControlName],segmentedBar[formControl],' + 'segmentedbar[ngModel],segmentedbar[formControlName],segmentedbar[formControl],' + 'segmented-bar[ngModel],segmented-bar[formControlName],segmented-bar[formControl],' + 'ListPicker[ngModel],ListPicker[formControlName],ListPicker[formControl],' + 'listPicker[ngModel],listPicker[formControlName],listPicker[formControl],' + 'listpicker[ngModel],listpicker[formControlName],listpicker[formControl],' + 'list-picker[ngModel],list-picker[formControlName],list-picker[formControl],' + 'TabView[ngModel],TabView[formControlName],TabView[formControl],' + 'tabView[ngModel],tabView[formControlName],tabView[formControl],' + 'tabview[ngModel],tabview[formControlName],tabview[formControl],' + 'tab-view[ngModel],tab-view[formControlName],tab-view[formControl]',
      providers: [SELECTED_INDEX_VALUE_ACCESSOR],
      // eslint-disable-next-line @angular-eslint/no-host-metadata-property
      host: {
        '(selectedIndexChange)': 'onChange($event.value)'
      }
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], null);
})();
class NativeScriptFormsModule {
  static {
    this.ɵfac = function NativeScriptFormsModule_Factory(t) {
      return new (t || NativeScriptFormsModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptFormsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptFormsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor],
      providers: [],
      imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule],
      exports: [_angular_forms__WEBPACK_IMPORTED_MODULE_57__.FormsModule, TextValueAccessor, CheckedValueAccessor, DateValueAccessor, TimeValueAccessor, SelectedIndexValueAccessor, NumberValueAccessor]
    }]
  }], null, null);
})();
const DASH_CASE_REGEXP = /-+([a-z0-9])/g;
function dashCaseToCamelCase(input) {
  return input.replace(DASH_CASE_REGEXP, (...m) => m[1].toUpperCase());
}
function createKeyframeAnimation(styles, duration, delay, easing) {
  const info = createKeyframeAnimationInfo(styles, duration, delay, easing);
  return _nativescript_core__WEBPACK_IMPORTED_MODULE_58__.KeyframeAnimation.keyframeAnimationFromInfo(info);
}
const createKeyframeAnimationInfo = (styles, duration, delay, easing) => ({
  isForwards: true,
  duration: duration || 0.01,
  delay,
  curve: getCurve(easing),
  keyframes: styles.map(parseAnimationKeyframe)
});
const getCurve = value => (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_59__.animationTimingFunctionConverter)(value);
const parseAnimationKeyframe = styles => ({
  duration: getKeyframeDuration(styles),
  declarations: getDeclarations(styles)
});
const getKeyframeDuration = styles => styles.offset;
function getDeclarations(styles) {
  const keys = Array.from(styles.keys());
  const unparsedDeclarations = keys.map(property => ({
    property,
    value: styles.get(property)
  }));
  return (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_60__.parseKeyframeDeclarations)(unparsedDeclarations);
}
class NativeScriptAnimationPlayer {
  constructor(target, keyframes, duration, delay, easing) {
    this.target = target;
    this.duration = duration;
    this.delay = delay;
    this.parentPlayer = null;
    this._startSubscriptions = [];
    this._doneSubscriptions = [];
    this._finished = false;
    this._started = false;
    this.initKeyframeAnimation(keyframes, duration, delay, easing);
  }
  get totalTime() {
    return this.delay + this.duration;
  }
  init() {}
  hasStarted() {
    return this._started;
  }
  onStart(fn) {
    this._startSubscriptions.push(fn);
  }
  onDone(fn) {
    this._doneSubscriptions.push(fn);
  }
  onDestroy(fn) {
    this._doneSubscriptions.push(fn);
  }
  play() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.play`);
    }
    if (!this.animation) {
      return;
    }
    if (!this._started) {
      this._started = true;
      this._startSubscriptions.forEach(fn => fn());
      this._startSubscriptions = [];
    }
    // When this issue https://github.com/NativeScript/NativeScript/issues/7984 is fixes in @nativescript/core
    // we can change this fix and apply the one that is recommended in that issue.
    if (this.target.isLoaded) {
      this.playAnimation();
    } else {
      this.target.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded.bind(this));
    }
  }
  onTargetLoaded(args) {
    this.target.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_2__.View.loadedEvent, this.onTargetLoaded);
    this.playAnimation();
  }
  playAnimation() {
    this.animation.play(this.target).then(() => this.onFinish()).catch(_e => {});
  }
  pause() {}
  finish() {
    this.onFinish();
  }
  reset() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.reset`);
    }
    if (this.animation && this.animation.isPlaying) {
      this.animation.cancel();
    }
  }
  restart() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.restart`);
    }
    this.reset();
    this.play();
  }
  destroy() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.destroy`);
    }
    this.onFinish();
  }
  setPosition(_p) {
    throw new Error('AnimationPlayer.setPosition method is not supported!');
  }
  getPosition() {
    return 0;
  }
  initKeyframeAnimation(keyframes, duration, delay, easing) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.initKeyframeAnimation`);
    }
    this.animation = createKeyframeAnimation(keyframes, duration, delay, easing);
  }
  onFinish() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.animationsLog(`NativeScriptAnimationPlayer.onFinish`);
    }
    if (this._finished) {
      return;
    }
    this._finished = true;
    this._started = false;
    this._doneSubscriptions.forEach(fn => fn());
    this._doneSubscriptions = [];
  }
}
class Selector {
  constructor(rawSelector) {
    this.parse(rawSelector);
  }
  match(element) {
    return this.nsSelectorMatch(element) || this.classSelectorsMatch(element);
  }
  parse(rawSelector) {
    const selectors = rawSelector.split(',').map(s => s.trim());
    this.nsSelectors = selectors.map(_nativescript_core__WEBPACK_IMPORTED_MODULE_61__.CSSHelper.createSelector);
    this.classSelectors = selectors.filter(s => s.startsWith('.')).map(s => s.substring(1));
  }
  nsSelectorMatch(element) {
    return this.nsSelectors.some(s => s.match(element));
  }
  classSelectorsMatch(element) {
    return this.classSelectors.some(s => this.hasClass(element, s));
  }
  // we're using that instead of match for classes
  // that are dynamically added by the animation engine
  // such as .ng-trigger, that's added for every :enter view
  hasClass(element, cls) {
    return element && element['$$classes'] && element['$$classes'][cls];
  }
}
class NativeScriptAnimationDriver {
  static {
    this.validProperties = [..._nativescript_core__WEBPACK_IMPORTED_MODULE_45__.CssAnimationProperty._getPropertyNames(), 'transform'];
  }
  getParentElement(element) {
    return element?.parent;
  }
  validateStyleProperty(property) {
    NativeScriptDebug.animationsLog(`CssAnimationProperty.validateStyleProperty: ${property}`);
    return NativeScriptAnimationDriver.validProperties.indexOf(property) !== -1;
  }
  matchesElement(element, rawSelector) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.matchesElement ` + `element: ${element}, selector: ${rawSelector}`);
    const selector = this.makeSelector(rawSelector);
    return selector.match(element);
  }
  containsElement(elm1, elm2) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.containsElement ` + `element1: ${elm1}, element2: ${elm2}`);
    // Checking if the parent is our fake body object
    if (elm1['isOverride']) {
      return true;
    }
    const params = {
      originalView: elm2
    };
    const result = this.visitDescendants(elm1, viewMatches, params);
    return result.found;
  }
  query(element, rawSelector, multi) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.query ` + `element: ${element}, selector: ${rawSelector} ` + `multi: ${multi}`);
    const selector = this.makeSelector(rawSelector);
    const params = {
      selector,
      multi
    };
    const result = this.visitDescendants(element, queryDescendants, params);
    return result.matches || [];
  }
  computeStyle(element, prop) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.computeStyle ` + `element: ${element}, prop: ${prop}`);
    const camelCaseProp = dashCaseToCamelCase(prop);
    return element.style[camelCaseProp];
  }
  animate(element, keyframes, duration, delay, easing) {
    NativeScriptDebug.animationsLog(`NativeScriptAnimationDriver.animate ` + `element: ${element}, keyframes: ${keyframes} ` + `duration: ${duration}, delay: ${delay} ` + `easing: ${easing}`);
    return new NativeScriptAnimationPlayer(element, keyframes, duration, delay, easing);
  }
  makeSelector(rawSelector) {
    return new Selector(rawSelector);
  }
  visitDescendants(element, cb, cbParams) {
    const result = {};
    // fill the result obj with the result from the callback function
    (0,_nativescript_core__WEBPACK_IMPORTED_MODULE_48__.eachDescendant)(element, child => cb(child, result, cbParams));
    return result;
  }
}
function viewMatches(element, result, params) {
  if (element === params.originalView) {
    result.found = true;
  }
  return !result.found;
}
function queryDescendants(element, result, params) {
  if (!result.matches) {
    result.matches = [];
  }
  const {
    selector,
    multi
  } = params;
  // skip comment and text nodes
  // because they are not actual Views
  // and cannot be animated
  if (element instanceof InvisibleNode || !selector.match(element)) {
    return true;
  }
  if (element instanceof _nativescript_core__WEBPACK_IMPORTED_MODULE_5__.ProxyViewContainer) {
    element.eachChild(child => {
      result.matches.push(child);
      return true;
    });
  } else {
    result.matches.push(element);
  }
  return multi;
}
class InjectableAnimationEngine extends _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"] {
  constructor(doc, driver, normalizer) {
    super(doc.body, driver, normalizer);
  }
  static {
    this.ɵfac = function InjectableAnimationEngine_Factory(t) {
      return new (t || InjectableAnimationEngine)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: InjectableAnimationEngine,
      factory: InjectableAnimationEngine.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InjectableAnimationEngine, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [_angular_common__WEBPACK_IMPORTED_MODULE_14__.DOCUMENT]
    }]
  }, {
    type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver
  }, {
    type: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"]
  }], null);
})();
function instantiateSupportedAnimationDriver() {
  return new NativeScriptAnimationDriver();
}
// export function instantiateRendererFactory(renderer: NativeScriptRendererFactory, engine: AnimationEngine, zone: NgZone) {
//   return new AnimationRendererFactory(renderer, engine, zone);
// }
function instantiateDefaultStyleNormalizer() {
  return new _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵWebAnimationsStyleNormalizer"]();
}
class NativeScriptAnimationsModule {
  constructor(parentModule) {
    // Prevents NativeScriptAnimationsModule from getting imported multiple times
    throwIfAlreadyLoaded(parentModule, 'NativeScriptAnimationsModule');
  }
  static {
    this.ɵfac = function NativeScriptAnimationsModule_Factory(t) {
      return new (t || NativeScriptAnimationsModule)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NativeScriptAnimationsModule, 12));
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptAnimationsModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      },
      // { provide: AnimationBuilder, useClass: BrowserAnimationBuilder },
      {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }
      // {
      //   provide: RendererFactory2,
      //   useFactory: instantiateRendererFactory,
      //   deps: [NativeScriptRendererFactory, AnimationEngine, NgZone],
      // },
      ],
      imports: [NativeScriptCommonModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptAnimationsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [NativeScriptCommonModule],
      providers: [{
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__.AnimationDriver,
        useFactory: instantiateSupportedAnimationDriver
      },
      // { provide: AnimationBuilder, useClass: BrowserAnimationBuilder },
      {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationStyleNormalizer"],
        useFactory: instantiateDefaultStyleNormalizer
      }, {
        provide: _angular_animations_browser__WEBPACK_IMPORTED_MODULE_62__["ɵAnimationEngine"],
        useClass: InjectableAnimationEngine
      }
      // {
      //   provide: RendererFactory2,
      //   useFactory: instantiateRendererFactory,
      //   deps: [NativeScriptRendererFactory, AnimationEngine, NgZone],
      // },
      ]
    }]
  }], () => [{
    type: NativeScriptAnimationsModule,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
    }]
  }], null);
})();
function isLocalRequest(url) {
  return url.indexOf('~') === 0 || url.indexOf('/') === 0;
}
function getAbsolutePath(url, nsFileSystem) {
  url = url.replace('~', '').replace('/', '');
  url = _nativescript_core__WEBPACK_IMPORTED_MODULE_56__.path.join(nsFileSystem.currentApp().path, url);
  return url;
}
function processLocalFileRequest(url, nsFileSystem, successResponse, errorResponse) {
  url = getAbsolutePath(url, nsFileSystem);
  // request from local app resources
  return new rxjs__WEBPACK_IMPORTED_MODULE_11__.Observable(observer => {
    if (nsFileSystem.fileExists(url)) {
      const localFile = nsFileSystem.fileFromPath(url);
      localFile.readText().then(data => {
        try {
          const json = JSON.parse(data);
          observer.next(successResponse(url, json, 200));
          observer.complete();
        } catch (error) {
          // Even though the response status was 2xx, this is still an error.
          // The parse error contains the text of the body that failed to parse.
          const errorResult = {
            error,
            text: data
          };
          observer.error(errorResponse(url, errorResult, 200));
        }
      }, err => {
        observer.error(errorResponse(url, err, 400));
      });
    } else {
      observer.error(errorResponse(url, 'Not Found', 404));
    }
  });
}
class NsHttpBackEnd extends _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpXhrBackend {
  constructor(xhrFactory, nsFileSystem) {
    super(xhrFactory);
    this.nsFileSystem = nsFileSystem;
  }
  handle(req) {
    let result;
    if (isLocalRequest(req.url)) {
      result = this.handleLocalFileRequest(req.url);
    } else {
      result = super.handle(req);
    }
    return result;
  }
  handleLocalFileRequest(url) {
    return processLocalFileRequest(url, this.nsFileSystem, createSuccessResponse, createErrorResponse);
  }
  static {
    this.ɵfac = function NsHttpBackEnd_Factory(t) {
      return new (t || NsHttpBackEnd)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSFileSystem));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NsHttpBackEnd,
      factory: NsHttpBackEnd.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NsHttpBackEnd, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: _angular_common__WEBPACK_IMPORTED_MODULE_14__.XhrFactory
  }, {
    type: NSFileSystem
  }], null);
})();
function createSuccessResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpResponse({
    url,
    body,
    status,
    statusText: 'OK'
  });
}
function createErrorResponse(url, body, status) {
  return new _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpErrorResponse({
    url,
    error: body,
    status,
    statusText: 'ERROR'
  });
}
class NativeScriptHttpClientModule {
  static {
    this.ɵfac = function NativeScriptHttpClientModule_Factory(t) {
      return new (t || NativeScriptHttpClientModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptHttpClientModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptHttpClientModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      providers: [NSFileSystem, NsHttpBackEnd, {
        provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpBackend,
        useExisting: NsHttpBackEnd
      }],
      imports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule],
      exports: [_angular_common_http__WEBPACK_IMPORTED_MODULE_63__.HttpClientModule]
    }]
  }], null, null);
})();

/**
 * There are cases where multiple activatedRoute nodes should be associated/handled by the same PageRouterOutlet.
 * We can gat additional ActivatedRoutes nodes when there is:
 *  - Lazy loading - there is an additional ActivatedRoute node for the RouteConfig with the `loadChildren` setup
 *  - Componentless routes - there is an additional ActivatedRoute node for the componentless RouteConfig
 *
 * Example:
 *   R  <-- root
 *   |
 * feature (lazy module) <-- RouteConfig: { path: "lazy", loadChildren: "./feature/feature.module#FeatureModule" }
 *   |
 * module (componentless route) <-- RouteConfig: { path: "module", children: [...] } // Note: No 'component'
 *   |
 *  home <-- RouteConfig: { path: "module", component: MyComponent } - this is what we get as activatedRoute param
 *
 *  In these cases we will mark the top-most node (feature). NSRouteReuseStrategy will detach the tree there and
 *  use this ActivateRoute as a kay for caching.
 */
function findTopActivatedRouteNodeForOutlet(activatedRoute) {
  // TODO: test this and figure it out if it's really no longer needed
  return activatedRoute;
  // let outletActivatedRoute = activatedRoute;
  // while (outletActivatedRoute.parent && outletActivatedRoute.parent.routeConfig && !outletActivatedRoute.parent.routeConfig.component) {
  //   outletActivatedRoute = outletActivatedRoute.parent;
  // }
  // return outletActivatedRoute;
}
const pageRouterActivatedSymbol = Symbol('page-router-activated');
const loaderRefSymbol = Symbol('loader-ref');
function destroyComponentRef(componentRef) {
  if (componentRef) {
    const loaderRef = componentRef[loaderRefSymbol];
    if (loaderRef) {
      loaderRef.destroy();
    }
    componentRef.destroy();
  }
}
const getSnapshotKey = function (snapshot) {
  return snapshot.pathFromRoot.join('->');
};
/**
 * Detached state cache
 */
class DetachedStateCache {
  constructor() {
    this.cache = new Array();
  }
  get length() {
    return this.cache.length;
  }
  push(cacheItem) {
    this.cache.push(cacheItem);
  }
  pop() {
    return this.cache.pop();
  }
  peek() {
    return this.cache[this.cache.length - 1];
  }
  clear() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clear() ${this.cache.length} items will be destroyed`);
    }
    while (this.cache.length > 0) {
      const state = this.cache.pop().state;
      if (!state.componentRef) {
        throw new Error('No componentRef found in DetachedRouteHandle');
      }
      destroyComponentRef(state.componentRef);
    }
  }
  markCurrentForClear() {
    for (const item of this.cache) {
      item.markedForDeletion = true;
    }
  }
  clearMarked() {
    // try to preserve same order as .clear()
    for (let i = this.cache.length - 1; i >= 0; i--) {
      const cacheItem = this.cache[i];
      if (cacheItem.markedForDeletion) {
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        this.cache.splice(i, 1);
      }
    }
  }
  clearModalCache() {
    let removedItemsCount = 0;
    const hasModalPages = this.cache.some(cacheItem => {
      return cacheItem.isModal;
    });
    if (hasModalPages) {
      let modalCacheCleared = false;
      while (!modalCacheCleared) {
        const cacheItem = this.peek();
        const state = cacheItem.state;
        if (!state.componentRef) {
          throw new Error('No componentRef found in DetachedRouteHandle');
        }
        destroyComponentRef(state.componentRef);
        if (cacheItem.isModal) {
          modalCacheCleared = true;
        }
        this.pop();
        removedItemsCount++;
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`DetachedStateCache.clearModalCache() ${removedItemsCount} items will be destroyed`);
    }
  }
}
/**
 * Detaches subtrees loaded inside PageRouterOutlet in forward navigation
 * and reattaches them on back.
 * Reuses routes as long as their route config is the same.
 */
class NSRouteReuseStrategy {
  constructor(location) {
    this.location = location;
    this.cacheByOutlet = {};
  }
  shouldDetach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet
    } = this.findValidOutletAndKey(route);
    const key = getSnapshotKey(route);
    let isPageActivated = false;
    let tmp = route;
    while (!(isPageActivated = tmp[pageRouterActivatedSymbol]) && tmp.parent) {
      tmp = tmp.parent;
    }
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    let shouldDetach = outlet && !isBack && isPageActivated;
    if (outlet) {
      if (outlet.parent && !outlet.parent.shouldDetach) {
        shouldDetach = false;
      }
      outlet.shouldDetach = shouldDetach;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldDetach isBack: ${isBack} key: ${key} result: ${shouldDetach}`);
    }
    return shouldDetach;
  }
  findValidOutletAndKey(targetRoute) {
    let route = targetRoute;
    const routeOutletKey = this.location.getRouteFullPath(route);
    let outletKey = routeOutletKey;
    let outlet = this.location.findOutlet(outletKey, route);
    while (!outlet) {
      if (!route.parent) {
        return {
          outlet: null,
          outletKey: routeOutletKey
        };
      }
      route = route.parent;
      outletKey = this.location.getRouteFullPath(route);
      outlet = this.location.findOutlet(outletKey, route);
    }
    if (outlet) {
      while (!outlet.outletKeys.includes(outletKey)) {
        if (!route.parent) {
          NativeScriptDebug.routeReuseStrategyLog(`Could not find valid outlet key for route: ${targetRoute}.`);
          return {
            outlet,
            outletKey: routeOutletKey
          };
        }
        route = route.parent;
        outletKey = this.location.getRouteFullPath(route);
      }
    }
    return {
      outlet,
      outletKey
    };
  }
  shouldAttach(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return false;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const shouldAttach = isBack && cache.peek()?.key === key;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldAttach isBack: ${isBack} key: ${key} result: ${shouldAttach}`);
    }
    if (outlet) {
      outlet.shouldDetach = true;
    }
    return shouldAttach;
  }
  store(route, state) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const key = getSnapshotKey(route);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`store key: ${key}, state: ${state}`);
    }
    const {
      outletKey
    } = this.findValidOutletAndKey(route);
    // tslint:disable-next-line:max-line-length
    const cache = this.cacheByOutlet[outletKey] = this.cacheByOutlet[outletKey] || new DetachedStateCache();
    if (state) {
      let isModal = false;
      if (this.location._modalNavigationDepth > 0) {
        isModal = true;
      }
      cache.push({
        key,
        state,
        isModal
      });
    } else {
      const topItem = cache.peek();
      if (topItem.key === key) {
        cache.pop();
        if (!cache.length) {
          delete this.cacheByOutlet[outletKey];
        }
      } else {
        throw new Error("Trying to pop from DetachedStateCache but keys don't match. " + `expected: ${topItem.key} actual: ${key}`);
      }
    }
  }
  retrieve(route) {
    route = findTopActivatedRouteNodeForOutlet(route);
    const {
      outlet,
      outletKey
    } = this.findValidOutletAndKey(route);
    const cache = this.cacheByOutlet[outletKey];
    if (!cache) {
      return null;
    }
    const key = getSnapshotKey(route);
    const isBack = outlet ? outlet.isPageNavigationBack : false;
    const cachedItem = cache.peek();
    let state = null;
    if (isBack && cachedItem && cachedItem.key === key) {
      state = cachedItem.state;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`retrieved isBack: ${isBack} key: ${key} state: ${state}`);
    }
    return state;
  }
  shouldReuseRoute(future, curr) {
    const shouldReuse = future.routeConfig === curr.routeConfig;
    if (shouldReuse && curr && curr[pageRouterActivatedSymbol]) {
      // When reusing route - copy the pageRouterActivated to the new snapshot
      // It's needed in shouldDetach to determine if the route should be detached.
      future[pageRouterActivatedSymbol] = curr[pageRouterActivatedSymbol];
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routeReuseStrategyLog(`shouldReuseRoute result: ${shouldReuse}`);
    }
    return shouldReuse;
  }
  clearCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clear();
    }
  }
  markCacheForClear(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.markCurrentForClear();
    }
  }
  popCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      if (cache.peek()) {
        const state = cache.pop()?.state;
        if (state?.componentRef) {
          destroyComponentRef(state?.componentRef);
        }
      }
    }
  }
  markCacheForPop(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      const item = cache.peek();
      if (item) {
        item.markedForDeletion = true;
      }
    }
  }
  clearMarkedCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearMarked();
    }
  }
  clearModalCache(outletKey) {
    const cache = this.cacheByOutlet[outletKey];
    if (cache) {
      cache.clearModalCache();
    }
  }
  static {
    this.ɵfac = function NSRouteReuseStrategy_Factory(t) {
      return new (t || NSRouteReuseStrategy)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NSRouteReuseStrategy,
      factory: NSRouteReuseStrategy.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouteReuseStrategy, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: NSLocationStrategy
  }], null);
})();
class RouterExtensions {
  constructor(router, locationStrategy, frameService) {
    this.router = router;
    this.locationStrategy = locationStrategy;
    this.frameService = frameService;
  }
  navigate(commands, extras) {
    return this.router.navigate(commands, extras);
  }
  navigateByUrl(url, options) {
    return this.router.navigateByUrl(url, options);
  }
  back(backNavigationOptions) {
    if (backNavigationOptions) {
      this.backOutlets(backNavigationOptions);
    } else {
      this.locationStrategy.back();
    }
  }
  canGoBack(backNavigationOptions) {
    let canGoBack = true;
    if (backNavigationOptions) {
      const {
        outletsToBack,
        outlets
      } = this.findOutletsToBack(backNavigationOptions);
      if (outletsToBack.length !== outlets.length) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      } else {
        outletsToBack.forEach(outletToBack => {
          if (!this.locationStrategy.canGoBack(outletToBack)) {
            canGoBack = false;
          }
        });
      }
    } else {
      canGoBack = this.locationStrategy.canGoBack();
    }
    return canGoBack;
  }
  backToPreviousPage() {
    this.frameService.getFrame().goBack();
  }
  canGoBackToPreviousPage() {
    return this.frameService.getFrame().canGoBack();
  }
  backOutlets(options) {
    const {
      outletsToBack,
      outlets
    } = this.findOutletsToBack(options);
    if (outletsToBack.length !== outlets.length) {
      NativeScriptDebug.routerError('No outlet found relative to activated route');
    } else {
      outletsToBack.forEach(outletToBack => {
        if (outletToBack.isPageNavigationBack) {
          NativeScriptDebug.routerError('Attempted to call startGoBack while going back:');
        } else {
          this.locationStrategy.back(outletToBack);
        }
      });
    }
  }
  // tslint:disable-next-line:max-line-length
  findOutletsToBack(options) {
    const rootRoute = this.router.routerState.root;
    let outlets = options.outlets;
    let relativeRoute = options.relativeTo || rootRoute;
    const relativeRouteOutlet = this.findOutletByRoute(relativeRoute);
    const isNSEmptyOutlet = relativeRouteOutlet && relativeRouteOutlet.isNSEmptyOutlet;
    // Lazy named outlet has added 'primary' inner NSEmptyOutlet child.
    // Take parent route when `relativeTo` option points to the outer named outlet.
    if (isNSEmptyOutlet && relativeRoute.outlet !== 'primary') {
      relativeRoute = relativeRoute.parent || relativeRoute;
    }
    outlets = outlets || [relativeRoute.outlet];
    const outletsToBack = this.findOutletsRecursive([...outlets], relativeRoute);
    return {
      outletsToBack: outletsToBack,
      outlets: outlets
    };
  }
  // warning, outlets is mutable!
  findOutletsRecursive(outlets, route) {
    if (!route || outlets.length === 0) {
      return [];
    }
    const outletsToBack = [];
    if (outlets.some(currentOutlet => currentOutlet === route.outlet)) {
      const outlet = this.findOutletByRoute(route);
      if (outlet) {
        outlets.splice(outlets.indexOf(route.outlet), 1);
        outletsToBack.push(outlet);
      }
    }
    if (!route.children) {
      return outletsToBack;
    }
    for (let index = 0; index < route.children.length; index++) {
      if (outlets.length === 0) {
        break;
      }
      const currentRoute = route.children[index];
      outletsToBack.push(...this.findOutletsRecursive(outlets, currentRoute));
    }
    return outletsToBack;
  }
  findOutletByRoute(currentRoute) {
    const currentRouteSnapshop = findTopActivatedRouteNodeForOutlet(currentRoute.snapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(currentRouteSnapshop);
    const outlet = this.locationStrategy.findOutlet(outletKey, currentRouteSnapshop);
    return outlet;
  }
  static {
    this.ɵfac = function RouterExtensions_Factory(t) {
      return new (t || RouterExtensions)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](FrameService));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: RouterExtensions,
      factory: RouterExtensions.ɵfac,
      providedIn: 'root'
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RouterExtensions, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], () => [{
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
  }, {
    type: NSLocationStrategy
  }, {
    type: FrameService
  }], null);
})();

/**
 * The nsRouterLink directive lets you link to specific parts of your app.
 *
 * Consider the following route configuration:
 * ```
 * [{ path: "/user", component: UserCmp }]
 * ```
 *
 * When linking to this `User` route, you can write:
 *
 * ```
 * <a [nsRouterLink]="["/user"]">link to user component</a>
 * ```
 *
 * NSRouterLink expects the value to be an array of path segments, followed by the params
 * for that level of routing. For instance `["/team", {teamId: 1}, "user", {userId: 2}]`
 * means that we want to generate a link to `/team;teamId=1/user;userId=2`.
 *
 * The first segment name can be prepended with `/`, `./`, or `../`.
 * If the segment begins with `/`, the router will look up the route from the root of the app.
 * If the segment begins with `./`, or doesn"t begin with a slash, the router will
 * instead look in the current component"s children for the route.
 * And if the segment begins with `../`, the router will go up one level.
 */
class NSRouterLink {
  constructor(ngZone, router, navigator, route, el) {
    this.ngZone = ngZone;
    this.router = router;
    this.navigator = navigator;
    this.route = route;
    this.el = el;
    this.pageTransition = true;
    this.commands = [];
  }
  ngAfterViewInit() {
    this.el.nativeElement.on('tap', () => {
      this.ngZone.run(() => {
        this.onTap();
      });
    });
  }
  set params(data) {
    if (Array.isArray(data)) {
      this.commands = data;
    } else {
      this.commands = [data];
    }
  }
  onTap() {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink.tapped: ${this.commands} ` + `clear: ${this.clearHistory} ` + `transition: ${JSON.stringify(this.pageTransition)} ` + `duration: ${this.pageTransitionDuration}`);
    }
    const extras = this.getExtras();
    // this.navigator.navigateByUrl(this.urlTree, extras);
    this.navigator.navigate(this.commands, {
      ...extras,
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
  }
  getExtras() {
    const transition = this.getTransition();
    return {
      skipLocationChange: attrBoolValue(this.skipLocationChange),
      replaceUrl: attrBoolValue(this.replaceUrl),
      clearHistory: this.convertClearHistory(this.clearHistory),
      animated: transition.animated,
      transition: transition.transition
    };
  }
  get urlTree() {
    const urlTree = this.router.createUrlTree(this.commands, {
      relativeTo: this.route,
      queryParams: this.queryParams,
      fragment: this.fragment,
      queryParamsHandling: this.queryParamsHandling,
      preserveFragment: attrBoolValue(this.preserveFragment)
    });
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`nsRouterLink urlTree created: ${urlTree}`);
    }
    return urlTree;
  }
  convertClearHistory(value) {
    return value === true || value === 'true';
  }
  getTransition() {
    let transition;
    let animated;
    if (typeof this.pageTransition === 'boolean') {
      animated = this.pageTransition;
    } else if (typeof this.pageTransition === 'string') {
      if (this.pageTransition === 'none' || this.pageTransition === 'false') {
        animated = false;
      } else {
        animated = true;
        transition = {
          name: this.pageTransition
        };
      }
    } else {
      animated = true;
      transition = this.pageTransition;
    }
    const duration = +this.pageTransitionDuration;
    if (!isNaN(duration)) {
      transition = transition || {};
      transition.duration = duration;
    }
    return {
      animated,
      transition
    };
  }
  static {
    this.ɵfac = function NSRouterLink_Factory(t) {
      return new (t || NSRouterLink)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](RouterExtensions), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLink,
      selectors: [["", "nsRouterLink", ""]],
      inputs: {
        target: "target",
        queryParams: "queryParams",
        fragment: "fragment",
        queryParamsHandling: "queryParamsHandling",
        preserveQueryParams: "preserveQueryParams",
        preserveFragment: "preserveFragment",
        skipLocationChange: "skipLocationChange",
        replaceUrl: "replaceUrl",
        clearHistory: "clearHistory",
        pageTransition: "pageTransition",
        pageTransitionDuration: "pageTransitionDuration",
        params: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInputFlags"].None, "nsRouterLink", "params"]
      }
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLink, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLink]'
    }]
  }], () => [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
  }, {
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
  }, {
    type: RouterExtensions
  }, {
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }], {
    target: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    fragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    queryParamsHandling: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveQueryParams: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    preserveFragment: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    skipLocationChange: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    replaceUrl: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    clearHistory: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransition: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    pageTransitionDuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    params: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input,
      args: ['nsRouterLink']
    }]
  });
})();
function attrBoolValue(s) {
  return s === '' || !!s;
}

/* tslint:disable:forin */
// Copied unexported functions from @angular/router/src/url_tree
function containsTree(container, containee, exact) {
  if (exact) {
    return equalSegmentGroups(container.root, containee.root);
  } else {
    return containsSegmentGroup(container.root, containee.root);
  }
}
function equalSegmentGroups(container, containee) {
  if (!equalPath(container.segments, containee.segments)) {
    return false;
  }
  if (container.numberOfChildren !== containee.numberOfChildren) {
    return false;
  }
  for (const c in containee.children) {
    if (!container.children[c]) {
      return false;
    }
    if (!equalSegmentGroups(container.children[c], containee.children[c])) {
      return false;
    }
  }
  return true;
}
function containsSegmentGroup(container, containee) {
  return containsSegmentGroupHelper(container, containee, containee.segments);
}
function containsSegmentGroupHelper(container, containee, containeePaths) {
  if (container.segments.length > containeePaths.length) {
    const current = container.segments.slice(0, containeePaths.length);
    if (!equalPath(current, containeePaths)) {
      return false;
    }
    if (containee.hasChildren()) {
      return false;
    }
    return true;
  } else if (container.segments.length === containeePaths.length) {
    if (!equalPath(container.segments, containeePaths)) {
      return false;
    }
    for (const c in containee.children) {
      if (!container.children[c]) {
        return false;
      }
      if (!containsSegmentGroup(container.children[c], containee.children[c])) {
        return false;
      }
    }
    return true;
  } else {
    const current = containeePaths.slice(0, container.segments.length);
    const next = containeePaths.slice(container.segments.length);
    if (!equalPath(container.segments, current)) {
      return false;
    }
    if (!container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET]) {
      return false;
    }
    return containsSegmentGroupHelper(container.children[_angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET], containee, next);
  }
}
function equalPath(a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i].path !== b[i].path) {
      return false;
    }
  }
  return true;
}

/**
 * The NSRouterLinkActive directive lets you add a CSS class to an element when the link"s route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link">Bob</a>
 * ```
 *
 * When the url is either "/user" or "/user/bob", the active-link class will
 * be added to the component. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="class1 class2">Bob</a>
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="["class1", "class2"]">Bob</a>
 * ```
 *
 * You can configure NSRouterLinkActive by passing `exact: true`. This will add the
 * classes only when the url matches the link exactly.
 *
 * ```
 * <a [nsRouterLink]="/user/bob" [nsRouterLinkActive]="active-link"
 * [nsRouterLinkActiveOptions]="{exact: true}">Bob</a>
 * ```
 *
 * Finally, you can apply the NSRouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div [nsRouterLinkActive]="active-link" [nsRouterLinkActiveOptions]="{exact: true}">
 *   <a [nsRouterLink]="/user/jim">Jim</a>
 *   <a [nsRouterLink]="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either "/user/jim" or
 * "/user/bob".
 *
 * @stable
 */
class NSRouterLinkActive {
  constructor(router, element, renderer) {
    this.router = router;
    this.element = element;
    this.renderer = renderer;
    this.classes = [];
    this.active = false;
    this.nsRouterLinkActiveOptions = {
      exact: false
    };
    this.subscription = router.events.subscribe(s => {
      if (s instanceof _angular_router__WEBPACK_IMPORTED_MODULE_52__.NavigationEnd) {
        this.update();
      }
    });
  }
  get isActive() {
    return this.active;
  }
  ngAfterContentInit() {
    this.links.changes.subscribe(() => this.update());
    this.update();
  }
  set nsRouterLinkActive(data) {
    if (Array.isArray(data)) {
      this.classes = data;
    } else {
      this.classes = data.split(' ');
    }
  }
  ngOnChanges() {
    this.update();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
  update() {
    if (!this.links) {
      return;
    }
    const hasActiveLinks = this.hasActiveLinks();
    // react only when status has changed to prevent unnecessary dom updates
    if (this.active !== hasActiveLinks) {
      const currentUrlTree = this.router.parseUrl(this.router.url);
      const isActiveLinks = this.reduceList(currentUrlTree, this.links);
      this.classes.forEach(c => {
        if (isActiveLinks) {
          this.renderer.addClass(this.element.nativeElement, c);
        } else {
          this.renderer.removeClass(this.element.nativeElement, c);
        }
      });
    }
    Promise.resolve(hasActiveLinks).then(active => this.active = active);
  }
  reduceList(currentUrlTree, q) {
    return q.reduce((res, link) => {
      return res || containsTree(currentUrlTree, link.urlTree, this.nsRouterLinkActiveOptions.exact);
    }, false);
  }
  isLinkActive(router) {
    return link => router.isActive(link.urlTree, this.nsRouterLinkActiveOptions.exact);
  }
  hasActiveLinks() {
    return this.links.some(this.isLinkActive(this.router));
  }
  static {
    this.ɵfac = function NSRouterLinkActive_Factory(t) {
      return new (t || NSRouterLinkActive)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: NSRouterLinkActive,
      selectors: [["", "nsRouterLinkActive", ""]],
      contentQueries: function NSRouterLinkActive_ContentQueries(rf, ctx, dirIndex) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵcontentQuery"](dirIndex, NSRouterLink, 4);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.links = _t);
        }
      },
      inputs: {
        nsRouterLinkActiveOptions: "nsRouterLinkActiveOptions",
        nsRouterLinkActive: "nsRouterLinkActive"
      },
      exportAs: ["routerLinkActive"],
      features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSRouterLinkActive, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: '[nsRouterLinkActive]',
      exportAs: 'routerLinkActive'
    }]
  }], () => [{
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Renderer2
  }], {
    links: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ContentChildren,
      args: [NSRouterLink]
    }],
    nsRouterLinkActiveOptions: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    nsRouterLinkActive: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class PageRoute {
  constructor(startRoute) {
    this.activatedRoute = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(startRoute);
  }
}
function isComponentFactoryResolver(item) {
  return !!item.resolveComponentFactory;
}
function callableOnce(fn) {
  let called = false;
  return (...args) => {
    if (called) {
      return;
    }
    called = true;
    return fn(...args);
  };
}
class DestructibleInjector {
  constructor(destructibleProviders, parent) {
    this.destructibleProviders = destructibleProviders;
    this.parent = parent;
    this.refs = new Set();
  }
  get(token, notFoundValue, flags) {
    const ref = this.parent.get(token, notFoundValue, flags);
    // if we're skipping ourselves then it's not our responsibility to destroy
    if (typeof flags === 'number') {
      if (!(flags & _angular_core__WEBPACK_IMPORTED_MODULE_1__.InjectFlags.SkipSelf) && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    } else {
      if (!flags?.skipSelf && this.destructibleProviders.has(token)) {
        this.refs.add(ref);
      }
    }
    return ref;
  }
  destroy() {
    this.refs.forEach(ref => {
      if (ref.ngOnDestroy instanceof Function) {
        ref.ngOnDestroy();
      }
    });
    this.refs.clear();
  }
}
const routeToString = function (activatedRoute) {
  return activatedRoute.pathFromRoot.join('->');
};
registerElement('page-router-outlet', () => _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame);
// eslint-disable-next-line @angular-eslint/directive-selector
class PageRouterOutlet {
  /** @deprecated from Angular since v4 */
  get locationInjector() {
    return this.location.injector;
  }
  /** @deprecated from Angular since v4 */
  get locationFactoryResolver() {
    return this.resolver;
  }
  get isActivated() {
    return !!this.activated;
  }
  get component() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this.activated.instance;
  }
  get activatedRoute() {
    if (!this.activated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    return this._activatedRoute;
  }
  get activatedRouteData() {
    if (this._activatedRoute) {
      return this._activatedRoute.snapshot.data;
    }
    return {};
  }
  constructor(parentContexts, location, name, actionBarVisibility, isEmptyOutlet, locationStrategy, componentFactoryResolver, resolver, changeDetector, pageFactory, routeReuseStrategy, ngZone, router, elRef, viewUtil, environmentInjector) {
    this.parentContexts = parentContexts;
    this.location = location;
    this.locationStrategy = locationStrategy;
    this.componentFactoryResolver = componentFactoryResolver;
    this.resolver = resolver;
    this.changeDetector = changeDetector;
    this.pageFactory = pageFactory;
    this.routeReuseStrategy = routeReuseStrategy;
    this.ngZone = ngZone;
    this.router = router;
    this.environmentInjector = environmentInjector;
    // tslint:disable-line:directive-class-suffix
    this.activated = null;
    this._activatedRoute = null;
    this.attachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.detachEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.activateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    // eslint-disable-next-line @angular-eslint/no-output-rename
    this.deactivateEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(); // tslint:disable-line:no-output-rename
    this.isEmptyOutlet = isEmptyOutlet;
    this.frame = elRef.nativeElement;
    this.setActionBarVisibility(actionBarVisibility);
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.constructor frame: ${this.frame}`);
    }
    this.name = name || _angular_router__WEBPACK_IMPORTED_MODULE_52__.PRIMARY_OUTLET;
    parentContexts.onChildOutletCreated(this.name, this);
    this.viewUtil = viewUtil;
    this.detachedLoaderFactory = resolver.resolveComponentFactory(DetachedLoader);
  }
  setActionBarVisibility(actionBarVisibility) {
    switch (actionBarVisibility) {
      case 'always':
      case 'never':
        this.frame.actionBarVisibility = actionBarVisibility;
        return;
      default:
        this.frame.actionBarVisibility = 'auto';
    }
  }
  ngOnDestroy() {
    // In the event that the `parentContexts` has changed the outlet
    // via the creation of another outlet, the `onChildOutletDestroyed`
    // will be skipped
    if (this.parentContexts.getContext(this.name)?.outlet === this) {
      // Clear accumulated modal view page cache when page-router-outlet
      // destroyed on modal view closing
      this.parentContexts.onChildOutletDestroyed(this.name);
    }
    if (this.outlet) {
      this.outlet.outletKeys.forEach(key => {
        this.routeReuseStrategy.clearModalCache(key);
      });
      this.locationStrategy.clearOutlet(this.frame);
    } else {
      NativeScriptDebug.routerLog('PageRouterOutlet.ngOnDestroy: no outlet available for page-router-outlet');
    }
    if (this.isActivated) {
      const c = this.activated.instance;
      this.activated.hostView.detach();
      destroyComponentRef(this.activated);
      this.deactivateEvents.emit(c);
      this.activated = null;
    }
  }
  deactivate() {
    if (!this.outlet || !this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently not in page back navigation - component should be detached instead of deactivated.');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.deactivate() while going back - should destroy');
    }
    if (!this.isActivated) {
      return;
    }
    this.postNavFunction?.();
    const c = this.activated.instance;
    destroyComponentRef(this.activated);
    this.activated = null;
    this._activatedRoute = null;
    this.deactivateEvents.emit(c);
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to detach the subtree
   */
  detach() {
    if (!this.isActivated) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Outlet is not activated');
      }
      return;
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.detach() - ${routeToString(this._activatedRoute)}`);
    }
    this.postNavFunction?.();
    // Detach from ChangeDetection
    this.activated.hostView.detach();
    const component = this.activated;
    this.activated = null;
    this._activatedRoute = null;
    this.detachEvents.emit(component.instance);
    return component;
  }
  /**
   * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree
   */
  attach(ref, activatedRoute) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.attach() - ${routeToString(activatedRoute)}`);
    }
    this.activated = ref;
    // reattach to ChangeDetection
    this.activated.hostView.markForCheck();
    this.activated.hostView.reattach();
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    // we have a child with the same name, so we don't finish the back nav
    if (this.isFinalPageRouterOutlet()) {
      this.locationStrategy._finishBackPageNavigation(this.frame);
    }
    this.attachEvents.emit(ref.instance);
  }
  isFinalPageRouterOutlet() {
    let children = this.parentContexts.getContext(this.name)?.children;
    while (children) {
      const childContext = children.getContext(this.name);
      if (!childContext || !childContext.outlet) {
        return true;
      }
      if (childContext.outlet instanceof PageRouterOutlet) {
        return false;
      }
      children = childContext.children;
    }
    return true;
  }
  /**
   * Called by the Router to instantiate a new component during the commit phase of a navigation.
   * This method in turn is responsible for calling the `routerOnActivate` hook of its child.
   */
  activateWith(activatedRoute, resolver) {
    this.outlet = this.outlet || this.getOutlet(activatedRoute.snapshot);
    if (!this.outlet) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerError('No outlet found relative to activated route');
      }
      return;
    }
    this.outlet.isNSEmptyOutlet = this.isEmptyOutlet;
    this.locationStrategy.updateOutletFrame(this.outlet, this.frame, this.isEmptyOutlet);
    if (this.outlet && this.outlet.isPageNavigationBack) {
      if (NativeScriptDebug.isLogEnabled()) {
        NativeScriptDebug.routerLog('Currently in page back navigation - component should be reattached instead of activated.');
      }
      if (this.isFinalPageRouterOutlet()) {
        this.locationStrategy._finishBackPageNavigation(this.frame);
      }
    }
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog(`PageRouterOutlet.activateWith() - ${routeToString(activatedRoute)}`);
    }
    this._activatedRoute = activatedRoute;
    this.markActivatedRoute(activatedRoute);
    this.activateOnGoForward(activatedRoute, resolver || this.environmentInjector);
    this.activateEvents.emit(this.activated.instance);
  }
  activateOnGoForward(activatedRoute, resolverOrInjector) {
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('PageRouterOutlet.activate() forward navigation - ' + 'create detached loader in the loader container');
    }
    const component = this.getComponentType(activatedRoute);
    const page = this.pageFactory({
      isNavigation: true,
      componentType: component
    });
    const location = this.location;
    const destructibles = new Set([PageService]);
    const parentInjector = _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injector.create({
      providers: [{
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page,
        useValue: page
      }, {
        provide: _nativescript_core__WEBPACK_IMPORTED_MODULE_22__.Frame,
        useValue: this.frame
      }, {
        provide: PageRoute,
        useValue: new PageRoute(activatedRoute)
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute,
        useValue: activatedRoute
      }, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts,
        useValue: this.parentContexts.getOrCreateContext(this.name).children
      }, {
        provide: PageService,
        useClass: PageService
      }],
      parent: location.injector
    });
    const injector = new DestructibleInjector(destructibles, parentInjector);
    let loaderRef;
    if (isComponentFactoryResolver(resolverOrInjector)) {
      const factory = resolverOrInjector.resolveComponentFactory(DetachedLoader);
      loaderRef = location.createComponent(factory, location.length, injector);
    } else {
      const environmentInjector = resolverOrInjector;
      loaderRef = location.createComponent(DetachedLoader, {
        index: location.length,
        injector,
        environmentInjector
      });
    }
    loaderRef.onDestroy(() => injector.destroy());
    this.changeDetector.markForCheck();
    this.activated = loaderRef.instance.loadComponentInLocation(component);
    this.activated.changeDetectorRef.detectChanges();
    this.loadComponentInPage(page, this.activated, {
      activatedRoute
    });
    this.activated[loaderRefSymbol] = loaderRef;
  }
  loadComponentInPage(page, componentRef, navigationContext) {
    // Component loaded. Find its root native view.
    const componentView = componentRef.location.nativeElement;
    // Remove it from original native parent.
    this.viewUtil.removeChild(componentView.parent, componentView);
    // Add it to the new page
    this.viewUtil.appendChild(page, componentView);
    let topActivatedRoute = findTopActivatedRouteNodeForOutlet(this._activatedRoute.snapshot);
    let outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    const thisRouteKey = outletKey;
    while (!this.locationStrategy.findOutlet(outletKey)) {
      topActivatedRoute = topActivatedRoute.parent;
      if (!topActivatedRoute) {
        NativeScriptDebug.routerError('Could not find outlet for route: ' + thisRouteKey);
        break;
      }
      outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    }
    const navigatedFromCallback = global.Zone.current.wrap(args => {
      if (args.isBackNavigation) {
        this.locationStrategy._beginBackPageNavigation(this.frame, outletKey);
        this.locationStrategy.back(null, this.frame);
      }
    });
    // TODO: experiment with using NgZone instead of global above
    // const navigatedFromCallback = (args: NavigatedData) => {
    // 	if (args.isBackNavigation) {
    //     this.ngZone.run(() => {
    //       this.locationStrategy._beginBackPageNavigation(this.frame);
    //       this.locationStrategy.back(null, this.frame);
    //     });
    // 	}
    // };
    page.on(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
    componentRef.onDestroy(() => {
      if (page) {
        page.off(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedFromEvent, navigatedFromCallback);
        page = null;
      }
    });
    const navOptions = {
      ...defaultNavOptions,
      ...(this.router.getCurrentNavigation().extras || {})
    };
    this.locationStrategy._beginPageNavigation(this.frame, navOptions);
    const isReplace = navOptions.replaceUrl && !navOptions.clearHistory;
    const currentRoute = this.activatedRoute;
    // Clear refCache if navigation with clearHistory
    if (navOptions.clearHistory) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForClear(key));
      const wipeCache = callableOnce(() => {
        if (this.postNavFunction === wipeCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.clearCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = wipeCache;
      const clearCallback = () => setTimeout(() => {
        wipeCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    } else if (navOptions.replaceUrl) {
      this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.markCacheForPop(key));
      const popCache = callableOnce(() => {
        if (this.postNavFunction === popCache) {
          this.postNavFunction = null;
        }
        if (this.outlet && this.activatedRoute === currentRoute) {
          // potential alternative fix (only fix children of the current outlet)
          // const nests = outletKey.split('/');
          // this.outlet.outletKeys.filter((k) => k.split('/').length >= nests.length).forEach((key) => this.routeReuseStrategy.popCache(key));
          this.outlet.outletKeys.forEach(key => this.routeReuseStrategy.clearMarkedCache(key));
        }
      });
      this.postNavFunction = popCache;
      const clearCallback = () => setTimeout(() => {
        popCache();
      });
      page.once(_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page.navigatedToEvent, clearCallback);
    }
    const navigationEntry = {
      create() {
        return page;
      },
      context: navigationContext,
      clearHistory: navOptions.clearHistory,
      animated: navOptions.animated,
      transition: navOptions.transition
    };
    if (isReplace && this.frame.currentPage) {
      this.frame.replacePage(navigationEntry);
    } else {
      this.frame.navigate(navigationEntry);
    }
  }
  // Find and mark the top activated route as an activated one.
  // In ns-location-strategy we are reusing components only if their corresponing routes
  // are marked as activated from this method.
  markActivatedRoute(activatedRoute) {
    const queue = [];
    queue.push(activatedRoute.snapshot);
    let currentRoute = queue.shift();
    while (currentRoute) {
      currentRoute.children.forEach(childRoute => {
        queue.push(childRoute);
      });
      const topActivatedRoute = findTopActivatedRouteNodeForOutlet(currentRoute);
      const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
      const outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
      if (outlet && outlet.frames.length) {
        topActivatedRoute[pageRouterActivatedSymbol] = true;
        if (NativeScriptDebug.isLogEnabled()) {
          NativeScriptDebug.routerLog('Activated route marked as page: ' + routeToString(topActivatedRoute));
        }
      }
      currentRoute = queue.shift();
    }
  }
  getComponentType(activatedRoute) {
    return activatedRoute.routeConfig.component || activatedRoute.component;
  }
  getOutlet(activatedRouteSnapshot) {
    const topActivatedRoute = findTopActivatedRouteNodeForOutlet(activatedRouteSnapshot);
    const outletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute);
    let outlet = this.locationStrategy.findOutlet(outletKey, topActivatedRoute);
    // Named lazy loaded outlet.
    if (!outlet && this.isEmptyOutlet) {
      const parentOutletKey = this.locationStrategy.getRouteFullPath(topActivatedRoute.parent);
      outlet = this.locationStrategy.findOutlet(parentOutletKey, topActivatedRoute.parent);
      if (outlet) {
        outlet.outletKeys.push(outletKey);
      }
    }
    return outlet;
  }
  static {
    this.ɵfac = function PageRouterOutlet_Factory(t) {
      return new (t || PageRouterOutlet)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('name'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('actionBarVisibility'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinjectAttribute"]('isEmptyOutlet'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSLocationStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PAGE_FACTORY), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](NSRouteReuseStrategy), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_52__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](ViewUtil), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector));
    };
  }
  static {
    this.ɵdir = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({
      type: PageRouterOutlet,
      selectors: [["page-router-outlet"]],
      outputs: {
        activateEvents: "activate",
        deactivateEvents: "deactivate"
      }
    });
  }
}
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_52__.ActivatedRoute, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "activateWith", null);
(0,tslib__WEBPACK_IMPORTED_MODULE_8__.__decorate)([_nativescript_core__WEBPACK_IMPORTED_MODULE_46__.profile, (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:type", Function), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:paramtypes", [_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentRef, Object]), (0,tslib__WEBPACK_IMPORTED_MODULE_8__.__metadata)("design:returntype", void 0)], PageRouterOutlet.prototype, "loadComponentInPage", null);
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PageRouterOutlet, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive,
    args: [{
      selector: 'page-router-outlet'
    }]
  }], () => [{
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.ChildrenOutletContexts
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
      args: ['name']
    }]
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
      args: ['actionBarVisibility']
    }]
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Attribute,
      args: ['isEmptyOutlet']
    }]
  }, {
    type: NSLocationStrategy
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
  }, {
    type: undefined,
    decorators: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
      args: [PAGE_FACTORY]
    }]
  }, {
    type: NSRouteReuseStrategy
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone
  }, {
    type: _angular_router__WEBPACK_IMPORTED_MODULE_52__.Router
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
  }, {
    type: ViewUtil
  }, {
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.EnvironmentInjector
  }], {
    activateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['activate']
    }],
    deactivateEvents: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output,
      args: ['deactivate']
    }],
    activateWith: [],
    loadComponentInPage: []
  });
})();
class NativescriptPlatformLocation extends _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation {
  constructor(locationStrategy) {
    super();
    this.locationStrategy = locationStrategy;
    if (NativeScriptDebug.isLogEnabled()) {
      NativeScriptDebug.routerLog('NativescriptPlatformLocation.constructor()');
    }
  }
  getState() {
    return undefined;
  }
  getBaseHrefFromDOM() {
    return '/';
  }
  onPopState(fn) {
    this.locationStrategy.onPopState(fn);
    return () => {
      //
    };
  }
  onHashChange(_fn) {
    return () => {
      //
    };
  }
  get search() {
    return '';
  }
  get hash() {
    return '';
  }
  get pathname() {
    return this.locationStrategy.path();
  }
  set pathname(_newPath) {
    throw new Error('NativescriptPlatformLocation set pathname - not implemented');
  }
  pushState(state, title, url) {
    this.locationStrategy.pushState(state, title, url, null);
  }
  replaceState(state, title, url) {
    this.locationStrategy.replaceState(state, title, url, null);
  }
  forward() {
    throw new Error('NativescriptPlatformLocation.forward() - not implemented');
  }
  back() {
    this.locationStrategy.back();
  }
  static {
    this.ɵfac = function NativescriptPlatformLocation_Factory(t) {
      return new (t || NativescriptPlatformLocation)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](NSLocationStrategy));
    };
  }
  static {
    this.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
      token: NativescriptPlatformLocation,
      factory: NativescriptPlatformLocation.ɵfac
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativescriptPlatformLocation, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], () => [{
    type: NSLocationStrategy
  }], null);
})();
class NSEmptyOutletComponent {
  constructor(page) {
    this.page = page;
    if (this.page) {
      this.page.actionBarHidden = true;
      this.page.on('loaded', () => {
        if (this.pageRouterOutlet && this.page.frame) {
          this.pageRouterOutlet.setActionBarVisibility(this.page.frame.actionBarVisibility);
        }
      });
    }
  }
  static {
    this.ɵfac = function NSEmptyOutletComponent_Factory(t) {
      return new (t || NSEmptyOutletComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page));
    };
  }
  static {
    this.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
      type: NSEmptyOutletComponent,
      selectors: [["ns-empty-outlet"]],
      viewQuery: function NSEmptyOutletComponent_Query(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](PageRouterOutlet, 5, PageRouterOutlet);
        }
        if (rf & 2) {
          let _t;
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.pageRouterOutlet = _t.first);
        }
      },
      decls: 1,
      vars: 0,
      consts: [["isEmptyOutlet", "true"]],
      template: function NSEmptyOutletComponent_Template(rf, ctx) {
        if (rf & 1) {
          _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "page-router-outlet", 0);
        }
      },
      dependencies: [PageRouterOutlet],
      encapsulation: 2
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NSEmptyOutletComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      // tslint:disable-next-line:component-selector
      selector: 'ns-empty-outlet',
      template: "<page-router-outlet isEmptyOutlet='true'></page-router-outlet>"
    }]
  }], () => [{
    type: _nativescript_core__WEBPACK_IMPORTED_MODULE_6__.Page
  }], {
    pageRouterOutlet: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: [PageRouterOutlet, {
        read: PageRouterOutlet,
        static: false
      }]
    }]
  });
})();
function provideLocationStrategy(locationStrategy, frameService, startPath) {
  return locationStrategy ? locationStrategy : new NSLocationStrategy(frameService, startPath);
}
class NativeScriptRouterModule {
  static forRoot(routes, config) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: [..._angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forRoot(routes, config).providers, {
        provide: NSLocationStrategy,
        useFactory: provideLocationStrategy,
        deps: [[NSLocationStrategy, new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), new _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf()], FrameService, [new _angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional(), START_PATH]]
      }, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.LocationStrategy,
        useExisting: NSLocationStrategy
      }, NativescriptPlatformLocation, {
        provide: _angular_common__WEBPACK_IMPORTED_MODULE_14__.PlatformLocation,
        useExisting: NativescriptPlatformLocation
      }, RouterExtensions, NSRouteReuseStrategy, {
        provide: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouteReuseStrategy,
        useExisting: NSRouteReuseStrategy
      }]
    };
  }
  static forChild(routes) {
    return {
      ngModule: NativeScriptRouterModule,
      providers: _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule.forChild(routes).providers
    };
  }
  static {
    this.ɵfac = function NativeScriptRouterModule_Factory(t) {
      return new (t || NativeScriptRouterModule)();
    };
  }
  static {
    this.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
      type: NativeScriptRouterModule
    });
  }
  static {
    this.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule]
    });
  }
}
(() => {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NativeScriptRouterModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NativeScriptCommonModule],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_52__.RouterModule, NSRouterLink, NSRouterLinkActive, PageRouterOutlet, NSEmptyOutletComponent],
      schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_1__.NO_ERRORS_SCHEMA]
    }]
  }], null, null);
})();

/* eslint-disable @typescript-eslint/ban-types */
/* eslint-disable @typescript-eslint/no-empty-function */
/* eslint-disable @typescript-eslint/no-explicit-any */
/* eslint-disable @typescript-eslint/triple-slash-reference */
/// <reference path="../../../../node_modules/zone.js/zone.d.ts" />
/// <reference path="../../../../node_modules/@nativescript/core/global-types.d.ts" />
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let currentRafId = 1;
function noop() {}
/**
 * An injectable service for executing work inside or outside of the Angular zone.
 *
 * The most common use of this service is to optimize performance when starting a work consisting of
 * one or more asynchronous tasks that don't require UI updates or error handling to be handled by
 * Angular. Such tasks can be kicked off via {@link #runOutsideAngular} and if needed, these tasks
 * can reenter the Angular zone via {@link #run}.
 *
 * <!-- TODO: add/fix links to:
 *   - docs explaining zones and the use of zones in Angular and change-detection
 *   - link to runOutsideAngular/run (throughout this file!)
 *   -->
 *
 * @usageNotes
 * ### Example
 *
 * ```
 * import {Component, NgZone} from '@angular/core';
 * import {NgIf} from '@angular/common';
 *
 * @Component({
 *   selector: 'ng-zone-demo',
 *   template: `
 *     <h2>Demo: NgZone</h2>
 *
 *     <p>Progress: {{progress}}%</p>
 *     <p *ngIf="progress >= 100">Done processing {{label}} of Angular zone!</p>
 *
 *     <button (click)="processWithinAngularZone()">Process within Angular zone</button>
 *     <button (click)="processOutsideOfAngularZone()">Process outside of Angular zone</button>
 *   `,
 * })
 * export class NgZoneDemo {
 *   progress: number = 0;
 *   label: string;
 *
 *   constructor(private _ngZone: NgZone) {}
 *
 *   // Loop inside the Angular zone
 *   // so the UI DOES refresh after each setTimeout cycle
 *   processWithinAngularZone() {
 *     this.label = 'inside';
 *     this.progress = 0;
 *     this._increaseProgress(() => console.log('Inside Done!'));
 *   }
 *
 *   // Loop outside of the Angular zone
 *   // so the UI DOES NOT refresh after each setTimeout cycle
 *   processOutsideOfAngularZone() {
 *     this.label = 'outside';
 *     this.progress = 0;
 *     this._ngZone.runOutsideAngular(() => {
 *       this._increaseProgress(() => {
 *         // reenter the Angular zone and display done
 *         this._ngZone.run(() => { console.log('Outside Done!'); });
 *       });
 *     });
 *   }
 *
 *   _increaseProgress(doneCallback: () => void) {
 *     this.progress += 1;
 *     console.log(`Current progress: ${this.progress}%`);
 *
 *     if (this.progress < 100) {
 *       window.setTimeout(() => this._increaseProgress(doneCallback), 10);
 *     } else {
 *       doneCallback();
 *     }
 *   }
 * }
 * ```
 *
 * @publicApi
 */
class NativeScriptNgZone {
  constructor({
    enableLongStackTrace = (0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.isDevMode)(),
    shouldCoalesceEventChangeDetection = true,
    shouldCoalesceRunChangeDetection = true
  } = {}) {
    this.hasPendingMacrotasks = false;
    this.hasPendingMicrotasks = false;
    /**
     * Whether there are no outstanding microtasks or macrotasks.
     */
    this.isStable = true;
    /**
     * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
     */
    this.onUnstable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when there is no more microtasks enqueued in the current VM Turn.
     * This is a hint for Angular to do change detection, which may enqueue more microtasks.
     * For this reason this event can fire multiple times per VM Turn.
     */
    this.onMicrotaskEmpty = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
     * implies we are about to relinquish VM turn.
     * This event gets called just once.
     */
    this.onStable = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    /**
     * Notifies that an error has been delivered.
     */
    this.onError = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter(false);
    if (typeof Zone == 'undefined') {
      throw new Error(`In this configuration Angular requires Zone.js`);
    }
    Zone.assertZonePatched();
    const self = this;
    self._nesting = 0;
    self._outer = self._inner = Zone.current;
    if (Zone['TaskTrackingZoneSpec']) {
      self._inner = self._inner.fork(new Zone['TaskTrackingZoneSpec']());
    }
    if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {
      self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);
    }
    // if shouldCoalesceRunChangeDetection is true, all tasks including event tasks will be
    // coalesced, so shouldCoalesceEventChangeDetection option is not necessary and can be skipped.
    self.shouldCoalesceEventChangeDetection = !shouldCoalesceRunChangeDetection && shouldCoalesceEventChangeDetection;
    self.shouldCoalesceRunChangeDetection = shouldCoalesceRunChangeDetection;
    self.lastRequestAnimationFrameId = -1;
    self.nativeRequestAnimationFrame = function (cb) {
      const nativeDispatchToMainThread = _nativescript_core__WEBPACK_IMPORTED_MODULE_64__[Zone.__symbol__('dispatchToMainThread')] || _nativescript_core__WEBPACK_IMPORTED_MODULE_65__.dispatchToMainThread;
      nativeDispatchToMainThread(cb);
      return currentRafId++;
    };
    forkInnerZoneWithAngularBehavior(self);
  }
  static isInAngularZone() {
    return Zone.current.get('isAngularZone') === true;
  }
  static assertInAngularZone() {
    if (!_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to be in Angular Zone, but it is not!');
    }
  }
  static assertNotInAngularZone() {
    if (_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgZone.isInAngularZone()) {
      throw new Error('Expected to not be in Angular Zone, but it is!');
    }
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone and returns value returned by
   * the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  run(fn, applyThis, applyArgs) {
    return this._inner.run(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously within the Angular zone as a task and returns value
   * returned by the function.
   *
   * Running functions via `run` allows you to reenter Angular zone from a task that was executed
   * outside of the Angular zone (typically started via {@link #runOutsideAngular}).
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * within the Angular zone.
   *
   * If a synchronous error happens it will be rethrown and not reported via `onError`.
   */
  runTask(fn, applyThis, applyArgs, name) {
    const zone = this._inner;
    const task = zone.scheduleEventTask('NgZoneEvent: ' + name, fn, EMPTY_PAYLOAD, noop, noop);
    try {
      return zone.runTask(task, applyThis, applyArgs);
    } finally {
      zone.cancelTask(task);
    }
  }
  /**
   * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
   * rethrown.
   */
  runGuarded(fn, applyThis, applyArgs) {
    return this._inner.runGuarded(fn, applyThis, applyArgs);
  }
  /**
   * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
   * the function.
   *
   * Running functions via {@link #runOutsideAngular} allows you to escape Angular's zone and do
   * work that
   * doesn't trigger Angular change-detection or is subject to Angular's error handling.
   *
   * Any future tasks or microtasks scheduled from within this function will continue executing from
   * outside of the Angular zone.
   *
   * Use {@link #run} to reenter the Angular zone and do work that updates the application model.
   */
  runOutsideAngular(fn) {
    return this._outer.run(fn);
  }
}
const EMPTY_PAYLOAD = {};
function checkStable(zone) {
  // TODO: @JiaLiPassion, should check zone.isCheckStableRunning to prevent
  // re-entry. The case is:
  //
  // @Component({...})
  // export class AppComponent {
  // constructor(private ngZone: NgZone) {
  //   this.ngZone.onStable.subscribe(() => {
  //     this.ngZone.run(() => console.log('stable'););
  //   });
  // }
  //
  // The onStable subscriber run another function inside ngZone
  // which causes `checkStable()` re-entry.
  // But this fix causes some issues in g3, so this fix will be
  // launched in another PR.
  if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {
    try {
      zone._nesting++;
      zone.onMicrotaskEmpty.emit(null);
    } finally {
      zone._nesting--;
      if (!zone.hasPendingMicrotasks) {
        try {
          zone.runOutsideAngular(() => zone.onStable.emit(null));
        } finally {
          zone.isStable = true;
        }
      }
    }
  }
}
function delayChangeDetectionForEvents(zone) {
  /**
   * We also need to check _nesting here
   * Consider the following case with shouldCoalesceRunChangeDetection = true
   *
   * ngZone.run(() => {});
   * ngZone.run(() => {});
   *
   * We want the two `ngZone.run()` only trigger one change detection
   * when shouldCoalesceRunChangeDetection is true.
   * And because in this case, change detection run in async way(requestAnimationFrame),
   * so we also need to check the _nesting here to prevent multiple
   * change detections.
   */
  if (zone.isCheckStableRunning || zone.lastRequestAnimationFrameId !== -1) {
    return;
  }
  zone.lastRequestAnimationFrameId = zone.nativeRequestAnimationFrame.call(global, () => {
    // This is a work around for https://github.com/angular/angular/issues/36839.
    // The core issue is that when event coalescing is enabled it is possible for microtasks
    // to get flushed too early (As is the case with `Promise.then`) between the
    // coalescing eventTasks.
    //
    // To workaround this we schedule a "fake" eventTask before we process the
    // coalescing eventTasks. The benefit of this is that the "fake" container eventTask
    //  will prevent the microtasks queue from getting drained in between the coalescing
    // eventTask execution.
    if (!zone.fakeTopEventTask) {
      zone.fakeTopEventTask = Zone.root.scheduleEventTask('fakeTopEventTask', () => {
        zone.lastRequestAnimationFrameId = -1;
        updateMicroTaskStatus(zone);
        zone.isCheckStableRunning = true;
        checkStable(zone);
        zone.isCheckStableRunning = false;
      }, undefined, () => {}, () => {});
    }
    zone.fakeTopEventTask.invoke();
  });
  updateMicroTaskStatus(zone);
}
function forkInnerZoneWithAngularBehavior(zone) {
  const delayChangeDetectionForEventsDelegate = () => {
    delayChangeDetectionForEvents(zone);
  };
  zone._inner = zone._inner.fork({
    name: 'angular',
    properties: {
      isAngularZone: true
    },
    onInvokeTask: (delegate, current, target, task, applyThis, applyArgs) => {
      try {
        onEnter(zone);
        return delegate.invokeTask(target, task, applyThis, applyArgs);
      } finally {
        if (zone.shouldCoalesceEventChangeDetection && task.type === 'eventTask' || zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_65__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onInvoke: (delegate, current, target, callback, applyThis, applyArgs, source) => {
      try {
        onEnter(zone);
        return delegate.invoke(target, callback, applyThis, applyArgs, source);
      } finally {
        if (zone.shouldCoalesceRunChangeDetection || !_nativescript_core__WEBPACK_IMPORTED_MODULE_65__.isMainThread()) {
          delayChangeDetectionForEventsDelegate();
        }
        onLeave(zone);
      }
    },
    onHasTask: (delegate, current, target, hasTaskState) => {
      delegate.hasTask(target, hasTaskState);
      if (current === target) {
        // We are only interested in hasTask events which originate from our zone
        // (A child hasTask event is not interesting to us)
        if (hasTaskState.change == 'microTask') {
          zone._hasPendingMicrotasks = hasTaskState.microTask;
          updateMicroTaskStatus(zone);
          checkStable(zone);
        } else if (hasTaskState.change == 'macroTask') {
          zone.hasPendingMacrotasks = hasTaskState.macroTask;
        }
      }
    },
    onHandleError: (delegate, current, target, error) => {
      delegate.handleError(target, error);
      zone.runOutsideAngular(() => zone.onError.emit(error));
      return false;
    }
  });
}
function updateMicroTaskStatus(zone) {
  if (zone._hasPendingMicrotasks || zone.lastRequestAnimationFrameId !== -1) {
    zone.hasPendingMicrotasks = true;
  } else {
    zone.hasPendingMicrotasks = false;
  }
}
function onEnter(zone) {
  zone._nesting++;
  if (zone.isStable) {
    zone.isStable = false;
    zone.onUnstable.emit(null);
  }
}
function onLeave(zone) {
  zone._nesting--;
  checkStable(zone);
}

/**
 * Generated bundle index. Do not edit.
 */


//# sourceMappingURL=nativescript-angular.mjs.map

/***/ })

};
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLmY1ZDI2YjY3OWMxMTY0YjE3NmJkLmhvdC11cGRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUMweEI7QUFDL3hCO0FBQ3NtQjtBQUNsbEI7QUFDaEI7QUFDMEc7QUFDOUQ7QUFDVTtBQUN0RDtBQUN3SDtBQUNoRztBQUNaO0FBQ3NGO0FBQ3BCO0FBQUEsTUFBQXNKLEdBQUE7QUFBQSxNQUFBQyxHQUFBO0FBQUEsTUFBQUMsR0FBQTtBQUFBLFNBQUFDLDZDQUFBQyxFQUFBLEVBQUFDLEdBQUE7RUFBQSxJQUFBRCxFQUFBO0lBcVBsQjFGLDBEQUFFLHdCQXk3R3VHLENBQUM7RUFBQTtBQUFBO0FBQUEsU0FBQTZGLHlDQUFBSCxFQUFBLEVBQUFDLEdBQUE7RUFBQSxJQUFBRCxFQUFBO0lBejdHMUcxRiwwREFBRSx3QkE0OEcrRixDQUFDO0VBQUE7QUFBQTtBQUFBLFNBQUE4Riw4Q0FBQUosRUFBQSxFQUFBQyxHQUFBO0VBQUEsSUFBQUQsRUFBQTtJQTU4R2xHMUYsMERBQUUsd0JBaStHeUcsQ0FBQztFQUFBO0FBQUE7QUFwdEhoTixNQUFNK0YsWUFBWSxHQUFJQyxRQUFRLElBQUtBLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDQyxJQUFJO0FBQzVELE1BQU1DLGFBQWEsU0FBU2xLLG9EQUFJLENBQUM7RUFDN0JnSyxXQUFXQSxDQUFDQyxJQUFJLEdBQUcsRUFBRSxFQUFFO0lBQ25CLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7SUFDaEIsSUFBSSxDQUFDRSxRQUFRLEdBQUcsQ0FBQztJQUNqQixJQUFJLENBQUNDLFFBQVEsR0FBR04sWUFBWSxDQUFDLElBQUksQ0FBQztFQUN0QztFQUNBTyxRQUFRQSxDQUFBLEVBQUc7SUFDUCxPQUFRLEdBQUUsSUFBSSxDQUFDRCxRQUFTLElBQUcsSUFBSSxDQUFDRSxFQUFHLEtBQUksSUFBSSxDQUFDTCxJQUFLLEVBQUM7RUFDdEQ7QUFDSjtBQUNBLE1BQU1NLFdBQVcsU0FBU0wsYUFBYSxDQUFDO0VBQ3BDO0lBQVMsSUFBSSxDQUFDSSxFQUFFLEdBQUcsQ0FBQztFQUFFO0VBQ3RCTixXQUFXQSxDQUFDUSxLQUFLLEVBQUU7SUFDZixLQUFLLENBQUNBLEtBQUssQ0FBQztJQUNaLElBQUksQ0FBQ0MsSUFBSSxHQUFHO01BQ1JDLFlBQVksRUFBRTtJQUNsQixDQUFDO0lBQ0QsSUFBSSxDQUFDSixFQUFFLEdBQUdDLFdBQVcsQ0FBQ0QsRUFBRSxDQUFDRCxRQUFRLENBQUMsQ0FBQztJQUNuQ0UsV0FBVyxDQUFDRCxFQUFFLElBQUksQ0FBQztFQUN2QjtBQUNKO0FBQ0EsTUFBTUssUUFBUSxTQUFTVCxhQUFhLENBQUM7RUFDakM7SUFBUyxJQUFJLENBQUNVLGVBQWUsR0FBRyxZQUFZO0VBQUU7RUFDOUM7SUFBUyxJQUFJLENBQUNOLEVBQUUsR0FBRyxDQUFDO0VBQUU7RUFDdEIsSUFBSU8sSUFBSUEsQ0FBQSxFQUFHO0lBQ1AsT0FBTyxJQUFJLENBQUNDLEtBQUs7RUFDckI7RUFDQSxJQUFJRCxJQUFJQSxDQUFDRSxDQUFDLEVBQUU7SUFDUixJQUFJLENBQUNELEtBQUssR0FBR0MsQ0FBQztJQUNkLElBQUksQ0FBQ0MsTUFBTSxDQUFDO01BQUVDLFNBQVMsRUFBRU4sUUFBUSxDQUFDQyxlQUFlO01BQUVNLE1BQU0sRUFBRSxJQUFJO01BQUVWLEtBQUssRUFBRU87SUFBRSxDQUFDLENBQUM7RUFDaEY7RUFDQWYsV0FBV0EsQ0FBQ1EsS0FBSyxFQUFFO0lBQ2YsS0FBSyxDQUFDQSxLQUFLLENBQUM7SUFDWixJQUFJLENBQUNNLEtBQUssR0FBRyxFQUFFO0lBQ2YsSUFBSSxDQUFDSyxXQUFXLEdBQUcsSUFBSUMsR0FBRyxDQUFDLENBQUM7SUFDNUIsSUFBSSxDQUFDTixLQUFLLEdBQUdOLEtBQUs7SUFDbEIsSUFBSSxDQUFDQyxJQUFJLEdBQUc7TUFDUkMsWUFBWSxFQUFFO0lBQ2xCLENBQUM7SUFDRCxJQUFJLENBQUNKLEVBQUUsR0FBR0ssUUFBUSxDQUFDTCxFQUFFLENBQUNELFFBQVEsQ0FBQyxDQUFDO0lBQ2hDTSxRQUFRLENBQUNMLEVBQUUsSUFBSSxDQUFDO0VBQ3BCO0VBQ0FlLGtCQUFrQkEsQ0FBQ0MsUUFBUSxFQUFFaEIsRUFBRSxFQUFFO0lBQzdCLE1BQU1pQixFQUFFLEdBQUlDLEdBQUcsSUFBS0YsUUFBUSxDQUFDRSxHQUFHLENBQUNoQixLQUFLLENBQUM7SUFDdkMsTUFBTWlCLEtBQUssR0FBRyxJQUFJLENBQUNOLFdBQVcsQ0FBQ08sR0FBRyxDQUFDcEIsRUFBRSxDQUFDLElBQUksRUFBRTtJQUM1Q21CLEtBQUssQ0FBQ0UsSUFBSSxDQUFDSixFQUFFLENBQUM7SUFDZCxJQUFJLENBQUNKLFdBQVcsQ0FBQ1MsR0FBRyxDQUFDdEIsRUFBRSxFQUFFbUIsS0FBSyxDQUFDO0lBQy9CLElBQUksQ0FBQ0ksRUFBRSxDQUFDLFlBQVksRUFBRU4sRUFBRSxDQUFDO0VBQzdCO0VBQ0FPLG9CQUFvQkEsQ0FBQ3hCLEVBQUUsRUFBRTtJQUNyQixNQUFNbUIsS0FBSyxHQUFHLElBQUksQ0FBQ04sV0FBVyxDQUFDTyxHQUFHLENBQUNwQixFQUFFLENBQUMsSUFBSSxFQUFFO0lBQzVDbUIsS0FBSyxDQUFDTSxPQUFPLENBQUVSLEVBQUUsSUFBSyxJQUFJLENBQUNTLEdBQUcsQ0FBQyxZQUFZLEVBQUVULEVBQUUsQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQ0osV0FBVyxDQUFDYyxNQUFNLENBQUMzQixFQUFFLENBQUM7RUFDL0I7QUFDSjtBQUVBLFNBQVM0QixpQkFBaUJBLENBQUNDLE9BQU8sRUFBRTtFQUNoQyxPQUFPQSxPQUFPLElBQUlBLE9BQU8sQ0FBQzFCLElBQUksSUFBSTBCLE9BQU8sQ0FBQzFCLElBQUksQ0FBQ0MsWUFBWTtBQUMvRDtBQUNBLFNBQVMwQixNQUFNQSxDQUFDQyxJQUFJLEVBQUU7RUFDbEIsT0FBT0EsSUFBSSxZQUFZck0sb0RBQUk7QUFDL0I7QUFDQSxTQUFTc00sZUFBZUEsQ0FBQ0QsSUFBSSxFQUFFO0VBQzNCLE9BQU9BLElBQUksWUFBWW5DLGFBQWE7QUFDeEM7QUFDQSxTQUFTcUMsUUFBUUEsQ0FBQ0YsSUFBSSxFQUFFO0VBQ3BCLE9BQU9BLElBQUksWUFBWXBNLDBEQUFVO0FBQ3JDO0FBQ0EsU0FBU3VNLGFBQWFBLENBQUNILElBQUksRUFBRTtFQUN6QixPQUFPQSxJQUFJLFlBQVluTSwyREFBVztBQUN0QztBQUNBLFNBQVN1TSxzQkFBc0JBLENBQUNKLElBQUksRUFBRUssbUJBQW1CLEdBQUcsS0FBSyxFQUFFO0VBQy9ELElBQUlMLElBQUksWUFBWWxNLGtFQUFrQixFQUFFO0lBQ3BDLElBQUlrTSxJQUFJLENBQUNNLGdCQUFnQixDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7TUFDL0IsT0FBTyxJQUFJO0lBQ2Y7SUFDQSxPQUFPRixzQkFBc0IsQ0FBQ0osSUFBSSxDQUFDTyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDckQ7RUFDQSxJQUFJRixtQkFBbUIsRUFBRTtJQUNyQixNQUFNRyxJQUFJLEdBQUdSLElBQUksQ0FBQ1MsVUFBVTtJQUM1QkMsb0JBQW9CLENBQUNWLElBQUksQ0FBQztJQUMxQkEsSUFBSSxDQUFDUyxVQUFVLEdBQUdELElBQUk7RUFDMUI7RUFDQSxPQUFPUixJQUFJO0FBQ2Y7QUFDQSxTQUFTVSxvQkFBb0JBLENBQUNWLElBQUksRUFBRTtFQUNoQyxNQUFNVyxNQUFNLEdBQUdYLElBQUksRUFBRVcsTUFBTTtFQUMzQixJQUFJLENBQUNBLE1BQU0sRUFBRTtJQUNUO0VBQ0o7RUFDQSxJQUFJQSxNQUFNLENBQUN2QyxJQUFJLElBQUl1QyxNQUFNLENBQUN2QyxJQUFJLENBQUN3QyxXQUFXLEVBQUU7SUFDeENELE1BQU0sQ0FBQ3ZDLElBQUksQ0FBQ3dDLFdBQVcsQ0FBQ0QsTUFBTSxFQUFFWCxJQUFJLENBQUM7RUFDekMsQ0FBQyxNQUNJLElBQUlFLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDLEVBQUU7SUFDdkJBLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDWixJQUFJLENBQUM7RUFDNUIsQ0FBQyxNQUNJLElBQUlHLGFBQWEsQ0FBQ1EsTUFBTSxDQUFDLElBQUlBLE1BQU0sQ0FBQ0UsT0FBTyxLQUFLYixJQUFJLEVBQUU7SUFDdkRXLE1BQU0sQ0FBQ0UsT0FBTyxHQUFHLElBQUk7RUFDekIsQ0FBQyxNQUNJLElBQUlkLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDLEVBQUU7SUFDckJBLE1BQU0sQ0FBQ0csV0FBVyxDQUFDZCxJQUFJLENBQUM7RUFDNUI7QUFDSjtBQUVBLE1BQU1lLGFBQWEsR0FBRyxJQUFJcEoseURBQWMsQ0FBQyx5QkFBeUIsQ0FBQztBQUNuRSxNQUFNcUosMkJBQTJCLEdBQUcsSUFBSXJKLHlEQUFjLENBQUMsMEJBQTBCLENBQUM7QUFDbEYsTUFBTXNKLFVBQVUsR0FBRyxJQUFJdEoseURBQWMsQ0FBQyx1QkFBdUIsQ0FBQztBQUM5RCxNQUFNdUosb0JBQW9CLEdBQUcsSUFBSXZKLHlEQUFjLENBQUMsaUNBQWlDLENBQUM7QUFDbEYsTUFBTXdKLDBCQUEwQixHQUFHLElBQUl4Six5REFBYyxDQUFDLHFDQUFxQyxDQUFDO0FBQzVGLE1BQU15SixNQUFNLEdBQUcsSUFBSXpKLHlEQUFjLENBQUMsb0JBQW9CLENBQUM7QUFDdkQsTUFBTTBKLFlBQVksR0FBRyxJQUFJMUoseURBQWMsQ0FBQyx5QkFBeUIsQ0FBQztBQUNsRSxNQUFNMkosa0JBQWtCLEdBQUcsU0FBQUEsQ0FBVUMsS0FBSyxFQUFFO0VBQ3hDLE9BQU8sSUFBSXhOLG9EQUFJLENBQUMsQ0FBQztBQUNyQixDQUFDO0FBRUQsSUFBSXlOLHVCQUF1QixHQUFHLE1BQU1BLHVCQUF1QixDQUFDO0VBQ3hEN0QsV0FBV0EsQ0FBQzhELE1BQU0sRUFBRTtJQUNoQixJQUFJLENBQUNBLE1BQU0sR0FBR0EsTUFBTTtFQUN4QjtFQUNBQyxNQUFNQSxDQUFDQyxTQUFTLEVBQUVDLElBQUksRUFBRTtJQUNwQixJQUFJRCxTQUFTLEtBQUssU0FBUyxFQUFFO01BQ3pCLE9BQU8sSUFBSSxDQUFDRixNQUFNLENBQUNJLEVBQUUsS0FBSzdOLDZEQUFhLENBQUM4TixPQUFPO0lBQ25EO0lBQ0EsSUFBSUgsU0FBUyxLQUFLLEtBQUssRUFBRTtNQUNyQixPQUFPLElBQUksQ0FBQ0YsTUFBTSxDQUFDSSxFQUFFLEtBQUs3Tiw2REFBYSxDQUFDK04sR0FBRztJQUMvQztJQUNBLE9BQU9ILElBQUksQ0FBQ0QsU0FBUyxDQUFDO0VBQzFCO0FBQ0osQ0FBQztBQUNESCx1QkFBdUIsR0FBRy9HLGlEQUFVLENBQUMsQ0FDakNGLDhDQUFPLENBQUMsQ0FBQyxFQUFFM0MscURBQU0sQ0FBQ3dKLE1BQU0sQ0FBQyxDQUFDLEVBQzFCNUcsaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxDQUFDLENBQUMsQ0FDNUMsRUFBRVIsdUJBQXVCLENBQUM7QUFDM0IsTUFBTVMsaUJBQWlCLEdBQUcsSUFBSXRLLHlEQUFjLENBQUMsNkJBQTZCLENBQUM7QUFFM0UsTUFBTXVLLFNBQVMsQ0FBQztFQUNadkUsV0FBV0EsQ0FBQ3dFLEdBQUcsRUFBRTtJQUNiLElBQUksQ0FBQ0EsR0FBRyxHQUFHQSxHQUFHO0lBQ2QsSUFBSSxDQUFDbkMsSUFBSSxHQUFHbUMsR0FBRyxZQUFZdEssdURBQVksR0FBR3NLLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDQyxhQUFhLEdBQUdGLEdBQUcsQ0FBQ0csU0FBUyxDQUFDQyxJQUFJLENBQUVDLENBQUMsSUFBSyxFQUFFQSxDQUFDLFlBQVkzRSxhQUFhLENBQUMsQ0FBQztJQUMvSCxJQUFJLENBQUM0RSxtQkFBbUIsR0FBR3JDLHNCQUFzQixDQUFDLElBQUksQ0FBQ0osSUFBSSxDQUFDO0VBQ2hFO0VBQ0EwQyxvQkFBb0JBLENBQUEsRUFBRztJQUNuQmhDLG9CQUFvQixDQUFDLElBQUksQ0FBQytCLG1CQUFtQixDQUFDO0VBQ2xEO0FBQ0o7QUFFQSxNQUFNRSxXQUFXLFNBQVM5TywyREFBVyxDQUFDO0VBQ2xDOEosV0FBV0EsQ0FBQ2lGLGVBQWUsRUFBRTtJQUN6QixLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0MsT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUNELGVBQWUsR0FBR0EsZUFBZTtFQUMxQztFQUNBLElBQUlFLFNBQVNBLENBQUEsRUFBRztJQUNaLE9BQU8sSUFBSSxDQUFDQyxVQUFVO0VBQzFCO0VBQ0EsSUFBSUQsU0FBU0EsQ0FBQzNFLEtBQUssRUFBRTtJQUNqQixJQUFJLENBQUM0RSxVQUFVLEdBQUc1RSxLQUFLO0VBQzNCO0VBQ0E7RUFDQTtFQUNBLElBQUkwQyxPQUFPQSxDQUFBLEVBQUc7SUFDVixPQUFPLElBQUksQ0FBQ21DLFFBQVE7RUFDeEI7RUFDQSxJQUFJbkMsT0FBT0EsQ0FBQzFDLEtBQUssRUFBRTtJQUNmLElBQUksSUFBSSxDQUFDNkUsUUFBUSxFQUFFO01BQ2YsSUFBSSxDQUFDQSxRQUFRLENBQUN2QyxVQUFVLEdBQUd3QyxTQUFTO0lBQ3hDO0lBQ0EsSUFBSSxDQUFDRCxRQUFRLEdBQUc3RSxLQUFLO0lBQ3JCLElBQUlBLEtBQUssRUFBRTtNQUNQLElBQUksQ0FBQzZFLFFBQVEsQ0FBQ3ZDLFVBQVUsR0FBRyxJQUFJO0lBQ25DO0lBQ0EsSUFBSSxDQUFDcUMsU0FBUyxHQUFHM0UsS0FBSztJQUN0QixJQUFJLElBQUksQ0FBQzZFLFFBQVEsWUFBWWxQLGtFQUFrQixFQUFFO01BQzdDLE1BQU1vUCxJQUFJLEdBQUcsSUFBSWpQLDBEQUFVLENBQUMsQ0FBQztNQUM3QmlQLElBQUksQ0FBQ04sZUFBZSxHQUFHLElBQUksQ0FBQ0EsZUFBZTtNQUMzQ00sSUFBSSxDQUFDQyxRQUFRLENBQUMsSUFBSSxDQUFDSCxRQUFRLENBQUM7TUFDNUIsSUFBSSxDQUFDRixTQUFTLEdBQUdJLElBQUk7SUFDekI7SUFDQSxJQUFJLElBQUksQ0FBQ0osU0FBUyxFQUFFO01BQ2hCO01BQ0E7SUFBQTtFQUVSO0VBQ0FNLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ2pCLElBQUksSUFBSSxDQUFDUCxPQUFPLEtBQUssQ0FBQyxDQUFDLEVBQUU7TUFDckIsSUFBSSxDQUFDQSxPQUFPLEdBQUdRLFVBQVUsQ0FBQyxNQUFNO1FBQzVCO1FBQ0FuUCw0REFBVyxDQUFDb1AsYUFBYSxDQUFDO1VBQ3RCQyxNQUFNLEVBQUVBLENBQUEsS0FBTSxJQUFJLENBQUMxQztRQUN2QixDQUFDLENBQUM7UUFDRixJQUFJLENBQUNnQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO01BQ3JCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDVDtFQUNKO0FBQ0o7QUFDQSxNQUFNVyxnQkFBZ0IsU0FBU3ZQLDBEQUFVLENBQUM7RUFDdEMwSixXQUFXQSxDQUFDaUYsZUFBZSxFQUFFO0lBQ3pCLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDQSxlQUFlLEdBQUdBLGVBQWU7RUFDMUM7RUFDQSxJQUFJRSxTQUFTQSxDQUFBLEVBQUc7SUFDWixPQUFPLElBQUk7RUFDZjtFQUNBLElBQUlBLFNBQVNBLENBQUMzRSxLQUFLLEVBQUU7SUFDakI7RUFBQTtBQUVSO0FBRUEsTUFBTXNGLDBCQUEwQixDQUFDO0VBQzdCOUYsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDK0YsZ0JBQWdCLEdBQUcsSUFBSW5JLGtEQUFlLENBQUMsS0FBSyxDQUFDO0lBQ2xELElBQUksQ0FBQ29JLGVBQWUsR0FBRyxJQUFJcEksa0RBQWUsQ0FBQyxJQUFJLENBQUM7SUFDaEQsSUFBSSxDQUFDcUksa0JBQWtCLEdBQUcsSUFBSSxDQUFDRixnQkFBZ0IsQ0FBQ0csSUFBSSxDQUFDM0ksdURBQU0sQ0FBRTRJLEtBQUssSUFBS0EsS0FBSyxDQUFDLENBQUM7RUFDbEY7RUFDQTtBQUNKO0FBQ0E7QUFDQTtFQUNJQyxpQkFBaUJBLENBQUEsRUFBRztJQUNoQixJQUFJLENBQUNKLGVBQWUsQ0FBQy9CLElBQUksQ0FBQyxLQUFLLENBQUM7RUFDcEM7RUFDQTtBQUNKO0FBQ0E7RUFDSW9DLG9CQUFvQkEsQ0FBQSxFQUFHO0lBQ25CLElBQUksQ0FBQ0wsZUFBZSxDQUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQztFQUNuQztFQUNBcUMsaUJBQWlCQSxDQUFBLEVBQUc7SUFDaEIsT0FBTyxJQUFJLENBQUNQLGdCQUFnQixDQUFDdkYsS0FBSztFQUN0QztFQUNBK0YsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDUCxlQUFlLENBQUNRLFFBQVEsQ0FBQyxDQUFDO0lBQy9CLElBQUksQ0FBQ1QsZ0JBQWdCLENBQUNTLFFBQVEsQ0FBQyxDQUFDO0VBQ3BDO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7RUFDSUMsc0JBQXNCQSxDQUFBLEVBQUc7SUFDckIsSUFBSSxDQUFDVixnQkFBZ0IsQ0FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDcEM7RUFDQTtJQUFTLElBQUksQ0FBQ3lDLElBQUksWUFBQUMsbUNBQUE1RixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RitFLDBCQUEwQjtJQUFBLENBQW9EO0VBQUU7RUFDMUw7SUFBUyxJQUFJLENBQUNjLEtBQUssa0JBRDZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUFDWWhCLDBCQUEwQjtNQUFBaUIsT0FBQSxFQUExQmpCLDBCQUEwQixDQUFBWSxJQUFBO01BQUFNLFVBQUEsRUFBYztJQUFNLEVBQUc7RUFBRTtBQUNySztBQUNBO0VBQUEsUUFBQUMsU0FBQSxvQkFBQUEsU0FBQSxLQUhvR2xOLCtEQUFFLENBR1grTCwwQkFBMEIsRUFBYyxDQUFDO0lBQ3hIcUIsSUFBSSxFQUFFaE4scURBQVU7SUFDaEJpTixJQUFJLEVBQUUsQ0FBQztNQUFFSixVQUFVLEVBQUU7SUFBTyxDQUFDO0VBQ2pDLENBQUMsQ0FBQztBQUFBO0FBRVYsTUFBTUssaUJBQWlCLENBQUM7RUFDcEI7SUFBUyxJQUFJLENBQUNDLHVCQUF1QixHQUFHLGVBQWU7RUFBRTtFQUN6RDtJQUFTLElBQUksQ0FBQ0MscUJBQXFCLEdBQUcsYUFBYTtFQUFFO0VBQ3JEO0lBQVMsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxjQUFjO0VBQUU7RUFDakQ7SUFBUyxJQUFJLENBQUNDLG1CQUFtQixHQUFHLFdBQVc7RUFBRTtFQUNqRDtJQUFTLElBQUksQ0FBQ0MsK0JBQStCLEdBQUcseUJBQXlCO0VBQUU7RUFDM0U7SUFBUyxJQUFJLENBQUNDLHFCQUFxQixHQUFHLGNBQWM7RUFBRTtFQUN0RDtJQUFTLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsV0FBVztFQUFFO0VBQy9DO0VBQ0E7SUFBUyxJQUFJLENBQUNDLE9BQU8sR0FBR3JSLHNEQUFLLENBQUNzUixTQUFTLENBQUMsQ0FBQztFQUFFO0VBQzNDLE9BQU9DLFlBQVlBLENBQUEsRUFBRztJQUNsQixPQUFPdlIsc0RBQUssQ0FBQ3NSLFNBQVMsQ0FBQyxDQUFDO0VBQzVCO0VBQ0EsT0FBT0UsYUFBYUEsQ0FBQ0MsT0FBTyxFQUFFO0lBQzFCelIsc0RBQUssQ0FBQzBSLEtBQUssQ0FBQ0QsT0FBTyxFQUFFWixpQkFBaUIsQ0FBQ0MsdUJBQXVCLENBQUM7RUFDbkU7RUFDQSxPQUFPYSxXQUFXQSxDQUFDQyxHQUFHLEVBQUU7SUFDcEI1UixzREFBSyxDQUFDMFIsS0FBSyxDQUFDRSxHQUFHLEVBQUVmLGlCQUFpQixDQUFDRSxxQkFBcUIsQ0FBQztFQUM3RDtFQUNBLE9BQU9jLGFBQWFBLENBQUNKLE9BQU8sRUFBRTtJQUMxQnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNFLHFCQUFxQixFQUFFL1Esc0RBQUssQ0FBQzhSLFdBQVcsQ0FBQ0MsS0FBSyxDQUFDO0VBQzFGO0VBQ0EsT0FBT0MsV0FBV0EsQ0FBQ0osR0FBRyxFQUFFO0lBQ3BCNVIsc0RBQUssQ0FBQzBSLEtBQUssQ0FBQ0UsR0FBRyxFQUFFZixpQkFBaUIsQ0FBQ0csZ0JBQWdCLENBQUM7RUFDeEQ7RUFDQSxPQUFPaUIsU0FBU0EsQ0FBQ1IsT0FBTyxFQUFFO0lBQ3RCelIsc0RBQUssQ0FBQzBSLEtBQUssQ0FBQ0QsT0FBTyxFQUFFWixpQkFBaUIsQ0FBQ0ksbUJBQW1CLENBQUM7RUFDL0Q7RUFDQSxPQUFPaUIsV0FBV0EsQ0FBQ1QsT0FBTyxFQUFFO0lBQ3hCelIsc0RBQUssQ0FBQzBSLEtBQUssQ0FBQ0QsT0FBTyxFQUFFWixpQkFBaUIsQ0FBQ0ksbUJBQW1CLEVBQUVqUixzREFBSyxDQUFDOFIsV0FBVyxDQUFDQyxLQUFLLENBQUM7RUFDeEY7RUFDQSxPQUFPSSxxQkFBcUJBLENBQUNWLE9BQU8sRUFBRTtJQUNsQ3pSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNLLCtCQUErQixDQUFDO0VBQzNFO0VBQ0EsT0FBT2tCLFVBQVVBLENBQUNYLE9BQU8sRUFBRTtJQUN2QnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRXpSLHNEQUFLLENBQUNxUyxVQUFVLENBQUNDLEtBQUssRUFBRXRTLHNEQUFLLENBQUM4UixXQUFXLENBQUNDLEtBQUssQ0FBQztFQUN6RTtFQUNBLE9BQU9RLFdBQVdBLENBQUNkLE9BQU8sRUFBRTtJQUN4QnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNNLHFCQUFxQixDQUFDO0VBQ2pFO0VBQ0EsT0FBT3FCLGFBQWFBLENBQUNmLE9BQU8sRUFBRTtJQUMxQnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNNLHFCQUFxQixFQUFFblIsc0RBQUssQ0FBQzhSLFdBQVcsQ0FBQ0MsS0FBSyxDQUFDO0VBQzFGO0VBQ0EsT0FBT1UsWUFBWUEsQ0FBQ2hCLE9BQU8sRUFBRTtJQUN6QnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNPLGlCQUFpQixDQUFDO0VBQzdEO0VBQ0EsT0FBT3NCLGlCQUFpQkEsQ0FBQ2pCLE9BQU8sRUFBRTtJQUM5QnpSLHNEQUFLLENBQUMwUixLQUFLLENBQUNELE9BQU8sRUFBRVosaUJBQWlCLENBQUNPLGlCQUFpQixFQUFFcFIsc0RBQUssQ0FBQzhSLFdBQVcsQ0FBQ0MsS0FBSyxDQUFDO0VBQ3RGO0FBQ0o7QUFFQSxNQUFNWSxzQkFBc0IsU0FBU25NLHdEQUFVLENBQUM7RUFDNUNvTSxLQUFLQSxDQUFBLEVBQUc7SUFDSixPQUFPLElBQUlDLGNBQWMsQ0FBQyxDQUFDO0VBQy9CO0VBQ0E7SUFBUyxJQUFJLENBQUMzQyxJQUFJO01BQUEsSUFBQTRDLG1DQUFBO01BQUEsZ0JBQUFDLCtCQUFBeEksQ0FBQTtRQUFBLFFBQUF1SSxtQ0FBQSxLQUFBQSxtQ0FBQSxHQS9EOEV2UCxtRUFBRSxDQStEUW9QLHNCQUFzQixJQUFBcEksQ0FBQSxJQUF0Qm9JLHNCQUFzQjtNQUFBO0lBQUEsSUFBc0Q7RUFBRTtFQUN4TDtJQUFTLElBQUksQ0FBQ3ZDLEtBQUssa0JBaEU2RTdNLGdFQUFFO01BQUErTSxLQUFBLEVBZ0VZcUMsc0JBQXNCO01BQUFwQyxPQUFBLEVBQXRCb0Msc0JBQXNCLENBQUF6QztJQUFBLEVBQUc7RUFBRTtBQUM3STtBQUNBO0VBQUEsUUFBQU8sU0FBQSxvQkFBQUEsU0FBQSxLQWxFb0dsTiwrREFBRSxDQWtFWG9QLHNCQUFzQixFQUFjLENBQUM7SUFDcEhoQyxJQUFJLEVBQUVoTixxREFBVUE7RUFDcEIsQ0FBQyxDQUFDO0FBQUE7QUFFVixNQUFNc1AsU0FBUyxHQUFHO0VBQ2RDLFdBQVcsRUFBRUEsQ0FBQzFHLE1BQU0sRUFBRTJHLEtBQUssS0FBSztJQUM1QjtJQUNBLElBQUlySCxlQUFlLENBQUNxSCxLQUFLLENBQUMsRUFBRTtNQUN4QjtJQUNKLENBQUMsTUFDSSxJQUFJQSxLQUFLLFlBQVl2VCxvREFBSSxFQUFFO01BQzVCNE0sTUFBTSxDQUFDNEcsUUFBUSxDQUFDO1FBQUVoRSxNQUFNLEVBQUVBLENBQUEsS0FBTStEO01BQU0sQ0FBQyxDQUFDO0lBQzVDLENBQUMsTUFDSTtNQUNELE1BQU0sSUFBSUUsS0FBSyxDQUFDLHFDQUFxQyxDQUFDO0lBQzFEO0VBQ0o7QUFDSixDQUFDO0FBQ0QsTUFBTUMsbUJBQW1CLEdBQUc7RUFDeEJKLFdBQVdBLENBQUMxRyxNQUFNLEVBQUUyRyxLQUFLLEVBQUUxRixJQUFJLEVBQUU7SUFDN0IsTUFBTThGLEtBQUssR0FBRy9HLE1BQU0sQ0FBQ2dILEtBQUssQ0FBQ0MsT0FBTyxDQUFDaEcsSUFBSSxDQUFDO0lBQ3hDLElBQUk4RixLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUU7TUFDWi9HLE1BQU0sQ0FBQ2dILEtBQUssQ0FBQ0UsTUFBTSxDQUFDSCxLQUFLLEVBQUUsQ0FBQyxFQUFFSixLQUFLLENBQUM7SUFDeEMsQ0FBQyxNQUNJO01BQ0QzRyxNQUFNLENBQUNnSCxLQUFLLENBQUNySSxJQUFJLENBQUNnSSxLQUFLLENBQUM7SUFDNUI7RUFDSixDQUFDO0VBQ0QxRyxXQUFXQSxDQUFDRCxNQUFNLEVBQUUyRyxLQUFLLEVBQUU7SUFDdkIsTUFBTUksS0FBSyxHQUFHL0csTUFBTSxDQUFDZ0gsS0FBSyxDQUFDQyxPQUFPLENBQUNOLEtBQUssQ0FBQztJQUN6QyxJQUFJSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUU7TUFDWi9HLE1BQU0sQ0FBQ2dILEtBQUssQ0FBQ0UsTUFBTSxDQUFDSCxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDO0VBQ0o7QUFDSixDQUFDO0FBQ0QsTUFBTUksWUFBWSxHQUFHO0VBQ2pCVCxXQUFXQSxDQUFDMUcsTUFBTSxFQUFFMkcsS0FBSyxFQUFFMUYsSUFBSSxFQUFFO0lBQzdCLElBQUkwRixLQUFLLFlBQVlsVCxnRUFBZSxFQUFFO01BQ2xDdU0sTUFBTSxDQUFDb0gsYUFBYSxHQUFHVCxLQUFLO0lBQ2hDLENBQUMsTUFDSSxJQUFJQSxLQUFLLFlBQVlqVCxxREFBSSxFQUFFO01BQzVCc00sTUFBTSxDQUFDb0gsYUFBYSxLQUFLLElBQUkzVCxnRUFBZSxDQUFDLENBQUM7TUFDOUNxVCxtQkFBbUIsQ0FBQ0osV0FBVyxDQUFDMUcsTUFBTSxDQUFDb0gsYUFBYSxFQUFFVCxLQUFLLEVBQUUxRixJQUFJLENBQUM7SUFDdEU7RUFDSixDQUFDO0VBQ0RoQixXQUFXQSxDQUFDRCxNQUFNLEVBQUUyRyxLQUFLLEVBQUU7SUFDdkIsSUFBSSxDQUFDM0csTUFBTSxDQUFDb0gsYUFBYSxFQUNyQjtJQUNKLElBQUlULEtBQUssWUFBWWxULGdFQUFlLEVBQUU7TUFDbEMsSUFBSXVNLE1BQU0sQ0FBQ29ILGFBQWEsS0FBS1QsS0FBSyxFQUFFO1FBQ2hDM0csTUFBTSxDQUFDb0gsYUFBYSxHQUFHLElBQUk7TUFDL0I7SUFDSixDQUFDLE1BQ0ksSUFBSVQsS0FBSyxZQUFZalQscURBQUksRUFBRTtNQUM1Qm9ULG1CQUFtQixDQUFDN0csV0FBVyxDQUFDRCxNQUFNLENBQUNvSCxhQUFhLEVBQUVULEtBQUssQ0FBQztJQUNoRTtFQUNKO0FBQ0osQ0FBQztBQUVELE1BQU1VLFVBQVUsR0FBRyxJQUFJakosR0FBRyxDQUFDLENBQUM7QUFDNUIsTUFBTWtKLGNBQWMsR0FBRyxvQkFBb0I7QUFDM0MsTUFBTUMsZUFBZSxHQUFHO0VBQUU3SixZQUFZLEVBQUU7QUFBTSxDQUFDO0FBQy9DLFNBQVM4SixlQUFlQSxDQUFDQyxXQUFXLEVBQUVDLFFBQVEsRUFBRWpLLElBQUksRUFBRTtFQUNsRCxNQUFNa0ssS0FBSyxHQUFHO0lBQUVELFFBQVE7SUFBRWpLO0VBQUssQ0FBQztFQUNoQzRKLFVBQVUsQ0FBQ3pJLEdBQUcsQ0FBQzZJLFdBQVcsRUFBRUUsS0FBSyxDQUFDO0VBQ2xDTixVQUFVLENBQUN6SSxHQUFHLENBQUM2SSxXQUFXLENBQUNHLFdBQVcsQ0FBQyxDQUFDLEVBQUVELEtBQUssQ0FBQztFQUNoRE4sVUFBVSxDQUFDekksR0FBRyxDQUFDNkksV0FBVyxDQUFDSSxPQUFPLENBQUNQLGNBQWMsRUFBRSxPQUFPLENBQUMsQ0FBQ00sV0FBVyxDQUFDLENBQUMsRUFBRUQsS0FBSyxDQUFDO0FBQ3JGO0FBQ0EsU0FBU0csWUFBWUEsQ0FBQ0wsV0FBVyxFQUFFO0VBQy9CLE1BQU1FLEtBQUssR0FBR04sVUFBVSxDQUFDM0ksR0FBRyxDQUFDK0ksV0FBVyxDQUFDLElBQUlKLFVBQVUsQ0FBQzNJLEdBQUcsQ0FBQytJLFdBQVcsQ0FBQ0csV0FBVyxDQUFDLENBQUMsQ0FBQztFQUN0RixJQUFJLENBQUNELEtBQUssRUFBRTtJQUNSLE1BQU0sSUFBSUksU0FBUyxDQUFFLGtDQUFpQ04sV0FBWSxHQUFFLENBQUM7RUFDekU7RUFDQSxJQUFJO0lBQ0EsT0FBT0UsS0FBSyxDQUFDRCxRQUFRLENBQUMsQ0FBQztFQUMzQixDQUFDLENBQ0QsT0FBT00sQ0FBQyxFQUFFO0lBQ04sTUFBTSxJQUFJRCxTQUFTLENBQUUsNEJBQTJCTixXQUFZLElBQUdPLENBQUUsRUFBQyxDQUFDO0VBQ3ZFO0FBQ0o7QUFDQSxTQUFTQyxXQUFXQSxDQUFDN0ssUUFBUSxFQUFFO0VBQzNCLE1BQU11SyxLQUFLLEdBQUdOLFVBQVUsQ0FBQzNJLEdBQUcsQ0FBQ3RCLFFBQVEsQ0FBQyxJQUFJaUssVUFBVSxDQUFDM0ksR0FBRyxDQUFDdEIsUUFBUSxDQUFDd0ssV0FBVyxDQUFDLENBQUMsQ0FBQztFQUNoRixPQUFRRCxLQUFLLElBQUlBLEtBQUssQ0FBQ2xLLElBQUksSUFBSzhKLGVBQWU7QUFDbkQ7QUFDQSxTQUFTVyxXQUFXQSxDQUFDVCxXQUFXLEVBQUU7RUFDOUIsT0FBT0osVUFBVSxDQUFDYyxHQUFHLENBQUNWLFdBQVcsQ0FBQyxJQUFJSixVQUFVLENBQUNjLEdBQUcsQ0FBQ1YsV0FBVyxDQUFDRyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ25GO0FBQ0EsU0FBU1EsMEJBQTBCQSxDQUFDQyxLQUFLLEVBQUVDLFNBQVMsRUFBRTtFQUNsRCxNQUFNQyxXQUFXLEdBQUdGLEtBQUssQ0FBQzlOLE1BQU0sQ0FBRXNGLElBQUksSUFBSyxFQUFFQSxJQUFJLFlBQVkzQyxhQUFhLENBQUMsQ0FBQztFQUM1RSxJQUFJcUwsV0FBVyxDQUFDQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQzFCLE1BQU0sSUFBSTNCLEtBQUssQ0FBRSw0Q0FBMkMsR0FBSSxrQkFBaUJ5QixTQUFVLEVBQUMsQ0FBQztFQUNqRyxDQUFDLE1BQ0ksSUFBSUMsV0FBVyxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0lBQzdCLE1BQU0sSUFBSTNCLEtBQUssQ0FBRSw0Q0FBMkMsR0FBSSxrQkFBaUJ5QixTQUFVLEVBQUMsQ0FBQztFQUNqRztFQUNBLE1BQU1HLFVBQVUsR0FBR0YsV0FBVyxDQUFDLENBQUMsQ0FBQztFQUNqQyxJQUFJLENBQUNFLFVBQVUsRUFBRTtJQUNiLE9BQU9MLDBCQUEwQixDQUFDSyxVQUFVLENBQUNDLFFBQVEsRUFBRUosU0FBUyxHQUFHLENBQUMsQ0FBQztFQUN6RTtFQUNBLE1BQU1LLFlBQVksR0FBR0YsVUFBVSxDQUFDekksTUFBTTtFQUN0QyxJQUFJMkksWUFBWSxZQUFZMVYsMERBQVUsRUFBRTtJQUNwQyxNQUFNNE0sSUFBSSxHQUFHNEksVUFBVSxDQUFDM0ksVUFBVTtJQUNsQzZJLFlBQVksQ0FBQzFJLFdBQVcsQ0FBQ3dJLFVBQVUsQ0FBQztJQUNwQ0EsVUFBVSxDQUFDM0ksVUFBVSxHQUFHRCxJQUFJO0VBQ2hDO0VBQ0EsT0FBTzRJLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRyxzQkFBc0JBLENBQUNQLEtBQUssRUFBRUMsU0FBUyxFQUFFO0VBQzlDLE9BQU9GLDBCQUEwQixDQUFDQyxLQUFLLEVBQUVDLFNBQVMsQ0FBQztBQUN2RDs7QUFFQTtBQUNBO0FBQ0EsU0FBU08sa0NBQWtDQSxDQUFBLEVBQUc7RUFDMUMsSUFBSSxDQUFDQyxNQUFNLENBQUNDLG1CQUFtQixFQUFFO0lBQzdCRCxNQUFNLENBQUNDLG1CQUFtQixHQUFHLElBQUk7SUFDakN2QixlQUFlLENBQUMsZ0JBQWdCLEVBQUUsTUFBTTdULCtEQUFjLENBQUM7SUFDdkQ2VCxlQUFlLENBQUMsbUJBQW1CLEVBQUUsTUFBTTVULGtFQUFpQixDQUFDO0lBQzdENFQsZUFBZSxDQUFDLFFBQVEsRUFBRSxNQUFNM1QsdURBQU0sRUFBRXNULFlBQVksQ0FBQztJQUNyREssZUFBZSxDQUFDLGFBQWEsRUFBRSxNQUFNdFUsMkRBQVcsQ0FBQztJQUNqRHNVLGVBQWUsQ0FBQyxZQUFZLEVBQUUsTUFBTTFULDJEQUFVLENBQUM7SUFDL0MwVCxlQUFlLENBQUMsWUFBWSxFQUFFLE1BQU16VCwyREFBVSxDQUFDO0lBQy9DeVQsZUFBZSxDQUFDLE9BQU8sRUFBRSxNQUFNeFQsc0RBQUssRUFBRXlTLFNBQVMsQ0FBQztJQUNoRGUsZUFBZSxDQUFDLFlBQVksRUFBRSxNQUFNbFUsMERBQVUsQ0FBQztJQUMvQ2tVLGVBQWUsQ0FBQyxVQUFVLEVBQUUsTUFBTXZULHlEQUFRLENBQUM7SUFDM0N1VCxlQUFlLENBQUMsT0FBTyxFQUFFLE1BQU10VCxzREFBSyxDQUFDO0lBQ3JDO0lBQ0FzVCxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU10VCxzREFBSyxDQUFDO0lBQ25Dc1QsZUFBZSxDQUFDLE9BQU8sRUFBRSxNQUFNclQsc0RBQUssRUFBRWdULFlBQVksQ0FBQztJQUNuREssZUFBZSxDQUFDLFlBQVksRUFBRSxNQUFNcFQsMkRBQVUsQ0FBQztJQUMvQ29ULGVBQWUsQ0FBQyxVQUFVLEVBQUUsTUFBTW5ULHlEQUFRLENBQUM7SUFDM0NtVCxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU1wVSxvREFBSSxDQUFDO0lBQ25Db1UsZUFBZSxDQUFDLGFBQWEsRUFBRSxNQUFNbFQsNERBQVcsQ0FBQztJQUNqRGtULGVBQWUsQ0FBQyxVQUFVLEVBQUUsTUFBTWpULHlEQUFRLENBQUM7SUFDM0NpVCxlQUFlLENBQUMsb0JBQW9CLEVBQUUsTUFBTXJVLGtFQUFrQixDQUFDO0lBQy9EcVUsZUFBZSxDQUFDLFVBQVUsRUFBRSxNQUFNaFQseURBQVEsQ0FBQztJQUMzQ2dULGVBQWUsQ0FBQyxZQUFZLEVBQUUsTUFBTS9TLDJEQUFVLENBQUM7SUFDL0MrUyxlQUFlLENBQUMsWUFBWSxFQUFFLE1BQU05UywyREFBVSxDQUFDO0lBQy9DOFMsZUFBZSxDQUFDLFdBQVcsRUFBRSxNQUFNN1MsMERBQVMsQ0FBQztJQUM3QzZTLGVBQWUsQ0FBQyxjQUFjLEVBQUUsTUFBTTVTLDZEQUFZLENBQUM7SUFDbkQ0UyxlQUFlLENBQUMsa0JBQWtCLEVBQUUsTUFBTTNTLGlFQUFnQixDQUFDO0lBQzNEMlMsZUFBZSxDQUFDLFFBQVEsRUFBRSxNQUFNMVMsdURBQU0sQ0FBQztJQUN2QzBTLGVBQWUsQ0FBQyxhQUFhLEVBQUUsTUFBTXpTLDREQUFXLENBQUM7SUFDakR5UyxlQUFlLENBQUMsZUFBZSxFQUFFLE1BQU14Uyw4REFBYSxDQUFDO0lBQ3JEd1MsZUFBZSxDQUFDLFFBQVEsRUFBRSxNQUFNdlMsdURBQU0sQ0FBQztJQUN2Q3VTLGVBQWUsQ0FBQyxTQUFTLEVBQUUsTUFBTXRTLHdEQUFPLENBQUM7SUFDekNzUyxlQUFlLENBQUMsV0FBVyxFQUFFLE1BQU1yUywwREFBUyxFQUFFZ1MsWUFBWSxDQUFDO0lBQzNESyxlQUFlLENBQUMsVUFBVSxFQUFFLE1BQU1wUyx5REFBUSxFQUFFK1IsWUFBWSxDQUFDO0lBQ3pESyxlQUFlLENBQUMsWUFBWSxFQUFFLE1BQU1uUywyREFBVSxDQUFDO0lBQy9DbVMsZUFBZSxDQUFDLFNBQVMsRUFBRSxNQUFNbFMsd0RBQU8sQ0FBQztJQUN6Q2tTLGVBQWUsQ0FBQyxZQUFZLEVBQUUsTUFBTWpTLDJEQUFVLENBQUM7SUFDL0NpUyxlQUFlLENBQUMsaUJBQWlCLEVBQUUsTUFBTS9ULGdFQUFlLEVBQUVxVCxtQkFBbUIsQ0FBQztJQUM5RVUsZUFBZSxDQUFDLE1BQU0sRUFBRSxNQUFNOVQscURBQUksQ0FBQztFQUN2QztBQUNKOztBQUVBO0FBQ0E7QUFDQSxTQUFTc1YsYUFBYUEsQ0FBQ0MsUUFBUSxFQUFFO0VBQzdCLE9BQU8sY0FBYyxDQUFDQyxJQUFJLENBQUNELFFBQVEsQ0FBQztBQUN4QztBQUNBLE1BQU1FLGlCQUFpQixHQUFHLENBQUM7QUFDM0IsTUFBTUMsY0FBYyxHQUFHL0gsTUFBTSxDQUFDZ0ksTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztBQUNwRixNQUFNQyxrQkFBa0IsR0FBRyxLQUFLO0FBQ2hDLFNBQVNDLFdBQVdBLENBQUNsSyxJQUFJLEVBQUU7RUFDdkIsSUFBSVcsTUFBTSxHQUFHWCxJQUFJO0VBQ2pCLE9BQU9XLE1BQU0sQ0FBQ0EsTUFBTSxJQUFJQSxNQUFNLENBQUNBLE1BQU0sQ0FBQ3dKLFVBQVUsRUFBRTtJQUM5Q3hKLE1BQU0sR0FBR0EsTUFBTSxDQUFDQSxNQUFNO0VBQzFCO0VBQ0F5SixvQkFBb0IsQ0FBQ3pKLE1BQU0sQ0FBQztBQUNoQztBQUNBLFNBQVN5SixvQkFBb0JBLENBQUN6SixNQUFNLEVBQUU7RUFDbEMsTUFBTTBJLFFBQVEsR0FBRzFJLE1BQU0sQ0FBQ3dKLFVBQVUsR0FBRyxDQUFDeEosTUFBTSxDQUFDd0osVUFBVSxFQUFFLEdBQUdFLG1CQUFtQixDQUFDMUosTUFBTSxDQUFDd0osVUFBVSxDQUFDLENBQUNHLFlBQVksQ0FBQyxHQUFHLEVBQUU7RUFDckhDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLFdBQVU3SixNQUFPLGlCQUFnQkEsTUFBTSxDQUFDd0osVUFBVyxnQkFBZXhKLE1BQU0sQ0FBQzhKLFNBQVUsY0FBYXBCLFFBQVMsRUFBQyxDQUFDO0VBQ3hILElBQUkxSSxNQUFNLENBQUN3SixVQUFVLEVBQUU7SUFDbkJJLE9BQU8sQ0FBQ0MsR0FBRyxDQUFFLGVBQWM3SixNQUFPLEVBQUMsQ0FBQztFQUN4QztFQUNBMEksUUFBUSxDQUFDM0osT0FBTyxDQUFFZ0wsQ0FBQyxJQUFLTixvQkFBb0IsQ0FBQ00sQ0FBQyxDQUFDLENBQUM7RUFDaEQsSUFBSS9KLE1BQU0sQ0FBQ3dKLFVBQVUsRUFBRTtJQUNuQkksT0FBTyxDQUFDQyxHQUFHLENBQUUsYUFBWTdKLE1BQU8sRUFBQyxDQUFDO0VBQ3RDO0FBQ0o7QUFDQSxTQUFTMEosbUJBQW1CQSxDQUFDckssSUFBSSxFQUFFO0VBQy9CLE1BQU1zSyxZQUFZLEdBQUcsRUFBRTtFQUN2QixNQUFNSyxnQkFBZ0IsR0FBRyxFQUFFO0VBQzNCLElBQUlDLE9BQU8sR0FBRzVLLElBQUksQ0FBQzZLLFdBQVc7RUFDOUIsT0FBT0QsT0FBTyxFQUFFO0lBQ1pOLFlBQVksQ0FBQ2hMLElBQUksQ0FBQ3NMLE9BQU8sQ0FBQztJQUMxQkEsT0FBTyxHQUFHQSxPQUFPLENBQUNDLFdBQVc7RUFDakM7RUFDQUQsT0FBTyxHQUFHNUssSUFBSSxDQUFDOEssZUFBZTtFQUM5QixPQUFPRixPQUFPLEVBQUU7SUFDWkQsZ0JBQWdCLENBQUNyTCxJQUFJLENBQUNzTCxPQUFPLENBQUM7SUFDOUJBLE9BQU8sR0FBR0EsT0FBTyxDQUFDRSxlQUFlO0VBQ3JDO0VBQ0EsT0FBTztJQUNISCxnQkFBZ0I7SUFDaEJMO0VBQ0osQ0FBQztBQUNMO0FBQ0EsU0FBU1MsaUJBQWlCQSxDQUFDL0ssSUFBSSxFQUFFO0VBQzdCLE1BQU07SUFBRTJLLGdCQUFnQjtJQUFFTDtFQUFhLENBQUMsR0FBR0QsbUJBQW1CLENBQUNySyxJQUFJLENBQUM7RUFDcEV1SyxPQUFPLENBQUNDLEdBQUcsQ0FBRSxHQUFFeEssSUFBSyxzQkFBcUIySyxnQkFBaUIsa0JBQWlCTCxZQUFhLEVBQUMsQ0FBQztBQUM5RjtBQUNBO0FBQ0EsTUFBTVUsWUFBWSxHQUFHLElBQUlqTSxHQUFHLENBQUMsQ0FBQztBQUM5QixNQUFNa00sUUFBUSxDQUFDO0VBQ1h0TixXQUFXQSxDQUFDdU4sZ0JBQWdCLEVBQUVDLFVBQVUsRUFBRTtJQUN0QyxJQUFJLENBQUNELGdCQUFnQixHQUFHQSxnQkFBZ0I7SUFDeEMsSUFBSSxDQUFDQyxVQUFVLEdBQUdBLFVBQVU7RUFDaEM7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJOUQsV0FBV0EsQ0FBQzFHLE1BQU0sRUFBRTJHLEtBQUssRUFBRThELFFBQVEsRUFBRXhKLElBQUksRUFBRTtJQUN2QyxJQUFJLENBQUNqQixNQUFNLEVBQUU7TUFDVDtJQUNKO0lBQ0EsTUFBTTBLLGNBQWMsR0FBRyxJQUFJLENBQUNDLHNCQUFzQixDQUFDM0ssTUFBTSxDQUFDO0lBQzFELE1BQU00SyxhQUFhLEdBQUcsSUFBSSxDQUFDRCxzQkFBc0IsQ0FBQ2hFLEtBQUssQ0FBQztJQUN4RDtJQUNBO0lBQ0E7SUFDQSxJQUFJaUUsYUFBYSxDQUFDOUssVUFBVSxFQUFFO01BQzFCLElBQUksQ0FBQ0csV0FBVyxDQUFDMkssYUFBYSxDQUFDOUssVUFBVSxFQUFFOEssYUFBYSxDQUFDO0lBQzdEO0lBQ0E7SUFDQSxJQUFJM0osSUFBSSxFQUFFO01BQ053SixRQUFRLEdBQUd4SixJQUFJLENBQUNrSixlQUFlO0lBQ25DLENBQUMsTUFDSSxJQUFJTSxRQUFRLEVBQUU7TUFDZjtNQUNBeEosSUFBSSxHQUFHd0osUUFBUSxDQUFDUCxXQUFXO0lBQy9CLENBQUMsTUFDSTtNQUNEO01BQ0FPLFFBQVEsR0FBR0MsY0FBYyxDQUFDWixTQUFTLENBQUMsQ0FBQztJQUN6QztJQUNBLElBQUksQ0FBQ2UsWUFBWSxDQUFDSCxjQUFjLEVBQUVFLGFBQWEsRUFBRUgsUUFBUSxFQUFFeEosSUFBSSxDQUFDO0lBQ2hFLElBQUkvQixpQkFBaUIsQ0FBQ3lILEtBQUssQ0FBQyxJQUFJckgsZUFBZSxDQUFDcUgsS0FBSyxDQUFDLEVBQUU7TUFDcERpRSxhQUFhLENBQUM5SyxVQUFVLEdBQUc0SyxjQUFjO0lBQzdDO0lBQ0EsSUFBSSxDQUFDeEwsaUJBQWlCLENBQUN5SCxLQUFLLENBQUMsRUFBRTtNQUMzQixNQUFNbUUsVUFBVSxHQUFHLElBQUksQ0FBQ0MsY0FBYyxDQUFDOUosSUFBSSxDQUFDO01BQzVDLElBQUksQ0FBQytKLGVBQWUsQ0FBQ04sY0FBYyxFQUFFRSxhQUFhLEVBQUVFLFVBQVUsQ0FBQztJQUNuRSxDQUFDLE1BQ0ksSUFBSXhMLGVBQWUsQ0FBQ3NMLGFBQWEsQ0FBQyxFQUFFO01BQ3JDLE1BQU1FLFVBQVUsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQzlKLElBQUksQ0FBQztNQUM1QyxJQUFJLENBQUNnSyxnQkFBZ0IsQ0FBQ1AsY0FBYyxFQUFFRSxhQUFhLEVBQUVFLFVBQVUsQ0FBQztJQUNwRTtJQUNBO0VBQ0o7RUFDQUksWUFBWUEsQ0FBQ2xMLE1BQU0sRUFBRTJHLEtBQUssRUFBRXdFLFFBQVEsRUFBRTtJQUNsQyxNQUFNQyxXQUFXLEdBQUdELFFBQVEsR0FBRyxJQUFJLENBQUNSLHNCQUFzQixDQUFDUSxRQUFRLENBQUMsR0FBRzdJLFNBQVM7SUFDaEYsSUFBSSxDQUFDb0UsV0FBVyxDQUFDMUcsTUFBTSxFQUFFMkcsS0FBSyxFQUFFckUsU0FBUyxFQUFFOEksV0FBVyxDQUFDO0VBQzNEO0VBQ0FDLFdBQVdBLENBQUNyTCxNQUFNLEVBQUUyRyxLQUFLLEVBQUV3RSxRQUFRLEVBQUU7SUFDakMsTUFBTUMsV0FBVyxHQUFHRCxRQUFRLEdBQUcsSUFBSSxDQUFDUixzQkFBc0IsQ0FBQ1EsUUFBUSxDQUFDLEdBQUc3SSxTQUFTO0lBQ2hGLElBQUksQ0FBQ29FLFdBQVcsQ0FBQzFHLE1BQU0sRUFBRTJHLEtBQUssRUFBRXlFLFdBQVcsQ0FBQztFQUNoRDtFQUNBRSxXQUFXQSxDQUFDdEwsTUFBTSxFQUFFMkcsS0FBSyxFQUFFO0lBQ3ZCLElBQUksQ0FBQ0QsV0FBVyxDQUFDMUcsTUFBTSxFQUFFMkcsS0FBSyxDQUFDO0VBQ25DO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJa0UsWUFBWUEsQ0FBQzdLLE1BQU0sRUFBRTJHLEtBQUssRUFBRThELFFBQVEsRUFBRXhKLElBQUksRUFBRTtJQUN4QyxJQUFJb0QsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLGlDQUFnQ3hGLE1BQU8sV0FBVTJHLEtBQU0sSUFBRyxHQUFJLGFBQVk4RCxRQUFTLFdBQVV4SixJQUFLLEVBQUMsQ0FBQztJQUN2STtJQUNBLElBQUl3SixRQUFRLEVBQUU7TUFDVkEsUUFBUSxDQUFDUCxXQUFXLEdBQUd2RCxLQUFLO01BQzVCQSxLQUFLLENBQUN3RCxlQUFlLEdBQUdNLFFBQVE7SUFDcEMsQ0FBQyxNQUNJO01BQ0R6SyxNQUFNLENBQUN3SixVQUFVLEdBQUc3QyxLQUFLO0lBQzdCO0lBQ0EsSUFBSTFGLElBQUksRUFBRTtNQUNOMEYsS0FBSyxDQUFDdUQsV0FBVyxHQUFHakosSUFBSTtNQUN4QkEsSUFBSSxDQUFDa0osZUFBZSxHQUFHeEQsS0FBSztJQUNoQyxDQUFDLE1BQ0k7TUFDRDNHLE1BQU0sQ0FBQzhKLFNBQVMsR0FBR25ELEtBQUs7SUFDNUI7RUFDSjtFQUNBcUUsZUFBZUEsQ0FBQ2hMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTFGLElBQUksRUFBRTtJQUNqQyxJQUFJb0QsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLG9DQUFtQ3hGLE1BQU8sV0FBVTJHLEtBQU0sV0FBVTFGLElBQUssRUFBQyxDQUFDO0lBQzlHO0lBQ0EsSUFBSWpCLE1BQU0sQ0FBQ3ZDLElBQUksSUFBSXVDLE1BQU0sQ0FBQ3ZDLElBQUksQ0FBQ2lKLFdBQVcsRUFBRTtNQUN4QzFHLE1BQU0sQ0FBQ3ZDLElBQUksQ0FBQ2lKLFdBQVcsQ0FBQzFHLE1BQU0sRUFBRTJHLEtBQUssRUFBRTFGLElBQUksQ0FBQztJQUNoRCxDQUFDLE1BQ0ksSUFBSTFCLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDLEVBQUU7TUFDdkIsSUFBSSxDQUFDdUwsY0FBYyxDQUFDdkwsTUFBTSxFQUFFMkcsS0FBSyxFQUFFMUYsSUFBSSxDQUFDO0lBQzVDLENBQUMsTUFDSSxJQUFJekIsYUFBYSxDQUFDUSxNQUFNLENBQUMsRUFBRTtNQUM1QkEsTUFBTSxDQUFDRSxPQUFPLEdBQUd5RyxLQUFLO0lBQzFCLENBQUMsTUFDSSxJQUFJM0csTUFBTSxJQUFJQSxNQUFNLENBQUN3TCxvQkFBb0IsRUFBRTtNQUM1Q3hMLE1BQU0sQ0FBQ3dMLG9CQUFvQixDQUFDN0UsS0FBSyxDQUFDdkosUUFBUSxFQUFFdUosS0FBSyxDQUFDO0lBQ3REO0VBQ0o7RUFDQXNFLGdCQUFnQkEsQ0FBQ2pMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTFGLElBQUksRUFBRTtJQUNsQyxJQUFJakIsTUFBTSxDQUFDdkMsSUFBSSxFQUFFZ08sbUJBQW1CLEVBQUU7TUFDbEN6TCxNQUFNLENBQUN2QyxJQUFJLENBQUNnTyxtQkFBbUIsQ0FBQ3pMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTFGLElBQUksQ0FBQztJQUN4RCxDQUFDLE1BQ0k7TUFDRCxJQUFJMEYsS0FBSyxZQUFZaEosUUFBUSxFQUFFO1FBQzNCcUMsTUFBTSxDQUFDbkMsSUFBSSxHQUFHOEksS0FBSyxDQUFDOUksSUFBSTtRQUN4QjhJLEtBQUssQ0FBQ3RJLGtCQUFrQixDQUFFTixDQUFDLElBQU1pQyxNQUFNLENBQUNuQyxJQUFJLEdBQUdFLENBQUUsRUFBRWlDLE1BQU0sQ0FBQztNQUM5RDtJQUNKO0VBQ0o7RUFDQXVMLGNBQWNBLENBQUN2TCxNQUFNLEVBQUUyRyxLQUFLLEVBQUUxRixJQUFJLEVBQUU7SUFDaEMsSUFBSTBGLEtBQUssQ0FBQzNHLE1BQU0sS0FBS0EsTUFBTSxFQUFFO01BQ3pCLElBQUksQ0FBQzBMLGlCQUFpQixDQUFDMUwsTUFBTSxFQUFFMkcsS0FBSyxDQUFDO0lBQ3pDO0lBQ0EsTUFBTW1FLFVBQVUsR0FBRyxJQUFJLENBQUNDLGNBQWMsQ0FBQzlKLElBQUksQ0FBQztJQUM1QyxJQUFJNkosVUFBVSxFQUFFO01BQ1osTUFBTS9ELEtBQUssR0FBRy9HLE1BQU0sQ0FBQzJMLGFBQWEsQ0FBQ2IsVUFBVSxDQUFDO01BQzlDOUssTUFBTSxDQUFDMEcsV0FBVyxDQUFDQyxLQUFLLEVBQUVJLEtBQUssQ0FBQztJQUNwQyxDQUFDLE1BQ0k7TUFDRC9HLE1BQU0sQ0FBQ3dDLFFBQVEsQ0FBQ21FLEtBQUssQ0FBQztJQUMxQjtJQUNBO0VBQ0o7RUFDQW9FLGNBQWNBLENBQUMxTCxJQUFJLEVBQUU7SUFDakIsSUFBSTRCLElBQUksR0FBRzVCLElBQUk7SUFDZixPQUFPNEIsSUFBSSxJQUFJL0IsaUJBQWlCLENBQUMrQixJQUFJLENBQUMsRUFBRTtNQUNwQ0EsSUFBSSxHQUFHQSxJQUFJLENBQUNpSixXQUFXO0lBQzNCO0lBQ0EsT0FBT2pKLElBQUk7RUFDZjtFQUNBaEIsV0FBV0EsQ0FBQ0QsTUFBTSxFQUFFMkcsS0FBSyxFQUFFO0lBQ3ZCLElBQUl0QyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNtQixXQUFXLENBQUUsZ0NBQStCeEYsTUFBTyxXQUFVMkcsS0FBTSxFQUFDLENBQUM7SUFDM0Y7SUFDQSxJQUFJLENBQUMzRyxNQUFNLEVBQUU7TUFDVDtJQUNKO0lBQ0EsTUFBTTBLLGNBQWMsR0FBRyxJQUFJLENBQUNDLHNCQUFzQixDQUFDM0ssTUFBTSxDQUFDO0lBQzFELE1BQU00SyxhQUFhLEdBQUcsSUFBSSxDQUFDRCxzQkFBc0IsQ0FBQ2hFLEtBQUssQ0FBQztJQUN4RGlFLGFBQWEsQ0FBQzlLLFVBQVUsR0FBRyxJQUFJO0lBQy9CLElBQUksQ0FBQzhMLGNBQWMsQ0FBQ2xCLGNBQWMsRUFBRUUsYUFBYSxDQUFDO0lBQ2xELElBQUksQ0FBQzFMLGlCQUFpQixDQUFDMEwsYUFBYSxDQUFDLEVBQUU7TUFDbkMsSUFBSSxDQUFDaUIsb0JBQW9CLENBQUNuQixjQUFjLEVBQUVFLGFBQWEsQ0FBQztJQUM1RCxDQUFDLE1BQ0ksSUFBSXRMLGVBQWUsQ0FBQ3NMLGFBQWEsQ0FBQyxFQUFFO01BQ3JDLElBQUksQ0FBQ2tCLG1CQUFtQixDQUFDcEIsY0FBYyxFQUFFRSxhQUFhLENBQUM7SUFDM0Q7RUFDSjtFQUNBZ0IsY0FBY0EsQ0FBQzVMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTtJQUMxQixJQUFJdEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLG1DQUFrQ3hGLE1BQU8sV0FBVTJHLEtBQU0sRUFBQyxDQUFDO0lBQzlGO0lBQ0E7SUFDQSxJQUFJM0csTUFBTSxDQUFDd0osVUFBVSxLQUFLN0MsS0FBSyxJQUFJM0csTUFBTSxDQUFDOEosU0FBUyxLQUFLbkQsS0FBSyxFQUFFO01BQzNEM0csTUFBTSxDQUFDd0osVUFBVSxHQUFHLElBQUk7TUFDeEJ4SixNQUFNLENBQUM4SixTQUFTLEdBQUcsSUFBSTtNQUN2Qm5ELEtBQUssQ0FBQ3VELFdBQVcsR0FBRyxJQUFJO01BQ3hCdkQsS0FBSyxDQUFDd0QsZUFBZSxHQUFHLElBQUk7TUFDNUI7SUFDSjtJQUNBLE1BQU1NLFFBQVEsR0FBRzlELEtBQUssQ0FBQ3dELGVBQWU7SUFDdEMsTUFBTWxKLElBQUksR0FBRzBGLEtBQUssQ0FBQ3VELFdBQVc7SUFDOUI7SUFDQSxJQUFJbEssTUFBTSxDQUFDd0osVUFBVSxLQUFLN0MsS0FBSyxFQUFFO01BQzdCM0csTUFBTSxDQUFDd0osVUFBVSxHQUFHdkksSUFBSTtJQUM1QjtJQUNBO0lBQ0EsSUFBSWpCLE1BQU0sQ0FBQzhKLFNBQVMsS0FBS25ELEtBQUssRUFBRTtNQUM1QjNHLE1BQU0sQ0FBQzhKLFNBQVMsR0FBR1csUUFBUTtJQUMvQjtJQUNBO0lBQ0EsSUFBSUEsUUFBUSxFQUFFO01BQ1ZBLFFBQVEsQ0FBQ1AsV0FBVyxHQUFHakosSUFBSTtJQUMvQjtJQUNBO0lBQ0EsSUFBSUEsSUFBSSxFQUFFO01BQ05BLElBQUksQ0FBQ2tKLGVBQWUsR0FBR00sUUFBUTtJQUNuQztJQUNBO0lBQ0E5RCxLQUFLLENBQUN1RCxXQUFXLEdBQUcsSUFBSTtJQUN4QnZELEtBQUssQ0FBQ3dELGVBQWUsR0FBRyxJQUFJO0VBQ2hDO0VBQ0E7RUFDQTRCLG1CQUFtQkEsQ0FBQy9MLE1BQU0sRUFBRTJHLEtBQUssRUFBRTtJQUMvQixJQUFJdEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLHdDQUF1Q3hGLE1BQU8sV0FBVTJHLEtBQU0sRUFBQyxDQUFDO0lBQ25HO0lBQ0EsSUFBSXFGLGNBQWM7SUFDbEIsSUFBSXpNLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDLEVBQUU7TUFDbEJnTSxjQUFjLEdBQUcsSUFBSSxDQUFDQyx3QkFBd0IsQ0FBQ2pNLE1BQU0sRUFBRTJHLEtBQUssQ0FBQztJQUNqRTtJQUNBLElBQUk4RCxRQUFRLEdBQUd1QixjQUFjLElBQUloTSxNQUFNLENBQUN3SixVQUFVO0lBQ2xEO0lBQ0E7SUFDQTtJQUNBLE9BQU9pQixRQUFRLElBQUlBLFFBQVEsS0FBSzlELEtBQUssSUFBSThELFFBQVEsQ0FBQ1AsV0FBVyxLQUFLdkQsS0FBSyxFQUFFO01BQ3JFOEQsUUFBUSxHQUFHQSxRQUFRLENBQUNQLFdBQVc7SUFDbkM7SUFDQSxPQUFPTyxRQUFRO0VBQ25CO0VBQ0F3Qix3QkFBd0JBLENBQUNqTSxNQUFNLEVBQUUyRyxLQUFLLEVBQUU7SUFDcEMsTUFBTXVGLFlBQVksR0FBR2xNLE1BQU0sQ0FBQzJMLGFBQWEsQ0FBQ2hGLEtBQUssQ0FBQztJQUNoRCxJQUFJdUYsWUFBWSxHQUFHLENBQUMsRUFBRTtNQUNsQixPQUFPbE0sTUFBTSxDQUFDSixVQUFVLENBQUNzTSxZQUFZLEdBQUcsQ0FBQyxDQUFDO0lBQzlDO0VBQ0o7RUFDQTtFQUNBUCxhQUFhQSxDQUFDM0wsTUFBTSxFQUFFMkcsS0FBSyxFQUFFO0lBQ3pCLElBQUlwSCxRQUFRLENBQUNTLE1BQU0sQ0FBQyxFQUFFO01BQ2xCLE9BQU9BLE1BQU0sQ0FBQzJMLGFBQWEsQ0FBQ2hGLEtBQUssQ0FBQztJQUN0QyxDQUFDLE1BQ0ksSUFBSW5ILGFBQWEsQ0FBQ1EsTUFBTSxDQUFDLEVBQUU7TUFDNUIsT0FBTzJHLEtBQUssS0FBSzNHLE1BQU0sQ0FBQ0UsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUM7RUFDSjtFQUNBMkwsb0JBQW9CQSxDQUFDN0wsTUFBTSxFQUFFMkcsS0FBSyxFQUFFO0lBQ2hDLElBQUl0QyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNtQixXQUFXLENBQUUseUNBQXdDeEYsTUFBTyxXQUFVMkcsS0FBTSxFQUFDLENBQUM7SUFDcEc7SUFDQSxJQUFJM0csTUFBTSxDQUFDdkMsSUFBSSxJQUFJdUMsTUFBTSxDQUFDdkMsSUFBSSxDQUFDd0MsV0FBVyxFQUFFO01BQ3hDRCxNQUFNLENBQUN2QyxJQUFJLENBQUN3QyxXQUFXLENBQUNELE1BQU0sRUFBRTJHLEtBQUssQ0FBQztJQUMxQyxDQUFDLE1BQ0ksSUFBSXBILFFBQVEsQ0FBQ1MsTUFBTSxDQUFDLEVBQUU7TUFDdkIsSUFBSSxDQUFDMEwsaUJBQWlCLENBQUMxTCxNQUFNLEVBQUUyRyxLQUFLLENBQUM7SUFDekMsQ0FBQyxNQUNJLElBQUluSCxhQUFhLENBQUNRLE1BQU0sQ0FBQyxJQUFJQSxNQUFNLENBQUNFLE9BQU8sS0FBS3lHLEtBQUssRUFBRTtNQUN4RDNHLE1BQU0sQ0FBQ0UsT0FBTyxHQUFHLElBQUk7SUFDekIsQ0FBQyxNQUNJLElBQUlkLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDLEVBQUU7TUFDckJBLE1BQU0sQ0FBQ0csV0FBVyxDQUFDd0csS0FBSyxDQUFDO0lBQzdCO0VBQ0o7RUFDQW1GLG1CQUFtQkEsQ0FBQzlMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTtJQUMvQixJQUFJM0csTUFBTSxDQUFDdkMsSUFBSSxFQUFFcU8sbUJBQW1CLEVBQUU7TUFDbEM5TCxNQUFNLENBQUN2QyxJQUFJLENBQUNxTyxtQkFBbUIsQ0FBQzlMLE1BQU0sRUFBRTJHLEtBQUssQ0FBQztJQUNsRCxDQUFDLE1BQ0k7TUFDRCxJQUFJQSxLQUFLLFlBQVloSixRQUFRLEVBQUU7UUFDM0JnSixLQUFLLENBQUM3SCxvQkFBb0IsQ0FBQ2tCLE1BQU0sQ0FBQztNQUN0QztJQUNKO0VBQ0o7RUFDQTBMLGlCQUFpQkEsQ0FBQzFMLE1BQU0sRUFBRTJHLEtBQUssRUFBRTtJQUM3QixJQUFJdEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLHNDQUFxQ3hGLE1BQU8sV0FBVTJHLEtBQU0sRUFBQyxDQUFDO0lBQ2pHO0lBQ0EsTUFBTUksS0FBSyxHQUFHL0csTUFBTSxDQUFDMkwsYUFBYSxDQUFDaEYsS0FBSyxDQUFDO0lBQ3pDLElBQUlJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtNQUNkL0csTUFBTSxDQUFDQyxXQUFXLENBQUMwRyxLQUFLLENBQUM7SUFDN0I7RUFDSjtFQUNBd0YsYUFBYUEsQ0FBQzNPLEtBQUssRUFBRTtJQUNqQixPQUFPLElBQUlELFdBQVcsQ0FBQ0MsS0FBSyxDQUFDO0VBQ2pDO0VBQ0E0TyxVQUFVQSxDQUFDNU8sS0FBSyxFQUFFO0lBQ2QsT0FBTyxJQUFJRyxRQUFRLENBQUNILEtBQUssQ0FBQztFQUM5QjtFQUNBNk8sVUFBVUEsQ0FBQ3BQLElBQUksRUFBRTtJQUNiLE1BQU1xUCxZQUFZLEdBQUdyUCxJQUFJO0lBQ3pCLElBQUksQ0FBQ2lMLFdBQVcsQ0FBQ2pMLElBQUksQ0FBQyxFQUFFO01BQ3BCQSxJQUFJLEdBQUcsb0JBQW9CO0lBQy9CO0lBQ0EsSUFBSW9ILGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ21CLFdBQVcsQ0FBRSxrQkFBaUI4RyxZQUFhLElBQUdyUCxJQUFLLEVBQUMsQ0FBQztJQUMzRTtJQUNBLE1BQU1zUCxTQUFTLEdBQUd6RSxZQUFZLENBQUM3SyxJQUFJLENBQUM7SUFDcEMsTUFBTW9DLElBQUksR0FBRyxJQUFJa04sU0FBUyxDQUFDLENBQUM7SUFDNUIsTUFBTUMsTUFBTSxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNwTixJQUFJLEVBQUVwQyxJQUFJLENBQUM7SUFDbkR1UCxNQUFNLENBQUNFLFFBQVEsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDbEMsVUFBVTtJQUNuQyxPQUFPZ0MsTUFBTTtFQUNqQjtFQUNBN0Isc0JBQXNCQSxDQUFDdEwsSUFBSSxFQUFFO0lBQ3pCLElBQUlnQyxNQUFNLENBQUNzTCxjQUFjLENBQUNDLElBQUksQ0FBQ3ZOLElBQUksRUFBRSxNQUFNLENBQUMsRUFBRTtNQUMxQyxPQUFPQSxJQUFJO0lBQ2YsQ0FBQyxNQUNJO01BQ0QsTUFBTXBDLElBQUksR0FBR29DLElBQUksQ0FBQ3dOLE9BQU8sSUFBSXhOLElBQUksQ0FBQ3lOLFFBQVE7TUFDMUMsTUFBTU4sTUFBTSxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNwTixJQUFJLEVBQUVwQyxJQUFJLENBQUM7TUFDbkQsT0FBT3VQLE1BQU07SUFDakI7RUFDSjtFQUNBQyxtQkFBbUJBLENBQUNwTixJQUFJLEVBQUVwQyxJQUFJLEVBQUU7SUFDNUIsSUFBSW9ILGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ21CLFdBQVcsQ0FBRSw0QkFBMkJuRyxJQUFLLFdBQVVwQyxJQUFLLEdBQUUsQ0FBQztJQUNyRjtJQUNBLE1BQU11UCxNQUFNLEdBQUduTixJQUFJO0lBQ25CbU4sTUFBTSxDQUFDcFAsUUFBUSxHQUFHSCxJQUFJO0lBQ3RCdVAsTUFBTSxDQUFDL08sSUFBSSxHQUFHd0ssV0FBVyxDQUFDaEwsSUFBSSxDQUFDO0lBQy9CO0lBQ0E7SUFDQTtJQUNBdVAsTUFBTSxDQUFDclAsUUFBUSxHQUFHZ00saUJBQWlCO0lBQ25DLE9BQU9xRCxNQUFNO0VBQ2pCO0VBQ0FPLFdBQVdBLENBQUMxTixJQUFJLEVBQUUyTixhQUFhLEVBQUV4UCxLQUFLLEVBQUV3RCxTQUFTLEVBQUU7SUFDL0MsSUFBSSxDQUFDM0IsSUFBSSxJQUFLMkIsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDRCxNQUFNLENBQUNDLFNBQVMsQ0FBRSxFQUFFO01BQ2pEO0lBQ0o7SUFDQSxJQUFJZ00sYUFBYSxDQUFDL0YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ25DO01BQ0EsTUFBTWdHLFVBQVUsR0FBR0QsYUFBYSxDQUFDRSxLQUFLLENBQUMsR0FBRyxDQUFDO01BQzNDRixhQUFhLEdBQUdDLFVBQVUsQ0FBQ0EsVUFBVSxDQUFDekUsTUFBTSxHQUFHLENBQUMsQ0FBQztNQUNqRCxJQUFJMkUsT0FBTyxHQUFHLElBQUksQ0FBQ0MsYUFBYSxDQUFDL04sSUFBSSxDQUFDO01BQ3RDLElBQUlnTyxDQUFDLEdBQUcsQ0FBQztNQUNULE9BQU9BLENBQUMsR0FBR0osVUFBVSxDQUFDekUsTUFBTSxHQUFHLENBQUMsSUFBSSxPQUFPbkosSUFBSSxLQUFLLFdBQVcsRUFBRTtRQUM3RCxJQUFJaU8sSUFBSSxHQUFHTCxVQUFVLENBQUNJLENBQUMsQ0FBQztRQUN4QixJQUFJRixPQUFPLENBQUNoRixHQUFHLENBQUNtRixJQUFJLENBQUMsRUFBRTtVQUNuQkEsSUFBSSxHQUFHSCxPQUFPLENBQUN6TyxHQUFHLENBQUM0TyxJQUFJLENBQUM7UUFDNUI7UUFDQWpPLElBQUksR0FBR0EsSUFBSSxDQUFDaU8sSUFBSSxDQUFDO1FBQ2pCSCxPQUFPLEdBQUcsSUFBSSxDQUFDQyxhQUFhLENBQUMvTixJQUFJLENBQUM7UUFDbENnTyxDQUFDLEVBQUU7TUFDUDtJQUNKO0lBQ0EsSUFBSSxPQUFPaE8sSUFBSSxLQUFLLFdBQVcsRUFBRTtNQUM3QixJQUFJLENBQUNrTyxtQkFBbUIsQ0FBQ2xPLElBQUksRUFBRTJOLGFBQWEsRUFBRXhQLEtBQUssQ0FBQztJQUN4RDtFQUNKO0VBQ0F1RCxNQUFNQSxDQUFDeU0sUUFBUSxFQUFFO0lBQ2IsSUFBSUMsSUFBSSxHQUFHLElBQUk7SUFDZixNQUFNQyxJQUFJLEdBQUdBLENBQUEsS0FBTSxJQUFJO0lBQ3ZCLElBQUksSUFBSSxDQUFDbkQsZ0JBQWdCLEVBQUU7TUFDdkIsSUFBSW9ELEtBQUssR0FBSUMsQ0FBQyxJQUFLLElBQUk7TUFDdkIsS0FBSyxJQUFJUCxDQUFDLEdBQUcsSUFBSSxDQUFDOUMsZ0JBQWdCLENBQUMvQixNQUFNLEdBQUcsQ0FBQyxFQUFFNkUsQ0FBQyxJQUFJLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7UUFDeEQsTUFBTVEsWUFBWSxHQUFHRixLQUFLO1FBQzFCQSxLQUFLLEdBQUlDLENBQUMsSUFBSyxJQUFJLENBQUNyRCxnQkFBZ0IsQ0FBQzhDLENBQUMsQ0FBQyxDQUFDdE0sTUFBTSxDQUFDNk0sQ0FBQyxFQUFFQyxZQUFZLENBQUM7TUFDbkU7TUFDQUosSUFBSSxHQUFHRSxLQUFLLENBQUNILFFBQVEsQ0FBQztNQUN0QkMsSUFBSSxHQUFHQSxJQUFJLEtBQUssS0FBSyxHQUFHLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztNQUN0QztNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtJQUNKO0lBQ0EsT0FBT0EsSUFBSTtFQUNmO0VBQ0FGLG1CQUFtQkEsQ0FBQ2xPLElBQUksRUFBRTJOLGFBQWEsRUFBRXhQLEtBQUssRUFBRTtJQUM1QyxJQUFJNkcsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLHNCQUFxQndILGFBQWMsSUFBR3hQLEtBQU0sT0FBTTZCLElBQUssRUFBQyxDQUFDO0lBQzVGO0lBQ0EsSUFBSTJOLGFBQWEsS0FBSyxPQUFPLEVBQUU7TUFDM0IsSUFBSSxDQUFDYyxVQUFVLENBQUN6TyxJQUFJLEVBQUU3QixLQUFLLENBQUM7TUFDNUI7SUFDSjtJQUNBLElBQUk0TCxjQUFjLENBQUNuQyxPQUFPLENBQUMrRixhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtNQUM5QzNOLElBQUksQ0FBQzJOLGFBQWEsQ0FBQyxHQUFHeFAsS0FBSztNQUMzQjtJQUNKO0lBQ0EsTUFBTTJQLE9BQU8sR0FBRyxJQUFJLENBQUNDLGFBQWEsQ0FBQy9OLElBQUksQ0FBQztJQUN4QyxNQUFNME8sWUFBWSxHQUFHWixPQUFPLENBQUN6TyxHQUFHLENBQUNzTyxhQUFhLENBQUM7SUFDL0M7SUFDQSxJQUFJZ0IsS0FBSyxDQUFDQyxPQUFPLENBQUN6USxLQUFLLENBQUMsRUFBRTtNQUN0QixJQUFJLENBQUMwUSwrQkFBK0IsQ0FBQzFRLEtBQUssQ0FBQztJQUMvQztJQUNBLElBQUl1USxZQUFZLEVBQUU7TUFDZDtNQUNBMU8sSUFBSSxDQUFDME8sWUFBWSxDQUFDLEdBQUd2USxLQUFLO01BQzFCO0lBQ0o7SUFDQTtJQUNBNkIsSUFBSSxDQUFDMk4sYUFBYSxDQUFDLEdBQUd4UCxLQUFLO0VBQy9CO0VBQ0EwUSwrQkFBK0JBLENBQUNDLEtBQUssRUFBRTtJQUNuQyxLQUFLLE1BQU1DLElBQUksSUFBSUQsS0FBSyxFQUFFO01BQ3RCLElBQUlDLElBQUksQ0FBQ3BPLE1BQU0sSUFBSW9PLElBQUksQ0FBQ3RPLFVBQVUsRUFBRTtRQUNoQyxJQUFJdUUsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7VUFDbENWLGlCQUFpQixDQUFDbUIsV0FBVyxDQUFFLHNCQUFxQjRJLElBQUksQ0FBQ3RPLFVBQVcsY0FBYXNPLElBQUssRUFBQyxDQUFDO1FBQzVGO1FBQ0FBLElBQUksQ0FBQ3BPLE1BQU0sR0FBR3NDLFNBQVM7UUFDdkI4TCxJQUFJLENBQUN0TyxVQUFVLEdBQUd3QyxTQUFTO01BQy9CO0lBQ0o7RUFDSjtFQUNBOEssYUFBYUEsQ0FBQ3JRLFFBQVEsRUFBRTtJQUNwQixNQUFNb0gsSUFBSSxHQUFHcEgsUUFBUSxJQUFJQSxRQUFRLENBQUNDLFdBQVc7SUFDN0MsSUFBSSxDQUFDbUgsSUFBSSxFQUFFO01BQ1AsT0FBTyxJQUFJL0YsR0FBRyxDQUFDLENBQUM7SUFDcEI7SUFDQSxJQUFJLENBQUNpTSxZQUFZLENBQUNsQyxHQUFHLENBQUNoRSxJQUFJLENBQUMsRUFBRTtNQUN6QixNQUFNZ0osT0FBTyxHQUFHLElBQUkvTyxHQUFHLENBQUMsQ0FBQztNQUN6QixLQUFLLE1BQU1pUSxRQUFRLElBQUl0UixRQUFRLEVBQUU7UUFDN0I7UUFDQW9RLE9BQU8sQ0FBQ3ZPLEdBQUcsQ0FBQ3lQLFFBQVEsQ0FBQ3pHLFdBQVcsQ0FBQyxDQUFDLEVBQUV5RyxRQUFRLENBQUM7TUFDakQ7TUFDQWhFLFlBQVksQ0FBQ3pMLEdBQUcsQ0FBQ3VGLElBQUksRUFBRWdKLE9BQU8sQ0FBQztJQUNuQztJQUNBLE9BQU85QyxZQUFZLENBQUMzTCxHQUFHLENBQUN5RixJQUFJLENBQUM7RUFDakM7RUFDQW1LLFVBQVVBLENBQUNqUCxJQUFJLEVBQUU7SUFDYixJQUFJLENBQUNBLElBQUksQ0FBQ2tQLFlBQVksRUFBRTtNQUNwQmxQLElBQUksQ0FBQ2tQLFlBQVksR0FBRyxJQUFJblEsR0FBRyxDQUFDLENBQUM7SUFDakM7SUFDQSxPQUFPaUIsSUFBSSxDQUFDa1AsWUFBWTtFQUM1QjtFQUNBQyxRQUFRQSxDQUFDblAsSUFBSSxFQUFFb1AsU0FBUyxFQUFFO0lBQ3RCLE1BQU1DLFlBQVksR0FBRyxJQUFJLENBQUMvRCxzQkFBc0IsQ0FBQ3RMLElBQUksQ0FBQztJQUN0RCxJQUFJLENBQUNpUCxVQUFVLENBQUNJLFlBQVksQ0FBQyxDQUFDOVAsR0FBRyxDQUFDNlAsU0FBUyxFQUFFLElBQUksQ0FBQztJQUNsRCxJQUFJLENBQUNFLFdBQVcsQ0FBQ0QsWUFBWSxDQUFDO0VBQ2xDO0VBQ0FFLFdBQVdBLENBQUN2UCxJQUFJLEVBQUVvUCxTQUFTLEVBQUU7SUFDekIsTUFBTUMsWUFBWSxHQUFHLElBQUksQ0FBQy9ELHNCQUFzQixDQUFDdEwsSUFBSSxDQUFDO0lBQ3RELElBQUksQ0FBQ2lQLFVBQVUsQ0FBQ0ksWUFBWSxDQUFDLENBQUN6UCxNQUFNLENBQUN3UCxTQUFTLENBQUM7SUFDL0MsSUFBSSxDQUFDRSxXQUFXLENBQUNELFlBQVksQ0FBQztFQUNsQztFQUNBWixVQUFVQSxDQUFDek8sSUFBSSxFQUFFd1AsWUFBWSxFQUFFO0lBQzNCLE1BQU1DLE9BQU8sR0FBR0QsWUFBWSxDQUFDM0IsS0FBSyxDQUFDNUQsa0JBQWtCLENBQUM7SUFDdEQsSUFBSSxDQUFDZ0YsVUFBVSxDQUFDalAsSUFBSSxDQUFDLENBQUMwUCxLQUFLLENBQUMsQ0FBQztJQUM3QkQsT0FBTyxDQUFDL1AsT0FBTyxDQUFFMFAsU0FBUyxJQUFLLElBQUksQ0FBQ0gsVUFBVSxDQUFDalAsSUFBSSxDQUFDLENBQUNULEdBQUcsQ0FBQzZQLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMxRSxJQUFJLENBQUNFLFdBQVcsQ0FBQ3RQLElBQUksQ0FBQztFQUMxQjtFQUNBc1AsV0FBV0EsQ0FBQ3RQLElBQUksRUFBRTtJQUNkLE1BQU0yUCxVQUFVLEdBQUdoQixLQUFLLENBQUNpQixJQUFJLENBQUMsSUFBSSxDQUFDWCxVQUFVLENBQUNqUCxJQUFJLENBQUMsQ0FBQzZQLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNyRTlQLElBQUksQ0FBQ29QLFNBQVMsR0FBR08sVUFBVTtFQUMvQjtFQUNBSSxRQUFRQSxDQUFDL1AsSUFBSSxFQUFFZ1EsU0FBUyxFQUFFN1IsS0FBSyxFQUFFO0lBQzdCLElBQUl3TCxhQUFhLENBQUNxRyxTQUFTLENBQUMsRUFBRTtNQUMxQmhRLElBQUksQ0FBQ2lRLEtBQUssQ0FBQ0Msc0JBQXNCLENBQUNGLFNBQVMsRUFBRTdSLEtBQUssQ0FBQztNQUNuRDZCLElBQUksQ0FBQ21RLGlCQUFpQixDQUFDLENBQUM7SUFDNUIsQ0FBQyxNQUNJO01BQ0RuUSxJQUFJLENBQUNpUSxLQUFLLENBQUNELFNBQVMsQ0FBQyxHQUFHN1IsS0FBSztJQUNqQztFQUNKO0VBQ0FpUyxXQUFXQSxDQUFDcFEsSUFBSSxFQUFFZ1EsU0FBUyxFQUFFO0lBQ3pCLElBQUlyRyxhQUFhLENBQUNxRyxTQUFTLENBQUMsRUFBRTtNQUMxQjtNQUNBaFEsSUFBSSxDQUFDaVEsS0FBSyxDQUFDSSxvQkFBb0IsQ0FBQ3pRLE1BQU0sQ0FBQ29RLFNBQVMsQ0FBQztNQUNqRGhRLElBQUksQ0FBQ21RLGlCQUFpQixDQUFDLENBQUM7SUFDNUIsQ0FBQyxNQUNJO01BQ0RuUSxJQUFJLENBQUNpUSxLQUFLLENBQUNELFNBQVMsQ0FBQyxHQUFHN1osMkRBQVU7SUFDdEM7RUFDSjtBQUNKO0FBRUEsSUFBSW1hLFFBQVEsR0FBRyxhQUFhdE8sTUFBTSxDQUFDZ0ksTUFBTSxDQUFDO0VBQ3RDdUcsU0FBUyxFQUFFLElBQUk7RUFDZnRGLFFBQVEsRUFBRUE7QUFDZCxDQUFDLENBQUM7QUFFRixNQUFNdUYsYUFBYSxHQUFHbmEsNERBQU8sQ0FBQywwQkFBMEIsRUFBRSxTQUFTbWEsYUFBYUEsQ0FBQ1AsS0FBSyxFQUFFUSxHQUFHLEVBQUU7RUFDekYsSUFBSUEsR0FBRyxFQUFFO0lBQ0xyYSwyRUFBc0IsQ0FBQzZaLEtBQUssRUFBRVEsR0FBRyxDQUFDO0VBQ3RDLENBQUMsTUFDSTtJQUNEdmMsNERBQVcsQ0FBQ3djLE1BQU0sQ0FBQ1QsS0FBSyxDQUFDO0VBQzdCO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsU0FBU1UsYUFBYUEsQ0FBQ0MsRUFBRSxFQUFFO0VBQ3ZCLElBQUksT0FBT0MsSUFBSSxLQUFLLFdBQVcsRUFBRTtJQUM3QixPQUFPRCxFQUFFLENBQUMsQ0FBQztFQUNmO0VBQ0EsT0FBT0MsSUFBSSxDQUFDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ0gsRUFBRSxDQUFDO0FBQzVCO0FBQ0EsU0FBU0ksVUFBVUEsQ0FBQSxFQUFHO0VBQ2xCLE9BQU8sVUFBVUMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLFVBQVUsRUFBRTtJQUN0QyxNQUFNQyxhQUFhLEdBQUdELFVBQVUsQ0FBQ2hULEtBQUs7SUFDdENnVCxVQUFVLENBQUNoVCxLQUFLLEdBQUcsVUFBVSxHQUFHNEcsSUFBSSxFQUFFO01BQ2xDLE1BQU02TCxFQUFFLEdBQUdRLGFBQWEsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztNQUNuQyxPQUFPVixhQUFhLENBQUMsTUFBTUMsRUFBRSxDQUFDLEdBQUc3TCxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ0QsT0FBT29NLFVBQVU7RUFDckIsQ0FBQztBQUNMO0FBQ0EsSUFBSUcsMkJBQTJCLEdBQUcsTUFBTUEsMkJBQTJCLENBQUM7RUFDaEUzVCxXQUFXQSxDQUFDNFQsUUFBUSxFQUFFckcsZ0JBQWdCLEVBQUVzRyxZQUFZLEVBQUVyRyxVQUFVLEVBQUU7SUFDOUQsSUFBSSxDQUFDb0csUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ3JHLGdCQUFnQixHQUFHQSxnQkFBZ0I7SUFDeEMsSUFBSSxDQUFDc0csWUFBWSxHQUFHQSxZQUFZO0lBQ2hDLElBQUksQ0FBQ3JHLFVBQVUsR0FBR0EsVUFBVTtJQUM1QixJQUFJLENBQUNzRyxrQkFBa0IsR0FBRyxJQUFJMVMsR0FBRyxDQUFDLENBQUM7SUFDbkM7SUFDQSxJQUFJLENBQUN1UixRQUFRLEdBQUcsSUFBSXJGLFFBQVEsQ0FBQyxJQUFJLENBQUNDLGdCQUFnQixFQUFFLElBQUksQ0FBQ0MsVUFBVSxDQUFDO0lBQ3BFLElBQUksT0FBTyxJQUFJLENBQUNBLFVBQVUsS0FBSyxTQUFTLEVBQUU7TUFDdEMsSUFBSSxDQUFDQSxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDN0I7SUFDQSxJQUFJLENBQUN1RyxlQUFlLEdBQUcsSUFBSUMsb0JBQW9CLENBQUNKLFFBQVEsRUFBRXJHLGdCQUFnQixFQUFFLElBQUksQ0FBQ0MsVUFBVSxDQUFDO0VBQ2hHO0VBQ0F5RyxjQUFjQSxDQUFDQyxXQUFXLEVBQUUvTSxJQUFJLEVBQUU7SUFDOUIsSUFBSUUsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSw4Q0FBNkMrTCxXQUFZLGNBQWEvTSxJQUFJLENBQUM3RyxFQUFHLHdCQUF1QjZHLElBQUksQ0FBQ2dOLGFBQWMsRUFBQyxDQUFDO0lBQzdKO0lBQ0EsSUFBSSxDQUFDRCxXQUFXLElBQUksQ0FBQy9NLElBQUksRUFBRTtNQUN2QixPQUFPLElBQUksQ0FBQzRNLGVBQWU7SUFDL0I7SUFDQSxJQUFJSyxRQUFRLEdBQUcsSUFBSSxDQUFDTixrQkFBa0IsQ0FBQ3BTLEdBQUcsQ0FBQ3lGLElBQUksQ0FBQzdHLEVBQUUsQ0FBQztJQUNuRDtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUk4VCxRQUFRLEVBQUU7TUFDVixJQUFJQSxRQUFRLFlBQVlDLGdCQUFnQixFQUFFO1FBQ3RDRCxRQUFRLENBQUNFLFdBQVcsQ0FBQ0osV0FBVyxDQUFDO01BQ3JDO01BQ0EsT0FBT0UsUUFBUTtJQUNuQjtJQUNBLElBQUlqTixJQUFJLENBQUNnTixhQUFhLEtBQUsvWiw0REFBaUIsQ0FBQ21hLElBQUksRUFBRTtNQUMvQ3BOLElBQUksQ0FBQ3FOLE1BQU0sQ0FBQy9XLEdBQUcsQ0FBRWdYLENBQUMsSUFBS0EsQ0FBQyxDQUFDcFUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDMEIsT0FBTyxDQUFFOEMsQ0FBQyxJQUFLZ08sYUFBYSxDQUFDaE8sQ0FBQyxFQUFFLElBQUksQ0FBQ2dQLFlBQVksQ0FBQyxDQUFDO01BQ3hGTyxRQUFRLEdBQUcsSUFBSSxDQUFDTCxlQUFlO0lBQ25DLENBQUMsTUFDSTtNQUNESyxRQUFRLEdBQUcsSUFBSUMsZ0JBQWdCLENBQUNsTixJQUFJLEVBQUUrTSxXQUFXLEVBQUUsSUFBSSxDQUFDM0csZ0JBQWdCLEVBQUUsSUFBSSxDQUFDc0csWUFBWSxFQUFFLElBQUksQ0FBQ3JHLFVBQVUsQ0FBQztNQUM3RzRHLFFBQVEsQ0FBQ0UsV0FBVyxDQUFDSixXQUFXLENBQUM7SUFDckM7SUFDQSxJQUFJLENBQUNKLGtCQUFrQixDQUFDbFMsR0FBRyxDQUFDdUYsSUFBSSxDQUFDN0csRUFBRSxFQUFFOFQsUUFBUSxDQUFDO0lBQzlDLE9BQU9BLFFBQVE7RUFDbkI7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQU0saUJBQWlCQSxDQUFBLEVBQUc7SUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQ2QsUUFBUSxFQUFFO01BQ2hCLE9BQU9lLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUM7SUFDNUI7SUFDQSxPQUFPLElBQUlELE9BQU8sQ0FBRUMsT0FBTyxJQUFLO01BQzVCLElBQUlDLFFBQVEsR0FBRyxDQUFDO01BQ2hCLFNBQVNDLGVBQWVBLENBQUEsRUFBRztRQUN2QjtRQUNBO1FBQ0FwUCxVQUFVLENBQUNrUCxPQUFPLEVBQUUsRUFBRSxDQUFDO01BQzNCO01BQ0EsU0FBU0csY0FBY0EsQ0FBQSxFQUFHO1FBQ3RCLE1BQU0xUyxJQUFJLEdBQUcyUyxXQUFXLENBQUMsQ0FBQztRQUMxQixJQUFJM1MsSUFBSSxDQUFDNFMsUUFBUSxFQUFFO1VBQ2ZILGVBQWUsQ0FBQyxDQUFDO1FBQ3JCLENBQUMsTUFDSTtVQUNEelMsSUFBSSxDQUFDNlMsSUFBSSxDQUFDLFFBQVEsRUFBRUosZUFBZSxDQUFDO1FBQ3hDO01BQ0o7TUFDQSxNQUFNRSxXQUFXLEdBQUdBLENBQUEsS0FBTyxJQUFJLENBQUNwQixRQUFRLFlBQVkxZCwyREFBVyxHQUFHLElBQUksQ0FBQzBkLFFBQVEsQ0FBQzFRLE9BQU8sR0FBRyxJQUFJLENBQUMwUSxRQUFTO01BQ3hHLElBQUksQ0FBQ29CLFdBQVcsQ0FBQyxDQUFDLEVBQUU7UUFDaEJILFFBQVEsR0FBR00sV0FBVyxDQUFDLE1BQU07VUFDekIsSUFBSUgsV0FBVyxDQUFDLENBQUMsRUFBRTtZQUNmSSxhQUFhLENBQUNQLFFBQVEsQ0FBQztZQUN2QkUsY0FBYyxDQUFDLENBQUM7VUFDcEI7UUFDSixDQUFDLEVBQUUsRUFBRSxDQUFDO01BQ1YsQ0FBQyxNQUNJO1FBQ0RBLGNBQWMsQ0FBQyxDQUFDO01BQ3BCO0lBQ0osQ0FBQyxDQUFDO0lBQ0Y7RUFDSjtBQUNKLENBQUM7QUFDRHBCLDJCQUEyQixHQUFHN1csaURBQVUsQ0FBQyxDQUNyQ0YsOENBQU8sQ0FBQyxDQUFDLEVBQUUzQyxxREFBTSxDQUFDbUosYUFBYSxDQUFDLENBQUMsRUFDakN4Ryw4Q0FBTyxDQUFDLENBQUMsRUFBRTNDLHFEQUFNLENBQUNxSyxpQkFBaUIsQ0FBQyxDQUFDLEVBQ3JDMUgsOENBQU8sQ0FBQyxDQUFDLEVBQUUzQyxxREFBTSxDQUFDb0osMkJBQTJCLENBQUMsQ0FBQyxFQUMvQ3pHLDhDQUFPLENBQUMsQ0FBQyxFQUFFdkMsdURBQVEsQ0FBQyxDQUFDLENBQUMsRUFDdEJ1Qyw4Q0FBTyxDQUFDLENBQUMsRUFBRTNDLHFEQUFNLENBQUNzSixvQkFBb0IsQ0FBQyxDQUFDLEVBQ3hDMUcsaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDN0csb0RBQUksRUFBRWdiLEtBQUssRUFBRTNNLE1BQU0sRUFBRUEsTUFBTSxDQUFDLENBQUMsQ0FDakUsRUFBRXNQLDJCQUEyQixDQUFDO0FBQy9CLE1BQU1LLG9CQUFvQixDQUFDO0VBQ3ZCaFUsV0FBV0EsQ0FBQzRULFFBQVEsRUFBRXJHLGdCQUFnQixFQUFFQyxVQUFVLEVBQUU7SUFDaEQsSUFBSSxDQUFDb0csUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ3JHLGdCQUFnQixHQUFHQSxnQkFBZ0I7SUFDeEMsSUFBSSxDQUFDQyxVQUFVLEdBQUdBLFVBQVU7SUFDNUIsSUFBSSxDQUFDbUYsUUFBUSxHQUFHLElBQUlyRixRQUFRLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUNDLFVBQVUsQ0FBQztJQUNwRSxJQUFJLENBQUM2SCxXQUFXLEdBQUl4UyxJQUFJLElBQUttUSxhQUFhLENBQUMsTUFBTTtNQUM3QyxJQUFJM0wsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtRQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSwwQ0FBeUN0RixJQUFLLEVBQUMsQ0FBQztNQUNuRjtNQUNBLElBQUlBLElBQUksRUFBRXdTLFdBQVcsRUFBRTtRQUNuQnhTLElBQUksRUFBRXdTLFdBQVcsQ0FBQyxDQUFDO01BQ3ZCO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFDQSxJQUFJQyxJQUFJQSxDQUFBLEVBQUc7SUFDUCxNQUFNLElBQUl6TCxLQUFLLENBQUMseUJBQXlCLENBQUM7RUFDOUM7RUFDQTBMLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUlsTyxpQkFBaUIsQ0FBQ1EsT0FBTyxFQUFFO01BQzNCUixpQkFBaUIsQ0FBQ2MsV0FBVyxDQUFDLDhCQUE4QixDQUFDO0lBQ2pFO0VBQ0o7RUFDQXFOLGFBQWFBLENBQUN2VixJQUFJLEVBQUUrRCxTQUFTLEVBQUU7SUFDM0IsSUFBSXFELGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUUsdUNBQXNDbEksSUFBSyxFQUFDLENBQUM7SUFDaEY7SUFDQSxJQUFJd1YsT0FBTztJQUNYLElBQUksQ0FBQ3ZLLFdBQVcsQ0FBQ2pMLElBQUksQ0FBQyxFQUFFO01BQ3BCd1YsT0FBTyxHQUFHeFYsSUFBSTtNQUNkQSxJQUFJLEdBQUcsb0JBQW9CO0lBQy9CO0lBQ0EsTUFBTW9DLElBQUksR0FBRyxJQUFJLENBQUNzUSxRQUFRLENBQUN0RCxVQUFVLENBQUNwUCxJQUFJLENBQUM7SUFDM0MsSUFBSXdWLE9BQU8sRUFBRTtNQUNUcFQsSUFBSSxDQUFDcVQsYUFBYSxHQUFHRCxPQUFPO0lBQ2hDO0lBQ0EsT0FBT3BULElBQUk7RUFDZjtFQUNBOE0sYUFBYUEsQ0FBQzNPLEtBQUssRUFBRTtJQUNqQixJQUFJNkcsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSxzQ0FBcUMzSCxLQUFNLEVBQUMsQ0FBQztJQUNoRjtJQUNBLE9BQU8sSUFBSSxDQUFDbVMsUUFBUSxDQUFDeEQsYUFBYSxDQUFDM08sS0FBSyxDQUFDO0VBQzdDO0VBQ0E0TyxVQUFVQSxDQUFDNU8sS0FBSyxFQUFFO0lBQ2QsSUFBSTZHLGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUUsbUNBQWtDM0gsS0FBTSxFQUFDLENBQUM7SUFDN0U7SUFDQSxPQUFPLElBQUksQ0FBQ21TLFFBQVEsQ0FBQ3ZELFVBQVUsQ0FBQzVPLEtBQUssQ0FBQztFQUMxQztFQUNBOE4sV0FBV0EsQ0FBQ3RMLE1BQU0sRUFBRTJTLFFBQVEsRUFBRTtJQUMxQixJQUFJdE8saUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSwyQ0FBMEN3TixRQUFTLFlBQVczUyxNQUFPLEVBQUMsQ0FBQztJQUMxRztJQUNBLElBQUksQ0FBQzJQLFFBQVEsQ0FBQ3JFLFdBQVcsQ0FBQ3RMLE1BQU0sRUFBRTJTLFFBQVEsQ0FBQztFQUMvQztFQUNBekgsWUFBWUEsQ0FBQ2xMLE1BQU0sRUFBRTJTLFFBQVEsRUFBRXhILFFBQVEsRUFBRTtJQUNyQyxJQUFJOUcsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSw0Q0FBMkN3TixRQUFTLEdBQUUsR0FBSSxXQUFVM1MsTUFBTyxjQUFhbUwsUUFBUyxFQUFDLENBQUM7SUFDdEk7SUFDQSxJQUFJLENBQUN3RSxRQUFRLENBQUN6RSxZQUFZLENBQUNsTCxNQUFNLEVBQUUyUyxRQUFRLEVBQUV4SCxRQUFRLENBQUM7RUFDMUQ7RUFDQWxMLFdBQVdBLENBQUNELE1BQU0sRUFBRTRTLFFBQVEsRUFBRUMsYUFBYSxFQUFFO0lBQ3pDLElBQUl4TyxpQkFBaUIsQ0FBQ1EsT0FBTyxFQUFFO01BQzNCUixpQkFBaUIsQ0FBQ2MsV0FBVyxDQUFFLDJDQUEwQ3lOLFFBQVMsWUFBVzVTLE1BQU8sRUFBQyxDQUFDO0lBQzFHO0lBQ0EsSUFBSSxDQUFDMlAsUUFBUSxDQUFDMVAsV0FBVyxDQUFDRCxNQUFNLEVBQUU0UyxRQUFRLENBQUM7RUFDL0M7RUFDQUUsaUJBQWlCQSxDQUFDQyxjQUFjLEVBQUVDLGVBQWUsRUFBRTtJQUMvQyxJQUFJM08saUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSwyQ0FBMEM0TixjQUFlLEVBQUMsQ0FBQztJQUM5RjtJQUNBLElBQUlBLGNBQWMsWUFBWS9mLG9EQUFJLEVBQUU7TUFDaEMsT0FBTytmLGNBQWM7SUFDekI7SUFDQSxJQUFJQSxjQUFjLElBQUlBLGNBQWMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUU7TUFDN0MsTUFBTUUsTUFBTSxHQUFHdGQsZ0VBQVcsQ0FBQyxJQUFJLENBQUNpYixRQUFRLEVBQUVtQyxjQUFjLENBQUNHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztNQUNsRSxPQUFRRCxNQUFNLElBQUksSUFBSSxDQUFDckMsUUFBUTtJQUNuQztJQUNBLElBQUksT0FBT21DLGNBQWMsS0FBSyxRQUFRLEVBQUU7TUFDcEMsTUFBTTFULElBQUksR0FBRyxJQUFJLENBQUNzUSxRQUFRLENBQUN0RCxVQUFVLENBQUMwRyxjQUFjLENBQUM7TUFDckQsSUFBSXRULHNCQUFzQixDQUFDSixJQUFJLENBQUMsS0FBS0EsSUFBSSxFQUFFO1FBQ3ZDO1FBQ0EsSUFBSSxDQUFDaU0sV0FBVyxDQUFDLElBQUksQ0FBQ3NGLFFBQVEsRUFBRXZSLElBQUksQ0FBQztRQUNyQyxPQUFPQSxJQUFJO01BQ2Y7SUFDSjtJQUNBLE9BQU8sSUFBSSxDQUFDdVIsUUFBUTtFQUN4QjtFQUNBOVEsVUFBVUEsQ0FBQ0QsSUFBSSxFQUFFO0lBQ2IsSUFBSXdFLGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUUsNkNBQTRDdEYsSUFBSyxPQUFNQSxJQUFJLENBQUNDLFVBQVcsRUFBQyxDQUFDO0lBQzVHO0lBQ0EsT0FBT0QsSUFBSSxDQUFDQyxVQUFVO0VBQzFCO0VBQ0FvSyxXQUFXQSxDQUFDckssSUFBSSxFQUFFO0lBQ2QsSUFBSXdFLGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUUsdUNBQXNDdEYsSUFBSyxPQUFNQSxJQUFJLENBQUNxSyxXQUFZLEVBQUMsQ0FBQztJQUN2RztJQUNBLE9BQU9ySyxJQUFJLENBQUNxSyxXQUFXO0VBQzNCO0VBQ0FpSixZQUFZQSxDQUFDQyxFQUFFLEVBQUVuVyxJQUFJLEVBQUVPLEtBQUssRUFBRXdELFNBQVMsRUFBRTtJQUNyQyxJQUFJcUQsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSxxQ0FBb0NuRSxTQUFTLEdBQUdBLFNBQVMsR0FBRyxHQUFHLEdBQUcsRUFBRyxHQUFFb1MsRUFBRyxJQUFHblcsSUFBSyxNQUFLTyxLQUFNLEVBQUMsQ0FBQztJQUNsSTtJQUNBLElBQUksQ0FBQ21TLFFBQVEsQ0FBQzVDLFdBQVcsQ0FBQ3FHLEVBQUUsRUFBRW5XLElBQUksRUFBRU8sS0FBSyxFQUFFd0QsU0FBUyxDQUFDO0VBQ3pEO0VBQ0FxUyxlQUFlQSxDQUFDRCxFQUFFLEVBQUVuVyxJQUFJLEVBQUUrRCxTQUFTLEVBQUU7SUFDakMsSUFBSXFELGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUUsd0NBQXVDbkUsU0FBUyxHQUFHQSxTQUFTLEdBQUcsR0FBRyxHQUFHLEVBQUcsR0FBRW9TLEVBQUcsSUFBR25XLElBQUssRUFBQyxDQUFDO0lBQzFIO0VBQ0o7RUFDQXVSLFFBQVFBLENBQUM0RSxFQUFFLEVBQUVuVyxJQUFJLEVBQUU7SUFDZixJQUFJb0gsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSxpQ0FBZ0NsSSxJQUFLLEVBQUMsQ0FBQztJQUMxRTtJQUNBLElBQUksQ0FBQzBTLFFBQVEsQ0FBQ25CLFFBQVEsQ0FBQzRFLEVBQUUsRUFBRW5XLElBQUksQ0FBQztFQUNwQztFQUNBMlIsV0FBV0EsQ0FBQ3dFLEVBQUUsRUFBRW5XLElBQUksRUFBRTtJQUNsQixJQUFJb0gsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSxvQ0FBbUNsSSxJQUFLLEVBQUMsQ0FBQztJQUM3RTtJQUNBLElBQUksQ0FBQzBTLFFBQVEsQ0FBQ2YsV0FBVyxDQUFDd0UsRUFBRSxFQUFFblcsSUFBSSxDQUFDO0VBQ3ZDO0VBQ0FtUyxRQUFRQSxDQUFDZ0UsRUFBRSxFQUFFOUQsS0FBSyxFQUFFOVIsS0FBSyxFQUFFOFYsS0FBSyxFQUFFO0lBQzlCLElBQUlqUCxpQkFBaUIsQ0FBQ1EsT0FBTyxFQUFFO01BQzNCUixpQkFBaUIsQ0FBQ2MsV0FBVyxDQUFFLGtDQUFpQ2lPLEVBQUcsS0FBSTlELEtBQU0sTUFBSzlSLEtBQU0sRUFBQyxDQUFDO0lBQzlGO0lBQ0EsSUFBSSxDQUFDbVMsUUFBUSxDQUFDUCxRQUFRLENBQUNnRSxFQUFFLEVBQUU5RCxLQUFLLEVBQUU5UixLQUFLLENBQUM7RUFDNUM7RUFDQWlTLFdBQVdBLENBQUMyRCxFQUFFLEVBQUU5RCxLQUFLLEVBQUVnRSxLQUFLLEVBQUU7SUFDMUIsSUFBSWpQLGlCQUFpQixDQUFDUSxPQUFPLEVBQUU7TUFDM0JSLGlCQUFpQixDQUFDYyxXQUFXLENBQUMsZ0RBQWdELENBQUM7SUFDbkY7SUFDQSxJQUFJLENBQUN3SyxRQUFRLENBQUNGLFdBQVcsQ0FBQzJELEVBQUUsRUFBRTlELEtBQUssQ0FBQztFQUN4QztFQUNBdkMsV0FBV0EsQ0FBQ3FHLEVBQUUsRUFBRW5XLElBQUksRUFBRU8sS0FBSyxFQUFFO0lBQ3pCLElBQUk2RyxpQkFBaUIsQ0FBQ1EsT0FBTyxFQUFFO01BQzNCUixpQkFBaUIsQ0FBQ2MsV0FBVyxDQUFFLG9DQUFtQ2lPLEVBQUcsSUFBR25XLElBQUssTUFBS08sS0FBTSxFQUFDLENBQUM7SUFDOUY7SUFDQSxJQUFJLENBQUNtUyxRQUFRLENBQUM1QyxXQUFXLENBQUNxRyxFQUFFLEVBQUVuVyxJQUFJLEVBQUVPLEtBQUssQ0FBQztFQUM5QztFQUNBK1YsUUFBUUEsQ0FBQzFULElBQUksRUFBRXJDLEtBQUssRUFBRTtJQUNsQixJQUFJNkcsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSw2Q0FBNEN0RixJQUFLLFlBQVdyQyxLQUFNLEVBQUMsQ0FBQztJQUN2RztJQUNBLElBQUlxQyxJQUFJLFlBQVlsQyxRQUFRLEVBQUU7TUFDMUJrQyxJQUFJLENBQUNoQyxJQUFJLEdBQUdMLEtBQUs7SUFDckI7SUFDQTtFQUNKO0VBQ0FnVyxNQUFNQSxDQUFDbEQsTUFBTSxFQUFFclMsU0FBUyxFQUFFSyxRQUFRLEVBQUU7SUFDaEM7SUFDQSxJQUFJK0YsaUJBQWlCLENBQUNRLE9BQU8sRUFBRTtNQUMzQlIsaUJBQWlCLENBQUNjLFdBQVcsQ0FBRSxnQ0FBK0JsSCxTQUFVLEVBQUMsQ0FBQztJQUM5RTtJQUNBcVMsTUFBTSxDQUFDelIsRUFBRSxDQUFDWixTQUFTLEVBQUVLLFFBQVEsQ0FBQztJQUM5QixJQUFJTCxTQUFTLEtBQUtqTCxvREFBSSxDQUFDeWdCLFdBQVcsSUFBSW5ELE1BQU0sQ0FBQzJCLFFBQVEsRUFBRTtNQUNuRDtNQUNBLE1BQU15QixHQUFHLEdBQUcsSUFBSTlkLDJEQUFVLENBQUMsQ0FBQztNQUM1QjhkLEdBQUcsQ0FBQ3hCLElBQUksQ0FBQ2pVLFNBQVMsRUFBRUssUUFBUSxDQUFDO01BQzdCb1YsR0FBRyxDQUFDMVYsTUFBTSxDQUFDO1FBQ1BDLFNBQVM7UUFDVEMsTUFBTSxFQUFFb1M7TUFDWixDQUFDLENBQUM7SUFDTjtJQUNBLE9BQU8sTUFBTUEsTUFBTSxDQUFDdFIsR0FBRyxDQUFDZixTQUFTLEVBQUVLLFFBQVEsQ0FBQztFQUNoRDtBQUNKO0FBQ0F4RSxpREFBVSxDQUFDLENBQ1B1VyxVQUFVLENBQUMsQ0FBQyxFQUNaeFcsaURBQVUsQ0FBQyxhQUFhLEVBQUU4WixRQUFRLENBQUMsRUFDbkM5WixpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUMrWixNQUFNLEVBQUVBLE1BQU0sQ0FBQyxDQUFDLEVBQ2pEL1osaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUMxQyxFQUFFbVgsb0JBQW9CLENBQUM2QyxTQUFTLEVBQUUsZUFBZSxFQUFFLElBQUksQ0FBQztBQUN6RC9aLGlEQUFVLENBQUMsQ0FDUHVXLFVBQVUsQ0FBQyxDQUFDLEVBQ1p4VyxpREFBVSxDQUFDLGFBQWEsRUFBRThaLFFBQVEsQ0FBQyxFQUNuQzlaLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQytaLE1BQU0sQ0FBQyxDQUFDLEVBQ3pDL1osaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUMxQyxFQUFFbVgsb0JBQW9CLENBQUM2QyxTQUFTLEVBQUUsZUFBZSxFQUFFLElBQUksQ0FBQztBQUN6RC9aLGlEQUFVLENBQUMsQ0FDUHVXLFVBQVUsQ0FBQyxDQUFDLEVBQ1p4VyxpREFBVSxDQUFDLGFBQWEsRUFBRThaLFFBQVEsQ0FBQyxFQUNuQzlaLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQytaLE1BQU0sQ0FBQyxDQUFDLEVBQ3pDL1osaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUMxQyxFQUFFbVgsb0JBQW9CLENBQUM2QyxTQUFTLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQztBQUN0RC9aLGlEQUFVLENBQUMsQ0FDUHVXLFVBQVUsQ0FBQyxDQUFDLEVBQ1p4VyxpREFBVSxDQUFDLGFBQWEsRUFBRThaLFFBQVEsQ0FBQyxFQUNuQzlaLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzdHLG9EQUFJLEVBQUVBLG9EQUFJLENBQUMsQ0FBQyxFQUM3QzZHLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRW1YLG9CQUFvQixDQUFDNkMsU0FBUyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUM7QUFDdkQvWixpREFBVSxDQUFDLENBQ1B1VyxVQUFVLENBQUMsQ0FBQyxFQUNaeFcsaURBQVUsQ0FBQyxhQUFhLEVBQUU4WixRQUFRLENBQUMsRUFDbkM5WixpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUN3SCxNQUFNLEVBQUVBLE1BQU0sRUFBRUEsTUFBTSxDQUFDLENBQUMsRUFDekR4SCxpREFBVSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzFDLEVBQUVtWCxvQkFBb0IsQ0FBQzZDLFNBQVMsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDO0FBQ3hEL1osaURBQVUsQ0FBQyxDQUNQdVcsVUFBVSxDQUFDLENBQUMsRUFDWnhXLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxFQUFFQSxNQUFNLEVBQUV5UyxPQUFPLENBQUMsQ0FBQyxFQUMxRGphLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRW1YLG9CQUFvQixDQUFDNkMsU0FBUyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUM7QUFDdkQvWixpREFBVSxDQUFDLENBQ1B1VyxVQUFVLENBQUMsQ0FBQyxFQUNaeFcsaURBQVUsQ0FBQyxhQUFhLEVBQUU4WixRQUFRLENBQUMsRUFDbkM5WixpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUN3SCxNQUFNLEVBQUV1UyxNQUFNLEVBQUVBLE1BQU0sRUFBRUEsTUFBTSxDQUFDLENBQUMsRUFDakUvWixpREFBVSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzFDLEVBQUVtWCxvQkFBb0IsQ0FBQzZDLFNBQVMsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDO0FBQ3hEL1osaURBQVUsQ0FBQyxDQUNQdVcsVUFBVSxDQUFDLENBQUMsRUFDWnhXLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxFQUFFdVMsTUFBTSxDQUFDLENBQUMsRUFDakQvWixpREFBVSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzFDLEVBQUVtWCxvQkFBb0IsQ0FBQzZDLFNBQVMsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO0FBQ3BEL1osaURBQVUsQ0FBQyxDQUNQdVcsVUFBVSxDQUFDLENBQUMsRUFDWnhXLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxFQUFFdVMsTUFBTSxDQUFDLENBQUMsRUFDakQvWixpREFBVSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzFDLEVBQUVtWCxvQkFBb0IsQ0FBQzZDLFNBQVMsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDO0FBQ3ZEL1osaURBQVUsQ0FBQyxDQUNQdVcsVUFBVSxDQUFDLENBQUMsRUFDWnhXLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxFQUFFdVMsTUFBTSxFQUFFdlMsTUFBTSxFQUFFMFMsTUFBTSxDQUFDLENBQUMsRUFDakVsYSxpREFBVSxDQUFDLG1CQUFtQixFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzFDLEVBQUVtWCxvQkFBb0IsQ0FBQzZDLFNBQVMsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO0FBQ3BEL1osaURBQVUsQ0FBQyxDQUNQdVcsVUFBVSxDQUFDLENBQUMsRUFDWnhXLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0gsTUFBTSxFQUFFdVMsTUFBTSxFQUFFRyxNQUFNLENBQUMsQ0FBQyxFQUN6RGxhLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRW1YLG9CQUFvQixDQUFDNkMsU0FBUyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUM7QUFDdkQvWixpREFBVSxDQUFDLENBQ1B1VyxVQUFVLENBQUMsQ0FBQyxFQUNaeFcsaURBQVUsQ0FBQyxhQUFhLEVBQUU4WixRQUFRLENBQUMsRUFDbkM5WixpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUN3SCxNQUFNLEVBQUV1UyxNQUFNLEVBQUV2UyxNQUFNLENBQUMsQ0FBQyxFQUN6RHhILGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRW1YLG9CQUFvQixDQUFDNkMsU0FBUyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUM7QUFDdkQ7QUFDQSxNQUFNRyxlQUFlLEdBQUcsU0FBUztBQUNqQyxNQUFNQyxjQUFjLEdBQUcsSUFBSTtBQUMzQixNQUFNQyxrQkFBa0IsR0FBRyxRQUFRO0FBQ25DLE1BQU1DLFNBQVMsR0FBSSxXQUFVRCxrQkFBbUIsRUFBQztBQUNqRCxNQUFNRSxZQUFZLEdBQUksY0FBYUYsa0JBQW1CLEVBQUM7QUFDdkQsTUFBTUcsa0JBQWtCLEdBQUcsU0FBQUEsQ0FBVUMsS0FBSyxFQUFFQyxXQUFXLEVBQUU7RUFDckQsT0FBT0QsS0FBSyxDQUFDek0sT0FBTyxDQUFDbU0sZUFBZSxFQUFFTyxXQUFXLENBQUM7QUFDdEQsQ0FBQztBQUNELE1BQU1DLG1CQUFtQixHQUFHOWUsNERBQU8sQ0FBRSxnQ0FBK0IsRUFBRSxTQUFTOGUsbUJBQW1CQSxDQUFDbEYsS0FBSyxFQUFFUSxHQUFHLEVBQUU7RUFDM0csSUFBSUEsR0FBRyxFQUFFO0lBQ0xyYSwyRUFBc0IsQ0FBQzZaLEtBQUssRUFBRVEsR0FBRyxDQUFDO0VBQ3RDLENBQUMsTUFDSTtJQUNEdmMsNERBQVcsQ0FBQ3djLE1BQU0sQ0FBQ1QsS0FBSyxDQUFDO0VBQzdCO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsTUFBTStCLGdCQUFnQixTQUFTTCxvQkFBb0IsQ0FBQztFQUNoRGhVLFdBQVdBLENBQUN5WCxTQUFTLEVBQUU3RCxRQUFRLEVBQUVyRyxnQkFBZ0IsRUFBRW1LLFlBQVksRUFBRWxLLFVBQVUsRUFBRTtJQUN6RSxLQUFLLENBQUNvRyxRQUFRLEVBQUVyRyxnQkFBZ0IsRUFBRUMsVUFBVSxDQUFDO0lBQzdDLElBQUksQ0FBQ2tLLFlBQVksR0FBR0EsWUFBWTtJQUNoQyxNQUFNSCxXQUFXLEdBQUdFLFNBQVMsQ0FBQ25YLEVBQUUsQ0FBQ3VLLE9BQU8sQ0FBQ29NLGNBQWMsRUFBRSxHQUFHLENBQUM7SUFDN0QsSUFBSSxDQUFDVSxXQUFXLEdBQUdOLGtCQUFrQixDQUFDRCxZQUFZLEVBQUVHLFdBQVcsQ0FBQztJQUNoRSxJQUFJLENBQUNLLFFBQVEsR0FBR1Asa0JBQWtCLENBQUNGLFNBQVMsRUFBRUksV0FBVyxDQUFDO0lBQzFELElBQUksQ0FBQ00sU0FBUyxDQUFDSixTQUFTLENBQUNqRCxNQUFNLEVBQUUrQyxXQUFXLENBQUM7RUFDakQ7RUFDQWpELFdBQVdBLENBQUNqUyxJQUFJLEVBQUU7SUFDZCxLQUFLLENBQUM4VCxZQUFZLENBQUM5VCxJQUFJLEVBQUUsSUFBSSxDQUFDdVYsUUFBUSxFQUFFLEVBQUUsQ0FBQztFQUMvQztFQUNBdEosV0FBV0EsQ0FBQ3RMLE1BQU0sRUFBRTJTLFFBQVEsRUFBRTtJQUMxQixLQUFLLENBQUNySCxXQUFXLENBQUN0TCxNQUFNLEVBQUUyUyxRQUFRLENBQUM7RUFDdkM7RUFDQUgsYUFBYUEsQ0FBQ3hTLE1BQU0sRUFBRS9DLElBQUksRUFBRTtJQUN4QixNQUFNb0MsSUFBSSxHQUFHLEtBQUssQ0FBQ21ULGFBQWEsQ0FBQ3hTLE1BQU0sRUFBRS9DLElBQUksQ0FBQztJQUM5QztJQUNBO0lBQ0EsS0FBSyxDQUFDa1csWUFBWSxDQUFDOVQsSUFBSSxFQUFFLElBQUksQ0FBQ3NWLFdBQVcsRUFBRSxFQUFFLENBQUM7SUFDOUMsT0FBT3RWLElBQUk7RUFDZjtFQUNBd1YsU0FBU0EsQ0FBQ3JELE1BQU0sRUFBRStDLFdBQVcsRUFBRTtJQUMzQi9DLE1BQU0sQ0FDRC9XLEdBQUcsQ0FBRWdYLENBQUMsSUFBS0EsQ0FBQyxDQUFDcFUsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUN4QjVDLEdBQUcsQ0FBRWdYLENBQUMsSUFBSzRDLGtCQUFrQixDQUFDNUMsQ0FBQyxFQUFFOEMsV0FBVyxDQUFDLENBQUMsQ0FDOUN4VixPQUFPLENBQUUwUyxDQUFDLElBQUsrQyxtQkFBbUIsQ0FBQy9DLENBQUMsRUFBRSxJQUFJLENBQUNpRCxZQUFZLENBQUMsQ0FBQztFQUNsRTtFQUNBO0lBQVMsSUFBSSxDQUFDaFIsSUFBSSxZQUFBb1IseUJBQUEvVyxDQUFBO01BOW1DOEVoSCw4REFBRTtJQUFBLENBOG1DbUY7RUFBRTtFQUN2TDtJQUFTLElBQUksQ0FBQzZNLEtBQUssa0JBL21DNkU3TSxnRUFBRTtNQUFBK00sS0FBQSxFQSttQ1l1TixnQkFBZ0I7TUFBQXROLE9BQUEsRUFBaEJzTixnQkFBZ0IsQ0FBQTNOO0lBQUEsRUFBRztFQUFFO0FBQ3ZJO0FBQ0E1SixpREFBVSxDQUFDLENBQ1BwRSx3REFBTyxFQUNQbUUsaURBQVUsQ0FBQyxhQUFhLEVBQUU4WixRQUFRLENBQUMsRUFDbkM5WixpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUNtVSxLQUFLLEVBQUU0RixNQUFNLENBQUMsQ0FBQyxFQUNoRC9aLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRXdYLGdCQUFnQixDQUFDd0MsU0FBUyxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUM7QUFDakQ7RUFBQSxRQUFBNVAsU0FBQSxvQkFBQUEsU0FBQSxLQXZuQ29HbE4sK0RBQUUsQ0F1bkNYc2EsZ0JBQWdCLEVBQWMsQ0FBQztJQUM5R2xOLElBQUksRUFBRWhOLHFEQUFVQTtFQUNwQixDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVnTixJQUFJLEVBQUU3QjtFQUFVLENBQUMsRUFBRTtJQUFFNkIsSUFBSSxFQUFFcFIsb0RBQU9DO0VBQUMsQ0FBQyxFQUFFO0lBQUVtUixJQUFJLEVBQUU3QjtFQUFVLENBQUMsRUFBRTtJQUFFNkIsSUFBSSxFQUFFN0I7RUFBVSxDQUFDLEVBQUU7SUFBRTZCLElBQUksRUFBRTdCO0VBQVUsQ0FBQyxDQUFDLEVBQWtCO0lBQUV1UyxTQUFTLEVBQUU7RUFBRyxDQUFDO0FBQUE7O0FBRTVLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRyxvQkFBb0JBLENBQUEsRUFBRztFQUM1QixNQUFNbk8sS0FBSyxDQUFDLGlDQUFpQyxDQUFDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTb08sK0JBQStCQSxDQUFBLEVBQUc7RUFDdkMsTUFBTXBPLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU3FPLHFDQUFxQ0EsQ0FBQSxFQUFHO0VBQzdDLE1BQU1yTyxLQUFLLENBQUMsNkNBQTZDLENBQUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNzTywyQkFBMkJBLENBQUEsRUFBRztFQUNuQyxNQUFNdE8sS0FBSyxDQUFDLCtFQUErRSxHQUFHLHdDQUF3QyxDQUFDO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTdU8sMEJBQTBCQSxDQUFBLEVBQUc7RUFDbEMsTUFBTXZPLEtBQUssQ0FBQyxzREFBc0QsQ0FBQztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU3dPLDBCQUEwQkEsQ0FBQSxFQUFHO0VBQ2xDLE1BQU14TyxLQUFLLENBQUMsOERBQThELENBQUM7QUFDL0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU15TyxNQUFNLENBQUM7RUFDVDtFQUNBQyxNQUFNQSxDQUFDQyxJQUFJLEVBQUU7SUFDVCxJQUFJLE9BQU8xTSxNQUFNLENBQUM3RSxTQUFTLEtBQUssV0FBVyxJQUFJNkUsTUFBTSxDQUFDN0UsU0FBUyxFQUFFO01BQzdELElBQUl1UixJQUFJLElBQUksSUFBSSxFQUFFO1FBQ2RKLDBCQUEwQixDQUFDLENBQUM7TUFDaEM7TUFDQSxJQUFJSSxJQUFJLENBQUNDLFdBQVcsQ0FBQyxDQUFDLEVBQUU7UUFDcEJSLCtCQUErQixDQUFDLENBQUM7TUFDckM7SUFDSjtJQUNBLElBQUksQ0FBQ1MsYUFBYSxHQUFHRixJQUFJO0lBQ3pCLE9BQU9BLElBQUksQ0FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztFQUM1QjtFQUNBO0VBQ0FJLE1BQU1BLENBQUEsRUFBRztJQUNMLE1BQU1ILElBQUksR0FBRyxJQUFJLENBQUNFLGFBQWE7SUFDL0IsSUFBSUYsSUFBSSxJQUFJLElBQUksRUFBRTtNQUNkLElBQUksQ0FBQ0UsYUFBYSxHQUFHLElBQUk7TUFDekJGLElBQUksQ0FBQ0csTUFBTSxDQUFDLENBQUM7SUFDakIsQ0FBQyxNQUNJLElBQUksT0FBTzdNLE1BQU0sQ0FBQzdFLFNBQVMsS0FBSyxXQUFXLElBQUk2RSxNQUFNLENBQUM3RSxTQUFTLEVBQUU7TUFDbEVvUiwwQkFBMEIsQ0FBQyxDQUFDO0lBQ2hDO0VBQ0o7RUFDQTtFQUNBLElBQUlPLFVBQVVBLENBQUEsRUFBRztJQUNiLE9BQU8sSUFBSSxDQUFDRixhQUFhLElBQUksSUFBSTtFQUNyQztFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0lHLGVBQWVBLENBQUNMLElBQUksRUFBRTtJQUNsQixJQUFJLENBQUNFLGFBQWEsR0FBR0YsSUFBSTtFQUM3QjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTU0sZUFBZSxTQUFTUixNQUFNLENBQUM7RUFDakN0WSxXQUFXQSxDQUFDeVgsU0FBUyxFQUFFc0IsZ0JBQWdCLEVBQUVDLFFBQVEsRUFBRUMsd0JBQXdCLEVBQUU7SUFDekUsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUN4QixTQUFTLEdBQUdBLFNBQVM7SUFDMUIsSUFBSSxDQUFDc0IsZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QyxJQUFJLENBQUNDLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNDLHdCQUF3QixHQUFHQSx3QkFBd0I7RUFDNUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1DLGNBQWMsU0FBU1osTUFBTSxDQUFDO0VBQ2hDdFksV0FBV0EsQ0FBQ21aLFFBQVEsRUFBRUosZ0JBQWdCLEVBQUVLLE9BQU8sRUFBRTtJQUM3QyxLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0MsV0FBVyxHQUFHRixRQUFRO0lBQzNCLElBQUksQ0FBQ0osZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QyxJQUFJLENBQUNLLE9BQU8sR0FBR0EsT0FBTztFQUMxQjtFQUNBLElBQUlFLE1BQU1BLENBQUEsRUFBRztJQUNULE9BQU8sSUFBSSxDQUFDRCxXQUFXLENBQUNFLFVBQVU7RUFDdEM7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0loQixNQUFNQSxDQUFDQyxJQUFJLEVBQUVZLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sRUFBRTtJQUNqQyxJQUFJLENBQUNBLE9BQU8sR0FBR0EsT0FBTztJQUN0QixPQUFPLEtBQUssQ0FBQ2IsTUFBTSxDQUFDQyxJQUFJLENBQUM7RUFDN0I7RUFDQUcsTUFBTUEsQ0FBQSxFQUFHO0lBQ0wsSUFBSSxDQUFDUyxPQUFPLEdBQUc5VCxTQUFTO0lBQ3hCLE9BQU8sS0FBSyxDQUFDcVQsTUFBTSxDQUFDLENBQUM7RUFDekI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNYSxTQUFTLFNBQVNsQixNQUFNLENBQUM7RUFDM0J0WSxXQUFXQSxDQUFDbUMsT0FBTyxFQUFFO0lBQ2pCLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU8sWUFBWTdILHFEQUFVLEdBQUc2SCxPQUFPLENBQUN1QyxhQUFhLEdBQUd2QyxPQUFPO0VBQ2xGO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1zWCxnQkFBZ0IsQ0FBQztFQUNuQnpaLFdBQVdBLENBQUEsRUFBRztJQUNWO0lBQ0EsSUFBSSxDQUFDMFosV0FBVyxHQUFHLEtBQUs7SUFDeEI7SUFDQTtJQUNBLElBQUksQ0FBQ0MsZUFBZSxHQUFHLElBQUk7RUFDL0I7RUFDQTtFQUNBbEIsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDbUIsZUFBZTtFQUNqQztFQUNBO0VBQ0FyQixNQUFNQSxDQUFDc0IsTUFBTSxFQUFFO0lBQ1gsSUFBSSxPQUFPL04sTUFBTSxDQUFDN0UsU0FBUyxLQUFLLFdBQVcsSUFBSTZFLE1BQU0sQ0FBQzdFLFNBQVMsRUFBRTtNQUM3RCxJQUFJLENBQUM0UyxNQUFNLEVBQUU7UUFDVDdCLG9CQUFvQixDQUFDLENBQUM7TUFDMUI7TUFDQSxJQUFJLElBQUksQ0FBQ1MsV0FBVyxDQUFDLENBQUMsRUFBRTtRQUNwQlIsK0JBQStCLENBQUMsQ0FBQztNQUNyQztNQUNBLElBQUksSUFBSSxDQUFDeUIsV0FBVyxFQUFFO1FBQ2xCeEIscUNBQXFDLENBQUMsQ0FBQztNQUMzQztJQUNKO0lBQ0EsSUFBSTJCLE1BQU0sWUFBWWYsZUFBZSxFQUFFO01BQ25DLElBQUksQ0FBQ2MsZUFBZSxHQUFHQyxNQUFNO01BQzdCLE9BQU8sSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ0QsTUFBTSxDQUFDO0lBQzdDLENBQUMsTUFDSSxJQUFJQSxNQUFNLFlBQVlYLGNBQWMsRUFBRTtNQUN2QyxJQUFJLENBQUNVLGVBQWUsR0FBR0MsTUFBTTtNQUM3QixPQUFPLElBQUksQ0FBQ0Usb0JBQW9CLENBQUNGLE1BQU0sQ0FBQztNQUN4QztJQUNKLENBQUMsTUFDSSxJQUFJLElBQUksQ0FBQ0YsZUFBZSxJQUFJRSxNQUFNLFlBQVlMLFNBQVMsRUFBRTtNQUMxRCxJQUFJLENBQUNJLGVBQWUsR0FBR0MsTUFBTTtNQUM3QixPQUFPLElBQUksQ0FBQ0YsZUFBZSxDQUFDRSxNQUFNLENBQUM7SUFDdkM7SUFDQSxJQUFJLE9BQU8vTixNQUFNLENBQUM3RSxTQUFTLEtBQUssV0FBVyxJQUFJNkUsTUFBTSxDQUFDN0UsU0FBUyxFQUFFO01BQzdEa1IsMkJBQTJCLENBQUMsQ0FBQztJQUNqQztFQUNKO0VBQ0E7RUFDQVEsTUFBTUEsQ0FBQSxFQUFHO0lBQ0wsSUFBSSxJQUFJLENBQUNpQixlQUFlLEVBQUU7TUFDdEIsSUFBSSxDQUFDQSxlQUFlLENBQUNmLGVBQWUsQ0FBQyxJQUFJLENBQUM7TUFDMUMsSUFBSSxDQUFDZSxlQUFlLEdBQUcsSUFBSTtJQUMvQjtJQUNBLElBQUksQ0FBQ0ksZ0JBQWdCLENBQUMsQ0FBQztFQUMzQjtFQUNBO0VBQ0FDLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUksSUFBSSxDQUFDeEIsV0FBVyxDQUFDLENBQUMsRUFBRTtNQUNwQixJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDO0lBQ2pCO0lBQ0EsSUFBSSxDQUFDcUIsZ0JBQWdCLENBQUMsQ0FBQztJQUN2QixJQUFJLENBQUNOLFdBQVcsR0FBRyxJQUFJO0VBQzNCO0VBQ0E7RUFDQVEsWUFBWUEsQ0FBQ2pILEVBQUUsRUFBRTtJQUNiLElBQUksQ0FBQ2tILFVBQVUsR0FBR2xILEVBQUU7RUFDeEI7RUFDQStHLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ2YsSUFBSSxJQUFJLENBQUNHLFVBQVUsRUFBRTtNQUNqQixJQUFJLENBQUNBLFVBQVUsQ0FBQyxDQUFDO01BQ2pCLElBQUksQ0FBQ0EsVUFBVSxHQUFHLElBQUk7SUFDMUI7RUFDSjtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxTQUFTLFNBQVNsQixjQUFjLENBQUM7RUFDbkNsWixXQUFXQSxDQUFDcVosV0FBVyxFQUFFTixnQkFBZ0IsRUFBRTtJQUN2QyxLQUFLLENBQUNNLFdBQVcsRUFBRU4sZ0JBQWdCLENBQUM7RUFDeEM7RUFDQTtJQUFTLElBQUksQ0FBQ3JTLElBQUksWUFBQTJULGtCQUFBdFosQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZxWixTQUFTLEVBeDJDbkJyZ0IsK0RBQUUsQ0F3MkNtQ0Esc0RBQWMsR0F4MkNuREEsK0RBQUUsQ0F3MkM4REEsMkRBQW1CO0lBQUEsQ0FBNEM7RUFBRTtFQUNqTztJQUFTLElBQUksQ0FBQ3dnQixJQUFJLGtCQXoyQzhFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBeTJDSmlULFNBQVM7TUFBQUssU0FBQTtNQUFBQyxRQUFBO01BQUFDLFFBQUEsR0F6MkNQNWdCLHdFQUFFO0lBQUEsRUF5MkMrRjtFQUFFO0FBQ3ZNO0FBQ0E7RUFBQSxRQUFBa04sU0FBQSxvQkFBQUEsU0FBQSxLQTMyQ29HbE4sK0RBQUUsQ0EyMkNYcWdCLFNBQVMsRUFBYyxDQUFDO0lBQ3ZHalQsSUFBSSxFQUFFNU0sb0RBQVM7SUFDZjZNLElBQUksRUFBRSxDQUFDO01BQ0N5VCxRQUFRLEVBQUUsYUFBYTtNQUN2QkgsUUFBUSxFQUFFO0lBQ2QsQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRXZULElBQUksRUFBRXBOLHNEQUFjdUI7RUFBQyxDQUFDLEVBQUU7SUFBRTZMLElBQUksRUFBRXBOLDJEQUFtQmU7RUFBQyxDQUFDLENBQUM7QUFBQTtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1nZ0IsZUFBZSxTQUFTckIsZ0JBQWdCLENBQUM7RUFDM0N6WixXQUFXQSxDQUFDK2EsaUJBQWlCLEVBQUUzRyxRQUFRLEVBQUU7SUFDckMsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUMyRyxpQkFBaUIsR0FBR0EsaUJBQWlCO0lBQzFDLElBQUksQ0FBQzNHLFFBQVEsR0FBR0EsUUFBUTtJQUN4QjtJQUNBLElBQUksQ0FBQzRHLGNBQWMsR0FBRyxLQUFLO0lBQzNCO0lBQ0EsSUFBSSxDQUFDQyxRQUFRLEdBQUcsSUFBSXpnQix1REFBWSxDQUFDLENBQUM7SUFDbEM7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDbWYsZUFBZSxHQUFJRSxNQUFNLElBQUs7TUFDL0IsTUFBTTFYLE9BQU8sR0FBRzBYLE1BQU0sQ0FBQzFYLE9BQU87TUFDOUIsSUFBSSxDQUFDQSxPQUFPLENBQUNXLFVBQVUsS0FBSyxPQUFPZ0osTUFBTSxDQUFDN0UsU0FBUyxLQUFLLFdBQVcsSUFBSTZFLE1BQU0sQ0FBQzdFLFNBQVMsQ0FBQyxFQUFFO1FBQ3RGLE1BQU00QyxLQUFLLENBQUMsdURBQXVELENBQUM7TUFDeEU7TUFDQTtNQUNBO01BQ0EsTUFBTXFSLFVBQVUsR0FBRyxJQUFJLENBQUM5RyxRQUFRLENBQUNqRixhQUFhLENBQUMsWUFBWSxDQUFDO01BQzVEMEssTUFBTSxDQUFDaEIsZUFBZSxDQUFDLElBQUksQ0FBQztNQUM1QixJQUFJLENBQUN6RSxRQUFRLENBQUNsRyxZQUFZLENBQUMvTCxPQUFPLENBQUNXLFVBQVUsRUFBRW9ZLFVBQVUsRUFBRS9ZLE9BQU8sQ0FBQztNQUNuRSxJQUFJLENBQUNpUyxRQUFRLENBQUM5RixXQUFXLENBQUMsSUFBSSxDQUFDNk0sWUFBWSxDQUFDLENBQUMsRUFBRWhaLE9BQU8sQ0FBQztNQUN2RCxLQUFLLENBQUMrWCxZQUFZLENBQUMsTUFBTTtRQUNyQixJQUFJZ0IsVUFBVSxDQUFDcFksVUFBVSxFQUFFO1VBQ3ZCLElBQUksQ0FBQ3NSLFFBQVEsQ0FBQ2xHLFlBQVksQ0FBQ2dOLFVBQVUsQ0FBQ3BZLFVBQVUsRUFBRVgsT0FBTyxFQUFFK1ksVUFBVSxDQUFDO1VBQ3RFLElBQUksQ0FBQzlHLFFBQVEsQ0FBQ25SLFdBQVcsQ0FBQ2lZLFVBQVUsQ0FBQ3BZLFVBQVUsRUFBRW9ZLFVBQVUsQ0FBQztVQUM1RDtRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQztFQUNMO0VBQ0E7RUFDQSxJQUFJckIsTUFBTUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUNELGVBQWU7RUFDL0I7RUFDQSxJQUFJQyxNQUFNQSxDQUFDQSxNQUFNLEVBQUU7SUFDZjtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDcEIsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDb0IsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDbUIsY0FBYyxFQUFFO01BQ3ZEO0lBQ0o7SUFDQSxJQUFJLElBQUksQ0FBQ3ZDLFdBQVcsQ0FBQyxDQUFDLEVBQUU7TUFDcEIsS0FBSyxDQUFDRSxNQUFNLENBQUMsQ0FBQztJQUNsQjtJQUNBLElBQUlrQixNQUFNLEVBQUU7TUFDUixLQUFLLENBQUN0QixNQUFNLENBQUNzQixNQUFNLENBQUM7SUFDeEI7SUFDQSxJQUFJLENBQUNELGVBQWUsR0FBR0MsTUFBTTtFQUNqQztFQUNBO0VBQ0EsSUFBSXVCLFdBQVdBLENBQUEsRUFBRztJQUNkLE9BQU8sSUFBSSxDQUFDQyxZQUFZO0VBQzVCO0VBQ0FDLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQ04sY0FBYyxHQUFHLElBQUk7RUFDOUI7RUFDQXpVLFdBQVdBLENBQUEsRUFBRztJQUNWLEtBQUssQ0FBQzBULE9BQU8sQ0FBQyxDQUFDO0lBQ2YsSUFBSSxDQUFDTCxlQUFlLEdBQUcsSUFBSTtJQUMzQixJQUFJLENBQUN5QixZQUFZLEdBQUcsSUFBSTtFQUM1QjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJdkIscUJBQXFCQSxDQUFDRCxNQUFNLEVBQUU7SUFDMUJBLE1BQU0sQ0FBQ2hCLGVBQWUsQ0FBQyxJQUFJLENBQUM7SUFDNUI7SUFDQTtJQUNBLE1BQU1FLGdCQUFnQixHQUFHYyxNQUFNLENBQUNkLGdCQUFnQixJQUFJLElBQUksR0FBR2MsTUFBTSxDQUFDZCxnQkFBZ0IsR0FBRyxJQUFJLENBQUNnQyxpQkFBaUI7SUFDM0c7SUFDQTtJQUNBLE1BQU12VyxHQUFHLEdBQUd1VSxnQkFBZ0IsQ0FBQ3dDLGVBQWUsQ0FBQzFCLE1BQU0sQ0FBQ3BDLFNBQVMsQ0FBQztJQUM5RDtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUlzQixnQkFBZ0IsS0FBSyxJQUFJLENBQUNnQyxpQkFBaUIsRUFBRTtNQUM3QyxJQUFJLENBQUMzRyxRQUFRLENBQUM5RixXQUFXLENBQUMsSUFBSSxDQUFDNk0sWUFBWSxDQUFDLENBQUMsRUFBRTNXLEdBQUcsQ0FBQ2dYLFFBQVEsQ0FBQzdXLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RTtJQUNBLEtBQUssQ0FBQ3VWLFlBQVksQ0FBQyxNQUFNMVYsR0FBRyxDQUFDK1EsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUN2QyxJQUFJLENBQUNxRSxlQUFlLEdBQUdDLE1BQU07SUFDN0IsSUFBSSxDQUFDd0IsWUFBWSxHQUFHN1csR0FBRztJQUN2QixJQUFJLENBQUN5VyxRQUFRLENBQUNRLElBQUksQ0FBQ2pYLEdBQUcsQ0FBQztJQUN2QixPQUFPQSxHQUFHO0VBQ2Q7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0VBQ0l1VixvQkFBb0JBLENBQUNGLE1BQU0sRUFBRTtJQUN6QkEsTUFBTSxDQUFDaEIsZUFBZSxDQUFDLElBQUksQ0FBQztJQUM1QixNQUFNNkMsT0FBTyxHQUFHLElBQUksQ0FBQ1gsaUJBQWlCLENBQUNZLGtCQUFrQixDQUFDOUIsTUFBTSxDQUFDUixXQUFXLEVBQUVRLE1BQU0sQ0FBQ1QsT0FBTyxDQUFDO0lBQzdGLEtBQUssQ0FBQ2MsWUFBWSxDQUFDLE1BQU0sSUFBSSxDQUFDYSxpQkFBaUIsQ0FBQ2hKLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDeEQsSUFBSSxDQUFDNkgsZUFBZSxHQUFHQyxNQUFNO0lBQzdCLElBQUksQ0FBQ3dCLFlBQVksR0FBR0ssT0FBTztJQUMzQixJQUFJLENBQUNULFFBQVEsQ0FBQ1EsSUFBSSxDQUFDQyxPQUFPLENBQUM7SUFDM0IsT0FBT0EsT0FBTztFQUNsQjtFQUNBO0VBQ0FQLFlBQVlBLENBQUEsRUFBRztJQUNYLE1BQU16VyxhQUFhLEdBQUcsSUFBSSxDQUFDcVcsaUJBQWlCLENBQUM1WSxPQUFPLENBQUN1QyxhQUFhO0lBQ2xFO0lBQ0E7SUFDQTtJQUNBLE9BQVEsRUFBRUEsYUFBYSxZQUFZbkUsV0FBVyxDQUFDLEdBQUdtRSxhQUFhLEdBQUdBLGFBQWEsQ0FBQzVCLFVBQVU7RUFDOUY7RUFDQTtJQUFTLElBQUksQ0FBQzRELElBQUksWUFBQWtWLHdCQUFBN2EsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0YrWixlQUFlLEVBNytDekIvZ0IsK0RBQUUsQ0E2K0N5Q0EsMkRBQW1CLEdBNytDOURBLCtEQUFFLENBNitDeUVBLG9EQUFZO0lBQUEsQ0FBNEM7RUFBRTtFQUNyTztJQUFTLElBQUksQ0FBQ3dnQixJQUFJLGtCQTkrQzhFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBOCtDSjJULGVBQWU7TUFBQUwsU0FBQTtNQUFBcUIsTUFBQTtRQUFBakMsTUFBQSxHQTkrQ2I5ZiwwREFBRSxDQUFBd2EsSUFBQTtNQUFBO01BQUF5SCxPQUFBO1FBQUFmLFFBQUE7TUFBQTtNQUFBUCxRQUFBO01BQUFDLFFBQUEsR0FBRjVnQix3RUFBRTtJQUFBLEVBOCtDdU07RUFBRTtBQUMvUztBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0FoL0NvR2xOLCtEQUFFLENBZy9DWCtnQixlQUFlLEVBQWMsQ0FBQztJQUM3RzNULElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLG1CQUFtQjtNQUM3QkgsUUFBUSxFQUFFLGlCQUFpQjtNQUMzQjtNQUNBb0IsTUFBTSxFQUFFLENBQUMseUJBQXlCO0lBQ3RDLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUUzVSxJQUFJLEVBQUVwTiwyREFBbUJlO0VBQUMsQ0FBQyxFQUFFO0lBQUVxTSxJQUFJLEVBQUVwTixvREFBWThoQjtFQUFDLENBQUMsQ0FBQyxFQUFrQjtJQUFFWixRQUFRLEVBQUUsQ0FBQztNQUN4RzlULElBQUksRUFBRTFNLGlEQUFNQTtJQUNoQixDQUFDO0VBQUUsQ0FBQztBQUFBO0FBQ2hCLE1BQU13aEIsWUFBWSxDQUFDO0VBQ2Y7SUFBUyxJQUFJLENBQUN2VixJQUFJLFlBQUF3VixxQkFBQW5iLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGa2IsWUFBWTtJQUFBLENBQWtEO0VBQUU7RUFDMUs7SUFBUyxJQUFJLENBQUNFLElBQUksa0JBNy9DOEVwaUIsOERBQUU7TUFBQW9OLElBQUEsRUE2L0NTOFU7SUFBWSxFQUFzRjtFQUFFO0VBQy9NO0lBQVMsSUFBSSxDQUFDSSxJQUFJLGtCQTkvQzhFdGlCLDhEQUFFLElBOC9Dd0I7RUFBRTtBQUNoSTtBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0FoZ0RvR2xOLCtEQUFFLENBZ2dEWGtpQixZQUFZLEVBQWMsQ0FBQztJQUMxRzlVLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDbVYsT0FBTyxFQUFFLENBQUNuQyxTQUFTLEVBQUVVLGVBQWUsQ0FBQztNQUNyQzBCLFlBQVksRUFBRSxDQUFDcEMsU0FBUyxFQUFFVSxlQUFlO0lBQzdDLENBQUM7RUFDVCxDQUFDLENBQUM7QUFBQTs7QUFFVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTJCLDJCQUEyQixHQUFHLE1BQU1BLDJCQUEyQixTQUFTaEQsZ0JBQWdCLENBQUM7RUFDekZ6WixXQUFXQSxDQUFBLENBQ1g7RUFDQTBjLGFBQWEsRUFBRUMseUJBQXlCLEVBQUVDLE9BQU8sRUFBRUMsZ0JBQWdCLEVBQUVsSyxRQUFRLEVBQUU7SUFDM0UsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUMrSixhQUFhLEdBQUdBLGFBQWE7SUFDbEMsSUFBSSxDQUFDQyx5QkFBeUIsR0FBR0EseUJBQXlCO0lBQzFELElBQUksQ0FBQ0MsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNsRCxlQUFlLEdBQUlFLE1BQU0sSUFBSztNQUMvQixNQUFNMVgsT0FBTyxHQUFHMFgsTUFBTSxDQUFDMVgsT0FBTztNQUM5QixJQUFJLENBQUNBLE9BQU8sQ0FBQ1csVUFBVSxLQUFLLE9BQU9nSixNQUFNLENBQUM3RSxTQUFTLEtBQUssV0FBVyxJQUFJNkUsTUFBTSxDQUFDN0UsU0FBUyxDQUFDLEVBQUU7UUFDdEYsTUFBTTRDLEtBQUssQ0FBQyx1REFBdUQsQ0FBQztNQUN4RTtNQUNBO01BQ0E7TUFDQSxNQUFNcVIsVUFBVSxHQUFHLElBQUksQ0FBQzRCLFNBQVMsQ0FBQzNOLGFBQWEsQ0FBQyxZQUFZLENBQUM7TUFDN0QsSUFBSSxDQUFDMk4sU0FBUyxDQUFDNU8sWUFBWSxDQUFDL0wsT0FBTyxDQUFDVyxVQUFVLEVBQUVvWSxVQUFVLEVBQUUvWSxPQUFPLENBQUM7TUFDcEUsSUFBSSxDQUFDMmEsU0FBUyxDQUFDeE8sV0FBVyxDQUFDLElBQUksQ0FBQ29PLGFBQWEsRUFBRXZhLE9BQU8sQ0FBQztNQUN2RCxLQUFLLENBQUMrWCxZQUFZLENBQUMsTUFBTTtRQUNyQjtRQUNBLElBQUlnQixVQUFVLENBQUNwWSxVQUFVLEVBQUU7VUFDdkIsSUFBSSxDQUFDZ2EsU0FBUyxDQUFDNU8sWUFBWSxDQUFDZ04sVUFBVSxDQUFDcFksVUFBVSxFQUFFWCxPQUFPLEVBQUUrWSxVQUFVLENBQUM7VUFDdkUsSUFBSSxDQUFDNEIsU0FBUyxDQUFDN1osV0FBVyxDQUFDaVksVUFBVSxDQUFDcFksVUFBVSxFQUFFb1ksVUFBVSxDQUFDO1VBQzdEO1FBQ0o7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDO0lBQ0QsSUFBSSxDQUFDNEIsU0FBUyxHQUFHbkssUUFBUSxJQUFJLElBQUksQ0FBQ2tLLGdCQUFnQixDQUFDbmIsR0FBRyxDQUFDNEwsUUFBUSxDQUFDO0VBQ3BFO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtFQUNJd00scUJBQXFCQSxDQUFDRCxNQUFNLEVBQUU7SUFDMUIsTUFBTW5QLFFBQVEsR0FBR21QLE1BQU0sQ0FBQ1osd0JBQXdCLElBQUksSUFBSSxDQUFDMEQseUJBQXlCO0lBQ2xGLE1BQU1JLGdCQUFnQixHQUFHclMsUUFBUSxDQUFDc1MsdUJBQXVCLENBQUNuRCxNQUFNLENBQUNwQyxTQUFTLENBQUM7SUFDM0UsSUFBSXdGLFlBQVk7SUFDaEI7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJcEQsTUFBTSxDQUFDZCxnQkFBZ0IsRUFBRTtNQUN6QmtFLFlBQVksR0FBR3BELE1BQU0sQ0FBQ2QsZ0JBQWdCLENBQUN3QyxlQUFlLENBQUN3QixnQkFBZ0IsRUFBRWxELE1BQU0sQ0FBQ2QsZ0JBQWdCLENBQUN2TixNQUFNLEVBQUVxTyxNQUFNLENBQUNiLFFBQVEsSUFBSWEsTUFBTSxDQUFDZCxnQkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO01BQzdKLElBQUksQ0FBQ2tCLFlBQVksQ0FBQyxNQUFNK0MsWUFBWSxDQUFDMUgsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDLE1BQ0k7TUFDRDBILFlBQVksR0FBR0YsZ0JBQWdCLENBQUNuWCxNQUFNLENBQUNpVSxNQUFNLENBQUNiLFFBQVEsSUFBSSxJQUFJLENBQUM2RCxnQkFBZ0IsQ0FBQztNQUNoRixJQUFJLENBQUNELE9BQU8sQ0FBQ00sVUFBVSxDQUFDRCxZQUFZLENBQUN6QixRQUFRLENBQUM7TUFDOUMsSUFBSSxDQUFDdEIsWUFBWSxDQUFDLE1BQU07UUFDcEIsSUFBSSxDQUFDMEMsT0FBTyxDQUFDTyxVQUFVLENBQUNGLFlBQVksQ0FBQ3pCLFFBQVEsQ0FBQztRQUM5Q3lCLFlBQVksQ0FBQzFILE9BQU8sQ0FBQyxDQUFDO01BQzFCLENBQUMsQ0FBQztJQUNOO0lBQ0E7SUFDQTtJQUNBLE1BQU02SCxRQUFRLEdBQUcsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ0osWUFBWSxDQUFDO0lBQ3pELElBQUlHLFFBQVEsQ0FBQ3BhLE1BQU0sRUFBRTtNQUNqQixJQUFJLENBQUM4WixTQUFTLENBQUM3WixXQUFXLENBQUNtYSxRQUFRLENBQUNwYSxNQUFNLEVBQUVvYSxRQUFRLENBQUM7SUFDekQ7SUFDQSxJQUFJLENBQUNOLFNBQVMsQ0FBQ3hPLFdBQVcsQ0FBQyxJQUFJLENBQUNvTyxhQUFhLEVBQUUsSUFBSSxDQUFDVyxxQkFBcUIsQ0FBQ0osWUFBWSxDQUFDLENBQUM7SUFDeEYsT0FBT0EsWUFBWTtFQUN2QjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7RUFDSWxELG9CQUFvQkEsQ0FBQ0YsTUFBTSxFQUFFO0lBQ3pCLE1BQU15RCxhQUFhLEdBQUd6RCxNQUFNLENBQUNkLGdCQUFnQjtJQUM3QyxNQUFNMkMsT0FBTyxHQUFHNEIsYUFBYSxDQUFDM0Isa0JBQWtCLENBQUM5QixNQUFNLENBQUNSLFdBQVcsRUFBRVEsTUFBTSxDQUFDVCxPQUFPLENBQUM7SUFDcEY7SUFDQTtJQUNBO0lBQ0E7SUFDQXNDLE9BQU8sQ0FBQy9XLFNBQVMsQ0FBQzVDLE9BQU8sQ0FBRXFiLFFBQVEsSUFBSztNQUNwQyxJQUFJQSxRQUFRLENBQUNwYSxNQUFNLEVBQUU7UUFDakIsSUFBSSxDQUFDOFosU0FBUyxDQUFDN1osV0FBVyxDQUFDbWEsUUFBUSxDQUFDcGEsTUFBTSxFQUFFb2EsUUFBUSxDQUFDO01BQ3pEO01BQ0EsSUFBSSxDQUFDTixTQUFTLENBQUN4TyxXQUFXLENBQUMsSUFBSSxDQUFDb08sYUFBYSxFQUFFVSxRQUFRLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBQ0Y7SUFDQTtJQUNBO0lBQ0ExQixPQUFPLENBQUM2QixhQUFhLENBQUMsQ0FBQztJQUN2QixJQUFJLENBQUNyRCxZQUFZLENBQUMsTUFBTTtNQUNwQixNQUFNblEsS0FBSyxHQUFHdVQsYUFBYSxDQUFDclQsT0FBTyxDQUFDeVIsT0FBTyxDQUFDO01BQzVDLElBQUkzUixLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDZHVULGFBQWEsQ0FBQ0UsTUFBTSxDQUFDelQsS0FBSyxDQUFDO01BQy9CO0lBQ0osQ0FBQyxDQUFDO0lBQ0Y7SUFDQSxPQUFPMlIsT0FBTztFQUNsQjtFQUNBO0FBQ0o7QUFDQTtFQUNJekIsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sS0FBSyxDQUFDQSxPQUFPLENBQUMsQ0FBQztJQUNmLElBQUksSUFBSSxDQUFDeUMsYUFBYSxDQUFDNVosVUFBVSxJQUFJLElBQUksRUFBRTtNQUN2QyxJQUFJLENBQUNnYSxTQUFTLENBQUM3WixXQUFXLENBQUMsSUFBSSxDQUFDeVosYUFBYSxDQUFDNVosVUFBVSxFQUFFLElBQUksQ0FBQzRaLGFBQWEsQ0FBQztJQUNqRjtFQUNKO0VBQ0E7RUFDQVcscUJBQXFCQSxDQUFDSixZQUFZLEVBQUU7SUFDaEMsT0FBT0EsWUFBWSxDQUFDekIsUUFBUSxDQUFDN1csU0FBUyxDQUFDLENBQUMsQ0FBQztFQUM3QztBQUNKLENBQUM7QUFDRDhYLDJCQUEyQixHQUFHM2YsaURBQVUsQ0FBQyxDQUNyQ0YsOENBQU8sQ0FBQyxDQUFDLEVBQUV2Qyx1REFBUSxDQUFDLENBQUMsQ0FBQyxFQUN0QndDLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzdHLG9EQUFJLEVBQ2pDMkUsbUVBQXdCLEVBQ3hCQyx5REFBYyxFQUNkQyxtREFBUSxFQUNSeVMsUUFBUSxDQUFDLENBQUMsQ0FDakIsRUFBRW1QLDJCQUEyQixDQUFDO0FBRS9CalMsZUFBZSxDQUFDLG1CQUFtQixFQUFFLE1BQU1yVSxrRUFBa0IsRUFBRTtFQUMzRHVLLFlBQVksRUFBRTtBQUNsQixDQUFDLENBQUM7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNK2MsY0FBYyxDQUFDO0VBQ2pCO0VBQ0F6ZCxXQUFXQSxDQUFDMEssUUFBUSxFQUFFZ1QsY0FBYyxFQUFFQyxZQUFZLEVBQUVDLE1BQU0sRUFBRTtJQUN4RCxJQUFJLENBQUNsVCxRQUFRLEdBQUdBLFFBQVE7SUFDeEIsSUFBSSxDQUFDZ1QsY0FBYyxHQUFHQSxjQUFjO0lBQ3BDLElBQUksQ0FBQ0MsWUFBWSxHQUFHQSxZQUFZO0lBQ2hDLElBQUksQ0FBQ0MsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUcsRUFBRTtFQUM5QjtFQUNBQyxxQkFBcUJBLENBQUNDLGFBQWEsRUFBRUMsY0FBYyxFQUFFO0lBQ2pELE9BQU8sSUFBSWxGLGVBQWUsQ0FBQ2lGLGFBQWEsRUFBRSxJQUFJLENBQUNFLEVBQUUsRUFBRUQsY0FBYyxJQUFJLElBQUksQ0FBQ0MsRUFBRSxDQUFDakYsUUFBUSxDQUFDO0VBQzFGO0VBQ0FrRixvQkFBb0JBLENBQUM3RSxXQUFXLEVBQUVELE9BQU8sRUFBRTtJQUN2QyxPQUFPLElBQUlGLGNBQWMsQ0FBQ0csV0FBVyxFQUFFLElBQUksQ0FBQzRFLEVBQUUsRUFBRTdFLE9BQU8sQ0FBQztFQUM1RDtFQUNBK0UsWUFBWUEsQ0FBQ0osYUFBYSxFQUFFO0lBQ3hCLE1BQU1oWCxPQUFPLEdBQUcsSUFBSSxDQUFDMkQsUUFBUSxDQUFDc1MsdUJBQXVCLENBQUNlLGFBQWEsQ0FBQztJQUNwRSxNQUFNZCxZQUFZLEdBQUdsVyxPQUFPLENBQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDK1gsWUFBWSxDQUFDM0UsUUFBUSxDQUFDO0lBQy9ELElBQUksQ0FBQzRFLE1BQU0sQ0FBQ1YsVUFBVSxDQUFDRCxZQUFZLENBQUN6QixRQUFRLENBQUM7SUFDN0MsSUFBSSxDQUFDcUMsZ0JBQWdCLENBQUNsYyxJQUFJLENBQUMsTUFBTTtNQUM3QixJQUFJLENBQUNpYyxNQUFNLENBQUNULFVBQVUsQ0FBQ0YsWUFBWSxDQUFDekIsUUFBUSxDQUFDO01BQzdDeUIsWUFBWSxDQUFDMUgsT0FBTyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0lBQ0Y7SUFDQTtJQUNBO0lBQ0E7SUFDQS9lLHNEQUFLLENBQUMwUixLQUFLLENBQUMsZ0VBQWdFLEVBQUUsaUJBQWlCLENBQUM7SUFDaEcsT0FBTytVLFlBQVk7RUFDdkI7RUFDQW1CLGNBQWNBLENBQUNMLGFBQWEsRUFBRTtJQUMxQixPQUFPLElBQUksQ0FBQ0UsRUFBRSxDQUFDMUMsZUFBZSxDQUFDd0MsYUFBYSxDQUFDO0VBQ2pEO0VBQ0F4WCxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNzWCxnQkFBZ0IsQ0FBQzliLE9BQU8sQ0FBRWtSLEVBQUUsSUFBS0EsRUFBRSxDQUFDLENBQUMsQ0FBQztFQUMvQztFQUNBc0ssYUFBYUEsQ0FBQSxFQUFHO0lBQ1osSUFBSSxDQUFDRyxjQUFjLENBQUNXLFlBQVksQ0FBQyxDQUFDO0VBQ3RDO0VBQ0E7QUFDSjtBQUNBO0VBQ0lDLGFBQWFBLENBQUNQLGFBQWEsRUFBRTtJQUN6QnZuQixzREFBSyxDQUFDMFIsS0FBSyxDQUFDLDhCQUE4QixFQUFFLGlCQUFpQixDQUFDO0lBQzlELE9BQU95TSxPQUFPLENBQUNDLE9BQU8sQ0FBQyxJQUFJLENBQUN1SixZQUFZLENBQUNKLGFBQWEsQ0FBQyxDQUFDO0VBQzVEO0VBQ0E7QUFDSjtBQUNBO0VBQ0lRLGlCQUFpQkEsQ0FBQ1IsYUFBYSxFQUFFO0lBQzdCdm5CLHNEQUFLLENBQUMwUixLQUFLLENBQUMsa0NBQWtDLEVBQUUsaUJBQWlCLENBQUM7SUFDbEUsT0FBTyxJQUFJLENBQUNpVyxZQUFZLENBQUNKLGFBQWEsQ0FBQztFQUMzQztFQUNBO0FBQ0o7QUFDQTtFQUNJUyx1QkFBdUJBLENBQUNULGFBQWEsRUFBRTtJQUNuQ3ZuQixzREFBSyxDQUFDMFIsS0FBSyxDQUFDLHdDQUF3QyxFQUFFLGlCQUFpQixDQUFDO0lBQ3hFLE9BQU8sSUFBSSxDQUFDa1csY0FBYyxDQUFDTCxhQUFhLENBQUM7RUFDN0M7RUFDQTtBQUNKO0FBQ0E7RUFDSVUsZUFBZUEsQ0FBQzFYLE9BQU8sRUFBRTtJQUNyQixNQUFNa1csWUFBWSxHQUFHbFcsT0FBTyxDQUFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQytYLFlBQVksQ0FBQzNFLFFBQVEsQ0FBQztJQUMvRCxJQUFJLENBQUM0RSxNQUFNLENBQUNWLFVBQVUsQ0FBQ0QsWUFBWSxDQUFDekIsUUFBUSxDQUFDO0lBQzdDLElBQUksQ0FBQ3FDLGdCQUFnQixDQUFDbGMsSUFBSSxDQUFDLE1BQU07TUFDN0IsSUFBSSxDQUFDaWMsTUFBTSxDQUFDVCxVQUFVLENBQUNGLFlBQVksQ0FBQ3pCLFFBQVEsQ0FBQztNQUM3Q3lCLFlBQVksQ0FBQzFILE9BQU8sQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FBQztJQUNGLE9BQU8wSCxZQUFZO0VBQ3ZCO0VBQ0E7QUFDSjtBQUNBO0VBQ0l5Qix5QkFBeUJBLENBQUMzWCxPQUFPLEVBQUU7SUFDL0IsT0FBTyxJQUFJLENBQUNrWCxFQUFFLENBQUMxQyxlQUFlLENBQUN4VSxPQUFPLENBQUM7RUFDM0M7RUFDQTtJQUFTLElBQUksQ0FBQ0wsSUFBSSxZQUFBaVksdUJBQUE1ZCxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RjBjLGNBQWMsRUF0dUR4QjFqQiwrREFBRSxDQXN1RHdDQSxtRUFBMkIsR0F0dURyRUEsK0RBQUUsQ0FzdURnRkEsNERBQW9CLEdBdHVEdEdBLCtEQUFFLENBc3VEaUhBLDJEQUFtQixHQXR1RHRJQSwrREFBRSxDQXN1RGlKQSx5REFBaUI7SUFBQSxDQUE0QztFQUFFO0VBQ2xUO0lBQVMsSUFBSSxDQUFDNmtCLElBQUksa0JBdnVEOEU3a0IsK0RBQUU7TUFBQW9OLElBQUEsRUF1dURKc1csY0FBYztNQUFBaEQsU0FBQTtNQUFBcUUsU0FBQSxXQUFBQyxxQkFBQXRmLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUF2dURaMUYseURBQUUsQ0FBQXNGLEdBQUEsS0F1dUR3SXZFLDJEQUFnQjtRQUFBO1FBQUEsSUFBQTJFLEVBQUE7VUFBQSxJQUFBd2YsRUFBQTtVQXZ1RDFKbGxCLDREQUFFLENBQUFrbEIsRUFBQSxHQUFGbGxCLHlEQUFFLFFBQUEyRixHQUFBLENBQUF1ZSxFQUFBLEdBQUFnQixFQUFBLENBQUFHLEtBQUE7UUFBQTtNQUFBO01BQUFDLGtCQUFBLEVBQUEvZixHQUFBO01BQUFnZ0IsS0FBQTtNQUFBQyxJQUFBO01BQUFDLE1BQUE7TUFBQXJHLFFBQUEsV0FBQXNHLHdCQUFBaGdCLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUFBRjFGLDZEQUFFO1VBQUZBLHVEQUFFLDBCQXV1RHNPLENBQUM7VUF2dUR6T0EsZ0VBQUUsV0F3dURsRSxDQUFDO1VBeHVEK0RBLDBEQUFFLEVBeXVEMUUsQ0FBQztRQUFBO01BQUE7TUFBQW9hLGFBQUE7SUFBQSxFQUFvQjtFQUFFO0FBQ25EO0FBQ0E7RUFBQSxRQUFBbE4sU0FBQSxvQkFBQUEsU0FBQSxLQTN1RG9HbE4sK0RBQUUsQ0EydURYMGpCLGNBQWMsRUFBYyxDQUFDO0lBQzVHdFcsSUFBSSxFQUFFcE0sb0RBQVM7SUFDZnFNLElBQUksRUFBRSxDQUFDO01BQ0M7TUFDQXlULFFBQVEsRUFBRSxtQkFBbUI7TUFDN0IxQixRQUFRLEVBQUc7QUFDL0I7QUFDQTtJQUNnQixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFaFMsSUFBSSxFQUFFcE4sbUVBQTJCWTtFQUFDLENBQUMsRUFBRTtJQUFFd00sSUFBSSxFQUFFcE4sNERBQW9CcUI7RUFBQyxDQUFDLEVBQUU7SUFBRStMLElBQUksRUFBRXBOLDJEQUFtQmU7RUFBQyxDQUFDLEVBQUU7SUFBRXFNLElBQUksRUFBRXBOLHlEQUFpQmE7RUFBQyxDQUFDLENBQUMsRUFBa0I7SUFBRXFqQixFQUFFLEVBQUUsQ0FBQztNQUM5SzlXLElBQUksRUFBRW5NLG9EQUFTO01BQ2ZvTSxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUU7UUFBRXlZLElBQUksRUFBRS9rQiwyREFBZ0I7UUFBRWdsQixNQUFNLEVBQUU7TUFBSyxDQUFDO0lBQ3pELENBQUM7RUFBRSxDQUFDO0FBQUE7QUFFaEIsTUFBTUMsV0FBVyxDQUFDO0VBQ2QsSUFBSUMsTUFBTUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUNDLFFBQVEsQ0FBQ3pmLEtBQUs7RUFDOUI7RUFDQSxJQUFJMGYsT0FBT0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxJQUFJLENBQUNELFFBQVEsQ0FBQy9aLElBQUksQ0FBQzFJLHFFQUFvQixDQUFDLENBQUMsQ0FBQztFQUNyRDtFQUNBLElBQUkyaUIsV0FBV0EsQ0FBQSxFQUFHO0lBQ2QsT0FBTyxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDLENBQUM7RUFDM0M7RUFDQXJnQixXQUFXQSxDQUFDc2dCLElBQUksRUFBRUMsS0FBSyxFQUFFbGUsSUFBSSxFQUFFO0lBQzNCLElBQUksQ0FBQytkLFlBQVksR0FBRyxJQUFJdmlCLDBDQUFPLENBQUMsQ0FBQztJQUNqQyxJQUFJeWlCLElBQUksRUFBRTtNQUNOLElBQUksQ0FBQ0EsSUFBSSxHQUFHQSxJQUFJO0lBQ3BCLENBQUMsTUFDSTtNQUNEamUsSUFBSSxHQUFHQSxJQUFJLElBQUlrZSxLQUFLLENBQUM3YixhQUFhO01BQ2xDLE9BQU9yQyxJQUFJLEVBQUU7UUFDVCxJQUFJQSxJQUFJLFlBQVlqTSxvREFBSSxFQUFFO1VBQ3RCLElBQUksQ0FBQ2txQixJQUFJLEdBQUdqZSxJQUFJO1VBQ2hCO1FBQ0o7UUFDQUEsSUFBSSxHQUFHQSxJQUFJLENBQUNXLE1BQU07TUFDdEI7SUFDSjtJQUNBLElBQUksQ0FBQ2lkLFFBQVEsR0FBRyxJQUFJcmlCLGtEQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzBpQixJQUFJLEVBQUVyTCxRQUFRLENBQUM7SUFDMUQsSUFBSSxJQUFJLENBQUNxTCxJQUFJLEVBQUU7TUFDWCxJQUFJLENBQUNBLElBQUksQ0FBQ3plLEVBQUUsQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDMmUsU0FBUyxFQUFFLElBQUksQ0FBQztNQUNuRCxJQUFJLENBQUNGLElBQUksQ0FBQ3plLEVBQUUsQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDMmUsU0FBUyxFQUFFLElBQUksQ0FBQztNQUNqRCxJQUFJLENBQUNGLElBQUksQ0FBQ3plLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMyZSxTQUFTLEVBQUUsSUFBSSxDQUFDO01BQ3BELElBQUksQ0FBQ0YsSUFBSSxDQUFDemUsRUFBRSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMyZSxTQUFTLEVBQUUsSUFBSSxDQUFDO0lBQ3REO0VBQ0o7RUFDQWphLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksSUFBSSxDQUFDK1osSUFBSSxFQUFFO01BQ1gsSUFBSSxDQUFDQSxJQUFJLENBQUN0ZSxHQUFHLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQ3dlLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDcEQsSUFBSSxDQUFDRixJQUFJLENBQUN0ZSxHQUFHLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQ3dlLFNBQVMsRUFBRSxJQUFJLENBQUM7TUFDbEQsSUFBSSxDQUFDRixJQUFJLENBQUN0ZSxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDd2UsU0FBUyxFQUFFLElBQUksQ0FBQztNQUNyRCxJQUFJLENBQUNGLElBQUksQ0FBQ3RlLEdBQUcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDd2UsU0FBUyxFQUFFLElBQUksQ0FBQztJQUN2RDtJQUNBLElBQUksQ0FBQ1AsUUFBUSxDQUFDelosUUFBUSxDQUFDLENBQUM7SUFDeEIsSUFBSSxDQUFDNFosWUFBWSxDQUFDNVosUUFBUSxDQUFDLENBQUM7RUFDaEM7RUFDQWdhLFNBQVNBLENBQUNoZixHQUFHLEVBQUU7SUFDWCxJQUFJLENBQUM0ZSxZQUFZLENBQUNuYyxJQUFJLENBQUN6QyxHQUFHLENBQUM7SUFDM0IsUUFBUUEsR0FBRyxDQUFDUCxTQUFTO01BQ2pCLEtBQUssYUFBYTtRQUNkLElBQUksQ0FBQ2dmLFFBQVEsQ0FBQ2hjLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDeEI7TUFDSixLQUFLLGVBQWU7UUFDaEIsSUFBSSxDQUFDZ2MsUUFBUSxDQUFDaGMsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN6QjtNQUNKO0lBQ0o7RUFDSjtFQUNBO0lBQVMsSUFBSSxDQUFDeUMsSUFBSSxZQUFBK1osb0JBQUExZixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RmdmLFdBQVcsRUFoekRyQmhtQixzREFBRSxDQWd6RHFDaEUsb0RBQU8sTUFoekQ5Q2dFLHNEQUFFLENBZ3pEeUVBLHFEQUFhLE1BaHpEeEZBLHNEQUFFLENBZ3pEbUhoRSx5REFBVztJQUFBLENBQTZEO0VBQUU7RUFDL1I7SUFBUyxJQUFJLENBQUM2USxLQUFLLGtCQWp6RDZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUFpekRZaVosV0FBVztNQUFBaFosT0FBQSxFQUFYZ1osV0FBVyxDQUFBclo7SUFBQSxFQUFHO0VBQUU7QUFDbEk7QUFDQTtFQUFBLFFBQUFPLFNBQUEsb0JBQUFBLFNBQUEsS0FuekRvR2xOLCtEQUFFLENBbXpEWGdtQixXQUFXLEVBQWMsQ0FBQztJQUN6RzVZLElBQUksRUFBRWhOLHFEQUFVQTtFQUNwQixDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVnTixJQUFJLEVBQUVwUixvREFBTztJQUFFNnFCLFVBQVUsRUFBRSxDQUFDO01BQzdDelosSUFBSSxFQUFFOU0sbURBQVFBO0lBQ2xCLENBQUM7RUFBRSxDQUFDLEVBQUU7SUFBRThNLElBQUksRUFBRXBOLHFEQUFhO0lBQUU2bUIsVUFBVSxFQUFFLENBQUM7TUFDdEN6WixJQUFJLEVBQUU5TSxtREFBUUE7SUFDbEIsQ0FBQztFQUFFLENBQUMsRUFBRTtJQUFFOE0sSUFBSSxFQUFFcFIseURBQVc7SUFBRTZxQixVQUFVLEVBQUUsQ0FBQztNQUNwQ3paLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxDQUFDO0FBQUE7QUFFckIsU0FBU3dtQiwyQkFBMkJBLENBQUNoYyxDQUFDLEVBQUU7RUFDcEMsT0FBT0EsQ0FBQyxDQUFDMUMsT0FBTyxDQUFDdUMsYUFBYTtBQUNsQztBQUNBLFNBQVNvYywwQkFBMEJBLENBQUNqYyxDQUFDLEVBQUU7RUFDbkMsT0FBT0EsQ0FBQyxDQUFDeWIsSUFBSTtBQUNqQjtBQUNBOVYsZUFBZSxDQUFDLFdBQVcsRUFBRSxNQUFNeFQsc0RBQUssRUFBRTtFQUN0QzBTLFdBQVcsRUFBRUEsQ0FBQzFHLE1BQU0sRUFBRTJHLEtBQUssS0FBSztJQUM1QixJQUFJQSxLQUFLLFlBQVl2VCxvREFBSSxFQUFFO01BQ3ZCcVQsU0FBUyxDQUFDQyxXQUFXLENBQUMxRyxNQUFNLEVBQUUyRyxLQUFLLENBQUM7TUFDcEM7SUFDSjtJQUNBM0csTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDRSxPQUFPLEdBQUd5RyxLQUFLO0VBQ3pDO0FBQ0osQ0FBQyxDQUFDO0FBQ0YsTUFBTW9YLGtCQUFrQixDQUFDO0VBQ3JCL2dCLFdBQVdBLENBQUNtQyxPQUFPLEVBQUVpUyxRQUFRLEVBQUU7SUFDM0IsSUFBSSxDQUFDalMsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQzZlLGVBQWUsR0FBRyxLQUFLO0lBQzVCLElBQUksQ0FBQ1YsSUFBSSxHQUFHbE0sUUFBUSxDQUFDb0IsYUFBYSxDQUFDLE1BQU0sQ0FBQztJQUMxQ3JULE9BQU8sQ0FBQ3VDLGFBQWEsQ0FBQyxhQUFhLENBQUMsR0FBRyxJQUFJLENBQUM0YixJQUFJO0lBQ2hEbE0sUUFBUSxDQUFDOUYsV0FBVyxDQUFDbk0sT0FBTyxDQUFDdUMsYUFBYSxFQUFFLElBQUksQ0FBQzRiLElBQUksQ0FBQztFQUMxRDtFQUNBVyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDakIsSUFBSUEsT0FBTyxDQUFDRixlQUFlLElBQUlFLE9BQU8sQ0FBQ0YsZUFBZSxDQUFDRyxhQUFhLEtBQUtELE9BQU8sQ0FBQ0YsZUFBZSxDQUFDSSxZQUFZLEVBQUU7TUFDM0csSUFBSSxJQUFJLENBQUNkLElBQUksRUFBRTtRQUNYLElBQUksQ0FBQ0EsSUFBSSxDQUFDVSxlQUFlLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQ0EsZUFBZTtNQUN0RDtJQUNKO0VBQ0o7RUFDQUssZUFBZUEsQ0FBQSxFQUFHO0lBQ2QsSUFBSSxJQUFJLENBQUNmLElBQUksRUFBRTtNQUNYLElBQUksQ0FBQ0EsSUFBSSxDQUFDVSxlQUFlLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQ0EsZUFBZTtJQUN0RDtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUN0YSxJQUFJLFlBQUE0YSwyQkFBQXZnQixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RmdnQixrQkFBa0IsRUFoMkQ1QmhuQiwrREFBRSxDQWcyRDRDQSxxREFBYSxHQWgyRDNEQSwrREFBRSxDQWcyRHNFQSxvREFBWTtJQUFBLENBQTRDO0VBQUU7RUFDbE87SUFBUyxJQUFJLENBQUM2a0IsSUFBSSxrQkFqMkQ4RTdrQiwrREFBRTtNQUFBb04sSUFBQSxFQWkyREo0WixrQkFBa0I7TUFBQXRHLFNBQUE7TUFBQXFCLE1BQUE7UUFBQWtGLGVBQUE7TUFBQTtNQUFBckcsUUFBQSxHQWoyRGhCNWdCLGdFQUFFLENBaTJEa0csQ0FDNUw7UUFDSXluQixPQUFPLEVBQUV4cUIsc0RBQUs7UUFDZHlxQixVQUFVLEVBQUVaLDJCQUEyQjtRQUN2Q2EsSUFBSSxFQUFFLENBQUNYLGtCQUFrQjtNQUM3QixDQUFDLEVBQ0Q7UUFDSVMsT0FBTyxFQUFFcHJCLG9EQUFJO1FBQ2JxckIsVUFBVSxFQUFFWCwwQkFBMEI7UUFDdENZLElBQUksRUFBRSxDQUFDWCxrQkFBa0I7TUFDN0IsQ0FBQyxFQUNEaEIsV0FBVyxDQUNkLEdBNzJEMkZobUIsa0VBQUU7TUFBQXNsQixrQkFBQSxFQUFBL2YsR0FBQTtNQUFBZ2dCLEtBQUE7TUFBQUMsSUFBQTtNQUFBcEcsUUFBQSxXQUFBeUksNEJBQUFuaUIsRUFBQSxFQUFBQyxHQUFBO1FBQUEsSUFBQUQsRUFBQTtVQUFGMUYsNkRBQUU7VUFBRkEsMERBQUUsRUE2MkRyQixDQUFDO1FBQUE7TUFBQTtNQUFBb2EsYUFBQTtJQUFBLEVBQW9CO0VBQUU7QUFDeEc7QUFDQTtFQUFBLFFBQUFsTixTQUFBLG9CQUFBQSxTQUFBLEtBLzJEb0dsTiwrREFBRSxDQSsyRFhnbkIsa0JBQWtCLEVBQWMsQ0FBQztJQUNoSDVaLElBQUksRUFBRXBNLG9EQUFTO0lBQ2ZxTSxJQUFJLEVBQUUsQ0FBQztNQUNDO01BQ0F5VCxRQUFRLEVBQUUsV0FBVztNQUNyQjFCLFFBQVEsRUFBRywyQkFBMEI7TUFDckMwSSxTQUFTLEVBQUUsQ0FDUDtRQUNJTCxPQUFPLEVBQUV4cUIsc0RBQUs7UUFDZHlxQixVQUFVLEVBQUVaLDJCQUEyQjtRQUN2Q2EsSUFBSSxFQUFFLENBQUNYLGtCQUFrQjtNQUM3QixDQUFDLEVBQ0Q7UUFDSVMsT0FBTyxFQUFFcHJCLG9EQUFJO1FBQ2JxckIsVUFBVSxFQUFFWCwwQkFBMEI7UUFDdENZLElBQUksRUFBRSxDQUFDWCxrQkFBa0I7TUFDN0IsQ0FBQyxFQUNEaEIsV0FBVztJQUVuQixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFNVksSUFBSSxFQUFFcE4scURBQWFPO0VBQUMsQ0FBQyxFQUFFO0lBQUU2TSxJQUFJLEVBQUVwTixvREFBWThoQjtFQUFDLENBQUMsQ0FBQyxFQUFrQjtJQUFFbUYsZUFBZSxFQUFFLENBQUM7TUFDekc3WixJQUFJLEVBQUVsTSxnREFBS0E7SUFDZixDQUFDO0VBQUUsQ0FBQztBQUFBO0FBRWhCLFNBQVM2bUIsMkJBQTJCQSxDQUFDamQsQ0FBQyxFQUFFO0VBQ3BDLE9BQU9BLENBQUMsQ0FBQzFDLE9BQU8sQ0FBQ3VDLGFBQWE7QUFDbEM7QUFDQSxNQUFNcWQsY0FBYyxDQUFDO0VBQ2pCL2hCLFdBQVdBLENBQUNtQyxPQUFPLEVBQUU7SUFDakIsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87RUFDMUI7RUFDQTtJQUFTLElBQUksQ0FBQ3VFLElBQUksWUFBQXNiLHVCQUFBamhCLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGZ2hCLGNBQWMsRUE5NER4QmhvQiwrREFBRSxDQTg0RHdDQSxxREFBYTtJQUFBLENBQTRDO0VBQUU7RUFDck07SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkEvNEQ4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQSs0REo0YSxjQUFjO01BQUF0SCxTQUFBO01BQUFFLFFBQUEsR0EvNERaNWdCLGdFQUFFLENBKzREMEMsQ0FDcEk7UUFDSXluQixPQUFPLEVBQUV4cUIsc0RBQUs7UUFDZHlxQixVQUFVLEVBQUVLLDJCQUEyQjtRQUN2Q0osSUFBSSxFQUFFLENBQUNLLGNBQWM7TUFDekIsQ0FBQyxDQUNKO0lBQUEsRUFBaUI7RUFBRTtBQUM1QjtBQUNBO0VBQUEsUUFBQTlhLFNBQUEsb0JBQUFBLFNBQUEsS0F2NURvR2xOLCtEQUFFLENBdTVEWGdvQixjQUFjLEVBQWMsQ0FBQztJQUM1RzVhLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDO01BQ0F5VCxRQUFRLEVBQUUsT0FBTztNQUNqQmdILFNBQVMsRUFBRSxDQUNQO1FBQ0lMLE9BQU8sRUFBRXhxQixzREFBSztRQUNkeXFCLFVBQVUsRUFBRUssMkJBQTJCO1FBQ3ZDSixJQUFJLEVBQUUsQ0FBQ0ssY0FBYztNQUN6QixDQUFDO0lBRVQsQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRTVhLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQztBQUFBO0FBRTNELFNBQVMybkIsaUJBQWlCQSxDQUFDcGQsQ0FBQyxFQUFFO0VBQzFCLE9BQU9BLENBQUMsQ0FBQzFDLE9BQU8sQ0FBQ3VDLGFBQWE7QUFDbEM7QUFDQSxNQUFNd2QsYUFBYSxDQUFDO0VBQ2hCbGlCLFdBQVdBLENBQUNtQyxPQUFPLEVBQUU7SUFDakIsSUFBSSxDQUFDQSxPQUFPLEdBQUdBLE9BQU87RUFDMUI7RUFDQTtJQUFTLElBQUksQ0FBQ3VFLElBQUksWUFBQXliLHNCQUFBcGhCLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGbWhCLGFBQWEsRUE3NkR2Qm5vQiwrREFBRSxDQTY2RHVDQSxxREFBYTtJQUFBLENBQTRDO0VBQUU7RUFDcE07SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkE5NkQ4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQTg2REorYSxhQUFhO01BQUF6SCxTQUFBO01BQUFFLFFBQUEsR0E5NkRYNWdCLGdFQUFFLENBODZEd0MsQ0FDbEk7UUFDSXluQixPQUFPLEVBQUVwckIsb0RBQUk7UUFDYnFyQixVQUFVLEVBQUVRLGlCQUFpQjtRQUM3QlAsSUFBSSxFQUFFLENBQUNRLGFBQWE7TUFDeEIsQ0FBQyxFQUNEbkMsV0FBVyxDQUNkO0lBQUEsRUFBaUI7RUFBRTtBQUM1QjtBQUNBO0VBQUEsUUFBQTlZLFNBQUEsb0JBQUFBLFNBQUEsS0F2N0RvR2xOLCtEQUFFLENBdTdEWG1vQixhQUFhLEVBQWMsQ0FBQztJQUMzRy9hLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDO01BQ0F5VCxRQUFRLEVBQUUsTUFBTTtNQUNoQmdILFNBQVMsRUFBRSxDQUNQO1FBQ0lMLE9BQU8sRUFBRXByQixvREFBSTtRQUNicXJCLFVBQVUsRUFBRVEsaUJBQWlCO1FBQzdCUCxJQUFJLEVBQUUsQ0FBQ1EsYUFBYTtNQUN4QixDQUFDLEVBQ0RuQyxXQUFXO0lBRW5CLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUU1WSxJQUFJLEVBQUVwTixxREFBYU87RUFBQyxDQUFDLENBQUM7QUFBQTtBQUUzRCxNQUFNOG5CLGVBQWUsQ0FBQztFQUNsQjtJQUFTLElBQUksQ0FBQzFiLElBQUksWUFBQTJiLHdCQUFBdGhCLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGcWhCLGVBQWU7SUFBQSxDQUFrRDtFQUFFO0VBQzdLO0lBQVMsSUFBSSxDQUFDakcsSUFBSSxrQkF6OEQ4RXBpQiw4REFBRTtNQUFBb04sSUFBQSxFQXk4RFNpYjtJQUFlLEVBQW9JO0VBQUU7RUFDaFE7SUFBUyxJQUFJLENBQUMvRixJQUFJLGtCQTE4RDhFdGlCLDhEQUFFLElBMDhEMkI7RUFBRTtBQUNuSTtBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0E1OERvR2xOLCtEQUFFLENBNDhEWHFvQixlQUFlLEVBQWMsQ0FBQztJQUM3R2piLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDb1YsWUFBWSxFQUFFLENBQUN1RixjQUFjLEVBQUVHLGFBQWEsRUFBRW5CLGtCQUFrQixDQUFDO01BQ2pFeEUsT0FBTyxFQUFFLENBQUN3RixjQUFjLEVBQUVHLGFBQWEsRUFBRW5CLGtCQUFrQjtJQUMvRCxDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7QUFFVixTQUFTdUIsU0FBU0EsQ0FBQ0MsR0FBRyxFQUFFO0VBQ3BCLE9BQU9BLEdBQUcsS0FBS2pkLFNBQVMsSUFBSWlkLEdBQUcsS0FBSyxJQUFJO0FBQzVDO0FBQ0EsU0FBU0MsT0FBT0EsQ0FBQ0QsR0FBRyxFQUFFO0VBQ2xCLE9BQU9BLEdBQUcsS0FBS2pkLFNBQVMsSUFBSWlkLEdBQUcsS0FBSyxJQUFJO0FBQzVDO0FBRUEsU0FBU0UsWUFBWUEsQ0FBQ3BnQixJQUFJLEVBQUU7RUFDeEIsT0FBT0EsSUFBSSxZQUFZeEosMkRBQVU7QUFDckM7QUFDQSxTQUFTNnBCLGtCQUFrQkEsQ0FBQ3JnQixJQUFJLEVBQUU7RUFDOUIsT0FBT0EsSUFBSSxZQUFZdkosaUVBQWdCO0FBQzNDO0FBQ0EsTUFBTTZwQixhQUFhLEdBQUc7RUFDbEJqaUIsWUFBWSxFQUFFLElBQUk7RUFDbEJnSixXQUFXLEVBQUVBLENBQUMxRyxNQUFNLEVBQUUyRyxLQUFLLEVBQUUxRixJQUFJLEtBQUs7SUFDbEMsSUFBSTNCLGVBQWUsQ0FBQ3FILEtBQUssQ0FBQyxFQUFFO01BQ3hCO0lBQ0osQ0FBQyxNQUNJLElBQUkrWSxrQkFBa0IsQ0FBQy9ZLEtBQUssQ0FBQyxFQUFFO01BQ2hDM0csTUFBTSxDQUFDNGYsZ0JBQWdCLEdBQUdqWixLQUFLO01BQy9CQSxLQUFLLENBQUM3RyxVQUFVLEdBQUdFLE1BQU07SUFDN0IsQ0FBQyxNQUNJLElBQUl5ZixZQUFZLENBQUM5WSxLQUFLLENBQUMsRUFBRTtNQUMxQmtaLGFBQWEsQ0FBQzdmLE1BQU0sRUFBRTJHLEtBQUssRUFBRTFGLElBQUksQ0FBQztNQUNsQzBGLEtBQUssQ0FBQzdHLFVBQVUsR0FBR0UsTUFBTTtJQUM3QixDQUFDLE1BQ0ksSUFBSVosTUFBTSxDQUFDdUgsS0FBSyxDQUFDLEVBQUU7TUFDcEIzRyxNQUFNLENBQUM4ZixTQUFTLEdBQUduWixLQUFLO0lBQzVCO0VBQ0osQ0FBQztFQUNEMUcsV0FBVyxFQUFFQSxDQUFDRCxNQUFNLEVBQUUyRyxLQUFLLEtBQUs7SUFDNUIsSUFBSXJILGVBQWUsQ0FBQ3FILEtBQUssQ0FBQyxFQUFFO01BQ3hCO0lBQ0osQ0FBQyxNQUNJLElBQUkrWSxrQkFBa0IsQ0FBQy9ZLEtBQUssQ0FBQyxFQUFFO01BQ2hDLElBQUkzRyxNQUFNLENBQUM0ZixnQkFBZ0IsS0FBS2paLEtBQUssRUFBRTtRQUNuQzNHLE1BQU0sQ0FBQzRmLGdCQUFnQixHQUFHLElBQUk7TUFDbEM7TUFDQWpaLEtBQUssQ0FBQzdHLFVBQVUsR0FBRyxJQUFJO0lBQzNCLENBQUMsTUFDSSxJQUFJMmYsWUFBWSxDQUFDOVksS0FBSyxDQUFDLEVBQUU7TUFDMUIzRyxNQUFNLENBQUMrZixXQUFXLENBQUNDLFVBQVUsQ0FBQ3JaLEtBQUssQ0FBQztNQUNwQ0EsS0FBSyxDQUFDN0csVUFBVSxHQUFHLElBQUk7SUFDM0IsQ0FBQyxNQUNJLElBQUlWLE1BQU0sQ0FBQ3VILEtBQUssQ0FBQyxJQUFJM0csTUFBTSxDQUFDOGYsU0FBUyxJQUFJOWYsTUFBTSxDQUFDOGYsU0FBUyxLQUFLblosS0FBSyxFQUFFO01BQ3RFM0csTUFBTSxDQUFDOGYsU0FBUyxHQUFHLElBQUk7SUFDM0I7RUFDSjtBQUNKLENBQUM7QUFDRHRZLGVBQWUsQ0FBQyxXQUFXLEVBQUUsTUFBTXpSLDBEQUFTLEVBQUU0cEIsYUFBYSxDQUFDO0FBQzVEblksZUFBZSxDQUFDLFlBQVksRUFBRSxNQUFNM1IsMkRBQVUsQ0FBQztBQUMvQzJSLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNMVIsaUVBQWdCLENBQUM7QUFDM0QsTUFBTStwQixhQUFhLEdBQUdBLENBQUNJLEdBQUcsRUFBRTdSLElBQUksRUFBRW5OLElBQUksS0FBSztFQUN2QyxJQUFJQSxJQUFJLEVBQUU7SUFDTmlmLHNCQUFzQixDQUFDRCxHQUFHLEVBQUU3UixJQUFJLEVBQUVuTixJQUFJLENBQUM7RUFDM0MsQ0FBQyxNQUNJO0lBQ0RrZixnQkFBZ0IsQ0FBQ0YsR0FBRyxFQUFFN1IsSUFBSSxDQUFDO0VBQy9CO0FBQ0osQ0FBQztBQUNELE1BQU04UixzQkFBc0IsR0FBR0EsQ0FBQ0QsR0FBRyxFQUFFN1IsSUFBSSxFQUFFbk4sSUFBSSxLQUFLO0VBQ2hELE1BQU04ZSxXQUFXLEdBQUdFLEdBQUcsQ0FBQ0YsV0FBVztFQUNuQyxNQUFNSyxxQkFBcUIsR0FBR0wsV0FBVyxDQUFDTSxRQUFRLENBQUMsQ0FBQztFQUNwRCxNQUFNQyxhQUFhLEdBQUdGLHFCQUFxQixDQUFDblosT0FBTyxDQUFDaEcsSUFBSSxDQUFDO0VBQ3pEbWYscUJBQXFCLENBQUNsWixNQUFNLENBQUNvWixhQUFhLEVBQUUsQ0FBQyxFQUFFbFMsSUFBSSxDQUFDO0VBQ3BEMlIsV0FBVyxDQUFDUSxRQUFRLENBQUNILHFCQUFxQixDQUFDO0FBQy9DLENBQUM7QUFDRCxNQUFNRCxnQkFBZ0IsR0FBR0EsQ0FBQ0YsR0FBRyxFQUFFN1IsSUFBSSxLQUFLO0VBQ3BDNlIsR0FBRyxDQUFDRixXQUFXLENBQUNTLE9BQU8sQ0FBQ3BTLElBQUksQ0FBQztBQUNqQyxDQUFDO0FBQ0QsTUFBTXFTLGtCQUFrQixDQUFDO0VBQ3JCempCLFdBQVdBLENBQUNtQyxPQUFPLEVBQUVtZSxJQUFJLEVBQUU7SUFDdkIsSUFBSSxDQUFDbmUsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ21lLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDQSxJQUFJLEVBQUU7TUFDWixNQUFNLElBQUl6VyxLQUFLLENBQUMsd0NBQXdDLEdBQUcscUtBQXFLLEdBQUcsdUdBQXVHLENBQUM7SUFDL1U7SUFDQSxJQUFJMlksT0FBTyxDQUFDLElBQUksQ0FBQ2xDLElBQUksQ0FBQ1UsZUFBZSxDQUFDLEVBQUU7TUFDcEMsSUFBSSxDQUFDVixJQUFJLENBQUNVLGVBQWUsR0FBRyxLQUFLO0lBQ3JDO0lBQ0EsSUFBSSxDQUFDVixJQUFJLENBQUNvRCxTQUFTLEdBQUcsSUFBSSxDQUFDdmhCLE9BQU8sQ0FBQ3VDLGFBQWE7SUFDaEQsSUFBSSxDQUFDNGIsSUFBSSxDQUFDb0QsU0FBUyxDQUFDQyxNQUFNLENBQUMsQ0FBQztFQUNoQztFQUNBO0lBQVMsSUFBSSxDQUFDamQsSUFBSSxZQUFBa2QsMkJBQUE3aUIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0YwaUIsa0JBQWtCLEVBeGlFNUIxcEIsK0RBQUUsQ0F3aUU0Q0EscURBQWEsR0F4aUUzREEsK0RBQUUsQ0F3aUVzRWhFLG9EQUFPO0lBQUEsQ0FBNEQ7RUFBRTtFQUM3TztJQUFTLElBQUksQ0FBQzZvQixJQUFJLGtCQXppRThFN2tCLCtEQUFFO01BQUFvTixJQUFBLEVBeWlFSnNjLGtCQUFrQjtNQUFBaEosU0FBQTtNQUFBNEUsa0JBQUEsRUFBQS9mLEdBQUE7TUFBQWdnQixLQUFBO01BQUFDLElBQUE7TUFBQXBHLFFBQUEsV0FBQTBLLDRCQUFBcGtCLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUF6aUVoQjFGLDZEQUFFO1VBQUZBLDBEQUFFLEVBeWlFd0YsQ0FBQztRQUFBO01BQUE7TUFBQW9hLGFBQUE7SUFBQSxFQUFvQjtFQUFFO0FBQ3JOO0FBQ0E7RUFBQSxRQUFBbE4sU0FBQSxvQkFBQUEsU0FBQSxLQTNpRW9HbE4sK0RBQUUsQ0EyaUVYMHBCLGtCQUFrQixFQUFjLENBQUM7SUFDaEh0YyxJQUFJLEVBQUVwTSxvREFBUztJQUNmcU0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSxXQUFXO01BQ3JCMUIsUUFBUSxFQUFFO0lBQ2QsQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRWhTLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsRUFBRTtJQUFFNk0sSUFBSSxFQUFFcFIsb0RBQU87SUFBRTZxQixVQUFVLEVBQUUsQ0FBQztNQUN0RXpaLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxDQUFDO0FBQUE7QUFDckI7QUFDQSxNQUFNeXBCLGNBQWMsQ0FBQztFQUNqQjtFQUNBOWpCLFdBQVdBLENBQUNzZ0IsSUFBSSxFQUFFO0lBQ2QsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7SUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQ0EsSUFBSSxFQUFFO01BQ1osTUFBTSxJQUFJelcsS0FBSyxDQUFDLDZEQUE2RCxDQUFDO0lBQ2xGO0VBQ0o7RUFDQWthLGVBQWVBLENBQUNDLE1BQU0sRUFBRTtJQUNwQixJQUFJLENBQUMxRCxJQUFJLENBQUNvRCxTQUFTLENBQUNkLGdCQUFnQixHQUFHb0IsTUFBTSxDQUFDN2hCLE9BQU8sQ0FBQ3VDLGFBQWE7RUFDdkU7RUFDQXVmLGtCQUFrQkEsQ0FBQ0QsTUFBTSxFQUFFO0lBQ3ZCLE1BQU1FLEdBQUcsR0FBR0YsTUFBTSxDQUFDN2hCLE9BQU8sQ0FBQ3VDLGFBQWE7SUFDeEMsSUFBSXdmLEdBQUcsSUFBSSxJQUFJLENBQUM1RCxJQUFJLENBQUNvRCxTQUFTLENBQUNkLGdCQUFnQixLQUFLc0IsR0FBRyxFQUFFO01BQ3JELElBQUksQ0FBQzVELElBQUksQ0FBQ29ELFNBQVMsQ0FBQ2QsZ0JBQWdCLEdBQUcsSUFBSTtJQUMvQztFQUNKO0VBQ0F1QixZQUFZQSxDQUFDL1MsSUFBSSxFQUFFO0lBQ2YsSUFBSSxDQUFDa1AsSUFBSSxDQUFDb0QsU0FBUyxDQUFDWCxXQUFXLENBQUNTLE9BQU8sQ0FBQ3BTLElBQUksQ0FBQ2pQLE9BQU8sQ0FBQ3VDLGFBQWEsQ0FBQztFQUN2RTtFQUNBMGYsZUFBZUEsQ0FBQ2hULElBQUksRUFBRTtJQUNsQixJQUFJQSxJQUFJLENBQUNqUCxPQUFPLENBQUN1QyxhQUFhLENBQUNnZixTQUFTLEVBQUU7TUFDdEMsSUFBSSxDQUFDcEQsSUFBSSxDQUFDb0QsU0FBUyxDQUFDWCxXQUFXLENBQUNDLFVBQVUsQ0FBQzVSLElBQUksQ0FBQ2pQLE9BQU8sQ0FBQ3VDLGFBQWEsQ0FBQztJQUMxRTtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUNnQyxJQUFJLFlBQUEyZCx1QkFBQXRqQixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RitpQixjQUFjLEVBOWtFeEIvcEIsK0RBQUUsQ0E4a0V3Q2hFLG9EQUFPO0lBQUEsQ0FBNEQ7RUFBRTtFQUMvTTtJQUFTLElBQUksQ0FBQzZvQixJQUFJLGtCQS9rRThFN2tCLCtEQUFFO01BQUFvTixJQUFBLEVBK2tFSjJjLGNBQWM7TUFBQXJKLFNBQUE7TUFBQTZFLEtBQUE7TUFBQUMsSUFBQTtNQUFBcEcsUUFBQSxXQUFBbUwsd0JBQUE3a0IsRUFBQSxFQUFBQyxHQUFBO01BQUF5VSxhQUFBO0lBQUEsRUFBK0U7RUFBRTtBQUNqTTtBQUNBO0VBQUEsUUFBQWxOLFNBQUEsb0JBQUFBLFNBQUEsS0FqbEVvR2xOLCtEQUFFLENBaWxFWCtwQixjQUFjLEVBQWMsQ0FBQztJQUM1RzNjLElBQUksRUFBRXBNLG9EQUFTO0lBQ2ZxTSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLG9CQUFvQjtNQUM5QjFCLFFBQVEsRUFBRTtJQUNkLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVoUyxJQUFJLEVBQUVwUixvREFBTztJQUFFNnFCLFVBQVUsRUFBRSxDQUFDO01BQzdDelosSUFBSSxFQUFFOU0sbURBQVFBO0lBQ2xCLENBQUM7RUFBRSxDQUFDLENBQUM7QUFBQTtBQUNyQixNQUFNa3FCLG1CQUFtQixDQUFDO0VBQ3RCdmtCLFdBQVdBLENBQUNtQyxPQUFPLEVBQUVxaUIsVUFBVSxFQUFFO0lBQzdCLElBQUksQ0FBQ3JpQixPQUFPLEdBQUdBLE9BQU87SUFDdEIsSUFBSSxDQUFDcWlCLFVBQVUsR0FBR0EsVUFBVTtJQUM1QixJQUFJLElBQUksQ0FBQ0EsVUFBVSxFQUFFO01BQ2pCLElBQUksQ0FBQ0EsVUFBVSxDQUFDTCxZQUFZLENBQUMsSUFBSSxDQUFDO0lBQ3RDO0VBQ0o7RUFDQTVkLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksSUFBSSxDQUFDaWUsVUFBVSxFQUFFO01BQ2pCLElBQUksQ0FBQ0EsVUFBVSxDQUFDSixlQUFlLENBQUMsSUFBSSxDQUFDO0lBQ3pDO0VBQ0o7RUFDQTtJQUFTLElBQUksQ0FBQzFkLElBQUksWUFBQStkLDRCQUFBMWpCLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGd2pCLG1CQUFtQixFQXZtRTdCeHFCLCtEQUFFLENBdW1FNkNBLHFEQUFhLEdBdm1FNURBLCtEQUFFLENBdW1FdUUrcEIsY0FBYztJQUFBLENBQTREO0VBQUU7RUFDclA7SUFBUyxJQUFJLENBQUN2SixJQUFJLGtCQXhtRThFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBd21FSm9kLG1CQUFtQjtNQUFBOUosU0FBQTtJQUFBLEVBQXlDO0VBQUU7QUFDaEs7QUFDQTtFQUFBLFFBQUF4VCxTQUFBLG9CQUFBQSxTQUFBLEtBMW1Fb0dsTiwrREFBRSxDQTBtRVh3cUIsbUJBQW1CLEVBQWMsQ0FBQztJQUNqSHBkLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLFlBQVksQ0FBRTtJQUM1QixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFMVQsSUFBSSxFQUFFcE4scURBQWFPO0VBQUMsQ0FBQyxFQUFFO0lBQUU2TSxJQUFJLEVBQUUyYyxjQUFjO0lBQUVsRCxVQUFVLEVBQUUsQ0FBQztNQUM3RXpaLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxDQUFDO0FBQUE7QUFDckIsTUFBTXFxQix5QkFBeUIsQ0FBQztFQUM1QjFrQixXQUFXQSxDQUFDbUMsT0FBTyxFQUFFcWlCLFVBQVUsRUFBRTtJQUM3QixJQUFJLENBQUNyaUIsT0FBTyxHQUFHQSxPQUFPO0lBQ3RCLElBQUksQ0FBQ3FpQixVQUFVLEdBQUdBLFVBQVU7SUFDNUIsSUFBSSxJQUFJLENBQUNBLFVBQVUsRUFBRTtNQUNqQixJQUFJLENBQUNBLFVBQVUsQ0FBQ1QsZUFBZSxDQUFDLElBQUksQ0FBQztJQUN6QztFQUNKO0VBQ0F4ZCxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLElBQUksQ0FBQ2llLFVBQVUsRUFBRTtNQUNqQixJQUFJLENBQUNBLFVBQVUsQ0FBQ1Asa0JBQWtCLENBQUMsSUFBSSxDQUFDO0lBQzVDO0VBQ0o7RUFDQTtJQUFTLElBQUksQ0FBQ3ZkLElBQUksWUFBQWllLGtDQUFBNWpCLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGMmpCLHlCQUF5QixFQS9uRW5DM3FCLCtEQUFFLENBK25FbURBLHFEQUFhLEdBL25FbEVBLCtEQUFFLENBK25FNkUrcEIsY0FBYztJQUFBLENBQTREO0VBQUU7RUFDM1A7SUFBUyxJQUFJLENBQUN2SixJQUFJLGtCQWhvRThFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBZ29FSnVkLHlCQUF5QjtNQUFBakssU0FBQTtJQUFBLEVBQStDO0VBQUU7QUFDNUs7QUFDQTtFQUFBLFFBQUF4VCxTQUFBLG9CQUFBQSxTQUFBLEtBbG9Fb0dsTiwrREFBRSxDQWtvRVgycUIseUJBQXlCLEVBQWMsQ0FBQztJQUN2SHZkLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLGtCQUFrQixDQUFFO0lBQ2xDLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUUxVCxJQUFJLEVBQUVwTixxREFBYU87RUFBQyxDQUFDLEVBQUU7SUFBRTZNLElBQUksRUFBRTJjLGNBQWM7SUFBRWxELFVBQVUsRUFBRSxDQUFDO01BQzdFelosSUFBSSxFQUFFOU0sbURBQVFBO0lBQ2xCLENBQUM7RUFBRSxDQUFDLENBQUM7QUFBQTs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVN1cUIsb0JBQW9CQSxDQUFDQyxZQUFZLEVBQUVDLFVBQVUsRUFBRTtFQUNwRCxJQUFJRCxZQUFZLEVBQUU7SUFDZCxNQUFNLElBQUloYixLQUFLLENBQUUsR0FBRWliLFVBQVcsb0NBQW1DQSxVQUFXLHlCQUF3QixDQUFDO0VBQ3pHO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzVQLElBQUlBLENBQUNqQyxFQUFFLEVBQUU7RUFDZCxJQUFJOFIsU0FBUyxHQUFHLEtBQUs7RUFDckIsT0FBTyxTQUFTQyxPQUFPQSxDQUFBLEVBQUc7SUFDdEIsSUFBSUQsU0FBUyxFQUFFO01BQ1g7SUFDSjtJQUNBQSxTQUFTLEdBQUcsSUFBSTtJQUNoQjtJQUNBOVIsRUFBRSxDQUFDZ1MsS0FBSyxDQUFDLElBQUksRUFBRUMsU0FBUyxDQUFDO0VBQzdCLENBQUM7QUFDTDtBQUNBLFNBQVNDLGtCQUFrQkEsQ0FBQzVDLEdBQUcsRUFBRTtFQUM3QixJQUFJLENBQUM2QyxVQUFVLENBQUM3QyxHQUFHLENBQUMsRUFDaEIsT0FBTyxLQUFLO0VBQ2hCLE9BQU92UixLQUFLLENBQUNDLE9BQU8sQ0FBQ3NSLEdBQUcsQ0FBQyxJQUNwQixFQUFFQSxHQUFHLFlBQVluaEIsR0FBRyxDQUFDO0VBQUk7RUFDdEJpa0IsTUFBTSxDQUFDQyxRQUFRLElBQUkvQyxHQUFJLENBQUMsQ0FBQztBQUNyQztBQUNBLFNBQVM2QyxVQUFVQSxDQUFDRyxDQUFDLEVBQUU7RUFDbkIsT0FBT0EsQ0FBQyxLQUFLLElBQUksS0FBSyxPQUFPQSxDQUFDLEtBQUssVUFBVSxJQUFJLE9BQU9BLENBQUMsS0FBSyxRQUFRLENBQUM7QUFDM0U7QUFFQSxNQUFNQyxPQUFPLEdBQUcsWUFBWTtBQUM1QixNQUFNQyx5QkFBeUIsR0FBRyxJQUFJenJCLHlEQUFjLENBQUMseUJBQXlCLENBQUM7QUFDL0UsTUFBTTByQixXQUFXLENBQUM7RUFDZDFsQixXQUFXQSxDQUFDMmxCLFNBQVMsRUFBRXZVLElBQUksRUFBRXJILEtBQUssRUFBRTZiLElBQUksRUFBRUMsR0FBRyxFQUFFO0lBQzNDLElBQUksQ0FBQ0YsU0FBUyxHQUFHQSxTQUFTO0lBQzFCLElBQUksQ0FBQ3ZVLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUNySCxLQUFLLEdBQUdBLEtBQUs7SUFDbEIsSUFBSSxDQUFDNmIsSUFBSSxHQUFHQSxJQUFJO0lBQ2hCLElBQUksQ0FBQ0MsR0FBRyxHQUFHQSxHQUFHO0VBQ2xCO0FBQ0o7QUFDQSxNQUFNQyxlQUFlLENBQUM7RUFDbEI5bEIsV0FBV0EsQ0FBQ21aLFFBQVEsRUFBRTFVLFFBQVEsRUFBRXNoQixRQUFRLEVBQUU7SUFDdEMsSUFBSSxDQUFDNU0sUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQzFVLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNzaEIsUUFBUSxHQUFHQSxRQUFRO0VBQzVCO0VBQ0FuZ0IsTUFBTUEsQ0FBQ3dULE9BQU8sRUFBRTtJQUNaLE1BQU1zQyxPQUFPLEdBQUcsSUFBSSxDQUFDalgsUUFBUSxDQUFDa1gsa0JBQWtCLENBQUMsSUFBSSxDQUFDeEMsUUFBUSxFQUFFQyxPQUFPLEdBQUcsSUFBSSxDQUFDNE0sZ0JBQWdCLENBQUM1TSxPQUFPLENBQUMsR0FBRyxJQUFJc00sV0FBVyxDQUFDLENBQUMsQ0FBQztJQUM3SGhLLE9BQU8sQ0FBQy9DLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixNQUFNc04sVUFBVSxHQUFHQyxlQUFlLENBQUN4SyxPQUFPLENBQUM7SUFDM0N1SyxVQUFVLENBQUNULE9BQU8sQ0FBQyxHQUFHOUosT0FBTztJQUM3QixJQUFJLElBQUksQ0FBQ3FLLFFBQVEsRUFBRTtNQUNmLElBQUksQ0FBQ0EsUUFBUSxDQUFDRSxVQUFVLENBQUM7SUFDN0I7SUFDQSxPQUFPQSxVQUFVO0VBQ3JCO0VBQ0F0QyxNQUFNQSxDQUFDdGhCLElBQUksRUFBRStXLE9BQU8sRUFBRTtJQUNsQixNQUFNc0MsT0FBTyxHQUFHLElBQUksQ0FBQ3lLLGtCQUFrQixDQUFDOWpCLElBQUksQ0FBQztJQUM3QyxJQUFJLENBQUMyakIsZ0JBQWdCLENBQUM1TSxPQUFPLEVBQUVzQyxPQUFPLENBQUM7SUFDdkNBLE9BQU8sRUFBRTZCLGFBQWEsQ0FBQyxDQUFDO0VBQzVCO0VBQ0FoRixNQUFNQSxDQUFDbFcsSUFBSSxFQUFFO0lBQ1QsTUFBTXFaLE9BQU8sR0FBRyxJQUFJLENBQUN5SyxrQkFBa0IsQ0FBQzlqQixJQUFJLENBQUM7SUFDN0NxWixPQUFPLEVBQUUwSyxRQUFRLENBQUMsQ0FBQztJQUNuQjFLLE9BQU8sRUFBRTZCLGFBQWEsQ0FBQyxDQUFDO0VBQzVCO0VBQ0E1RSxNQUFNQSxDQUFDdFcsSUFBSSxFQUFFO0lBQ1QsTUFBTXFaLE9BQU8sR0FBRyxJQUFJLENBQUN5SyxrQkFBa0IsQ0FBQzlqQixJQUFJLENBQUM7SUFDN0NxWixPQUFPLEVBQUUvQyxNQUFNLENBQUMsQ0FBQztFQUNyQjtFQUNBc0IsT0FBT0EsQ0FBQzVYLElBQUksRUFBRTtJQUNWLE1BQU1xWixPQUFPLEdBQUcsSUFBSSxDQUFDeUssa0JBQWtCLENBQUM5akIsSUFBSSxDQUFDO0lBQzdDcVosT0FBTyxFQUFFbkcsT0FBTyxDQUFDLENBQUM7RUFDdEI7RUFDQTRRLGtCQUFrQkEsQ0FBQzlqQixJQUFJLEVBQUU7SUFDckIsSUFBSXFaLE9BQU8sR0FBR3JaLElBQUksQ0FBQ21qQixPQUFPLENBQUM7SUFDM0I7SUFDQTtJQUNBLElBQUksQ0FBQzlKLE9BQU8sSUFBSXJaLElBQUksWUFBWXBNLDBEQUFVLElBQUlvTSxJQUFJLENBQUNNLGdCQUFnQixDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDdkUrWSxPQUFPLEdBQUdyWixJQUFJLENBQUNPLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQzRpQixPQUFPLENBQUM7SUFDekM7SUFDQSxPQUFPOUosT0FBTztFQUNsQjtFQUNBMkssT0FBT0EsQ0FBQ2hrQixJQUFJLEVBQUU7SUFDVixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUM4akIsa0JBQWtCLENBQUM5akIsSUFBSSxDQUFDO0VBQzFDO0VBQ0EyakIsZ0JBQWdCQSxDQUFDO0lBQUVqYyxLQUFLO0lBQUV1TDtFQUFLLENBQUMsRUFBRWdSLE9BQU8sRUFBRTtJQUN2QyxNQUFNbE4sT0FBTyxHQUFHa04sT0FBTyxHQUFHQSxPQUFPLENBQUNsTixPQUFPLEdBQUcsSUFBSXNNLFdBQVcsQ0FBQyxDQUFDO0lBQzdEdE0sT0FBTyxDQUFDdU0sU0FBUyxHQUFHclEsSUFBSTtJQUN4QjhELE9BQU8sQ0FBQ2hJLElBQUksR0FBR2tFLElBQUk7SUFDbkI4RCxPQUFPLENBQUNyUCxLQUFLLEdBQUdBLEtBQUs7SUFDckJxUCxPQUFPLENBQUN3TSxJQUFJLEdBQUc3YixLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDOUJxUCxPQUFPLENBQUN5TSxHQUFHLEdBQUcsQ0FBQ3pNLE9BQU8sQ0FBQ3dNLElBQUk7SUFDM0IsT0FBT3hNLE9BQU87RUFDbEI7QUFDSjtBQUNBLE1BQU1tTixpQkFBaUIsQ0FBQztFQUNwQixJQUFJN2hCLGFBQWFBLENBQUEsRUFBRztJQUNoQixPQUFPLElBQUksQ0FBQzhoQixrQkFBa0I7RUFDbEM7RUFDQSxJQUFJclYsS0FBS0EsQ0FBQSxFQUFHO0lBQ1IsT0FBTyxJQUFJLENBQUNzVixNQUFNO0VBQ3RCO0VBQ0EsSUFBSXRWLEtBQUtBLENBQUMzUSxLQUFLLEVBQUU7SUFDYixJQUFJLENBQUNpbUIsTUFBTSxHQUFHam1CLEtBQUs7SUFDbkIsSUFBSWttQixVQUFVLEdBQUcsSUFBSTtJQUNyQixJQUFJbG1CLEtBQUssWUFBWXhILGdFQUFlLEVBQUU7TUFDbEMwdEIsVUFBVSxHQUFHLEtBQUs7SUFDdEI7SUFDQSxJQUFJQSxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUNDLE9BQU8sSUFBSXhCLGtCQUFrQixDQUFDM2tCLEtBQUssQ0FBQyxFQUFFO01BQzFELElBQUksQ0FBQ21tQixPQUFPLEdBQUcsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ2hpQixJQUFJLENBQUMsSUFBSSxDQUFDNmhCLE1BQU0sQ0FBQyxDQUFDN2dCLE1BQU0sQ0FBQyxDQUFDaWhCLE1BQU0sRUFBRXpWLElBQUksS0FBSztRQUM1RSxPQUFPQSxJQUFJO01BQ2YsQ0FBQyxDQUFDO0lBQ047SUFDQSxJQUFJLENBQUNvVixrQkFBa0IsQ0FBQ3JWLEtBQUssR0FBRyxJQUFJLENBQUNzVixNQUFNO0VBQy9DO0VBQ0E7RUFDQXptQixXQUFXQSxDQUFDOG1CLFdBQVcsRUFBRTtJQUNyQixJQUFJLENBQUNGLGdCQUFnQixHQUFHenJCLHFEQUFNLENBQUNELDBEQUFlLENBQUM7SUFDL0MsSUFBSSxDQUFDNnJCLGtCQUFrQixHQUFHNXJCLHFEQUFNLENBQUNDLDREQUFpQixDQUFDO0lBQ25ELElBQUksQ0FBQzByQixXQUFXLEdBQUczckIscURBQU0sQ0FBQ2IscURBQVUsQ0FBQztJQUNyQztJQUNBLElBQUksQ0FBQ2tzQixrQkFBa0IsR0FBRyxJQUFJLENBQUNNLFdBQVcsQ0FBQ3BpQixhQUFhO0lBQ3hELElBQUksQ0FBQ3NpQixlQUFlLEdBQUcsSUFBSUMsT0FBTyxDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSTFzQix1REFBWSxDQUFDLENBQUM7SUFDdkMsSUFBSXNzQixXQUFXLEVBQUU7TUFDYixJQUFJLENBQUNOLGtCQUFrQixHQUFHTSxXQUFXLENBQUNwaUIsYUFBYTtJQUN2RDtFQUNKO0VBQ0F5aUIsa0JBQWtCQSxDQUFBLEVBQUc7SUFDakIsSUFBSTlmLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQzBCLFdBQVcsQ0FBQyx5Q0FBeUMsQ0FBQztJQUM1RTtJQUNBLElBQUksQ0FBQ3FlLGdCQUFnQixDQUFDLENBQUM7RUFDM0I7RUFDQTdnQixXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNpZ0Isa0JBQWtCLEdBQUcsSUFBSTtJQUM5QixJQUFJLElBQUksQ0FBQ2EsWUFBWSxFQUFFO01BQ25CLElBQUksQ0FBQ0EsWUFBWSxDQUFDdFYsS0FBSyxDQUFDLENBQUM7SUFDN0I7RUFDSjtFQUNBcVYsZ0JBQWdCQSxDQUFBLEVBQUc7SUFDZjtJQUNBO0lBQ0EsSUFBSSxDQUFDRSxvQkFBb0IsR0FBRyxJQUFJLENBQUNDLGlCQUFpQjtJQUNsRCxJQUFJLElBQUksQ0FBQ0Qsb0JBQW9CLElBQUksQ0FBQyxJQUFJLENBQUNELFlBQVksRUFBRWxjLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRTtNQUNqRTtNQUNBO01BQ0EsSUFBSSxDQUFDcWMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQ0Ysb0JBQW9CLENBQUM7SUFDL0Q7SUFDQSxJQUFJLElBQUksQ0FBQ0QsWUFBWSxFQUFFO01BQ25CO01BQ0EsSUFBSSxDQUFDQSxZQUFZLENBQUN0bEIsT0FBTyxDQUFFaEIsQ0FBQyxJQUFNQSxDQUFDLENBQUMwRCxRQUFRLEdBQUcsSUFBSSxDQUFDZ2pCLE1BQU8sQ0FBQztNQUM1RCxJQUFJcGdCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1FBQ2xDVixpQkFBaUIsQ0FBQzBCLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztNQUN0RDtNQUNBLE1BQU0yZSxTQUFTLEdBQUcsRUFBRTtNQUNwQixJQUFJLENBQUNMLFlBQVksQ0FBQ3RsQixPQUFPLENBQUMsQ0FBQ3ZCLEtBQUssRUFBRStTLEdBQUcsS0FBSztRQUN0Q21VLFNBQVMsQ0FBQy9sQixJQUFJLENBQUM7VUFDWDBOLFVBQVUsRUFBRUEsQ0FBQSxLQUFNLElBQUk7VUFDdEJrRTtRQUNKLENBQUMsQ0FBQztNQUNOLENBQUMsQ0FBQztNQUNGLElBQUksQ0FBQ2lULGtCQUFrQixDQUFDbUIsYUFBYSxHQUFHRCxTQUFTO0lBQ3JEO0VBQ0o7RUFDQUYsZ0JBQWdCQSxDQUFDalUsR0FBRyxFQUFFNEYsUUFBUSxFQUFFO0lBQzVCLElBQUk5UixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUMwQixXQUFXLENBQUUsNkJBQTRCd0ssR0FBSSxLQUFJLElBQUksQ0FBQ2tVLE1BQU8sRUFBQyxDQUFDO0lBQ3JGO0lBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ0osWUFBWSxFQUFFO01BQ3BCLElBQUksQ0FBQ0EsWUFBWSxHQUFHLElBQUlqbUIsR0FBRyxDQUFDLENBQUM7SUFDakM7SUFDQSxJQUFJLENBQUNpbUIsWUFBWSxDQUFDemxCLEdBQUcsQ0FBQzJSLEdBQUcsRUFBRSxJQUFJdVMsZUFBZSxDQUFDM00sUUFBUSxFQUFFLElBQUksQ0FBQ3NPLE1BQU0sRUFBRzVpQixDQUFDLElBQUssSUFBSSxDQUFDbWlCLGVBQWUsQ0FBQ3BsQixHQUFHLENBQUNpRCxDQUFDLEVBQUUwTyxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQ25IO0VBQ0FxVSxhQUFhQSxDQUFDeGdCLElBQUksRUFBRTtJQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDaWdCLFlBQVksRUFBRTtNQUNwQjtJQUNKO0lBQ0EsTUFBTXRkLEtBQUssR0FBRzNDLElBQUksQ0FBQzJDLEtBQUs7SUFDeEIsTUFBTThkLEtBQUssR0FBR3pnQixJQUFJLENBQUNsRyxNQUFNO0lBQ3pCLE1BQU1pUSxLQUFLLEdBQUcwVyxLQUFLLENBQUMxVyxLQUFLO0lBQ3pCLE1BQU0yVyxXQUFXLEdBQUcsU0FBUyxJQUFJM1csS0FBSyxJQUFJLE9BQU9BLEtBQUssQ0FBQzRXLE9BQU8sS0FBSyxVQUFVLEdBQUc1VyxLQUFLLENBQUM0VyxPQUFPLENBQUNoZSxLQUFLLENBQUMsR0FBR29ILEtBQUssQ0FBQ3BILEtBQUssQ0FBQztJQUNuSCxJQUFJb1AsUUFBUTtJQUNaLElBQUkvUixJQUFJLENBQUMvRSxJQUFJLEVBQUU7TUFDWCxJQUFJZ0YsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDbENWLGlCQUFpQixDQUFDMEIsV0FBVyxDQUFFLGtCQUFpQmdCLEtBQU0sMEJBQXlCLENBQUM7TUFDcEY7TUFDQSxJQUFJaWUsV0FBVyxHQUFHLElBQUksQ0FBQ2hCLGVBQWUsQ0FBQ3RsQixHQUFHLENBQUMwRixJQUFJLENBQUMvRSxJQUFJLENBQUM7TUFDckQsSUFBSSxDQUFDMmxCLFdBQVcsSUFBSTVnQixJQUFJLENBQUMvRSxJQUFJLFlBQVlwTSwwREFBVSxJQUFJbVIsSUFBSSxDQUFDL0UsSUFBSSxDQUFDTSxnQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ3JGcWxCLFdBQVcsR0FBRyxJQUFJLENBQUNoQixlQUFlLENBQUN0bEIsR0FBRyxDQUFDMEYsSUFBSSxDQUFDL0UsSUFBSSxDQUFDTyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDbkU7TUFDQSxJQUFJLENBQUNvbEIsV0FBVyxFQUFFO1FBQ2Q7UUFDQSxJQUFJM2dCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1VBQ2xDVixpQkFBaUIsQ0FBQzJCLGFBQWEsQ0FBRSxvQ0FBbUNlLEtBQU0saUNBQWdDLENBQUM7UUFDL0c7UUFDQTtNQUNKO01BQ0FvUCxRQUFRLEdBQUcsSUFBSSxDQUFDa08sWUFBWSxDQUFDM2xCLEdBQUcsQ0FBQ3NtQixXQUFXLENBQUM7TUFDN0M3TyxRQUFRLENBQUN3SyxNQUFNLENBQUN2YyxJQUFJLENBQUMvRSxJQUFJLEVBQUU7UUFBRTBILEtBQUs7UUFBRXVMLElBQUksRUFBRXdTO01BQVksQ0FBQyxDQUFDO0lBQzVELENBQUMsTUFDSTtNQUNEO01BQ0EsTUFBTUUsV0FBVyxHQUFHLE9BQU9ILEtBQUssQ0FBQ0ksb0JBQW9CLEtBQUssVUFBVSxHQUFHSixLQUFLLENBQUNJLG9CQUFvQixDQUFDSCxXQUFXLEVBQUUvZCxLQUFLLEVBQUVvSCxLQUFLLENBQUMsR0FBRyxTQUFTO01BQ3hJZ0ksUUFBUSxHQUFHLElBQUksQ0FBQ2tPLFlBQVksQ0FBQzNsQixHQUFHLENBQUNzbUIsV0FBVyxDQUFDO01BQzdDLElBQUksQ0FBQzdPLFFBQVEsRUFBRTtRQUNYLElBQUk5UixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtVQUNsQ1YsaUJBQWlCLENBQUMyQixhQUFhLENBQUUscUJBQW9CZ2YsV0FBWSxjQUFhLENBQUM7UUFDbkY7UUFDQTtNQUNKO01BQ0E1Z0IsSUFBSSxDQUFDL0UsSUFBSSxHQUFHOFcsUUFBUSxDQUFDdlQsTUFBTSxDQUFDO1FBQUVtRSxLQUFLO1FBQUV1TCxJQUFJLEVBQUV3UztNQUFZLENBQUMsQ0FBQztJQUM3RDtJQUNBLElBQUksQ0FBQ0ksWUFBWSxDQUFDL08sUUFBUSxDQUFDZ04sa0JBQWtCLENBQUMvZSxJQUFJLENBQUMvRSxJQUFJLENBQUMsRUFBRXlsQixXQUFXLEVBQUUvZCxLQUFLLEVBQUUzQyxJQUFJLENBQUMvRSxJQUFJLENBQUM7SUFDeEY4VyxRQUFRLENBQUNaLE1BQU0sQ0FBQ25SLElBQUksQ0FBQy9FLElBQUksQ0FBQztJQUMxQixJQUFJLENBQUMwa0Isa0JBQWtCLENBQUN4SixhQUFhLENBQUMsQ0FBQztFQUMzQztFQUNBMkssWUFBWUEsQ0FBQ3hNLE9BQU8sRUFBRXBHLElBQUksRUFBRXZMLEtBQUssRUFBRXJGLGFBQWEsRUFBRTtJQUM5QyxNQUFNMFUsT0FBTyxHQUFHc0MsT0FBTyxDQUFDdEMsT0FBTztJQUMvQixJQUFJLENBQUM4TixhQUFhLENBQUNqakIsSUFBSSxDQUFDO01BQUU1QixJQUFJLEVBQUVxWixPQUFPO01BQUVoWCxhQUFhO01BQUU0USxJQUFJLEVBQUVBLElBQUk7TUFBRXZMLEtBQUssRUFBRUEsS0FBSztNQUFFcVAsT0FBTyxFQUFFQTtJQUFRLENBQUMsQ0FBQztFQUN6RztFQUNBK08sU0FBU0EsQ0FBQSxFQUFHO0lBQ1IsSUFBSSxJQUFJLENBQUN4QixPQUFPLEVBQUU7TUFDZCxJQUFJdGYsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDbENWLGlCQUFpQixDQUFDMEIsV0FBVyxDQUFDLDhCQUE4QixDQUFDO01BQ2pFO01BQ0EsTUFBTW1ZLE9BQU8sR0FBRyxJQUFJLENBQUN5RixPQUFPLENBQUN5QixJQUFJLENBQUMsSUFBSSxDQUFDM0IsTUFBTSxDQUFDO01BQzlDLElBQUl2RixPQUFPLEVBQUU7UUFDVCxJQUFJN1osaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7VUFDbENWLGlCQUFpQixDQUFDMEIsV0FBVyxDQUFDLHVCQUF1QixDQUFDO1FBQzFEO1FBQ0EsSUFBSSxDQUFDeWQsa0JBQWtCLENBQUM2QixPQUFPLENBQUMsQ0FBQztNQUNyQztJQUNKO0VBQ0o7RUFDQTtJQUFTLElBQUksQ0FBQzNoQixJQUFJLFlBQUE0aEIsMEJBQUF2bkIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Z3bEIsaUJBQWlCLEVBLzNFM0J4c0IsK0RBQUUsQ0ErM0UyQ0EscURBQWE7SUFBQSxDQUE0QztFQUFFO0VBQ3hNO0lBQVMsSUFBSSxDQUFDNmtCLElBQUksa0JBaDRFOEU3a0IsK0RBQUU7TUFBQW9OLElBQUEsRUFnNEVKb2YsaUJBQWlCO01BQUE5TCxTQUFBO01BQUE4TixjQUFBLFdBQUFDLGlDQUFBL29CLEVBQUEsRUFBQUMsR0FBQSxFQUFBK29CLFFBQUE7UUFBQSxJQUFBaHBCLEVBQUE7VUFoNEVmMUYsNERBQUUsQ0FBQTB1QixRQUFBLEVBZzRFNlZudEIsc0RBQVcsS0FBMkJBLHNEQUFXO1FBQUE7UUFBQSxJQUFBbUUsRUFBQTtVQUFBLElBQUF3ZixFQUFBO1VBaDRFaFpsbEIsNERBQUUsQ0FBQWtsQixFQUFBLEdBQUZsbEIseURBQUUsUUFBQTJGLEdBQUEsQ0FBQTZuQixpQkFBQSxHQUFBdEksRUFBQSxDQUFBRyxLQUFBO1FBQUE7TUFBQTtNQUFBTixTQUFBLFdBQUE2Six3QkFBQWxwQixFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBQUYxRix5REFBRSxDQUFBd0YsR0FBQSxLQWc0RXdmekUsMkRBQWdCO1FBQUE7UUFBQSxJQUFBMkUsRUFBQTtVQUFBLElBQUF3ZixFQUFBO1VBaDRFMWdCbGxCLDREQUFFLENBQUFrbEIsRUFBQSxHQUFGbGxCLHlEQUFFLFFBQUEyRixHQUFBLENBQUErbkIsTUFBQSxHQUFBeEksRUFBQSxDQUFBRyxLQUFBO1FBQUE7TUFBQTtNQUFBd0osWUFBQSxXQUFBQywrQkFBQXBwQixFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBQUYxRix3REFBRSx5QkFBQWd2QixpREFBQUMsTUFBQTtZQUFBLE9BZzRFSnRwQixHQUFBLENBQUFrb0IsYUFBQSxDQUFBb0IsTUFBb0IsQ0FBQztVQUFBO1FBQUE7TUFBQTtNQUFBbE4sTUFBQTtRQUFBM0ssS0FBQTtNQUFBO01BQUE2SyxPQUFBO1FBQUFrTCxhQUFBO01BQUE7TUFBQXZNLFFBQUEsR0FoNEVuQjVnQixnRUFBRSxDQWc0RTBMLENBQUM7UUFBRXluQixPQUFPLEVBQUVpRSx5QkFBeUI7UUFBRXdELFdBQVcsRUFBRTV0Qix5REFBVSxDQUFDLE1BQU1rckIsaUJBQWlCO01BQUUsQ0FBQyxDQUFDO01BQUFqSCxLQUFBO01BQUFDLElBQUE7TUFBQUMsTUFBQTtNQUFBckcsUUFBQSxXQUFBK1AsMkJBQUF6cEIsRUFBQSxFQUFBQyxHQUFBO1FBQUEsSUFBQUQsRUFBQTtVQWg0RXRSMUYsNERBQUUsdUJBZzRFc2tCLENBQUM7VUFoNEV6a0JBLGdFQUFFLFdBaTRFOUQsQ0FBQztVQWo0RTJEQSwwREFBRSxDQWs0RWpGLENBQUM7UUFBQTtNQUFBO01BQUFvYSxhQUFBO01BQUFrVixlQUFBO0lBQUEsRUFBd0U7RUFBRTtBQUNoRztBQUNBdnNCLGlEQUFVLENBQUMsQ0FDUHBFLHdEQUFPLEVBQ1BtRSxpREFBVSxDQUFDLGFBQWEsRUFBRThaLFFBQVEsQ0FBQyxFQUNuQzlaLGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsQ0FBQ3dILE1BQU0sQ0FBQyxDQUFDLEVBQ3pDeEgsaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUMxQyxFQUFFMHBCLGlCQUFpQixDQUFDMVAsU0FBUyxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUM7QUFDdEQ7RUFBQSxRQUFBNVAsU0FBQSxvQkFBQUEsU0FBQSxLQTE0RW9HbE4sK0RBQUUsQ0EwNEVYd3NCLGlCQUFpQixFQUFjLENBQUM7SUFDL0dwZixJQUFJLEVBQUVwTSxvREFBUztJQUNmcU0sSUFBSSxFQUFFLENBQUM7TUFDQztNQUNBeVQsUUFBUSxFQUFFLFVBQVU7TUFDcEIxQixRQUFRLEVBQUc7QUFDL0I7QUFDQSx1QkFBdUI7TUFDSGtRLGVBQWUsRUFBRTl0QixrRUFBdUIsQ0FBQyt0QixNQUFNO01BQy9DekgsU0FBUyxFQUFFLENBQUM7UUFBRUwsT0FBTyxFQUFFaUUseUJBQXlCO1FBQUV3RCxXQUFXLEVBQUU1dEIseURBQVUsQ0FBQyxNQUFNa3JCLGlCQUFpQjtNQUFFLENBQUM7SUFDeEcsQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRXBmLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQyxFQUFrQjtJQUFFbXRCLE1BQU0sRUFBRSxDQUFDO01BQ3hFdGdCLElBQUksRUFBRW5NLG9EQUFTO01BQ2ZvTSxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUU7UUFBRXlZLElBQUksRUFBRS9rQiwyREFBZ0I7UUFBRWdsQixNQUFNLEVBQUU7TUFBSyxDQUFDO0lBQzdELENBQUMsQ0FBQztJQUFFb0gsYUFBYSxFQUFFLENBQUM7TUFDaEIvZixJQUFJLEVBQUUxTSxpREFBTUE7SUFDaEIsQ0FBQyxDQUFDO0lBQUU4c0IsaUJBQWlCLEVBQUUsQ0FBQztNQUNwQnBnQixJQUFJLEVBQUUzTCx1REFBWTtNQUNsQjRMLElBQUksRUFBRSxDQUFDOUwsc0RBQVcsRUFBRTtRQUFFdWtCLElBQUksRUFBRXZrQixzREFBVztRQUFFd2tCLE1BQU0sRUFBRTtNQUFNLENBQUM7SUFDNUQsQ0FBQyxDQUFDO0lBQUUzTyxLQUFLLEVBQUUsQ0FBQztNQUNSaEssSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUUyc0IsYUFBYSxFQUFFLENBQUM7TUFDaEJ6Z0IsSUFBSSxFQUFFMUwsdURBQVk7TUFDbEIyTCxJQUFJLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFDcEMsQ0FBQztFQUFFLENBQUM7QUFBQTtBQUNoQixTQUFTOGUsZUFBZUEsQ0FBQ3hLLE9BQU8sRUFBRTZOLFdBQVcsR0FBR25lLDBCQUEwQixFQUFFO0VBQ3hFLE1BQU13SSxRQUFRLEdBQUcyVixXQUFXLENBQUM3TixPQUFPLENBQUMvVyxTQUFTLEVBQUUsQ0FBQyxDQUFDO0VBQ2xELE9BQU9pUCxRQUFRO0FBQ25CO0FBQ0E7QUFDQSxNQUFNNFYsb0JBQW9CLENBQUM7RUFDdkJ4cEIsV0FBV0EsQ0FBQ3FaLFdBQVcsRUFBRW9RLElBQUksRUFBRTtJQUMzQixJQUFJLENBQUNwUSxXQUFXLEdBQUdBLFdBQVc7SUFDOUIsSUFBSSxDQUFDb1EsSUFBSSxHQUFHQSxJQUFJO0VBQ3BCO0VBQ0EsSUFBSUMsYUFBYUEsQ0FBQ2xwQixLQUFLLEVBQUU7SUFDckIsSUFBSSxJQUFJLENBQUNpcEIsSUFBSSxJQUFJLElBQUksQ0FBQ3BRLFdBQVcsRUFBRTtNQUMvQixJQUFJLENBQUNvUSxJQUFJLENBQUNqQyxnQkFBZ0IsQ0FBQ2huQixLQUFLLEVBQUUsSUFBSSxDQUFDNlksV0FBVyxDQUFDO0lBQ3ZEO0VBQ0o7RUFDQSxJQUFJc1EsY0FBY0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ3ZCO0lBQ0EsSUFBSSxJQUFJLENBQUNILElBQUksSUFBSSxJQUFJLENBQUNwUSxXQUFXLElBQUl1USxNQUFNLEVBQUU7TUFDekNBLE1BQU0sQ0FBQzduQixPQUFPLENBQUV2QixLQUFLLElBQUssSUFBSSxDQUFDaXBCLElBQUksQ0FBQ2pDLGdCQUFnQixDQUFDaG5CLEtBQUssRUFBRSxJQUFJLENBQUM2WSxXQUFXLENBQUMsQ0FBQztJQUNsRjtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUMzUyxJQUFJLFlBQUFtakIsNkJBQUE5b0IsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Z5b0Isb0JBQW9CLEVBeDdFOUJ6dkIsK0RBQUUsQ0F3N0U4Q0Esc0RBQWMsR0F4N0U5REEsK0RBQUUsQ0F3N0V5RTByQix5QkFBeUI7SUFBQSxDQUF3RDtFQUFFO0VBQzlQO0lBQVMsSUFBSSxDQUFDbEwsSUFBSSxrQkF6N0U4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQXk3RUpxaUIsb0JBQW9CO01BQUEvTyxTQUFBO01BQUFxQixNQUFBO1FBQUE0TixhQUFBO1FBQUFDLGNBQUE7TUFBQTtJQUFBLEVBQTZJO0VBQUU7QUFDclE7QUFDQTtFQUFBLFFBQUExaUIsU0FBQSxvQkFBQUEsU0FBQSxLQTM3RW9HbE4sK0RBQUUsQ0EyN0VYeXZCLG9CQUFvQixFQUFjLENBQUM7SUFDbEhyaUIsSUFBSSxFQUFFNU0sb0RBQVM7SUFDZjZNLElBQUksRUFBRSxDQUFDO01BQUV5VCxRQUFRLEVBQUU7SUFBbUMsQ0FBQztFQUMzRCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUUxVCxJQUFJLEVBQUVwTixzREFBY3VCO0VBQUMsQ0FBQyxFQUFFO0lBQUU2TCxJQUFJLEVBQUU3QixTQUFTO0lBQUVzYixVQUFVLEVBQUUsQ0FBQztNQUN6RXpaLElBQUksRUFBRXpMLCtDQUFJQTtJQUNkLENBQUMsRUFBRTtNQUNDeUwsSUFBSSxFQUFFbE4saURBQU07TUFDWm1OLElBQUksRUFBRSxDQUFDcWUseUJBQXlCO0lBQ3BDLENBQUM7RUFBRSxDQUFDLENBQUMsRUFBa0I7SUFBRWlFLGFBQWEsRUFBRSxDQUFDO01BQ3pDdmlCLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFMHVCLGNBQWMsRUFBRSxDQUFDO01BQ2pCeGlCLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUM7RUFBRSxDQUFDO0FBQUE7QUFFaEIsTUFBTTZ1QixZQUFZLENBQUM7RUFDZjtFQUNBQyxRQUFRQSxDQUFBLEVBQUc7SUFDUCxPQUFPL3lCLHNEQUFLLENBQUNnekIsT0FBTyxDQUFDLENBQUM7RUFDMUI7RUFDQTtJQUFTLElBQUksQ0FBQ3RqQixJQUFJLFlBQUF1akIscUJBQUFscEIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Yrb0IsWUFBWTtJQUFBLENBQW9EO0VBQUU7RUFDNUs7SUFBUyxJQUFJLENBQUNsakIsS0FBSyxrQkEvOEU2RTdNLGdFQUFFO01BQUErTSxLQUFBLEVBKzhFWWdqQixZQUFZO01BQUEvaUIsT0FBQSxFQUFaK2lCLFlBQVksQ0FBQXBqQixJQUFBO01BQUFNLFVBQUEsRUFBYztJQUFNLEVBQUc7RUFBRTtBQUN2SjtBQUNBO0VBQUEsUUFBQUMsU0FBQSxvQkFBQUEsU0FBQSxLQWo5RW9HbE4sK0RBQUUsQ0FpOUVYK3ZCLFlBQVksRUFBYyxDQUFDO0lBQzFHM2lCLElBQUksRUFBRWhOLHFEQUFVO0lBQ2hCaU4sSUFBSSxFQUFFLENBQUM7TUFDQ0osVUFBVSxFQUFFO0lBQ2hCLENBQUM7RUFDVCxDQUFDLENBQUM7QUFBQTtBQUVWLE1BQU1rakIsTUFBTSxDQUFDO0VBQ1QsSUFBSUMsb0JBQW9CQSxDQUFBLEVBQUc7SUFDdkIsT0FBTyxJQUFJLENBQUNDLHNCQUFzQixDQUFDQyxJQUFJLEdBQUcsQ0FBQztFQUMvQztFQUNBLElBQUlGLG9CQUFvQkEsQ0FBQ0csTUFBTSxFQUFFO0lBQzdCLElBQUksQ0FBQ0EsTUFBTSxFQUFFO01BQ1QsSUFBSSxJQUFJLENBQUNGLHNCQUFzQixDQUFDQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO1FBQ3RDLElBQUksQ0FBQ0Qsc0JBQXNCLENBQUNub0IsTUFBTSxDQUFDLElBQUksQ0FBQ21vQixzQkFBc0IsQ0FBQ1IsTUFBTSxDQUFDLENBQUMsQ0FBQzNsQixJQUFJLENBQUMsQ0FBQyxDQUFDekQsS0FBSyxDQUFDO01BQ3pGO0lBQ0osQ0FBQyxNQUNJO01BQ0QsS0FBSyxNQUFNK1MsR0FBRyxJQUFJLElBQUksQ0FBQ2dYLFVBQVUsRUFBRTtRQUMvQixJQUFJLENBQUNILHNCQUFzQixDQUFDSSxHQUFHLENBQUNqWCxHQUFHLENBQUM7TUFDeEM7SUFDSjtFQUNKO0VBQ0F2VCxXQUFXQSxDQUFDeXFCLFNBQVMsRUFBRTN3QixJQUFJLEVBQUU0d0IsYUFBYSxFQUFFQyxvQkFBb0IsRUFBRTtJQUM5RCxJQUFJLENBQUNQLHNCQUFzQixHQUFHLElBQUlRLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDO0lBQ0E7SUFDQSxJQUFJLENBQUNDLE1BQU0sR0FBRyxFQUFFO0lBQ2hCLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEVBQUU7SUFDaEI7SUFDQSxJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJO0lBQ3hCLElBQUksQ0FBQ1IsVUFBVSxHQUFHLENBQUNFLFNBQVMsQ0FBQztJQUM3QixJQUFJLENBQUNOLG9CQUFvQixHQUFHLEtBQUs7SUFDakMsSUFBSSxDQUFDYSxZQUFZLEdBQUcsS0FBSztJQUN6QixJQUFJLENBQUNMLG9CQUFvQixHQUFHQSxvQkFBb0IsSUFBSSxDQUFDO0lBQ3JELElBQUksQ0FBQ0QsYUFBYSxHQUFHQSxhQUFhO0lBQ2xDLElBQUksQ0FBQzV3QixJQUFJLEdBQUdBLElBQUk7RUFDcEI7RUFDQW14QiwwQkFBMEJBLENBQUMxWCxHQUFHLEVBQUU7SUFDNUIsTUFBTTJYLEtBQUssR0FBRzNYLEdBQUcsQ0FBQ3JELEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDNUIsSUFBSSxDQUFDcWEsVUFBVSxDQUNWaHRCLE1BQU0sQ0FBRTR0QixDQUFDLElBQUtBLENBQUMsQ0FBQ2piLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQzFFLE1BQU0sSUFBSTBmLEtBQUssQ0FBQzFmLE1BQU0sQ0FBQyxDQUNsRHpKLE9BQU8sQ0FBRW9wQixDQUFDLElBQUs7TUFDaEIsSUFBSSxDQUFDZixzQkFBc0IsQ0FBQ0ksR0FBRyxDQUFDVyxDQUFDLENBQUM7SUFDdEMsQ0FBQyxDQUFDO0VBQ047RUFDQUMsYUFBYUEsQ0FBQ0MsS0FBSyxFQUFFO0lBQ2pCLE9BQU8sSUFBSSxDQUFDUixNQUFNLENBQUM1Z0IsT0FBTyxDQUFDb2hCLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztFQUMxQztFQUNBQyxTQUFTQSxDQUFBLEVBQUc7SUFDUixJQUFJLElBQUksQ0FBQ1IsTUFBTSxDQUFDdGYsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUN4QixPQUFPLElBQUksQ0FBQ3NmLE1BQU0sQ0FBQyxJQUFJLENBQUNBLE1BQU0sQ0FBQ3RmLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDOUM7SUFDQSxPQUFPLElBQUk7RUFDZjtFQUNBK2YsZ0JBQWdCQSxDQUFDQyxRQUFRLEVBQUU7SUFDdkIsTUFBTUMsU0FBUyxHQUFHLElBQUksQ0FBQ0gsU0FBUyxDQUFDLENBQUM7SUFDbEMsT0FBT0csU0FBUyxJQUFJQSxTQUFTLENBQUNDLFlBQVksQ0FBQ3JyQixRQUFRLENBQUMsQ0FBQyxLQUFLbXJCLFFBQVE7RUFDdEU7RUFDQTtFQUNBO0VBQ0FHLGNBQWNBLENBQUEsRUFBRztJQUNiLElBQUlOLEtBQUssR0FBRyxJQUFJLENBQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUNBLE1BQU0sQ0FBQ3JmLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDL0MsSUFBSSxDQUFDLElBQUksQ0FBQ29nQixlQUFlLEVBQUU7TUFDdkIsS0FBSyxJQUFJN2hCLEtBQUssR0FBRyxJQUFJLENBQUM4Z0IsTUFBTSxDQUFDcmYsTUFBTSxHQUFHLENBQUMsRUFBRXpCLEtBQUssSUFBSSxDQUFDLEVBQUVBLEtBQUssRUFBRSxFQUFFO1FBQzFELE1BQU04aEIsWUFBWSxHQUFHLElBQUksQ0FBQ2hCLE1BQU0sQ0FBQzlnQixLQUFLLENBQUM7UUFDdkMsSUFBSThoQixZQUFZLENBQUNDLFNBQVMsQ0FBQyxDQUFDLEVBQUU7VUFDMUJULEtBQUssR0FBR1EsWUFBWTtVQUNwQjtRQUNKO01BQ0o7SUFDSjtJQUNBLE9BQU9SLEtBQUs7RUFDaEI7QUFDSjtBQUNBLE1BQU1VLGlCQUFpQixHQUFHO0VBQ3RCQyxZQUFZLEVBQUUsS0FBSztFQUNuQkMsUUFBUSxFQUFFO0FBQ2QsQ0FBQztBQUVELE1BQU1DLGtCQUFrQixTQUFTanZCLDhEQUFnQixDQUFDO0VBQzlDK0MsV0FBV0EsQ0FBQ21zQixZQUFZLEVBQUVDLFNBQVMsRUFBRTtJQUNqQyxLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0QsWUFBWSxHQUFHQSxZQUFZO0lBQ2hDLElBQUksQ0FBQ0MsU0FBUyxHQUFHQSxTQUFTO0lBQzFCLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEVBQUU7SUFDakIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRyxJQUFJdGIsS0FBSyxDQUFDLENBQUM7SUFDcEMsSUFBSSxDQUFDdWIscUJBQXFCLEdBQUcsQ0FBQztJQUM5QixJQUFJbGxCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyxrQ0FBa0MsQ0FBQztJQUNuRTtFQUNKO0VBQ0ErakIsUUFBUUEsQ0FBQSxFQUFHO0lBQ1AsT0FBTyxJQUFJLENBQUNDLGFBQWEsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQ25CLFNBQVMsQ0FBQyxDQUFDO0VBQy9EO0VBQ0F4eEIsSUFBSUEsQ0FBQSxFQUFHO0lBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQzR5QixjQUFjLEVBQUU7TUFDdEIsT0FBTyxJQUFJLENBQUNOLFNBQVMsSUFBSSxHQUFHO0lBQ2hDO0lBQ0EsTUFBTU8sS0FBSyxHQUFHLElBQUksQ0FBQ0YsYUFBYSxJQUFJLElBQUksQ0FBQ0EsYUFBYSxDQUFDbkIsU0FBUyxDQUFDLENBQUM7SUFDbEUsSUFBSSxDQUFDcUIsS0FBSyxFQUFFO01BQ1IsT0FBTyxHQUFHO0lBQ2Q7SUFDQSxNQUFNQyxJQUFJLEdBQUcsSUFBSSxDQUFDRixjQUFjO0lBQ2hDLE1BQU1HLGFBQWEsR0FBRyxJQUFJLENBQUNDLHVCQUF1QixDQUFDLElBQUksQ0FBQ0wsYUFBYSxDQUFDO0lBQ3RFO0lBQ0E7SUFDQSxJQUFJRSxLQUFLLENBQUNJLGtCQUFrQixFQUFFO01BQzFCSCxJQUFJLENBQUN6WixJQUFJLEdBQUd3WixLQUFLLENBQUNqQixZQUFZO0lBQ2xDLENBQUMsTUFDSSxJQUFJbUIsYUFBYSxFQUFFO01BQ3BCLElBQUksQ0FBQ0csa0JBQWtCLENBQUNKLElBQUksQ0FBQ3paLElBQUksRUFBRTBaLGFBQWEsRUFBRUYsS0FBSyxDQUFDakIsWUFBWSxDQUFDO0lBQ3pFO0lBQ0EsTUFBTXVCLGFBQWEsR0FBRyxJQUFJL3VCLGtFQUFvQixDQUFDLENBQUM7SUFDaEQwdUIsSUFBSSxDQUFDTSxXQUFXLEdBQUdQLEtBQUssQ0FBQ08sV0FBVztJQUNwQyxNQUFNQyxHQUFHLEdBQUdGLGFBQWEsQ0FBQ0csU0FBUyxDQUFDUixJQUFJLENBQUM7SUFDekMsSUFBSXZsQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsNkJBQTZCLEdBQUcwa0IsR0FBRyxDQUFDO0lBQ3BFO0lBQ0EsT0FBT0EsR0FBRztFQUNkO0VBQ0FFLGtCQUFrQkEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ3pCLElBQUlqbUIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFDLG9EQUFvRCxHQUFHNmtCLFFBQVEsQ0FBQztJQUNoRztJQUNBLE9BQU9BLFFBQVE7RUFDbkI7RUFDQUMsU0FBU0EsQ0FBQ1osS0FBSyxFQUFFYSxLQUFLLEVBQUVMLEdBQUcsRUFBRUQsV0FBVyxFQUFFO0lBQ3RDLElBQUk3bEIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFDLHNDQUFzQyxHQUFJLEdBQUVra0IsS0FBTSxZQUFXYSxLQUFNLFVBQVNMLEdBQUksa0JBQWlCRCxXQUFZLEVBQUMsQ0FBQztJQUMvSTtJQUNBLElBQUksQ0FBQ08saUJBQWlCLENBQUNkLEtBQUssRUFBRWEsS0FBSyxFQUFFTCxHQUFHLEVBQUVELFdBQVcsQ0FBQztFQUMxRDtFQUNBTyxpQkFBaUJBLENBQUNkLEtBQUssRUFBRWEsS0FBSyxFQUFFTCxHQUFHLEVBQUVELFdBQVcsRUFBRXJpQixPQUFPLEdBQUcsS0FBSyxFQUFFO0lBQy9ELE1BQU1vaUIsYUFBYSxHQUFHLElBQUkvdUIsa0VBQW9CLENBQUMsQ0FBQztJQUNoRCxJQUFJLENBQUN3dUIsY0FBYyxHQUFHTyxhQUFhLENBQUNTLEtBQUssQ0FBQ1AsR0FBRyxDQUFDO0lBQzlDLE1BQU1RLFdBQVcsR0FBRyxJQUFJLENBQUNqQixjQUFjLENBQUN2WixJQUFJO0lBQzVDO0lBQ0E7SUFDQSxJQUFJLENBQUM5TyxNQUFNLENBQUM2TixJQUFJLENBQUN5YixXQUFXLENBQUNqaUIsUUFBUSxDQUFDLENBQUNGLE1BQU0sRUFBRTtNQUMzQyxNQUFNa2dCLFlBQVksR0FBRyxJQUFJLENBQUNnQixjQUFjLElBQUksSUFBSSxDQUFDQSxjQUFjLENBQUN2WixJQUFJO01BQ3BFLE1BQU1zWCxTQUFTLEdBQUcsSUFBSSxDQUFDbUQsWUFBWSxDQUFDLElBQUksQ0FBQ0MsdUJBQXVCLENBQUNuQyxZQUFZLENBQUMsRUFBRSxTQUFTLENBQUM7TUFDMUYsTUFBTW9DLE1BQU0sR0FBRyxJQUFJLENBQUNDLFVBQVUsQ0FBQ3RELFNBQVMsQ0FBQztNQUN6QyxJQUFJcUQsTUFBTSxJQUFJLElBQUksQ0FBQ0UsWUFBWSxDQUFDRixNQUFNLEVBQUVwQyxZQUFZLEVBQUUsSUFBSSxDQUFDZ0IsY0FBYyxDQUFDUSxXQUFXLEVBQUVyaUIsT0FBTyxDQUFDLEVBQUU7UUFDN0YsSUFBSSxDQUFDNGhCLGFBQWEsR0FBR3FCLE1BQU0sQ0FBQyxDQUFDO01BQ2pDLENBQUMsTUFDSSxJQUFJLENBQUNBLE1BQU0sRUFBRTtRQUNkO1FBQ0EsTUFBTUcsVUFBVSxHQUFHLElBQUksQ0FBQ0MsWUFBWSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUV4QyxZQUFZLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUNnQixjQUFjLENBQUNRLFdBQVcsQ0FBQztRQUNoSCxJQUFJLENBQUNULGFBQWEsR0FBR3dCLFVBQVU7TUFDbkM7TUFDQSxJQUFJLENBQUN4QixhQUFhLENBQUNuQixTQUFTLENBQUMsQ0FBQyxDQUFDeUIsa0JBQWtCLEdBQUcsSUFBSTtNQUN4RDtJQUNKO0lBQ0EsTUFBTW9CLEtBQUssR0FBRyxFQUFFO0lBQ2hCLElBQUlDLFdBQVcsR0FBR1QsV0FBVztJQUM3QixPQUFPUyxXQUFXLEVBQUU7TUFDaEIvcEIsTUFBTSxDQUFDNk4sSUFBSSxDQUFDa2MsV0FBVyxDQUFDMWlCLFFBQVEsQ0FBQyxDQUFDM0osT0FBTyxDQUFFc3NCLFVBQVUsSUFBSztRQUN0RCxNQUFNQyxtQkFBbUIsR0FBR0YsV0FBVyxDQUFDMWlCLFFBQVEsQ0FBQzJpQixVQUFVLENBQUM7UUFDNURDLG1CQUFtQixDQUFDUixNQUFNLEdBQUdPLFVBQVU7UUFDdkNDLG1CQUFtQixDQUFDbmIsSUFBSSxHQUFHd2EsV0FBVztRQUN0QyxNQUFNWSxVQUFVLEdBQUcsSUFBSSxDQUFDVix1QkFBdUIsQ0FBQ08sV0FBVyxDQUFDO1FBQzVELE1BQU0zRCxTQUFTLEdBQUcsSUFBSSxDQUFDbUQsWUFBWSxDQUFDVyxVQUFVLEVBQUVGLFVBQVUsQ0FBQztRQUMzRCxJQUFJUCxNQUFNLEdBQUcsSUFBSSxDQUFDQyxVQUFVLENBQUN0RCxTQUFTLENBQUM7UUFDdkMsTUFBTStELGdCQUFnQixHQUFHSixXQUFXLENBQUNOLE1BQU0sSUFBSSxFQUFFO1FBQ2pELE1BQU1XLGdCQUFnQixHQUFHLElBQUksQ0FBQ1osdUJBQXVCLENBQUNPLFdBQVcsQ0FBQ3ByQixNQUFNLENBQUM7UUFDekUsTUFBTTByQixlQUFlLEdBQUcsSUFBSSxDQUFDZCxZQUFZLENBQUNhLGdCQUFnQixFQUFFRCxnQkFBZ0IsQ0FBQztRQUM3RSxNQUFNRyxZQUFZLEdBQUcsSUFBSSxDQUFDWixVQUFVLENBQUNXLGVBQWUsQ0FBQztRQUNyRCxNQUFNRSxpQkFBaUIsR0FBR2QsTUFBTSxJQUFJQSxNQUFNLENBQUN2QyxnQkFBZ0IsQ0FBQytDLG1CQUFtQixDQUFDanVCLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDeXRCLE1BQU0sRUFBRTtVQUNUO1VBQ0FBLE1BQU0sR0FBRyxJQUFJLENBQUNJLFlBQVksQ0FBQ3pELFNBQVMsRUFBRThELFVBQVUsRUFBRUQsbUJBQW1CLEVBQUVLLFlBQVksRUFBRSxJQUFJLENBQUNwQyxxQkFBcUIsRUFBRSxJQUFJLENBQUNHLGNBQWMsQ0FBQ1EsV0FBVyxDQUFDO1VBQ2pKLElBQUksQ0FBQ1QsYUFBYSxHQUFHcUIsTUFBTTtRQUMvQixDQUFDLE1BQ0ksSUFBSSxJQUFJLENBQUN2QixxQkFBcUIsR0FBRyxDQUFDLElBQUl1QixNQUFNLENBQUM5QyxZQUFZLElBQUksQ0FBQzRELGlCQUFpQixFQUFFO1VBQ2xGO1VBQ0EsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ2YsTUFBTSxFQUFFUSxtQkFBbUIsRUFBRSxJQUFJLENBQUM1QixjQUFjLENBQUNRLFdBQVcsRUFBRXJpQixPQUFPLENBQUM7UUFDakcsQ0FBQyxNQUNJO1VBQ0RpakIsTUFBTSxDQUFDOXFCLE1BQU0sR0FBRzJyQixZQUFZO1VBQzVCLElBQUksSUFBSSxDQUFDWCxZQUFZLENBQUNGLE1BQU0sRUFBRVEsbUJBQW1CLEVBQUUsSUFBSSxDQUFDNUIsY0FBYyxDQUFDUSxXQUFXLEVBQUVyaUIsT0FBTyxDQUFDLEVBQUU7WUFDMUYsSUFBSSxDQUFDNGhCLGFBQWEsR0FBR3FCLE1BQU0sQ0FBQyxDQUFDO1VBQ2pDO1FBQ0o7UUFDQUssS0FBSyxDQUFDeHNCLElBQUksQ0FBQzJzQixtQkFBbUIsQ0FBQztNQUNuQyxDQUFDLENBQUM7TUFDRkYsV0FBVyxHQUFHRCxLQUFLLENBQUNXLEtBQUssQ0FBQyxDQUFDO0lBQy9CO0VBQ0o7RUFDQUMsWUFBWUEsQ0FBQ3BDLEtBQUssRUFBRWEsS0FBSyxFQUFFTCxHQUFHLEVBQUVELFdBQVcsRUFBRTtJQUN6QyxNQUFNcEMsTUFBTSxHQUFHLElBQUksQ0FBQzJCLGFBQWEsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQzNCLE1BQU07SUFDOUQsSUFBSUEsTUFBTSxJQUFJQSxNQUFNLENBQUN0ZixNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQzdCLElBQUluRSxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsMkRBQTJELEdBQUksR0FBRWtrQixLQUFNLFlBQVdhLEtBQU0sVUFBU0wsR0FBSSxrQkFBaUJELFdBQVksRUFBQyxDQUFDO01BQ3BLO01BQ0EsSUFBSSxDQUFDTyxpQkFBaUIsQ0FBQ2QsS0FBSyxFQUFFYSxLQUFLLEVBQUVMLEdBQUcsRUFBRUQsV0FBVyxFQUFFLElBQUksQ0FBQztJQUNoRSxDQUFDLE1BQ0k7TUFDRCxJQUFJN2xCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1FBQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyxxREFBcUQsR0FBSSxHQUFFa2tCLEtBQU0sWUFBV2EsS0FBTSxVQUFTTCxHQUFJLGtCQUFpQkQsV0FBWSxFQUFDLENBQUM7TUFDOUo7TUFDQSxJQUFJLENBQUNPLGlCQUFpQixDQUFDZCxLQUFLLEVBQUVhLEtBQUssRUFBRUwsR0FBRyxFQUFFRCxXQUFXLENBQUM7SUFDMUQ7RUFDSjtFQUNBOEIsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sTUFBTSxJQUFJbmxCLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQztFQUNyRTtFQUNBb2xCLElBQUlBLENBQUNuQixNQUFNLEVBQUV6QyxLQUFLLEVBQUU7SUFDaEIsSUFBSSxDQUFDb0IsYUFBYSxHQUFHcUIsTUFBTSxJQUFJLElBQUksQ0FBQ3JCLGFBQWE7SUFDakQsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQ3RDLG9CQUFvQixFQUFFO01BQ3pDLE1BQU1XLE1BQU0sR0FBRyxJQUFJLENBQUMyQixhQUFhLENBQUMzQixNQUFNO01BQ3hDO01BQ0E7TUFDQSxJQUFJNkIsS0FBSyxHQUFHN0IsTUFBTSxDQUFDb0UsR0FBRyxDQUFDLENBQUM7TUFDeEIsSUFBSUMsS0FBSyxHQUFHLENBQUM7TUFDYixJQUFJOUQsS0FBSyxFQUFFO1FBQ1AsT0FBT3NCLEtBQUssQ0FBQ3RCLEtBQUssSUFBSXNCLEtBQUssQ0FBQ3RCLEtBQUssS0FBS0EsS0FBSyxFQUFFO1VBQ3pDc0IsS0FBSyxHQUFHN0IsTUFBTSxDQUFDb0UsR0FBRyxDQUFDLENBQUM7VUFDcEJDLEtBQUssRUFBRTtRQUNYO01BQ0o7TUFDQSxPQUFPLENBQUN4QyxLQUFLLENBQUN5QyxnQkFBZ0IsRUFBRTtRQUM1QnpDLEtBQUssR0FBRzdCLE1BQU0sQ0FBQ29FLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCQyxLQUFLLEVBQUU7TUFDWDtNQUNBLElBQUk5bkIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFFLG1FQUFrRTBtQixLQUFNLEVBQUMsQ0FBQztNQUMzRztNQUNBLElBQUksQ0FBQ0UsWUFBWSxDQUFDMUMsS0FBSyxFQUFFLElBQUksQ0FBQztJQUNsQyxDQUFDLE1BQ0k7TUFDRCxNQUFNQSxLQUFLLEdBQUcsSUFBSSxDQUFDRixhQUFhLENBQUNuQixTQUFTLENBQUMsQ0FBQztNQUM1QyxJQUFJcUIsS0FBSyxJQUFJQSxLQUFLLENBQUN5QyxnQkFBZ0IsRUFBRTtRQUNqQztRQUNBLElBQUkvbkIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7VUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFDLDZEQUE2RCxHQUFHLDJDQUEyQyxDQUFDO1FBQzVJO1FBQ0EsSUFBSSxDQUFDcWxCLE1BQU0sRUFBRTtVQUNULE1BQU13QixZQUFZLEdBQUcsSUFBSSxDQUFDbkQsWUFBWSxDQUFDcEMsUUFBUSxDQUFDLENBQUM7VUFDakQsSUFBSSxDQUFDMEMsYUFBYSxHQUFHLElBQUksQ0FBQzhDLGdCQUFnQixDQUFDRCxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUM3QyxhQUFhO1FBQ2xGO1FBQ0EsTUFBTStDLFdBQVcsR0FBRyxJQUFJLENBQUMvQyxhQUFhLENBQUNkLGNBQWMsQ0FBQyxDQUFDO1FBQ3ZELElBQUk2RCxXQUFXLEVBQUU7VUFDYkEsV0FBVyxDQUFDQyxNQUFNLENBQUMsQ0FBQztRQUN4QjtNQUNKLENBQUMsTUFDSTtRQUNEO1FBQ0EsSUFBSXBvQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtVQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsNkRBQTZELEdBQUcsK0JBQStCLENBQUM7UUFDaEk7UUFDQSxJQUFJLENBQUM0bUIsWUFBWSxDQUFDLElBQUksQ0FBQzVDLGFBQWEsQ0FBQzNCLE1BQU0sQ0FBQ29FLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDO01BQzVEO0lBQ0o7RUFDSjtFQUNBcEQsU0FBU0EsQ0FBQ2dDLE1BQU0sRUFBRTtJQUNkQSxNQUFNLEdBQUdBLE1BQU0sSUFBSSxJQUFJLENBQUNyQixhQUFhO0lBQ3JDLE9BQU9xQixNQUFNLENBQUNoRCxNQUFNLENBQUN0ZixNQUFNLEdBQUcsQ0FBQztFQUNuQztFQUNBa2tCLFVBQVVBLENBQUN6YyxFQUFFLEVBQUU7SUFDWCxJQUFJNUwsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFDLCtCQUErQixDQUFDO0lBQ2hFO0lBQ0EsSUFBSSxDQUFDNmpCLGlCQUFpQixDQUFDM3FCLElBQUksQ0FBQ3NSLEVBQUUsQ0FBQztFQUNuQztFQUNBMGMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSXRvQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsa0NBQWtDLENBQUM7SUFDbkU7SUFDQSxPQUFPLEVBQUU7RUFDYjtFQUNBNG1CLFlBQVlBLENBQUMxQyxLQUFLLEVBQUV1QyxHQUFHLEdBQUcsSUFBSSxFQUFFcEIsTUFBTSxFQUFFO0lBQ3BDQSxNQUFNLEdBQUdBLE1BQU0sSUFBSSxJQUFJLENBQUNyQixhQUFhO0lBQ3JDLE1BQU1RLGFBQWEsR0FBRyxJQUFJL3VCLGtFQUFvQixDQUFDLENBQUM7SUFDaEQsTUFBTTJ1QixhQUFhLEdBQUcsSUFBSSxDQUFDQyx1QkFBdUIsQ0FBQ2dCLE1BQU0sQ0FBQztJQUMxRCxJQUFJbkIsS0FBSyxJQUFJRSxhQUFhLEVBQUU7TUFDeEIsSUFBSSxDQUFDRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUNOLGNBQWMsQ0FBQ3ZaLElBQUksRUFBRTBaLGFBQWEsRUFBRUYsS0FBSyxDQUFDakIsWUFBWSxDQUFDO0lBQ3hGLENBQUMsTUFDSSxJQUFJbUIsYUFBYSxFQUFFO01BQ3BCO01BQ0E7TUFDQSxJQUFJLENBQUNHLGtCQUFrQixDQUFDLElBQUksQ0FBQ04sY0FBYyxDQUFDdlosSUFBSSxFQUFFMFosYUFBYSxFQUFFLElBQUksQ0FBQztJQUMxRTtJQUNBLE1BQU1NLEdBQUcsR0FBR0YsYUFBYSxDQUFDRyxTQUFTLENBQUMsSUFBSSxDQUFDVixjQUFjLENBQUM7SUFDeEQsTUFBTWtELE1BQU0sR0FBRztNQUFFakQsS0FBSztNQUFFeGxCLElBQUksRUFBRTtJQUFXLENBQUM7SUFDMUMsS0FBSyxNQUFNOEwsRUFBRSxJQUFJLElBQUksQ0FBQ3FaLGlCQUFpQixFQUFFO01BQ3JDclosRUFBRSxDQUFDMmMsTUFBTSxDQUFDO0lBQ2Q7RUFDSjtFQUNBdnZCLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUk0VixNQUFNLEdBQUcsRUFBRTtJQUNmLElBQUksQ0FBQ29XLE9BQU8sQ0FBQ3RxQixPQUFPLENBQUUrckIsTUFBTSxJQUFLO01BQzdCLE1BQU0rQixZQUFZLEdBQUcvQixNQUFNLENBQUNoRCxNQUFNO01BQ2xDLE1BQU1nRixTQUFTLEdBQUdEO01BQ2Q7TUFBQSxDQUNDcHlCLEdBQUcsQ0FBQyxDQUFDb0gsQ0FBQyxFQUFFd0wsQ0FBQyxLQUFNLEdBQUV5ZCxNQUFNLENBQUN2RCxVQUFXLElBQUdsYSxDQUFFLEtBQUl4TCxDQUFDLENBQUN1cUIsZ0JBQWdCLEdBQUcsTUFBTSxHQUFHLFVBQVcsTUFBS3RCLE1BQU0sQ0FBQ25ELG9CQUFvQixHQUFHLE9BQU8sR0FBRyxNQUFPLE1BQUs5bEIsQ0FBQyxDQUFDNm1CLFlBQVksQ0FBQ3JyQixRQUFRLENBQUMsQ0FBRSxHQUFFLENBQUMsQ0FDM0swdkIsT0FBTyxDQUFDLENBQUM7TUFDZDlaLE1BQU0sR0FBR0EsTUFBTSxDQUFDK1osTUFBTSxDQUFDRixTQUFTLENBQUM7SUFDckMsQ0FBQyxDQUFDO0lBQ0YsT0FBTzdaLE1BQU0sQ0FBQzlELElBQUksQ0FBQyxJQUFJLENBQUM7RUFDNUI7RUFDQTtFQUNBOGQsd0JBQXdCQSxDQUFDNUUsS0FBSyxFQUFFWixTQUFTLEVBQUU7SUFDdkMsTUFBTXFELE1BQU0sR0FBRyxJQUFJLENBQUN5QixnQkFBZ0IsQ0FBQ2xFLEtBQUssQ0FBQztJQUMzQyxJQUFJLENBQUN5QyxNQUFNLElBQUlBLE1BQU0sQ0FBQzNELG9CQUFvQixFQUFFO01BQ3hDLElBQUk5aUIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDbENWLGlCQUFpQixDQUFDcUIsV0FBVyxDQUFDLGlEQUFpRCxDQUFDO01BQ3BGO01BQ0E7SUFDSjtJQUNBLElBQUlyQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsa0NBQWtDLENBQUM7SUFDbkU7SUFDQXFsQixNQUFNLENBQUM3QywwQkFBMEIsQ0FBQ1IsU0FBUyxDQUFDO0lBQzVDO0lBQ0E7SUFDQSxJQUFJLENBQUM0QixPQUFPLENBQ1A5dUIsTUFBTSxDQUFFZ29CLENBQUMsSUFBSztNQUNmLElBQUl2aUIsTUFBTSxHQUFHdWlCLENBQUMsQ0FBQ3ZpQixNQUFNO01BQ3JCLE9BQU9BLE1BQU0sRUFBRTtRQUNYLElBQUlBLE1BQU0sS0FBSzhxQixNQUFNLEVBQUU7VUFDbkIsT0FBTyxJQUFJO1FBQ2Y7UUFDQTlxQixNQUFNLEdBQUdBLE1BQU0sQ0FBQ0EsTUFBTTtNQUMxQjtNQUNBLE9BQU8sS0FBSztJQUNoQixDQUFDLENBQUMsQ0FDR2pCLE9BQU8sQ0FBRXdqQixDQUFDLElBQU1BLENBQUMsQ0FBQzRFLG9CQUFvQixHQUFHLElBQUssQ0FBQztJQUNwRCxJQUFJLENBQUNzQyxhQUFhLEdBQUdxQixNQUFNO0VBQy9CO0VBQ0FvQyx5QkFBeUJBLENBQUM3RSxLQUFLLEVBQUU7SUFDN0IsTUFBTXlDLE1BQU0sR0FBRyxJQUFJLENBQUN5QixnQkFBZ0IsQ0FBQ2xFLEtBQUssQ0FBQztJQUMzQyxJQUFJLENBQUN5QyxNQUFNLElBQUksQ0FBQ0EsTUFBTSxDQUFDM0Qsb0JBQW9CLEVBQUU7TUFDekMsSUFBSTlpQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNxQixXQUFXLENBQUMsbURBQW1ELENBQUM7TUFDdEY7TUFDQTtJQUNKO0lBQ0EsSUFBSXJCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQywrQ0FBK0MsQ0FBQztJQUNoRjtJQUNBcWxCLE1BQU0sQ0FBQzNELG9CQUFvQixHQUFHLEtBQUs7RUFDdkM7RUFDQWdHLHFCQUFxQkEsQ0FBQzlFLEtBQUssRUFBRTtJQUN6QixJQUFJaGtCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyw0Q0FBNEMsQ0FBQztJQUM3RTtJQUNBLElBQUksQ0FBQ2drQixhQUFhLEdBQUcsSUFBSSxDQUFDOEMsZ0JBQWdCLENBQUNsRSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUNvQixhQUFhO0lBQ3ZFO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDQSxhQUFhLEVBQUU7TUFDcEIsSUFBSSxDQUFDQSxhQUFhLENBQUN6QixZQUFZLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUN1QixxQkFBcUIsRUFBRTtJQUNoQztFQUNKO0VBQ0E2RCxxQkFBcUJBLENBQUEsRUFBRztJQUNwQixJQUFJL29CLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQywyQ0FBMkMsQ0FBQztJQUM1RTtJQUNBLE1BQU00bkIsY0FBYyxHQUFHLElBQUksQ0FBQzlELHFCQUFxQixHQUFHLENBQUM7SUFDckQsSUFBSThELGNBQWMsRUFBRTtNQUNoQixJQUFJLENBQUM5RCxxQkFBcUIsRUFBRTtJQUNoQztJQUNBO0lBQ0EsTUFBTStELGFBQWEsR0FBRyxJQUFJLENBQUNmLGdCQUFnQixDQUFDLElBQUksQ0FBQ3BELFlBQVksQ0FBQ3BDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDekUsTUFBTStELE1BQU0sR0FBRyxJQUFJLENBQUN5QyxpQkFBaUIsQ0FBQyxJQUFJLENBQUNoRSxxQkFBcUIsRUFBRThELGNBQWMsQ0FBQyxJQUFJQyxhQUFhO0lBQ2xHLElBQUl4QyxNQUFNLEVBQUU7TUFDUixJQUFJLENBQUNyQixhQUFhLEdBQUdxQixNQUFNO01BQzNCLElBQUksQ0FBQ3JCLGFBQWEsQ0FBQ3pCLFlBQVksR0FBRyxLQUFLO01BQ3ZDLElBQUksQ0FBQ3FFLFlBQVksQ0FBQyxJQUFJLENBQUM1QyxhQUFhLENBQUNuQixTQUFTLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztNQUN4RDtNQUNBLE9BQU8sSUFBSTNXLE9BQU8sQ0FBRUMsT0FBTyxJQUFLbFAsVUFBVSxDQUFDa1AsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNEO0VBQ0o7RUFDQTRiLG9CQUFvQkEsQ0FBQ25GLEtBQUssRUFBRW9GLE9BQU8sRUFBRTtJQUNqQyxJQUFJcHBCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQywyQ0FBMkMsQ0FBQztJQUM1RTtJQUNBLElBQUksQ0FBQ2drQixhQUFhLEdBQUcsSUFBSSxDQUFDOEMsZ0JBQWdCLENBQUNsRSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUNvQixhQUFhO0lBQ3ZFLE1BQU1oQixTQUFTLEdBQUcsSUFBSSxDQUFDZ0IsYUFBYSxDQUFDbkIsU0FBUyxDQUFDLENBQUM7SUFDaEQsSUFBSUcsU0FBUyxFQUFFO01BQ1hBLFNBQVMsQ0FBQzJELGdCQUFnQixHQUFHLElBQUk7SUFDckM7SUFDQSxNQUFNc0IsVUFBVSxHQUFHRCxPQUFPLElBQUkxRSxpQkFBaUI7SUFDL0MsSUFBSTJFLFVBQVUsQ0FBQzFFLFlBQVksRUFBRTtNQUN6QixJQUFJM2tCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1FBQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyxpRUFBaUUsQ0FBQztNQUNsRztNQUNBLElBQUksQ0FBQ2drQixhQUFhLENBQUMzQixNQUFNLEdBQUcsQ0FBQ1csU0FBUyxDQUFDO0lBQzNDO0lBQ0EsT0FBT2lGLFVBQVU7RUFDckI7RUFDQUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxJQUFJLENBQUN0RSxPQUFPO0VBQ3ZCO0VBQ0F1RSxpQkFBaUJBLENBQUM5QyxNQUFNLEVBQUV6QyxLQUFLLEVBQUV3RixrQkFBa0IsRUFBRTtJQUNqRCxNQUFNcEYsU0FBUyxHQUFHcUMsTUFBTSxDQUFDeEMsU0FBUyxDQUFDLENBQUM7SUFDcEMsSUFBSUcsU0FBUyxJQUFJLENBQUNBLFNBQVMsQ0FBQ0osS0FBSyxJQUFJLENBQUN3RixrQkFBa0IsRUFBRTtNQUN0RHBGLFNBQVMsQ0FBQ0osS0FBSyxHQUFHQSxLQUFLO0lBQzNCO0lBQ0EsSUFBSSxDQUFDeUMsTUFBTSxDQUFDMUMsYUFBYSxDQUFDQyxLQUFLLENBQUMsRUFBRTtNQUM5QnlDLE1BQU0sQ0FBQ2pELE1BQU0sQ0FBQ2xwQixJQUFJLENBQUMwcEIsS0FBSyxDQUFDO0lBQzdCO0lBQ0EsSUFBSSxDQUFDb0IsYUFBYSxHQUFHcUIsTUFBTTtFQUMvQjtFQUNBZ0QsV0FBV0EsQ0FBQ3pGLEtBQUssRUFBRTtJQUNmLElBQUksQ0FBQ2dCLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sQ0FBQzl1QixNQUFNLENBQUVrdkIsYUFBYSxJQUFLO01BQ2xELElBQUlzRSxnQkFBZ0I7TUFDcEIsSUFBSSxJQUFJLENBQUN0RSxhQUFhLEVBQUU7UUFDcEJzRSxnQkFBZ0IsR0FBR3RFLGFBQWEsQ0FBQy9CLGFBQWEsS0FBSyxJQUFJLENBQUMrQixhQUFhLENBQUMvQixhQUFhO01BQ3ZGO01BQ0E7TUFDQSxJQUFJK0IsYUFBYSxDQUFDckIsYUFBYSxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDMEYsZ0JBQWdCLEVBQUU7UUFDekQsSUFBSSxDQUFDMUIsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUU1QyxhQUFhLENBQUM7TUFDaEQ7TUFDQTtNQUNBLElBQUlBLGFBQWEsQ0FBQzVCLE1BQU0sQ0FBQ3JmLE1BQU0sSUFBSSxDQUFDaWhCLGFBQWEsQ0FBQ2IsZUFBZSxFQUFFO1FBQy9EYSxhQUFhLENBQUM1QixNQUFNLEdBQUc0QixhQUFhLENBQUM1QixNQUFNLENBQUN0dEIsTUFBTSxDQUFFc3VCLFlBQVksSUFBS0EsWUFBWSxLQUFLUixLQUFLLENBQUM7UUFDNUYsT0FBT29CLGFBQWEsQ0FBQzVCLE1BQU0sQ0FBQ3JmLE1BQU07TUFDdEM7TUFDQSxPQUFPLENBQUNpaEIsYUFBYSxDQUFDckIsYUFBYSxDQUFDQyxLQUFLLENBQUM7SUFDOUMsQ0FBQyxDQUFDO0VBQ047RUFDQXdDLHVCQUF1QkEsQ0FBQ25DLFlBQVksRUFBRTtJQUNsQyxJQUFJc0YsUUFBUSxHQUFHLEVBQUU7SUFDakIsT0FBT3RGLFlBQVksRUFBRTtNQUNqQixNQUFNeUIsR0FBRyxHQUFHekIsWUFBWSxDQUFDcnJCLFFBQVEsQ0FBQyxDQUFDO01BQ25DLElBQUkyd0IsUUFBUSxFQUFFO1FBQ1ZBLFFBQVEsR0FBRyxDQUFDN0QsR0FBRyxHQUFHQSxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsSUFBSTZELFFBQVE7TUFDaEQsQ0FBQyxNQUNJO1FBQ0RBLFFBQVEsR0FBRzdELEdBQUc7TUFDbEI7TUFDQXpCLFlBQVksR0FBR0EsWUFBWSxDQUFDMW9CLE1BQU07SUFDdEM7SUFDQSxPQUFPZ3VCLFFBQVE7RUFDbkI7RUFDQUMsZ0JBQWdCQSxDQUFDQyxZQUFZLEVBQUU7SUFDM0IsTUFBTTdDLFVBQVUsR0FBRzZDLFlBQVksQ0FBQ3BELE1BQU07SUFDdEMsSUFBSWtELFFBQVE7SUFDWkUsWUFBWSxHQUFHQSxZQUFZLENBQUNsdUIsTUFBTTtJQUNsQyxPQUFPa3VCLFlBQVksRUFBRTtNQUNqQixNQUFNQyxJQUFJLEdBQUdELFlBQVksQ0FBQy9ELEdBQUcsQ0FBQzNzQixLQUFLLElBQUkwd0IsWUFBWSxDQUFDL0QsR0FBRztNQUN2RCxJQUFJQSxHQUFHLEdBQUdnRSxJQUFJO01BQ2QsSUFBSW5nQixLQUFLLENBQUNDLE9BQU8sQ0FBQ2tnQixJQUFJLENBQUMsRUFBRTtRQUNyQmhFLEdBQUcsR0FBR0EsR0FBRyxDQUFDaGIsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUN2QjtNQUNBNmUsUUFBUSxHQUFHQSxRQUFRLEdBQUcsQ0FBQzdELEdBQUcsR0FBR0EsR0FBRyxHQUFHLEdBQUcsR0FBR0EsR0FBRyxJQUFJNkQsUUFBUSxHQUFHN0QsR0FBRztNQUM5RCtELFlBQVksR0FBR0EsWUFBWSxDQUFDbHVCLE1BQU07SUFDdEM7SUFDQSxPQUFPZ3VCLFFBQVEsR0FBR0EsUUFBUSxHQUFHLEdBQUcsR0FBRzNDLFVBQVUsR0FBR0EsVUFBVTtFQUM5RDtFQUNBK0MsZ0JBQWdCQSxDQUFDQyxlQUFlLEVBQUU7SUFDOUIsSUFBSSxDQUFDQSxlQUFlLEVBQUU7TUFDbEIsT0FBTyxFQUFFO0lBQ2I7SUFDQSxJQUFJQyxZQUFZO0lBQ2hCLElBQUlDLFFBQVEsR0FBR0YsZUFBZSxDQUFDdkQsTUFBTSxJQUFJLFNBQVM7SUFDbEQsSUFBSTlxQixNQUFNLEdBQUdxdUIsZUFBZSxDQUFDcnVCLE1BQU07SUFDbkMsT0FBT0EsTUFBTSxJQUFJcXVCLGVBQWUsQ0FBQ2xlLElBQUksS0FBS25RLE1BQU0sRUFBRTtNQUM5QyxJQUFJQSxNQUFNLElBQUlBLE1BQU0sQ0FBQzhxQixNQUFNLEtBQUt5RCxRQUFRLEVBQUU7UUFDdEMsSUFBSUEsUUFBUSxLQUFLLFNBQVMsRUFBRTtVQUN4QkEsUUFBUSxHQUFHdnVCLE1BQU0sQ0FBQzhxQixNQUFNO1FBQzVCLENBQUMsTUFDSTtVQUNEeUQsUUFBUSxHQUFHdnVCLE1BQU0sQ0FBQzhxQixNQUFNO1VBQ3hCd0QsWUFBWSxHQUFHQyxRQUFRLEdBQUcsR0FBRyxJQUFJRCxZQUFZLElBQUlELGVBQWUsQ0FBQ3ZELE1BQU0sQ0FBQztRQUM1RTtNQUNKO01BQ0E5cUIsTUFBTSxHQUFHQSxNQUFNLENBQUNBLE1BQU07SUFDMUI7SUFDQSxPQUFPc3VCLFlBQVksSUFBSUMsUUFBUTtFQUNuQztFQUNBeEQsVUFBVUEsQ0FBQ3RELFNBQVMsRUFBRStHLHNCQUFzQixFQUFFO0lBQzFDLElBQUkxRCxNQUFNLEdBQUcsSUFBSSxDQUFDekIsT0FBTyxDQUFDem5CLElBQUksQ0FBRTZuQixhQUFhLElBQUs7TUFDOUMsTUFBTWdGLGVBQWUsR0FBR2hGLGFBQWEsQ0FBQzlCLG9CQUFvQixLQUFLLElBQUksQ0FBQzRCLHFCQUFxQjtNQUN6RixPQUFPa0YsZUFBZSxJQUFJaEYsYUFBYSxDQUFDbEMsVUFBVSxDQUFDdGdCLE9BQU8sQ0FBQ3dnQixTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUUsQ0FBQyxDQUFDO0lBQ0Y7SUFDQTtJQUNBLElBQUksQ0FBQ3FELE1BQU0sSUFBSTBELHNCQUFzQixFQUFFO01BQ25DLE1BQU05RyxhQUFhLEdBQUcsSUFBSSxDQUFDMEcsZ0JBQWdCLENBQUNJLHNCQUFzQixDQUFDO01BQ25FMUQsTUFBTSxHQUFHLElBQUksQ0FBQ3pCLE9BQU8sQ0FBQ3puQixJQUFJLENBQUU2bkIsYUFBYSxJQUFLO1FBQzFDLE1BQU1nRixlQUFlLEdBQUdoRixhQUFhLENBQUM5QixvQkFBb0IsS0FBSyxJQUFJLENBQUM0QixxQkFBcUI7UUFDekYsT0FBT2tGLGVBQWUsSUFBSWhGLGFBQWEsQ0FBQy9CLGFBQWEsS0FBS0EsYUFBYTtNQUMzRSxDQUFDLENBQUM7SUFDTjtJQUNBLE9BQU9vRCxNQUFNO0VBQ2pCO0VBQ0F5QyxpQkFBaUJBLENBQUNtQixlQUFlLEVBQUVyQixjQUFjLEVBQUU7SUFDL0MsT0FBTyxJQUFJLENBQUNoRSxPQUFPLENBQUN6bkIsSUFBSSxDQUFFa3BCLE1BQU0sSUFBSztNQUNqQyxNQUFNMkQsZUFBZSxHQUFHM0QsTUFBTSxDQUFDbkQsb0JBQW9CLEtBQUsrRyxlQUFlO01BQ3ZFLE9BQU9yQixjQUFjLEdBQUdvQixlQUFlLElBQUkzRCxNQUFNLENBQUM5QyxZQUFZLEdBQUd5RyxlQUFlO0lBQ3BGLENBQUMsQ0FBQztFQUNOO0VBQ0FsQyxnQkFBZ0JBLENBQUNsRSxLQUFLLEVBQUU7SUFDcEIsSUFBSXlDLE1BQU07SUFDVixLQUFLLElBQUkvakIsS0FBSyxHQUFHLENBQUMsRUFBRUEsS0FBSyxHQUFHLElBQUksQ0FBQ3NpQixPQUFPLENBQUM3Z0IsTUFBTSxFQUFFekIsS0FBSyxFQUFFLEVBQUU7TUFDdEQsTUFBTTBpQixhQUFhLEdBQUcsSUFBSSxDQUFDSixPQUFPLENBQUN0aUIsS0FBSyxDQUFDO01BQ3pDLElBQUkwaUIsYUFBYSxDQUFDckIsYUFBYSxDQUFDQyxLQUFLLENBQUMsRUFBRTtRQUNwQ3lDLE1BQU0sR0FBR3JCLGFBQWE7UUFDdEI7TUFDSjtJQUNKO0lBQ0EsT0FBT3FCLE1BQU07RUFDakI7RUFDQUUsWUFBWUEsQ0FBQ0YsTUFBTSxFQUFFUSxtQkFBbUIsRUFBRXBCLFdBQVcsRUFBRXJpQixPQUFPLEdBQUcsS0FBSyxFQUFFO0lBQ3BFLE1BQU04bUIsU0FBUyxHQUFHN0QsTUFBTSxDQUFDaEQsTUFBTSxDQUFDdGYsTUFBTSxLQUFLLENBQUM7SUFDNUMsTUFBTWlnQixTQUFTLEdBQUdxQyxNQUFNLENBQUNoRCxNQUFNLENBQUNnRCxNQUFNLENBQUNoRCxNQUFNLENBQUN0ZixNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3pELE1BQU1vbUIsY0FBYyxHQUFHOUQsTUFBTSxDQUFDdkMsZ0JBQWdCLENBQUMrQyxtQkFBbUIsQ0FBQ2p1QixRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzlFLE1BQU13eEIsYUFBYSxHQUFHO01BQ2xCbkcsWUFBWSxFQUFFNEMsbUJBQW1CO01BQ2pDdkIsa0JBQWtCLEVBQUUsS0FBSztNQUN6QnFDLGdCQUFnQixFQUFFdUMsU0FBUztNQUMzQnpFLFdBQVcsRUFBRTtRQUFFLEdBQUdBO01BQVk7SUFDbEMsQ0FBQztJQUNELElBQUksQ0FBQ3pCLFNBQVMsSUFBSSxDQUFDbUcsY0FBYyxFQUFFO01BQy9CLElBQUkvbUIsT0FBTyxFQUFFO1FBQ1RpakIsTUFBTSxDQUFDaEQsTUFBTSxDQUFDb0UsR0FBRyxDQUFDLENBQUM7TUFDdkI7TUFDQXBCLE1BQU0sQ0FBQ2hELE1BQU0sQ0FBQ25wQixJQUFJLENBQUNrd0IsYUFBYSxDQUFDO01BQ2pDO01BQ0EsSUFBSSxJQUFJLENBQUN0RixxQkFBcUIsS0FBSyxDQUFDLElBQUksQ0FBQ3VCLE1BQU0sQ0FBQzlDLFlBQVksRUFBRTtRQUMxRCxJQUFJLENBQUM4RyxtQkFBbUIsQ0FBQ2hFLE1BQU0sRUFBRVEsbUJBQW1CLENBQUN0ckIsTUFBTSxDQUFDO01BQ2hFO01BQ0EsT0FBTyxJQUFJO0lBQ2YsQ0FBQyxNQUNJO01BQ0QsSUFBSXlvQixTQUFTLElBQUltRyxjQUFjLEVBQUU7UUFDN0I7UUFDQW5HLFNBQVMsQ0FBQ3lCLFdBQVcsR0FBRztVQUFFLEdBQUdBO1FBQVksQ0FBQztNQUM5QztJQUNKO0lBQ0EsT0FBTyxLQUFLO0VBQ2hCO0VBQ0E0RSxtQkFBbUJBLENBQUNoRSxNQUFNLEVBQUVpRSxlQUFlLEVBQUU7SUFDekMsSUFBSXBELFlBQVksR0FBR2IsTUFBTSxDQUFDOXFCLE1BQU07SUFDaEM7SUFDQSxPQUFPMnJCLFlBQVksSUFBSW9ELGVBQWUsRUFBRTtNQUNwQyxNQUFNcEYsS0FBSyxHQUFHZ0MsWUFBWSxDQUFDckQsU0FBUyxDQUFDLENBQUM7TUFDdEMsSUFBSXFCLEtBQUssRUFBRTtRQUNQQSxLQUFLLENBQUNqQixZQUFZLEdBQUdxRyxlQUFlO1FBQ3BDQSxlQUFlLEdBQUdBLGVBQWUsQ0FBQy91QixNQUFNO1FBQ3hDMnJCLFlBQVksR0FBR0EsWUFBWSxDQUFDM3JCLE1BQU07TUFDdEM7SUFDSjtFQUNKO0VBQ0E7RUFDQWtyQixZQUFZQSxDQUFDekQsU0FBUyxFQUFFM3dCLElBQUksRUFBRTR4QixZQUFZLEVBQUUxb0IsTUFBTSxFQUFFMHVCLGVBQWUsRUFBRXhFLFdBQVcsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUNuRixNQUFNeEMsYUFBYSxHQUFHLElBQUksQ0FBQzBHLGdCQUFnQixDQUFDMUYsWUFBWSxDQUFDO0lBQ3pELE1BQU1zRyxTQUFTLEdBQUcsSUFBSTlILE1BQU0sQ0FBQ08sU0FBUyxFQUFFM3dCLElBQUksRUFBRTR3QixhQUFhLEVBQUVnSCxlQUFlLENBQUM7SUFDN0UsTUFBTUcsYUFBYSxHQUFHO01BQ2xCbkcsWUFBWSxFQUFFQSxZQUFZO01BQzFCcUIsa0JBQWtCLEVBQUUsS0FBSztNQUN6QnFDLGdCQUFnQixFQUFFLElBQUk7TUFDdEJsQyxXQUFXLEVBQUU7UUFBRSxHQUFHQTtNQUFZO0lBQ2xDLENBQUM7SUFDRDhFLFNBQVMsQ0FBQ2xILE1BQU0sR0FBRyxDQUFDK0csYUFBYSxDQUFDO0lBQ2xDRyxTQUFTLENBQUNodkIsTUFBTSxHQUFHQSxNQUFNO0lBQ3pCLElBQUksQ0FBQ3FwQixPQUFPLENBQUMxcUIsSUFBSSxDQUFDcXdCLFNBQVMsQ0FBQztJQUM1QjtJQUNBLElBQUksSUFBSSxDQUFDekYscUJBQXFCLEtBQUssQ0FBQyxJQUFJLENBQUN5RixTQUFTLENBQUNoSCxZQUFZLEVBQUU7TUFDN0QsSUFBSSxDQUFDOEcsbUJBQW1CLENBQUNFLFNBQVMsRUFBRXRHLFlBQVksQ0FBQzFvQixNQUFNLENBQUM7SUFDNUQ7SUFDQSxPQUFPZ3ZCLFNBQVM7RUFDcEI7RUFDQWxGLHVCQUF1QkEsQ0FBQ2dCLE1BQU0sRUFBRTtJQUM1QixNQUFNbUUsUUFBUSxHQUFHbkUsTUFBTSxDQUFDcEQsYUFBYSxDQUFDeGEsS0FBSyxDQUFDLEdBQUcsQ0FBQztJQUNoRCxJQUFJd2IsWUFBWSxHQUFHLElBQUksQ0FBQ2dCLGNBQWMsQ0FBQ3ZaLElBQUk7SUFDM0MsSUFBSW1lLFlBQVk7SUFDaEIsS0FBSyxJQUFJdm5CLEtBQUssR0FBRyxDQUFDLEVBQUVBLEtBQUssR0FBR2tvQixRQUFRLENBQUN6bUIsTUFBTSxFQUFFekIsS0FBSyxFQUFFLEVBQUU7TUFDbEQsTUFBTW1vQixXQUFXLEdBQUdELFFBQVEsQ0FBQ2xvQixLQUFLLENBQUM7TUFDbkMsTUFBTW9vQixhQUFhLEdBQUc5dEIsTUFBTSxDQUFDNk4sSUFBSSxDQUFDd1osWUFBWSxDQUFDaGdCLFFBQVEsQ0FBQyxDQUFDRixNQUFNO01BQy9ELElBQUkybUIsYUFBYSxJQUFJekcsWUFBWSxDQUFDaGdCLFFBQVEsQ0FBQ3dtQixXQUFXLENBQUMsRUFBRTtRQUNyRCxNQUFNL0UsR0FBRyxHQUFHekIsWUFBWSxDQUFDcnJCLFFBQVEsQ0FBQyxDQUFDO1FBQ25DaXhCLFlBQVksR0FBR0EsWUFBWSxHQUFHQSxZQUFZLEdBQUcsR0FBRyxHQUFHbkUsR0FBRyxHQUFHQSxHQUFHO1FBQzVEekIsWUFBWSxHQUFHQSxZQUFZLENBQUNoZ0IsUUFBUSxDQUFDd21CLFdBQVcsQ0FBQztNQUNyRCxDQUFDLE1BQ0k7UUFDRDtRQUNBO1FBQ0E7UUFDQXhHLFlBQVksR0FBRyxJQUFJO1FBQ25CO01BQ0o7SUFDSjtJQUNBO0lBQ0E7SUFDQSxJQUFJQSxZQUFZLElBQUlvQyxNQUFNLENBQUNoMEIsSUFBSSxJQUFJdzNCLFlBQVksSUFBSXhELE1BQU0sQ0FBQ2gwQixJQUFJLEtBQUt3M0IsWUFBWSxFQUFFO01BQzdFNUYsWUFBWSxHQUFHLElBQUk7SUFDdkI7SUFDQSxPQUFPQSxZQUFZO0VBQ3ZCO0VBQ0E7RUFDQXNCLGtCQUFrQkEsQ0FBQzVQLFFBQVEsRUFBRWdWLGVBQWUsRUFBRUwsZUFBZSxFQUFFO0lBQzNELE1BQU01RCxLQUFLLEdBQUcsRUFBRTtJQUNoQixJQUFJQyxXQUFXLEdBQUdoUixRQUFRO0lBQzFCLE9BQU9nUixXQUFXLEVBQUU7TUFDaEIvcEIsTUFBTSxDQUFDNk4sSUFBSSxDQUFDa2MsV0FBVyxDQUFDMWlCLFFBQVEsQ0FBQyxDQUFDM0osT0FBTyxDQUFFc3NCLFVBQVUsSUFBSztRQUN0RCxJQUFJRCxXQUFXLENBQUMxaUIsUUFBUSxDQUFDMmlCLFVBQVUsQ0FBQyxLQUFLK0QsZUFBZSxFQUFFO1VBQ3RELElBQUlMLGVBQWUsRUFBRTtZQUNqQjNELFdBQVcsQ0FBQzFpQixRQUFRLENBQUMyaUIsVUFBVSxDQUFDLEdBQUcwRCxlQUFlO1VBQ3RELENBQUMsTUFDSTtZQUNELE9BQU8zRCxXQUFXLENBQUMxaUIsUUFBUSxDQUFDMmlCLFVBQVUsQ0FBQztVQUMzQztRQUNKO1FBQ0FGLEtBQUssQ0FBQ3hzQixJQUFJLENBQUN5c0IsV0FBVyxDQUFDMWlCLFFBQVEsQ0FBQzJpQixVQUFVLENBQUMsQ0FBQztNQUNoRCxDQUFDLENBQUM7TUFDRkQsV0FBVyxHQUFHRCxLQUFLLENBQUNXLEtBQUssQ0FBQyxDQUFDO0lBQy9CO0VBQ0o7RUFDQUQsaUJBQWlCQSxDQUFDRixZQUFZLEVBQUUwRCxjQUFjLEVBQUVuRixXQUFXLEVBQUVyaUIsT0FBTyxHQUFHLEtBQUssRUFBRTtJQUMxRSxJQUFJeW5CLGtCQUFrQixHQUFHLElBQUksQ0FBQy9CLGlCQUFpQixDQUFDLElBQUksQ0FBQ2hFLHFCQUFxQixDQUFDO0lBQzNFO0lBQ0EsSUFBSSxDQUFDK0Ysa0JBQWtCLEVBQUU7TUFDckIsSUFBSSxJQUFJLENBQUMvRixxQkFBcUIsR0FBRyxDQUFDLEVBQUU7UUFDaEM7UUFDQW9DLFlBQVksR0FBRyxJQUFJLENBQUM0QixpQkFBaUIsQ0FBQyxJQUFJLENBQUNoRSxxQkFBcUIsR0FBRyxDQUFDLENBQUM7TUFDekU7TUFDQTtNQUNBLE1BQU04QixVQUFVLEdBQUcsU0FBUztNQUM1QixNQUFNRSxVQUFVLEdBQUdJLFlBQVksQ0FBQ3JELFNBQVMsQ0FBQyxDQUFDLENBQUNJLFlBQVksQ0FBQ3JyQixRQUFRLENBQUMsQ0FBQztNQUNuRSxNQUFNb3FCLFNBQVMsR0FBRyxJQUFJLENBQUNtRCxZQUFZLENBQUNXLFVBQVUsRUFBRUYsVUFBVSxDQUFDO01BQzNEO01BQ0FpRSxrQkFBa0IsR0FBRyxJQUFJLENBQUNwRSxZQUFZLENBQUN6RCxTQUFTLEVBQUU4RCxVQUFVLEVBQUU4RCxjQUFjLEVBQUUxRCxZQUFZLEVBQUUsSUFBSSxDQUFDcEMscUJBQXFCLEVBQUVXLFdBQVcsQ0FBQztNQUNwSSxJQUFJLENBQUNULGFBQWEsR0FBRzZGLGtCQUFrQjtJQUMzQyxDQUFDLE1BQ0ksSUFBSSxJQUFJLENBQUN0RSxZQUFZLENBQUNzRSxrQkFBa0IsRUFBRUQsY0FBYyxFQUFFbkYsV0FBVyxFQUFFcmlCLE9BQU8sQ0FBQyxFQUFFO01BQ2xGLElBQUksQ0FBQzRoQixhQUFhLEdBQUc2RixrQkFBa0IsQ0FBQyxDQUFDO0lBQzdDO0VBQ0o7RUFDQTFFLFlBQVlBLENBQUM5ekIsSUFBSSxFQUFFdTBCLFVBQVUsRUFBRTtJQUMzQixPQUFPdjBCLElBQUksR0FBR0EsSUFBSSxHQUFHLEdBQUcsR0FBR3UwQixVQUFVLEdBQUdBLFVBQVU7RUFDdEQ7RUFDQTluQixXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJYyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsa0NBQWtDLENBQUM7SUFDbkU7SUFDQSxJQUFJLENBQUM0akIsT0FBTyxHQUFHLEVBQUU7SUFDakIsSUFBSSxDQUFDSSxhQUFhLEdBQUcsSUFBSTtFQUM3QjtFQUNBO0lBQVMsSUFBSSxDQUFDL2xCLElBQUksWUFBQTZyQiwyQkFBQXh4QixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3Rm1yQixrQkFBa0IsRUFwbEc1Qm55QixzREFBRSxDQW9sRzRDK3ZCLFlBQVksR0FwbEcxRC92QixzREFBRSxDQW9sR3FFdUosVUFBVTtJQUFBLENBQTZEO0VBQUU7RUFDaFA7SUFBUyxJQUFJLENBQUNzRCxLQUFLLGtCQXJsRzZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUFxbEdZb2xCLGtCQUFrQjtNQUFBbmxCLE9BQUEsRUFBbEJtbEIsa0JBQWtCLENBQUF4bEIsSUFBQTtNQUFBTSxVQUFBLEVBQWM7SUFBTSxFQUFHO0VBQUU7QUFDN0o7QUFDQTtFQUFBLFFBQUFDLFNBQUEsb0JBQUFBLFNBQUEsS0F2bEdvR2xOLCtEQUFFLENBdWxHWG15QixrQkFBa0IsRUFBYyxDQUFDO0lBQ2hIL2tCLElBQUksRUFBRWhOLHFEQUFVO0lBQ2hCaU4sSUFBSSxFQUFFLENBQUM7TUFDQ0osVUFBVSxFQUFFO0lBQ2hCLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVHLElBQUksRUFBRTJpQjtFQUFhLENBQUMsRUFBRTtJQUFFM2lCLElBQUksRUFBRTdCLFNBQVM7SUFBRXNiLFVBQVUsRUFBRSxDQUFDO01BQ3ZFelosSUFBSSxFQUFFbE4saURBQU07TUFDWm1OLElBQUksRUFBRSxDQUFDOUQsVUFBVTtJQUNyQixDQUFDLEVBQUU7TUFDQzZELElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxDQUFDO0FBQUE7QUFFckIsTUFBTW00QixpQkFBaUIsQ0FBQztFQUNwQnh5QixXQUFXQSxDQUFDb1osT0FBTyxHQUFHLENBQUMsQ0FBQyxFQUFFcVosYUFBYSxFQUFFO0lBQ3JDLElBQUksQ0FBQ3JaLE9BQU8sR0FBR0EsT0FBTztJQUN0QixJQUFJLENBQUNxWixhQUFhLEdBQUdBLGFBQWE7RUFDdEM7QUFDSjtBQUNBLE1BQU1DLGtCQUFrQixDQUFDO0VBQ3JCMXlCLFdBQVdBLENBQUN5RSxRQUFRLEVBQUVrdUIsSUFBSSxFQUFFL1UsTUFBTSxFQUFFZ1YsZUFBZSxFQUFFO0lBQ2pELElBQUksQ0FBQ251QixRQUFRLEdBQUdBLFFBQVE7SUFDeEIsSUFBSSxDQUFDa3VCLElBQUksR0FBR0EsSUFBSTtJQUNoQixJQUFJLENBQUMvVSxNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDZ1YsZUFBZSxHQUFHQSxlQUFlO0VBQzFDO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7RUFDSSxJQUFJQyxPQUFPQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUMsSUFBSSxDQUFDQyxRQUFRLEVBQUU7TUFDaEIsSUFBSSxDQUFDQSxRQUFRLEdBQUcsSUFBSWoxQiwwQ0FBTyxDQUFDLENBQUM7SUFDakM7SUFDQSxPQUFPLElBQUksQ0FBQ2kxQixRQUFRO0VBQ3hCO0VBQ0FDLFNBQVNBLENBQUM1ckIsSUFBSSxFQUFFc3BCLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRTtJQUMxQjtJQUNBO0lBQ0E7SUFDQSxJQUFJdUMsVUFBVSxHQUFHdkMsT0FBTyxDQUFDMVgsZ0JBQWdCLEVBQUU1VyxPQUFPLENBQUN1QyxhQUFhLElBQUluTyw0REFBVyxDQUFDMDhCLFdBQVcsQ0FBQyxDQUFDO0lBQzdGLElBQUl4QyxPQUFPLENBQUNuZCxNQUFNLEVBQUU7TUFDaEIwZixVQUFVLEdBQUd2QyxPQUFPLENBQUNuZCxNQUFNO0lBQy9CO0lBQ0EsSUFBSSxDQUFDMGYsVUFBVSxZQUFZaHVCLFdBQVcsSUFBSWd1QixVQUFVLFlBQVludEIsZ0JBQWdCLEtBQUttdEIsVUFBVSxDQUFDN3RCLFNBQVMsRUFBRTtNQUN2RzZ0QixVQUFVLEdBQUdBLFVBQVUsQ0FBQzd0QixTQUFTO0lBQ3JDO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSTZ0QixVQUFVLENBQUNFLGFBQWEsRUFBRTtNQUMxQkYsVUFBVSxHQUFHQSxVQUFVLENBQUNFLGFBQWE7SUFDekM7SUFDQTtJQUNBO0lBQ0EsTUFBTUMsaUJBQWlCLEdBQUcxQyxPQUFPLENBQUMyQyxTQUFTLEVBQUVwYSxRQUFRLElBQUl5WCxPQUFPLENBQUMxWCxnQkFBZ0IsRUFBRUMsUUFBUSxJQUFJLElBQUksQ0FBQzRaLGVBQWU7SUFDbkgsTUFBTWxvQixRQUFRLEdBQUd5b0IsaUJBQWlCLENBQUN6eEIsR0FBRyxDQUFDL0csbUVBQXdCLENBQUM7SUFDaEUsSUFBSTB3QixLQUFLLEdBQUcySCxVQUFVO0lBQ3RCLElBQUksRUFBRUEsVUFBVSxZQUFZaDhCLHNEQUFLLENBQUMsRUFBRTtNQUNoQ3EwQixLQUFLLEdBQUkySCxVQUFVLENBQUMxUyxJQUFJLElBQUkwUyxVQUFVLENBQUMxUyxJQUFJLENBQUMrSyxLQUFLLElBQUtyMEIsc0RBQUssQ0FBQ2d6QixPQUFPLENBQUMsQ0FBQztJQUN6RTtJQUNBLElBQUksQ0FBQ3ZsQixRQUFRLEVBQUUwckIscUJBQXFCLENBQUM5RSxLQUFLLENBQUM7SUFDM0MsT0FBTyxJQUFJMVcsT0FBTyxDQUFDLENBQUNDLE9BQU8sRUFBRXllLE1BQU0sS0FBSztNQUNwQzN0QixVQUFVLENBQUMsTUFBTTtRQUNiLElBQUk7VUFDQSxJQUFJLENBQUM0dEIsV0FBVyxDQUFDO1lBQ2IsR0FBRzdDLE9BQU87WUFDVjlTLFlBQVksRUFBRThTLE9BQU8sQ0FBQzFYLGdCQUFnQjtZQUN0Q0MsUUFBUSxFQUFFbWEsaUJBQWlCO1lBQzNCL1osT0FBTyxFQUFFcVgsT0FBTyxDQUFDclgsT0FBTztZQUN4Qm1hLFlBQVksRUFBRTNlLE9BQU87WUFDckJvZSxVQUFVO1lBQ1Z0b0IsUUFBUTtZQUNSdkQ7VUFDSixDQUFDLENBQUM7UUFDTixDQUFDLENBQ0QsT0FBT3FzQixHQUFHLEVBQUU7VUFDUkgsTUFBTSxDQUFDRyxHQUFHLENBQUM7UUFDZjtNQUNKLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDVixDQUFDLENBQUM7RUFDTjtFQUNBRixXQUFXQSxDQUFDN0MsT0FBTyxFQUFFO0lBQUEsSUFBQWdELEtBQUE7SUFDakIsSUFBSUMsZ0JBQWdCO0lBQ3BCLElBQUlDLGlCQUFpQjtJQUNyQixJQUFJQyxZQUFZO0lBQ2hCLE1BQU1uQixhQUFhLEdBQUd2ZCxJQUFJLGVBQUEyZSwyS0FBQSxDQUFDLFdBQU8sR0FBR3pzQixJQUFJLEVBQUs7TUFDMUNxcEIsT0FBTyxDQUFDOEMsWUFBWSxDQUFDdE8sS0FBSyxDQUFDM2YsU0FBUyxFQUFFOEIsSUFBSSxDQUFDO01BQzNDLElBQUlzc0IsZ0JBQWdCLEVBQUU7UUFDbEJBLGdCQUFnQixDQUFDNXVCLG1CQUFtQixDQUFDZ3ZCLFVBQVUsQ0FBQyxDQUFDO1FBQ2pELE1BQU1DLE1BQU0sR0FBR04sS0FBSSxDQUFDTyxpQkFBaUIsQ0FBQzlFLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLElBQUl1RSxLQUFJLENBQUNYLFFBQVEsRUFBRTtVQUNmVyxLQUFJLENBQUNYLFFBQVEsQ0FBQzd1QixJQUFJLENBQUM4dkIsTUFBTSxDQUFDO1FBQzlCO1FBQ0EsTUFBTU4sS0FBSSxDQUFDaHZCLFFBQVEsQ0FBQzJyQixxQkFBcUIsQ0FBQyxDQUFDO1FBQzNDLElBQUl1RCxpQkFBaUIsSUFBSUMsWUFBWSxFQUFFO1VBQ25DSCxLQUFJLENBQUNkLElBQUksQ0FBQ3ZmLEdBQUcsQ0FBQyxNQUFNO1lBQ2hCd2dCLFlBQVksRUFBRTNaLE9BQU8sQ0FBQyxDQUFDO1lBQ3ZCMFosaUJBQWlCLEVBQUU1ekIsUUFBUSxDQUFDd2QsYUFBYSxDQUFDLENBQUM7WUFDM0NvVyxpQkFBaUIsRUFBRXBlLE9BQU8sQ0FBQyxDQUFDO1VBQ2hDLENBQUMsQ0FBQztRQUNOO01BQ0o7SUFDSixDQUFDLEVBQUM7SUFDRixNQUFNMGUsV0FBVyxHQUFHLElBQUl6QixpQkFBaUIsQ0FBQy9CLE9BQU8sQ0FBQ3JYLE9BQU8sRUFBRXFaLGFBQWEsQ0FBQztJQUN6RSxJQUFJLENBQUMsSUFBSSxDQUFDdUIsaUJBQWlCLEVBQUU7TUFDekIsSUFBSSxDQUFDQSxpQkFBaUIsR0FBRyxFQUFFO0lBQy9CO0lBQ0EsSUFBSSxDQUFDQSxpQkFBaUIsQ0FBQ3J5QixJQUFJLENBQUNzeUIsV0FBVyxDQUFDO0lBQ3hDLE1BQU1DLGFBQWEsR0FBR3I1QixtREFBUSxDQUFDK0ssTUFBTSxDQUFDO01BQ2xDaWMsU0FBUyxFQUFFLENBQUM7UUFBRUwsT0FBTyxFQUFFZ1IsaUJBQWlCO1FBQUUyQixRQUFRLEVBQUVGO01BQVksQ0FBQyxDQUFDO01BQ2xFanhCLE1BQU0sRUFBRXl0QixPQUFPLENBQUN6WDtJQUNwQixDQUFDLENBQUM7SUFDRixJQUFJLENBQUMyWixJQUFJLENBQUN2ZixHQUFHLENBQUMsTUFBTTtNQUNoQjtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQSxNQUFNZ2hCLFVBQVUsR0FBRyxJQUFJbCtCLDJEQUFXLENBQUMsQ0FBQztNQUNwQyxNQUFNMmpCLE1BQU0sR0FBRyxJQUFJZixlQUFlLENBQUMyWCxPQUFPLENBQUN0cEIsSUFBSSxDQUFDO01BQ2hEeXNCLFlBQVksR0FBRyxJQUFJblgsMkJBQTJCLENBQUMyWCxVQUFVLEVBQUUzRCxPQUFPLENBQUMvbEIsUUFBUSxFQUFFLElBQUksQ0FBQ2tULE1BQU0sRUFBRXNXLGFBQWEsQ0FBQztNQUN4RyxNQUFNalgsWUFBWSxHQUFHMlcsWUFBWSxDQUFDcmIsTUFBTSxDQUFDc0IsTUFBTSxDQUFDO01BQ2hEb0QsWUFBWSxDQUFDb1gsaUJBQWlCLENBQUM5VyxhQUFhLENBQUMsQ0FBQztNQUM5Q21XLGdCQUFnQixHQUFHLElBQUludkIsU0FBUyxDQUFDMFksWUFBWSxDQUFDO01BQzlDLElBQUl3VCxPQUFPLENBQUM2RCwwQkFBMEIsSUFBSTdELE9BQU8sQ0FBQ3JYLE9BQU8sRUFBRTtRQUN2RCxLQUFLLE1BQU03RixHQUFHLElBQUlrZCxPQUFPLENBQUNyWCxPQUFPLEVBQUU7VUFDL0JzYSxnQkFBZ0IsQ0FBQ2x2QixHQUFHLENBQUN6RSxRQUFRLENBQUN3VCxHQUFHLENBQUMsR0FBR2tkLE9BQU8sQ0FBQ3JYLE9BQU8sQ0FBQzdGLEdBQUcsQ0FBQztRQUM3RDtNQUNKO01BQ0EsSUFBSW1nQixnQkFBZ0IsS0FBS3pXLFlBQVksQ0FBQ3hZLFFBQVEsQ0FBQ0MsYUFBYSxFQUFFO1FBQzFEdVksWUFBWSxDQUFDeFksUUFBUSxDQUFDQyxhQUFhLENBQUN3dUIsYUFBYSxHQUFHUSxnQkFBZ0IsQ0FBQzV1QixtQkFBbUI7TUFDNUY7TUFDQTtNQUNBNHVCLGdCQUFnQixDQUFDM3VCLG9CQUFvQixDQUFDLENBQUM7TUFDdkMwckIsT0FBTyxDQUFDdUMsVUFBVSxDQUFDRCxTQUFTLENBQUNXLGdCQUFnQixDQUFDNXVCLG1CQUFtQixFQUFFO1FBQUUsR0FBRzJyQixPQUFPO1FBQUVnQztNQUFjLENBQUMsQ0FBQztJQUNyRyxDQUFDLENBQUM7RUFDTjtFQUNBO0lBQVMsSUFBSSxDQUFDL3JCLElBQUksWUFBQTZ0QiwyQkFBQXh6QixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RjJ4QixrQkFBa0IsRUF2dUc1QjM0QixzREFBRSxDQXV1RzRDbXlCLGtCQUFrQixHQXZ1R2hFbnlCLHNEQUFFLENBdXVHMkVBLGlEQUFTLEdBdnVHdEZBLHNEQUFFLENBdXVHaUdBLHlEQUFpQixHQXZ1R3BIQSxzREFBRSxDQXV1RytIQSxtREFBVztJQUFBLENBQTZDO0VBQUU7RUFDM1I7SUFBUyxJQUFJLENBQUM2TSxLQUFLLGtCQXh1RzZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUF3dUdZNHJCLGtCQUFrQjtNQUFBM3JCLE9BQUEsRUFBbEIyckIsa0JBQWtCLENBQUFoc0I7SUFBQSxFQUFHO0VBQUU7QUFDekk7QUFDQTtFQUFBLFFBQUFPLFNBQUEsb0JBQUFBLFNBQUEsS0ExdUdvR2xOLCtEQUFFLENBMHVHWDI0QixrQkFBa0IsRUFBYyxDQUFDO0lBQ2hIdnJCLElBQUksRUFBRWhOLHFEQUFVQTtFQUNwQixDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVnTixJQUFJLEVBQUUra0I7RUFBbUIsQ0FBQyxFQUFFO0lBQUUva0IsSUFBSSxFQUFFcE4saURBQVNxQztFQUFDLENBQUMsRUFBRTtJQUFFK0ssSUFBSSxFQUFFcE4seURBQWlCYTtFQUFDLENBQUMsRUFBRTtJQUFFdU0sSUFBSSxFQUFFcE4sbURBQVdjO0VBQUMsQ0FBQyxDQUFDO0FBQUE7O0FBRXpJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMyNUIsdUJBQXVCQSxDQUFDQyxhQUFhLEVBQUVoRSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUU7RUFDMUQsTUFBTWlFLEtBQUssR0FBR0QsYUFBYTtFQUMzQixPQUFPLFVBQVVuaEIsTUFBTSxFQUFFcWhCLFdBQVcsRUFBRW5oQixVQUFVLEVBQUU7SUFDOUMsU0FBU29oQixTQUFTQSxDQUFBLEVBQUc7TUFDakIsT0FBT3RoQixNQUFNLENBQUMsYUFBYSxDQUFDO0lBQ2hDO0lBQ0EsSUFBSSxDQUFDQSxNQUFNLENBQUMsYUFBYSxDQUFDLEVBQUU7TUFDeEIsTUFBTXVoQixhQUFhLEdBQUc7UUFDbEJDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDVkMsU0FBUyxFQUFFLENBQUM7TUFDaEIsQ0FBQztNQUNEemhCLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBR3VoQixhQUFhO0lBQ3pDO0lBQ0EsSUFBSSxDQUFDRCxTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxFQUFFO01BQzVCRSxTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxHQUFHO1FBQ3hCTSxJQUFJLEVBQUUsS0FBSztRQUNYQyxNQUFNLEVBQUUsRUFBRTtRQUNWQyxnQkFBZ0IsRUFBRTVoQixNQUFNLENBQUNvaEIsS0FBSztNQUNsQyxDQUFDO01BQ0RwaEIsTUFBTSxDQUFDb2hCLEtBQUssQ0FBQyxHQUFHLFVBQVUsR0FBR3R0QixJQUFJLEVBQUU7UUFDL0IsSUFBSTtVQUNBLElBQUl3dEIsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ1EsZ0JBQWdCLEVBQUU7WUFDNUMsT0FBT04sU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ1EsZ0JBQWdCLENBQUNqUSxLQUFLLENBQUMsSUFBSSxFQUFFN2QsSUFBSSxDQUFDO1VBQ3ZFO1FBQ0osQ0FBQyxTQUNPO1VBQ0p3dEIsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ00sSUFBSSxHQUFHLElBQUk7VUFDckNKLFNBQVMsQ0FBQyxDQUFDLENBQUNFLE1BQU0sQ0FBQ0osS0FBSyxDQUFDLENBQUNPLE1BQU0sQ0FBQ2x6QixPQUFPLENBQUVrUixFQUFFLElBQUtBLEVBQUUsQ0FBQ0EsRUFBRSxDQUFDLENBQUMsQ0FBQztVQUN6RDJoQixTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxDQUFDTyxNQUFNLEdBQUcsRUFBRTtRQUN6QztNQUNKLENBQUM7SUFDTDtJQUNBLElBQUl4RSxPQUFPLENBQUMwRSxlQUFlLEVBQUU7TUFDekJQLFNBQVMsQ0FBQyxDQUFDLENBQUNHLFNBQVMsQ0FBQ0osV0FBVyxDQUFDLEdBQUdyaEIsTUFBTSxDQUFDbWQsT0FBTyxDQUFDMEUsZUFBZSxDQUFDO01BQ3BFN2hCLE1BQU0sQ0FBRSxHQUFFbWQsT0FBTyxDQUFDMEUsZUFBZ0IsRUFBQyxDQUFDLEdBQUcsVUFBVSxHQUFHL3RCLElBQUksRUFBRTtRQUN0RHd0QixTQUFTLENBQUMsQ0FBQyxDQUNORSxNQUFNLENBQUNKLEtBQUssQ0FBQyxDQUFDTyxNQUFNLENBQUMxM0IsTUFBTSxDQUFFc0gsQ0FBQyxJQUFLQSxDQUFDLENBQUMwTyxHQUFHLEtBQUtvaEIsV0FBVyxDQUFDLENBQ3pENXlCLE9BQU8sQ0FBRWtSLEVBQUUsSUFBS0EsRUFBRSxDQUFDQSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdCMmhCLFNBQVMsQ0FBQyxDQUFDLENBQUNFLE1BQU0sQ0FBQ0osS0FBSyxDQUFDLENBQUNPLE1BQU0sR0FBR0wsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ08sTUFBTSxDQUFDMTNCLE1BQU0sQ0FBRXNILENBQUMsSUFBS0EsQ0FBQyxDQUFDME8sR0FBRyxLQUFLb2hCLFdBQVcsQ0FBQztRQUN4R0MsU0FBUyxDQUFDLENBQUMsQ0FBQ0csU0FBUyxDQUFDSixXQUFXLENBQUM7UUFDbEMsSUFBSUMsU0FBUyxDQUFDLENBQUMsQ0FBQ0csU0FBUyxDQUFDSixXQUFXLENBQUMsRUFBRTtVQUNwQyxPQUFPQyxTQUFTLENBQUMsQ0FBQyxDQUFDRyxTQUFTLENBQUNKLFdBQVcsQ0FBQyxDQUFDMVAsS0FBSyxDQUFDLElBQUksRUFBRTdkLElBQUksQ0FBQztRQUMvRDtNQUNKLENBQUM7SUFDTDtJQUNBLE1BQU1ndUIsS0FBSyxHQUFHNWhCLFVBQVUsQ0FBQ2hULEtBQUs7SUFDOUJnVCxVQUFVLENBQUNoVCxLQUFLLEdBQUcsVUFBVSxHQUFHNEcsSUFBSSxFQUFFO01BQ2xDLElBQUl3dEIsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ00sSUFBSSxFQUFFO1FBQ2hDLE9BQU9JLEtBQUssQ0FBQ25RLEtBQUssQ0FBQyxJQUFJLEVBQUU3ZCxJQUFJLENBQUM7TUFDbEM7TUFDQSxJQUFJaXVCLFVBQVUsR0FBRyxJQUFJO01BQ3JCLElBQUk1RSxPQUFPLENBQUM2RSxTQUFTLElBQUk3RSxPQUFPLENBQUM4RSxRQUFRLEVBQUU7UUFDdkMsS0FBSyxJQUFJbGxCLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR3VrQixTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxDQUFDTyxNQUFNLENBQUN6cEIsTUFBTSxFQUFFNkUsQ0FBQyxFQUFFLEVBQUU7VUFDOUQsSUFBSXVrQixTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxDQUFDTyxNQUFNLENBQUM1a0IsQ0FBQyxDQUFDLENBQUNrRCxHQUFHLEtBQUtvaEIsV0FBVyxFQUFFO1lBQ3pELElBQUlsRSxPQUFPLENBQUM2RSxTQUFTLEVBQUU7Y0FDbkJELFVBQVUsR0FBRyxLQUFLO2NBQ2xCO1lBQ0o7WUFDQSxJQUFJNUUsT0FBTyxDQUFDOEUsUUFBUSxFQUFFO2NBQ2xCWCxTQUFTLENBQUMsQ0FBQyxDQUFDRSxNQUFNLENBQUNKLEtBQUssQ0FBQyxDQUFDTyxNQUFNLENBQUMvcUIsTUFBTSxDQUFDbUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztjQUM3QztZQUNKO1VBQ0o7UUFDSjtNQUNKO01BQ0EsSUFBSWdsQixVQUFVLEVBQUU7UUFDWlQsU0FBUyxDQUFDLENBQUMsQ0FBQ0UsTUFBTSxDQUFDSixLQUFLLENBQUMsQ0FBQ08sTUFBTSxDQUFDdHpCLElBQUksQ0FBQztVQUNsQzRSLEdBQUcsRUFBRW9oQixXQUFXO1VBQ2hCMWhCLEVBQUUsRUFBRW1pQixLQUFLLENBQUMxaEIsSUFBSSxDQUFDLElBQUksRUFBRXRNLElBQUk7UUFDN0IsQ0FBQyxDQUFDO01BQ047SUFDSixDQUFDO0VBQ0wsQ0FBQztBQUNMO0FBRUEsTUFBTW91QixnQkFBZ0IsQ0FBQztFQUNuQixJQUFJQyxhQUFhQSxDQUFBLEVBQUc7SUFDaEIsT0FBTyxJQUFJLENBQUNDLGNBQWM7RUFDOUI7RUFDQSxJQUFJRCxhQUFhQSxDQUFDajFCLEtBQUssRUFBRTtJQUNyQixJQUFJLENBQUNrMUIsY0FBYyxHQUFHbDFCLEtBQUs7SUFDM0IsSUFBSSxJQUFJLENBQUNtMUIsZUFBZSxFQUFFO01BQ3RCLElBQUksQ0FBQ0MsT0FBTyxDQUFDSCxhQUFhLEdBQUcsSUFBSSxDQUFDQyxjQUFjO0lBQ3BEO0VBQ0o7RUFDQTExQixXQUFXQSxDQUFDbUMsT0FBTyxFQUFFO0lBQ2pCLElBQUksQ0FBQ3l6QixPQUFPLEdBQUd6ekIsT0FBTyxDQUFDdUMsYUFBYTtFQUN4QztFQUNBMmMsZUFBZUEsQ0FBQSxFQUFHO0lBQ2QsSUFBSSxDQUFDc1UsZUFBZSxHQUFHLElBQUk7SUFDM0IsSUFBSXR1QixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNjLFdBQVcsQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUN1dEIsY0FBYyxDQUFDO0lBQ2hGO0lBQ0EsSUFBSSxDQUFDbFQsT0FBTyxDQUFDLElBQUksQ0FBQ2tULGNBQWMsQ0FBQyxFQUFFO01BQy9CLElBQUksQ0FBQ0UsT0FBTyxDQUFDSCxhQUFhLEdBQUcsSUFBSSxDQUFDQyxjQUFjO0lBQ3BEO0VBQ0o7RUFDQTtJQUFTLElBQUksQ0FBQ2h2QixJQUFJLFlBQUFtdkIseUJBQUE5MEIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Z5MEIsZ0JBQWdCLEVBcjFHMUJ6N0IsK0RBQUUsQ0FxMUcwQ0EscURBQWE7SUFBQSxDQUE0QztFQUFFO0VBQ3ZNO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBdDFHOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUFzMUdKcXVCLGdCQUFnQjtNQUFBL2EsU0FBQTtNQUFBcUIsTUFBQTtRQUFBMlosYUFBQTtNQUFBO0lBQUEsRUFBa0Y7RUFBRTtBQUN0TTtBQUNBO0VBQUEsUUFBQXh1QixTQUFBLG9CQUFBQSxTQUFBLEtBeDFHb0dsTiwrREFBRSxDQXcxR1h5N0IsZ0JBQWdCLEVBQWMsQ0FBQztJQUM5R3J1QixJQUFJLEVBQUU1TSxvREFBUztJQUNmNk0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSxTQUFTLENBQUU7SUFDekIsQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRTFULElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQyxFQUFrQjtJQUFFbTdCLGFBQWEsRUFBRSxDQUFDO01BQy9FdHVCLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUM7RUFBRSxDQUFDO0FBQUE7QUFDaEIsTUFBTTY2QixvQkFBb0IsQ0FBQztFQUN2QjkxQixXQUFXQSxDQUFDKzFCLEtBQUssRUFBRTFjLFdBQVcsRUFBRWlFLGFBQWEsRUFBRTtJQUMzQyxJQUFJLENBQUN5WSxLQUFLLEdBQUdBLEtBQUs7SUFDbEIsSUFBSSxDQUFDMWMsV0FBVyxHQUFHQSxXQUFXO0lBQzlCLElBQUksQ0FBQ2lFLGFBQWEsR0FBR0EsYUFBYTtFQUN0QztFQUNBLElBQUkwWSxNQUFNQSxDQUFDQSxNQUFNLEVBQUU7SUFDZixJQUFJLENBQUMsSUFBSSxDQUFDQyxPQUFPLElBQUksSUFBSSxDQUFDQSxPQUFPLENBQUNDLFVBQVUsS0FBS0YsTUFBTSxDQUFDRSxVQUFVLElBQUksSUFBSSxDQUFDRCxPQUFPLENBQUN6SSxLQUFLLEtBQUt3SSxNQUFNLENBQUN4SSxLQUFLLElBQUksSUFBSSxDQUFDeUksT0FBTyxDQUFDRSxhQUFhLEtBQUtILE1BQU0sQ0FBQ0csYUFBYSxFQUFFO01BQzlKLElBQUksQ0FBQ0YsT0FBTyxHQUFHRCxNQUFNO01BQ3JCLElBQUksQ0FBQ0ksV0FBVyxDQUFDLENBQUM7SUFDdEI7RUFDSjtFQUNBLElBQUlKLE1BQU1BLENBQUEsRUFBRztJQUNUO0lBQ0EsT0FBTyxJQUFJLENBQUNDLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFDN0I7RUFDQSxJQUFJekksS0FBS0EsQ0FBQ0EsS0FBSyxFQUFFO0lBQ2IsSUFBSSxDQUFDd0ksTUFBTSxHQUFHM3hCLE1BQU0sQ0FBQ2d5QixNQUFNLENBQUMsSUFBSSxDQUFDTCxNQUFNLEVBQUU7TUFBRXhJO0lBQU0sQ0FBQyxDQUFDO0VBQ3ZEO0VBQ0EsSUFBSUEsS0FBS0EsQ0FBQSxFQUFHO0lBQ1IsT0FBTyxJQUFJLENBQUN3SSxNQUFNLENBQUN4SSxLQUFLO0VBQzVCO0VBQ0EsSUFBSTBJLFVBQVVBLENBQUNBLFVBQVUsRUFBRTtJQUN2QixJQUFJLENBQUNGLE1BQU0sR0FBRzN4QixNQUFNLENBQUNneUIsTUFBTSxDQUFDLElBQUksQ0FBQ0wsTUFBTSxFQUFFO01BQUVFO0lBQVcsQ0FBQyxDQUFDO0VBQzVEO0VBQ0EsSUFBSUEsVUFBVUEsQ0FBQSxFQUFHO0lBQ2IsT0FBTyxJQUFJLENBQUNGLE1BQU0sQ0FBQ0UsVUFBVTtFQUNqQztFQUNBLElBQUlDLGFBQWFBLENBQUNBLGFBQWEsRUFBRTtJQUM3QixJQUFJLENBQUNILE1BQU0sR0FBRzN4QixNQUFNLENBQUNneUIsTUFBTSxDQUFDLElBQUksQ0FBQ0wsTUFBTSxFQUFFO01BQUVHO0lBQWMsQ0FBQyxDQUFDO0VBQy9EO0VBQ0EsSUFBSUEsYUFBYUEsQ0FBQSxFQUFHO0lBQ2hCLE9BQU8sSUFBSSxDQUFDSCxNQUFNLENBQUNHLGFBQWE7RUFDcEM7RUFDQUcsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsSUFBSSxDQUFDLElBQUksQ0FBQ2xsQixJQUFJLEVBQUU7TUFDWixJQUFJLENBQUNBLElBQUksR0FBRyxJQUFJblksNERBQVcsQ0FBQyxDQUFDO0lBQ2pDO0VBQ0o7RUFDQW05QixXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUNFLFVBQVUsQ0FBQyxDQUFDO0lBQ2pCLElBQUksSUFBSSxDQUFDTixNQUFNLENBQUN4SSxLQUFLLEVBQUU7TUFDbkIsSUFBSSxDQUFDcGMsSUFBSSxDQUFDb2MsS0FBSyxHQUFHLElBQUksQ0FBQ3dJLE1BQU0sQ0FBQ3hJLEtBQUs7SUFDdkM7SUFDQSxJQUFJLElBQUksQ0FBQ3dJLE1BQU0sQ0FBQ0UsVUFBVSxFQUFFO01BQ3hCLElBQUksQ0FBQzlrQixJQUFJLENBQUM4a0IsVUFBVSxHQUFHLElBQUksQ0FBQ0YsTUFBTSxDQUFDRSxVQUFVO0lBQ2pEO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDRixNQUFNLENBQUNHLGFBQWEsRUFBRTtNQUMzQixJQUFJLENBQUMva0IsSUFBSSxDQUFDK2tCLGFBQWEsR0FBRyxJQUFJLENBQUNILE1BQU0sQ0FBQ0csYUFBYTtJQUN2RDtFQUNKO0VBQ0E3YSxRQUFRQSxDQUFBLEVBQUc7SUFDUCxJQUFJLENBQUM4YSxXQUFXLENBQUMsQ0FBQztJQUNsQixNQUFNMWEsT0FBTyxHQUFHLElBQUksQ0FBQzRCLGFBQWEsQ0FBQzNCLGtCQUFrQixDQUFDLElBQUksQ0FBQ3RDLFdBQVcsQ0FBQztJQUN2RTtJQUNBLE1BQU1rZCxTQUFTLEdBQUc3YSxPQUFPLENBQUMvVyxTQUFTLENBQUNwSCxNQUFNLENBQUVzRixJQUFJLElBQUssRUFBRUEsSUFBSSxZQUFZM0MsYUFBYSxDQUFDLENBQUM7SUFDdEYsSUFBSXEyQixTQUFTLENBQUMvcUIsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUN0QixJQUFJLENBQUM0RixJQUFJLENBQUMvTyxJQUFJLEdBQUdrMEIsU0FBUyxDQUFDLENBQUMsQ0FBQztNQUM3QixNQUFNQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUNULEtBQUssQ0FBQ0gsT0FBTyxDQUFDemtCLEtBQUssSUFBSSxFQUFFLEVBQUU2ZSxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUM1ZSxJQUFJLENBQUMsQ0FBQztNQUNyRSxJQUFJLENBQUMya0IsS0FBSyxDQUFDSCxPQUFPLENBQUN6a0IsS0FBSyxHQUFHcWxCLFFBQVE7SUFDdkM7RUFDSjtFQUNBO0lBQVMsSUFBSSxDQUFDOXZCLElBQUksWUFBQSt2Qiw2QkFBQTExQixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RiswQixvQkFBb0IsRUFoNkc5Qi83QiwrREFBRSxDQWc2RzhDeTdCLGdCQUFnQixHQWg2R2hFejdCLCtEQUFFLENBZzZHMkVBLHNEQUFjLEdBaDZHM0ZBLCtEQUFFLENBZzZHc0dBLDJEQUFtQjtJQUFBLENBQTRDO0VBQUU7RUFDelE7SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkFqNkc4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQWk2R0oydUIsb0JBQW9CO01BQUFyYixTQUFBO01BQUFxQixNQUFBO1FBQUFrYSxNQUFBLEdBajZHbEJqOEIsMERBQUUsQ0FBQXdhLElBQUE7UUFBQWlaLEtBQUE7UUFBQTBJLFVBQUE7UUFBQUMsYUFBQTtNQUFBO0lBQUEsRUFpNkc2SztFQUFFO0FBQ3JSO0FBQ0E7RUFBQSxRQUFBbHZCLFNBQUEsb0JBQUFBLFNBQUEsS0FuNkdvR2xOLCtEQUFFLENBbTZHWCs3QixvQkFBb0IsRUFBYyxDQUFDO0lBQ2xIM3VCLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLFdBQVcsQ0FBRTtJQUMzQixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFMVQsSUFBSSxFQUFFcXVCO0VBQWlCLENBQUMsRUFBRTtJQUFFcnVCLElBQUksRUFBRXBOLHNEQUFjdUI7RUFBQyxDQUFDLEVBQUU7SUFBRTZMLElBQUksRUFBRXBOLDJEQUFtQmU7RUFBQyxDQUFDLENBQUMsRUFBa0I7SUFBRWs3QixNQUFNLEVBQUUsQ0FBQztNQUNwSTd1QixJQUFJLEVBQUVsTSxnREFBSztNQUNYbU0sSUFBSSxFQUFFLENBQUMsU0FBUztJQUNwQixDQUFDLENBQUM7SUFBRW9tQixLQUFLLEVBQUUsQ0FBQztNQUNScm1CLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFaTdCLFVBQVUsRUFBRSxDQUFDO01BQ2IvdUIsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUVrN0IsYUFBYSxFQUFFLENBQUM7TUFDaEJodkIsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQztFQUFFLENBQUM7QUFBQTs7QUFFaEI7QUFDQSxNQUFNeTdCLHNCQUFzQixDQUFDO0VBQ3pCMTJCLFdBQVdBLENBQUM4RCxNQUFNLEVBQUU7SUFDaEIsSUFBSSxDQUFDNnlCLElBQUksR0FBRzd5QixNQUFNLENBQUNJLEVBQUUsS0FBSzdOLDZEQUFhLENBQUM4TixPQUFPO0VBQ25EO0VBQ0E7SUFBUyxJQUFJLENBQUN1QyxJQUFJLFlBQUFrd0IsK0JBQUE3MUIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0YyMUIsc0JBQXNCLEVBeDdHaEMzOEIsK0RBQUUsQ0F3N0dnRDBKLE1BQU07SUFBQSxDQUE0QztFQUFFO0VBQ3RNO0lBQVMsSUFBSSxDQUFDbWIsSUFBSSxrQkF6N0c4RTdrQiwrREFBRTtNQUFBb04sSUFBQSxFQXk3R0p1dkIsc0JBQXNCO01BQUFqYyxTQUFBO01BQUE0RSxrQkFBQSxFQUFBL2YsR0FBQTtNQUFBZ2dCLEtBQUE7TUFBQUMsSUFBQTtNQUFBQyxNQUFBO01BQUFyRyxRQUFBLFdBQUEwZCxnQ0FBQXAzQixFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBejdHcEIxRiw2REFBRTtVQUFGQSx3REFBRSxJQUFBeUYsNENBQUEsdUJBeTdHdUcsQ0FBQztRQUFBO1FBQUEsSUFBQUMsRUFBQTtVQXo3RzFHMUYsd0RBQUUsU0FBQTJGLEdBQUEsQ0FBQWkzQixJQXk3R3dGLENBQUM7UUFBQTtNQUFBO01BQUFLLFlBQUEsR0FBNEVqNkIsa0RBQVM7TUFBQW9YLGFBQUE7SUFBQSxFQUFvRTtFQUFFO0FBQzFWO0FBQ0E7RUFBQSxRQUFBbE4sU0FBQSxvQkFBQUEsU0FBQSxLQTM3R29HbE4sK0RBQUUsQ0EyN0dYMjhCLHNCQUFzQixFQUFjLENBQUM7SUFDcEh2dkIsSUFBSSxFQUFFcE0sb0RBQVM7SUFDZnFNLElBQUksRUFBRSxDQUFDO01BQ0N5VCxRQUFRLEVBQUUsU0FBUztNQUNuQjFCLFFBQVEsRUFBRztJQUNmLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVoUyxJQUFJLEVBQUU3QixTQUFTO0lBQUVzYixVQUFVLEVBQUUsQ0FBQztNQUMvQ3paLElBQUksRUFBRWxOLGlEQUFNO01BQ1ptTixJQUFJLEVBQUUsQ0FBQzNELE1BQU07SUFDakIsQ0FBQztFQUFFLENBQUMsQ0FBQztBQUFBOztBQUVyQjtBQUNBLE1BQU15ekIsa0JBQWtCLENBQUM7RUFDckJsM0IsV0FBV0EsQ0FBQzhELE1BQU0sRUFBRTtJQUNoQixJQUFJLENBQUM2eUIsSUFBSSxHQUFHN3lCLE1BQU0sQ0FBQ0ksRUFBRSxLQUFLN04sNkRBQWEsQ0FBQytOLEdBQUc7RUFDL0M7RUFDQTtJQUFTLElBQUksQ0FBQ3NDLElBQUksWUFBQXl3QiwyQkFBQXAyQixDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3Rm0yQixrQkFBa0IsRUEzOEc1Qm45QiwrREFBRSxDQTI4RzRDMEosTUFBTTtJQUFBLENBQTRDO0VBQUU7RUFDbE07SUFBUyxJQUFJLENBQUNtYixJQUFJLGtCQTU4RzhFN2tCLCtEQUFFO01BQUFvTixJQUFBLEVBNDhHSit2QixrQkFBa0I7TUFBQXpjLFNBQUE7TUFBQTRFLGtCQUFBLEVBQUEvZixHQUFBO01BQUFnZ0IsS0FBQTtNQUFBQyxJQUFBO01BQUFDLE1BQUE7TUFBQXJHLFFBQUEsV0FBQWllLDRCQUFBMzNCLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUE1OEdoQjFGLDZEQUFFO1VBQUZBLHdEQUFFLElBQUE2Rix3Q0FBQSx1QkE0OEcrRixDQUFDO1FBQUE7UUFBQSxJQUFBSCxFQUFBO1VBNThHbEcxRix3REFBRSxTQUFBMkYsR0FBQSxDQUFBaTNCLElBNDhHZ0YsQ0FBQztRQUFBO01BQUE7TUFBQUssWUFBQSxHQUE0RWo2QixrREFBUztNQUFBb1gsYUFBQTtJQUFBLEVBQW9FO0VBQUU7QUFDbFY7QUFDQTtFQUFBLFFBQUFsTixTQUFBLG9CQUFBQSxTQUFBLEtBOThHb0dsTiwrREFBRSxDQTg4R1htOUIsa0JBQWtCLEVBQWMsQ0FBQztJQUNoSC92QixJQUFJLEVBQUVwTSxvREFBUztJQUNmcU0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSxLQUFLO01BQ2YxQixRQUFRLEVBQUc7SUFDZixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFaFMsSUFBSSxFQUFFN0IsU0FBUztJQUFFc2IsVUFBVSxFQUFFLENBQUM7TUFDL0N6WixJQUFJLEVBQUVsTixpREFBTTtNQUNabU4sSUFBSSxFQUFFLENBQUMzRCxNQUFNO0lBQ2pCLENBQUM7RUFBRSxDQUFDLENBQUM7QUFBQTs7QUFFckI7QUFDQSxNQUFNNHpCLHVCQUF1QixDQUFDO0VBQzFCcjNCLFdBQVdBLENBQUM4RCxNQUFNLEVBQUU7SUFDaEI7SUFDQTtJQUNBLElBQUksQ0FBQzZ5QixJQUFJLEdBQUc3eUIsTUFBTSxDQUFDSSxFQUFFLEtBQUs3Tiw2REFBYSxDQUFDaWhDLFFBQVE7RUFDcEQ7RUFDQTtJQUFTLElBQUksQ0FBQzV3QixJQUFJLFlBQUE2d0IsZ0NBQUF4MkIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZzMkIsdUJBQXVCLEVBaCtHakN0OUIsK0RBQUUsQ0FnK0dpRDBKLE1BQU07SUFBQSxDQUE0QztFQUFFO0VBQ3ZNO0lBQVMsSUFBSSxDQUFDbWIsSUFBSSxrQkFqK0c4RTdrQiwrREFBRTtNQUFBb04sSUFBQSxFQWkrR0prd0IsdUJBQXVCO01BQUE1YyxTQUFBO01BQUE0RSxrQkFBQSxFQUFBL2YsR0FBQTtNQUFBZ2dCLEtBQUE7TUFBQUMsSUFBQTtNQUFBQyxNQUFBO01BQUFyRyxRQUFBLFdBQUFxZSxpQ0FBQS8zQixFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBaitHckIxRiw2REFBRTtVQUFGQSx3REFBRSxJQUFBOEYsNkNBQUEsdUJBaStHeUcsQ0FBQztRQUFBO1FBQUEsSUFBQUosRUFBQTtVQWorRzVHMUYsd0RBQUUsU0FBQTJGLEdBQUEsQ0FBQWkzQixJQWkrRzBGLENBQUM7UUFBQTtNQUFBO01BQUFLLFlBQUEsR0FBNEVqNkIsa0RBQVM7TUFBQW9YLGFBQUE7SUFBQSxFQUFvRTtFQUFFO0FBQzVWO0FBQ0E7RUFBQSxRQUFBbE4sU0FBQSxvQkFBQUEsU0FBQSxLQW4rR29HbE4sK0RBQUUsQ0FtK0dYczlCLHVCQUF1QixFQUFjLENBQUM7SUFDckhsd0IsSUFBSSxFQUFFcE0sb0RBQVM7SUFDZnFNLElBQUksRUFBRSxDQUFDO01BQ0N5VCxRQUFRLEVBQUUsVUFBVTtNQUNwQjFCLFFBQVEsRUFBRztJQUNmLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVoUyxJQUFJLEVBQUU3QixTQUFTO0lBQUVzYixVQUFVLEVBQUUsQ0FBQztNQUMvQ3paLElBQUksRUFBRWxOLGlEQUFNO01BQ1ptTixJQUFJLEVBQUUsQ0FBQzNELE1BQU07SUFDakIsQ0FBQztFQUFFLENBQUMsQ0FBQztBQUFBO0FBRXJCLE1BQU1nMEIsY0FBYyxHQUFHLENBQUNoVSxrQkFBa0IsRUFBRUssY0FBYyxFQUFFUyxtQkFBbUIsRUFBRUcseUJBQXlCLEVBQUU2QixpQkFBaUIsRUFBRWlELG9CQUFvQixFQUFFZ00sZ0JBQWdCLEVBQUVNLG9CQUFvQixFQUFFWSxzQkFBc0IsRUFBRVEsa0JBQWtCLEVBQUVHLHVCQUF1QixDQUFDO0FBQ2pReHJCLGtDQUFrQyxDQUFDLENBQUM7QUFDcEMsTUFBTTZyQix3QkFBd0IsQ0FBQztFQUMzQjtJQUFTLElBQUksQ0FBQ2h4QixJQUFJLFlBQUFpeEIsaUNBQUE1MkIsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0YyMkIsd0JBQXdCO0lBQUEsQ0FBa0Q7RUFBRTtFQUN0TDtJQUFTLElBQUksQ0FBQ3ZiLElBQUksa0JBbC9HOEVwaUIsOERBQUU7TUFBQW9OLElBQUEsRUFrL0dTdXdCO0lBQXdCLEVBQTJqQjtFQUFFO0VBQ2hzQjtJQUFTLElBQUksQ0FBQ3JiLElBQUksa0JBbi9HOEV0aUIsOERBQUU7TUFBQThuQixTQUFBLEVBbS9HOEMsQ0FBQzZRLGtCQUFrQixDQUFDO01BQUFrRixPQUFBLEdBQVkxNkIsMERBQVksRUFBRWtsQixlQUFlLEVBQUVsbEIsMERBQVksRUFBRWtsQixlQUFlO0lBQUEsRUFBSTtFQUFFO0FBQ3RQO0FBQ0E7RUFBQSxRQUFBbmIsU0FBQSxvQkFBQUEsU0FBQSxLQXIvR29HbE4sK0RBQUUsQ0FxL0dYMjlCLHdCQUF3QixFQUFjLENBQUM7SUFDdEh2d0IsSUFBSSxFQUFFek0sbURBQVE7SUFDZDBNLElBQUksRUFBRSxDQUFDO01BQ0N3d0IsT0FBTyxFQUFFLENBQUMxNkIsMERBQVksRUFBRWtsQixlQUFlLENBQUM7TUFDeEM1RixZQUFZLEVBQUUsQ0FBQyxHQUFHaWIsY0FBYyxDQUFDO01BQ2pDbGIsT0FBTyxFQUFFLENBQUNyZiwwREFBWSxFQUFFa2xCLGVBQWUsRUFBRSxHQUFHcVYsY0FBYyxDQUFDO01BQzNENVYsU0FBUyxFQUFFLENBQUM2USxrQkFBa0IsQ0FBQztNQUMvQm1GLE9BQU8sRUFBRSxDQUFDbDhCLDJEQUFnQjtJQUM5QixDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7QUFFVixTQUFTbThCLHdCQUF3QkEsQ0FBQ0MsY0FBYyxFQUFFO0VBQzlDLElBQUlBLGNBQWMsRUFBRTtJQUNoQixPQUFPQSxjQUFjO0VBQ3pCO0VBQ0EsT0FBTyxJQUFJL3lCLFdBQVcsQ0FBQyxJQUFJOUwsc0RBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM5QztBQUNBLFNBQVM4K0IsWUFBWUEsQ0FBQSxFQUFHO0VBQ3BCLE9BQU8sSUFBSXA4Qix1REFBWSxDQUFDLENBQUM7QUFDN0I7QUFDQSxTQUFTcThCLGdCQUFnQkEsQ0FBQSxFQUFHO0VBQ3hCLE9BQVEsR0FBRUMsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBRSxFQUFDLEdBQUcsR0FBRyxHQUFHQyxJQUFJLENBQUNDLE1BQU0sQ0FBQyxDQUFDLENBQUNoNEIsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDaTRCLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzFFO0FBQ0EsTUFBTUMsb0NBQW9DLEdBQUcsQ0FDekM7RUFBRS9XLE9BQU8sRUFBRXBlLGFBQWE7RUFBRXFlLFVBQVUsRUFBRXFXLHdCQUF3QjtFQUFFcFcsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJcm5CLG1EQUFRLENBQUMsQ0FBQyxFQUFFLElBQUl3QixtREFBUSxDQUFDLENBQUMsRUFBRXVILGFBQWEsQ0FBQztBQUFFLENBQUMsRUFDekg7RUFBRW9lLE9BQU8sRUFBRTFsQiw2REFBZTtFQUFFcTRCLFFBQVEsRUFBRTtBQUFPLENBQUMsRUFDOUM7RUFBRTNTLE9BQU8sRUFBRTVsQix1REFBWTtFQUFFNmxCLFVBQVUsRUFBRXVXLFlBQVk7RUFBRXRXLElBQUksRUFBRTtBQUFHLENBQUMsRUFDN0Q7RUFBRUYsT0FBTyxFQUFFbFUsUUFBUTtFQUFFa3JCLFFBQVEsRUFBRWxyQixRQUFRO0VBQUVvVSxJQUFJLEVBQUUsQ0FBQ3BkLGlCQUFpQixFQUFFLENBQUMsSUFBSWpLLG1EQUFRLENBQUMsQ0FBQyxFQUFFa0osb0JBQW9CLENBQUM7QUFBRSxDQUFDLEVBQzVHO0VBQ0lpZSxPQUFPLEVBQUU3TiwyQkFBMkI7RUFDcEM2a0IsUUFBUSxFQUFFN2tCLDJCQUEyQjtFQUNyQytOLElBQUksRUFBRSxDQUFDdGUsYUFBYSxFQUFFa0IsaUJBQWlCLEVBQUVqQiwyQkFBMkIsRUFBRSxDQUFDLElBQUloSixtREFBUSxDQUFDLENBQUMsRUFBRWtKLG9CQUFvQixDQUFDO0FBQ2hILENBQUMsRUFDRDtFQUFFaWUsT0FBTyxFQUFFbmUsMkJBQTJCO0VBQUVvZSxVQUFVLEVBQUV3VztBQUFpQixDQUFDLEVBQ3RFO0VBQUV6VyxPQUFPLEVBQUV6bEIsMkRBQWdCO0VBQUVrdEIsV0FBVyxFQUFFdFY7QUFBNEIsQ0FBQyxFQUN2RTtFQUFFNk4sT0FBTyxFQUFFbGQsaUJBQWlCO0VBQUVrMEIsUUFBUSxFQUFFMzBCLHVCQUF1QjtFQUFFNmQsSUFBSSxFQUFFLENBQUNqZSxNQUFNLENBQUM7RUFBRWcxQixLQUFLLEVBQUU7QUFBSyxDQUFDLEVBQzlGO0VBQUVqWCxPQUFPLEVBQUUvZCxNQUFNO0VBQUUwd0IsUUFBUSxFQUFFaDdCLHVEQUFNQTtBQUFDLENBQUMsRUFDckM7RUFBRXFvQixPQUFPLEVBQUV4a0Isd0RBQVU7RUFBRXc3QixRQUFRLEVBQUVydkIsc0JBQXNCO0VBQUV1WSxJQUFJLEVBQUU7QUFBRyxDQUFDLENBQ3RFO0FBQ0QsTUFBTWdYLDZCQUE2QixHQUFHLENBQUM7RUFBRWxYLE9BQU8sRUFBRXJrQiw4REFBZ0I7RUFBRXE3QixRQUFRLEVBQUVwN0Isc0VBQXFCQTtBQUFDLENBQUMsQ0FBQztBQUN0RyxNQUFNdTdCLGtCQUFrQixDQUFDO0VBQ3JCMzRCLFdBQVdBLENBQUM2a0IsWUFBWSxFQUFFO0lBQ3RCLElBQUlBLFlBQVksRUFBRTtNQUNkLE1BQU0sSUFBSWhiLEtBQUssQ0FBRSxvS0FBbUssQ0FBQztJQUN6TDtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUNuRCxJQUFJLFlBQUFreUIsMkJBQUE3M0IsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Y0M0Isa0JBQWtCLEVBbmlINUI1K0Isc0RBQUUsQ0FtaUg0QzQrQixrQkFBa0I7SUFBQSxDQUEyRTtFQUFFO0VBQzdPO0lBQVMsSUFBSSxDQUFDeGMsSUFBSSxrQkFwaUg4RXBpQiw4REFBRTtNQUFBb04sSUFBQSxFQW9pSFN3eEI7SUFBa0IsRUFBbUs7RUFBRTtFQUNsUztJQUFTLElBQUksQ0FBQ3RjLElBQUksa0JBcmlIOEV0aUIsOERBQUU7TUFBQThuQixTQUFBLEVBcWlId0MsQ0FBQyxHQUFHMFcsb0NBQW9DLEVBQUUsR0FBR0csNkJBQTZCLENBQUM7TUFBQWQsT0FBQSxHQUFZNTdCLDREQUFpQixFQUFFMDdCLHdCQUF3QixFQUFFMTdCLDREQUFpQixFQUFFMDdCLHdCQUF3QjtJQUFBLEVBQUk7RUFBRTtBQUNuVTtBQUNBO0VBQUEsUUFBQXp3QixTQUFBLG9CQUFBQSxTQUFBLEtBdmlIb0dsTiwrREFBRSxDQXVpSFg0K0Isa0JBQWtCLEVBQWMsQ0FBQztJQUNoSHh4QixJQUFJLEVBQUV6TSxtREFBUTtJQUNkME0sSUFBSSxFQUFFLENBQUM7TUFDQ3d3QixPQUFPLEVBQUUsQ0FBQzU3Qiw0REFBaUIsRUFBRTA3Qix3QkFBd0IsQ0FBQztNQUN0RGxiLFlBQVksRUFBRSxDQUFDaUIsY0FBYyxDQUFDO01BQzlCb0UsU0FBUyxFQUFFLENBQUMsR0FBRzBXLG9DQUFvQyxFQUFFLEdBQUdHLDZCQUE2QixDQUFDO01BQ3RGbmMsT0FBTyxFQUFFLENBQUN2Z0IsNERBQWlCLEVBQUV5aEIsY0FBYyxFQUFFaWEsd0JBQXdCLENBQUM7TUFDdEVHLE9BQU8sRUFBRSxDQUFDbDhCLDJEQUFnQjtJQUM5QixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFd0wsSUFBSSxFQUFFd3hCLGtCQUFrQjtJQUFFL1gsVUFBVSxFQUFFLENBQUM7TUFDeER6WixJQUFJLEVBQUU5TSxtREFBUUE7SUFDbEIsQ0FBQyxFQUFFO01BQ0M4TSxJQUFJLEVBQUV0TCxtREFBUUE7SUFDbEIsQ0FBQyxFQUFFO01BQ0NzTCxJQUFJLEVBQUVsTixpREFBTTtNQUNabU4sSUFBSSxFQUFFLENBQUN1eEIsa0JBQWtCO0lBQzdCLENBQUM7RUFBRSxDQUFDLENBQUM7QUFBQTtBQUVyQixTQUFTRSxzQkFBc0JBLENBQUN4MkIsSUFBSSxFQUFFO0VBQ2xDQSxJQUFJLENBQUN5MkIsNEJBQTRCLEdBQUcsSUFBSTtBQUM1QztBQUNBLE1BQU1DLG1CQUFtQixHQUFHLElBQUlsN0IsMENBQU8sQ0FBQyxDQUFDO0FBQ3pDLE1BQU1tN0IscUJBQXFCLEdBQUcsSUFBSW43QiwwQ0FBTyxDQUFDLENBQUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsTUFBTW83QixnQkFBZ0IsR0FBR0YsbUJBQW1CLENBQUM3eUIsSUFBSSxDQUFDM0ksdURBQU0sQ0FBRXNILENBQUMsSUFBS0EsQ0FBQyxDQUFDcTBCLFVBQVUsS0FBSyxNQUFNLElBQUlyMEIsQ0FBQyxDQUFDczBCLE1BQU0sS0FBSyxXQUFXLENBQUMsRUFBRTE3QixvREFBRyxDQUFFb0gsQ0FBQyxJQUFLQSxDQUFDLENBQUN1MEIsU0FBUyxDQUFDLENBQUM7QUFDOUk7QUFDQTtBQUNBO0FBQ0EsTUFBTUMsZUFBZSxHQUFHTCxxQkFBcUIsQ0FBQzl5QixJQUFJLENBQUMzSSx1REFBTSxDQUFFc0gsQ0FBQyxJQUFLQSxDQUFDLENBQUNxMEIsVUFBVSxLQUFLLE1BQU0sQ0FBQyxFQUFFejdCLG9EQUFHLENBQUVvSCxDQUFDLEtBQU07RUFBRXV1QixTQUFTLEVBQUV2dUIsQ0FBQyxDQUFDdTBCO0FBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwSSxJQUFJRSxJQUF5QixFQUFFO0VBQzNCQSw4QkFBaUMsQ0FBQyxDQUFDO0VBQ25DeHRCLE1BQU0sQ0FBQzB0QixnQkFBZ0IsR0FBRyxNQUFNO0lBQzVCampDLDREQUFXLENBQUMwOEIsV0FBVyxDQUFDLENBQUMsRUFBRXpnQixpQkFBaUIsQ0FBQyxDQUFDO0lBQzlDO0VBQ0osQ0FBQztBQUNMO0FBQ0EsU0FBU2luQix3QkFBd0JBLENBQUNqMUIsR0FBRyxFQUFFdkUsSUFBSSxFQUFFazVCLE1BQU0sRUFBRTtFQUNqREgscUJBQXFCLENBQUMvMEIsSUFBSSxDQUFDO0lBQ3ZCaTFCLFVBQVUsRUFBRWo1QixJQUFJO0lBQ2hCbTVCLFNBQVMsRUFBRTUwQixHQUFHO0lBQ2QyMEI7RUFDSixDQUFDLENBQUM7QUFDTjtBQUNBLFNBQVNPLFVBQVVBLENBQUNsMUIsR0FBRyxFQUFFdkUsSUFBSSxFQUFFazVCLE1BQU0sRUFBRTtFQUNuQyxJQUFJMzBCLEdBQUcsRUFBRTtJQUNMLElBQUlBLEdBQUcsWUFBWXZJLHNEQUFXLEVBQUU7TUFDNUI4OEIsbUJBQW1CLENBQUM5MEIsSUFBSSxDQUFDO1FBQ3JCaTFCLFVBQVUsRUFBRSxVQUFVO1FBQ3RCRSxTQUFTLEVBQUU1MEIsR0FBRztRQUNkMjBCLE1BQU0sRUFBRWw1QjtNQUNaLENBQUMsQ0FBQztJQUNOO0lBQ0EsSUFBSXVFLEdBQUcsWUFBWXRJLHNEQUFXLElBQUlzSSxHQUFHLFlBQVk1Six5REFBYyxFQUFFO01BQzdEbStCLG1CQUFtQixDQUFDOTBCLElBQUksQ0FBQztRQUNyQmkxQixVQUFVLEVBQUVqNUIsSUFBSTtRQUNoQm01QixTQUFTLEVBQUU1MEIsR0FBRztRQUNkMjBCO01BQ0osQ0FBQyxDQUFDO0lBQ047SUFDQTMwQixHQUFHLENBQUMrUSxPQUFPLENBQUMsQ0FBQztFQUNqQjtBQUNKO0FBQ0EsU0FBU29rQixlQUFlQSxDQUFDMW1CLEVBQUUsRUFBRTtFQUN6QixJQUFJLE9BQU9DLElBQUksS0FBSyxXQUFXLEVBQUU7SUFDN0I7RUFDSjtFQUNBLE1BQU15ZixJQUFJLEdBQUd6ZixJQUFJLENBQUMwbUIsT0FBTztFQUN6QixNQUFNQyxJQUFJLEdBQUdsSCxJQUFJLENBQUNtSCxpQkFBaUIsQ0FBQyxlQUFlLEVBQUU3bUIsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU07SUFDL0Q7RUFBQSxDQUNILEVBQUUsTUFBTTtJQUNMO0VBQUEsQ0FDSCxDQUFDO0VBQ0YsSUFBSTtJQUNBO0lBQ0E0bUIsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQztJQUNiO0lBQ0E7RUFDSixDQUFDLFNBQ087SUFDSnBILElBQUksQ0FBQ3FILFVBQVUsQ0FBQ0gsSUFBSSxDQUFDO0VBQ3pCO0FBQ0o7QUFDQSxTQUFTSSxlQUFlQSxDQUFBLEVBQUc7RUFDdkIsSUFBSUMsVUFBVSxHQUFHLEtBQUs7RUFDdEJQLGVBQWUsQ0FBQyxNQUFNO0lBQ2xCaGxCLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQ3VsQixJQUFJLENBQUMsTUFBT0QsVUFBVSxHQUFHLElBQUssQ0FBQztFQUNyRCxDQUFDLENBQUM7RUFDRixPQUFPQSxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0UsdUJBQXVCQSxDQUFDQyxhQUFhLEVBQUU7RUFDNUMsSUFBSSxPQUFPdnVCLE1BQU0sQ0FBQ3d1QixxQkFBcUIsS0FBSyxVQUFVLEVBQUU7SUFDcEQsT0FBTyxLQUFLO0VBQ2hCO0VBQ0EsSUFBSSxDQUFDRCxhQUFhLEVBQUU7SUFDaEIsT0FBTyxJQUFJO0VBQ2Y7RUFDQSxJQUFJSCxVQUFVLEdBQUcsS0FBSztFQUN0QnZsQixPQUFPLENBQUNDLE9BQU8sQ0FBQyxDQUFDLENBQUN1bEIsSUFBSSxDQUFDLE1BQU9ELFVBQVUsR0FBRyxJQUFLLENBQUM7RUFDakRwdUIsTUFBTSxDQUFDd3VCLHFCQUFxQixDQUFDLENBQUM7RUFDOUIsT0FBT0osVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTSyxnQkFBZ0JBLENBQUN0bkIsRUFBRSxFQUFFK2hCLElBQUksRUFBRTtFQUNoQyxJQUFJLE9BQU85aEIsSUFBSSxLQUFLLFdBQVcsSUFBSSttQixlQUFlLENBQUMsQ0FBQyxFQUFFO0lBQ2xETixlQUFlLENBQUMxbUIsRUFBRSxDQUFDO0lBQ25CK2hCLElBQUksR0FBRyxDQUFDO0lBQ1I7RUFDSjtFQUNBLElBQUlvRix1QkFBdUIsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUMvQm5uQixFQUFFLENBQUMsQ0FBQztJQUNKbkgsTUFBTSxDQUFDd3VCLHFCQUFxQixDQUFDLENBQUM7SUFDOUJ0RixJQUFJLEdBQUcsQ0FBQztJQUNSO0VBQ0o7RUFDQS9oQixFQUFFLENBQUMsQ0FBQztFQUNKLElBQUkraEIsSUFBSSxFQUFFO0lBQ041N0IsK0RBQW9CLENBQUM0N0IsSUFBSSxDQUFDO0VBQzlCO0FBQ0o7QUFDQSxTQUFTeUYscUJBQXFCQSxDQUFDaEssT0FBTyxFQUFFO0VBQ3BDLE9BQU87SUFDSGlLLFlBQVksRUFBRSxDQUFDLEdBQUdoQyw2QkFBNkIsRUFBRSxHQUFHSCxvQ0FBb0MsRUFBRSxJQUFJOUgsT0FBTyxFQUFFNU8sU0FBUyxJQUFJLEVBQUUsQ0FBQztJQUN2SDtFQUNKLENBQUM7QUFDTDtBQUNBLFNBQVM4WSxvQkFBb0JBLENBQUNDLGFBQWEsRUFBRW5LLE9BQU8sRUFBRTtFQUNsRCxPQUFPdDBCLDRFQUEwQixDQUFDO0lBQUV5K0IsYUFBYTtJQUFFLEdBQUdILHFCQUFxQixDQUFDaEssT0FBTztFQUFFLENBQUMsQ0FBQztBQUMzRjtBQUNBLFNBQVNvSyx5QkFBeUJBLENBQUNwSyxPQUFPLEVBQUU7RUFDeEMsSUFBSXFLLGFBQWEsR0FBRyxJQUFJO0VBQ3hCLElBQUlDLGdCQUFnQjtFQUNwQixJQUFJQyxXQUFXLEdBQUcsSUFBSTtFQUN0QixJQUFJQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0VBQ3BCLE1BQU1DLGlCQUFpQixHQUFHQSxDQUFDOUgsU0FBUyxFQUFFK0YsTUFBTSxLQUFLO0lBQzdDLE1BQU1nQyxjQUFjLEdBQUcvSCxTQUFTLENBQUNwYSxRQUFRLENBQUN0WCxHQUFHLENBQUN6RixzREFBVyxDQUFDO0lBQzFELElBQUlrL0IsY0FBYyxLQUFLSCxXQUFXLEVBQUU7TUFDaEM7SUFDSjtJQUNBdEIsVUFBVSxDQUFDc0IsV0FBVyxFQUFFN0IsTUFBTSxDQUFDO0lBQy9CNkIsV0FBVyxHQUFHRyxjQUFjO0lBQzVCSCxXQUFXLENBQUNJLFNBQVMsQ0FBQyxNQUFPSixXQUFXLEdBQUdBLFdBQVcsS0FBS0csY0FBYyxHQUFHLElBQUksR0FBR0gsV0FBWSxDQUFDO0VBQ3BHLENBQUM7RUFDRCxJQUFJSyxlQUFlLEdBQUcsSUFBSTtFQUMxQixJQUFJQyxjQUFjLEdBQUcsSUFBSTtFQUN6QixNQUFNQyxXQUFXLEdBQUkvMkIsR0FBRyxJQUFLO0lBQ3pCLElBQUl5MkIsV0FBVyxLQUFLLENBQUMsQ0FBQyxFQUFFO01BQ3BCO01BQ0E7SUFDSjtJQUNBLElBQUl6MkIsR0FBRyxZQUFZdEksc0RBQVcsSUFBSXNJLEdBQUcsWUFBWTVKLHlEQUFjLEVBQUU7TUFDN0QsSUFBSTRKLEdBQUcsQ0FBQ3dVLFFBQVEsQ0FBQ3RYLEdBQUcsQ0FBQzhCLDBCQUEwQixFQUFFLEtBQUssQ0FBQyxFQUFFO1FBQ3JEO01BQ0o7SUFDSixDQUFDLE1BQ0k7TUFDRCxJQUFJZ0IsR0FBRyxDQUFDLDhCQUE4QixDQUFDLEVBQUU7UUFDckM7TUFDSjtJQUNKO0lBQ0FqTyw0REFBVyxDQUFDMDhCLFdBQVcsQ0FBQyxDQUFDLEVBQUV1SSwyQkFBMkIsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRG4wQixpQkFBaUIsQ0FBQzRCLFlBQVksQ0FBRSxvQkFBbUJveUIsZUFBZSxHQUFHLFlBQVksR0FBRyxRQUFTLGVBQWMsQ0FBQztJQUM1RztJQUNBLElBQUk3MkIsR0FBRyxZQUFZeE8sb0RBQUksRUFBRTtNQUNyQixJQUFJcVIsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7UUFDbENWLGlCQUFpQixDQUFDNEIsWUFBWSxDQUFFLHVCQUFzQnpFLEdBQUksRUFBQyxDQUFDO01BQ2hFO01BQ0EsSUFBSWlzQixPQUFPLENBQUNnTCxRQUFRLEVBQUU7UUFDbEJsbEMsNERBQVcsQ0FBQzZjLEdBQUcsQ0FBQztVQUFFeE4sTUFBTSxFQUFFQSxDQUFBLEtBQU1wQjtRQUFJLENBQUMsQ0FBQztNQUMxQyxDQUFDLE1BQ0ksSUFBSTYyQixlQUFlLEVBQUU7UUFDdEI5a0MsNERBQVcsQ0FBQ29QLGFBQWEsQ0FBQztVQUFFQyxNQUFNLEVBQUVBLENBQUEsS0FBTXBCO1FBQUksQ0FBQyxDQUFDO01BQ3BELENBQUMsTUFDSTtRQUNEODJCLGNBQWMsR0FBRzkyQixHQUFHO01BQ3hCO01BQ0E7SUFDSjtJQUNBLE1BQU1uQyxJQUFJLEdBQUdtQyxHQUFHLENBQUN3VSxRQUFRLENBQUN0WCxHQUFHLENBQUMwQixhQUFhLENBQUM7SUFDNUMsTUFBTXM0QixPQUFPLEdBQUdyNUIsSUFBSSxZQUFZMkMsV0FBVyxHQUFHM0MsSUFBSSxDQUFDYSxPQUFPLEdBQUdiLElBQUk7SUFDakUsSUFBSWdGLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQzRCLFlBQVksQ0FBRSx1QkFBc0J5eUIsT0FBUSxFQUFDLENBQUM7SUFDcEU7SUFDQSxJQUFJakwsT0FBTyxDQUFDZ0wsUUFBUSxFQUFFO01BQ2xCbGxDLDREQUFXLENBQUM2YyxHQUFHLENBQUM7UUFBRXhOLE1BQU0sRUFBRUEsQ0FBQSxLQUFNODFCO01BQVEsQ0FBQyxDQUFDO0lBQzlDLENBQUMsTUFDSSxJQUFJTCxlQUFlLEVBQUU7TUFDdEI5a0MsNERBQVcsQ0FBQ29QLGFBQWEsQ0FBQztRQUFFQyxNQUFNLEVBQUVBLENBQUEsS0FBTTgxQjtNQUFRLENBQUMsQ0FBQztJQUN4RCxDQUFDLE1BQ0k7TUFDREosY0FBYyxHQUFHSSxPQUFPO0lBQzVCO0VBQ0osQ0FBQztFQUNELE1BQU1DLFdBQVcsR0FBSXB6QixLQUFLLElBQUs7SUFDM0IsTUFBTU4sT0FBTyxHQUFHTSxLQUFLLENBQUNOLE9BQU8sR0FBRyxNQUFNLEdBQUdNLEtBQUssQ0FBQ3F6QixLQUFLO0lBQ3BELE1BQU1DLFlBQVksR0FBRyxJQUFJempDLHlEQUFRLENBQUMsQ0FBQztJQUNuQ3lqQyxZQUFZLENBQUNoN0IsSUFBSSxHQUFHb0gsT0FBTztJQUMzQjR6QixZQUFZLENBQUNDLEtBQUssR0FBRyxJQUFJNWlDLHNEQUFLLENBQUMsS0FBSyxDQUFDO0lBQ3JDcWlDLFdBQVcsQ0FBQ00sWUFBWSxDQUFDO0VBQzdCLENBQUM7RUFDRCxNQUFNRSxhQUFhLEdBQUk1QyxNQUFNLElBQUs7SUFDOUIsSUFBSTtNQUNBOEIsV0FBVyxHQUFHL0MsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQztNQUN4QixNQUFNNkQsa0JBQWtCLEdBQUdmLFdBQVc7TUFDdEMsSUFBSWdCLFlBQVksR0FBRyxLQUFLO01BQ3hCLElBQUlDLGVBQWUsR0FBR0EsQ0FBQSxLQUFNO1FBQ3hCWCxXQUFXLENBQUNULGFBQWEsQ0FBQztNQUM5QixDQUFDO01BQ0RQLGdCQUFnQixDQUFDLE1BQU05SixPQUFPLENBQUMwTCxrQkFBa0IsQ0FBQ2hELE1BQU0sQ0FBQyxDQUFDZ0IsSUFBSSxDQUFFMzFCLEdBQUcsSUFBSztRQUNwRSxJQUFJdzNCLGtCQUFrQixLQUFLZixXQUFXLEVBQUU7VUFDcEM7VUFDQTtVQUNBejJCLEdBQUcsQ0FBQytRLE9BQU8sQ0FBQyxDQUFDO1VBQ2I7UUFDSjtRQUNBdWxCLGFBQWEsR0FBR3QyQixHQUFHO1FBQ25CLENBQUNBLEdBQUcsWUFBWTVKLHlEQUFjLEdBQUc0SixHQUFHLENBQUM0M0IsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHNTNCLEdBQUcsRUFBRTQyQixTQUFTLENBQUMsTUFBT04sYUFBYSxHQUFHQSxhQUFhLEtBQUt0MkIsR0FBRyxHQUFHLElBQUksR0FBR3MyQixhQUFjLENBQUM7UUFDeklJLGlCQUFpQixDQUFDMTJCLEdBQUcsRUFBRTIwQixNQUFNLENBQUM7UUFDOUIsTUFBTWtELFFBQVEsR0FBRzczQixHQUFHLENBQUN3VSxRQUFRLENBQUN0WCxHQUFHLENBQUMyQiwyQkFBMkIsQ0FBQztRQUM5RCxDQUFDbUIsR0FBRyxZQUFZNUoseURBQWMsR0FBRzRKLEdBQUcsQ0FBQzQzQixVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUc1M0IsR0FBRyxFQUFFNDJCLFNBQVMsQ0FBQyxNQUFNO1VBQ3RFL2hDLDhFQUF5QixDQUFDZ2pDLFFBQVEsQ0FBQztRQUN2QyxDQUFDLENBQUM7UUFDRkosWUFBWSxHQUFHLElBQUk7UUFDbkJDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pCekMsd0JBQXdCLENBQUNqMUIsR0FBRyxFQUFFLE1BQU0sRUFBRTIwQixNQUFNLENBQUM7UUFDN0M7TUFDSixDQUFDLEVBQUczRixHQUFHLElBQUs7UUFDUnlJLFlBQVksR0FBRyxJQUFJO1FBQ25CNTBCLGlCQUFpQixDQUFDNkIsaUJBQWlCLENBQUUsb0NBQW1Dc3FCLEdBQUcsQ0FBQ3ZyQixPQUFRLE9BQU11ckIsR0FBRyxDQUFDb0ksS0FBTSxFQUFDLENBQUM7UUFDdEdELFdBQVcsQ0FBQ25JLEdBQUcsQ0FBQztRQUNoQixNQUFNQSxHQUFHO01BQ2IsQ0FBQyxDQUFDLEVBQUUsTUFBTTtRQUNOLElBQUl3SSxrQkFBa0IsS0FBS2YsV0FBVyxFQUFFO1VBQ3BDO1FBQ0o7UUFDQSxJQUFJLENBQUNnQixZQUFZLEVBQUU7VUFDZixJQUFJeEwsT0FBTyxDQUFDNkwsYUFBYSxFQUFFO1lBQ3ZCL0IsZ0JBQWdCLENBQUMsTUFBTTlKLE9BQU8sQ0FBQzZMLGFBQWEsQ0FBQ25ELE1BQU0sQ0FBQyxDQUFDZ0IsSUFBSSxDQUFFb0MsVUFBVSxJQUFLO2NBQ3RFLElBQUlQLGtCQUFrQixLQUFLZixXQUFXLEVBQUU7Z0JBQ3BDO2dCQUNBO2dCQUNBc0IsVUFBVSxDQUFDaG5CLE9BQU8sQ0FBQyxDQUFDO2dCQUNwQjtjQUNKO2NBQ0F3bEIsZ0JBQWdCLEdBQUd3QixVQUFVO2NBQzdCLENBQUN4QixnQkFBZ0IsWUFBWW5nQyx5REFBYyxHQUFHbWdDLGdCQUFnQixDQUFDcUIsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHckIsZ0JBQWdCLEVBQUVLLFNBQVMsQ0FBQyxNQUFPTCxnQkFBZ0IsR0FBR0EsZ0JBQWdCLEtBQUt3QixVQUFVLEdBQUcsSUFBSSxHQUFHeEIsZ0JBQWlCLENBQUM7Y0FDaE1HLGlCQUFpQixDQUFDcUIsVUFBVSxFQUFFcEQsTUFBTSxDQUFDO2NBQ3JDLE1BQU1rRCxRQUFRLEdBQUd0QixnQkFBZ0IsQ0FBQy9oQixRQUFRLENBQUN0WCxHQUFHLENBQUMyQiwyQkFBMkIsQ0FBQztjQUMzRSxDQUFDMDNCLGdCQUFnQixZQUFZbmdDLHlEQUFjLEdBQUdtZ0MsZ0JBQWdCLENBQUNxQixVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUdyQixnQkFBZ0IsRUFBRUssU0FBUyxDQUFDLE1BQU07Z0JBQzdHL2hDLDhFQUF5QixDQUFDZ2pDLFFBQVEsQ0FBQztjQUN2QyxDQUFDLENBQUM7Y0FDRmQsV0FBVyxDQUFDZ0IsVUFBVSxDQUFDO2NBQ3ZCTCxlQUFlLEdBQUdBLENBQUEsS0FBTTtnQkFDcEI7Z0JBQ0E5aUMsK0RBQW9CLENBQUMsTUFBTTtrQkFDdkIsTUFBTW9qQyxjQUFjLEdBQUd6QixnQkFBZ0IsQ0FBQy9oQixRQUFRLENBQUN0WCxHQUFHLENBQUNvRSwwQkFBMEIsQ0FBQztrQkFDaEZpMUIsZ0JBQWdCLENBQUMvaEIsUUFBUSxDQUFDdFgsR0FBRyxDQUFDdEYsaURBQU0sQ0FBQyxDQUFDZ1gsR0FBRyxDQUFDLE1BQU07b0JBQzVDb3BCLGNBQWMsQ0FBQy8xQixzQkFBc0IsQ0FBQyxDQUFDO2tCQUMzQyxDQUFDLENBQUM7a0JBQ0YrMUIsY0FBYyxDQUFDeDJCLGVBQWUsQ0FDekJFLElBQUksQ0FBQzNJLHVEQUFNLENBQUU0SSxLQUFLLElBQUtBLEtBQUssQ0FBQyxFQUFFekkscURBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN2QysrQixTQUFTLENBQUMsTUFBTTtvQkFDakIvQyxVQUFVLENBQUNxQixnQkFBZ0IsRUFBRSxTQUFTLEVBQUU1QixNQUFNLENBQUM7b0JBQy9DNEIsZ0JBQWdCLEdBQUcsSUFBSTtvQkFDdkJRLFdBQVcsQ0FBQ1QsYUFBYSxDQUFDO2tCQUM5QixDQUFDLENBQUM7Z0JBQ04sQ0FBQyxDQUFDO2NBQ04sQ0FBQztjQUNEckIsd0JBQXdCLENBQUNzQixnQkFBZ0IsRUFBRSxTQUFTLEVBQUU1QixNQUFNLENBQUM7WUFDakUsQ0FBQyxFQUFHM0YsR0FBRyxJQUFLO2NBQ1Juc0IsaUJBQWlCLENBQUM2QixpQkFBaUIsQ0FBRSx3Q0FBdUNzcUIsR0FBRyxDQUFDdnJCLE9BQVEsT0FBTXVyQixHQUFHLENBQUNvSSxLQUFNLEVBQUMsQ0FBQztjQUMxR0QsV0FBVyxDQUFDbkksR0FBRyxDQUFDO2NBQ2hCLE1BQU1BLEdBQUc7WUFDYixDQUFDLENBQUMsQ0FBQztVQUNQLENBQUMsTUFDSSxJQUFJL0MsT0FBTyxDQUFDaU0sVUFBVSxFQUFFO1lBQ3pCLElBQUlBLFVBQVUsR0FBR2pNLE9BQU8sQ0FBQ2lNLFVBQVUsQ0FBQ3ZELE1BQU0sQ0FBQztZQUMzQ29DLFdBQVcsQ0FBQ21CLFVBQVUsQ0FBQztZQUN2QixJQUFJQSxVQUFVLENBQUNDLGNBQWMsRUFBRTtjQUMzQmozQixVQUFVLENBQUMsTUFBTTtnQkFDYjtnQkFDQWczQixVQUFVLENBQUNDLGNBQWMsQ0FBQyxDQUFDO2NBQy9CLENBQUMsQ0FBQztZQUNOO1lBQ0FULGVBQWUsR0FBR0EsQ0FBQSxLQUFNO2NBQ3BCO2NBQ0E5aUMsK0RBQW9CLENBQUMsTUFBTTtnQkFDdkIsSUFBSXNqQyxVQUFVLENBQUNFLE9BQU8sRUFBRTtrQkFDcEJGLFVBQVUsQ0FDTEUsT0FBTyxDQUFDLENBQUMsQ0FDVEMsS0FBSyxDQUFDLENBQUMsQ0FDUDFDLElBQUksQ0FBQyxNQUFNO29CQUNadUMsVUFBVSxHQUFHLElBQUk7b0JBQ2pCbkIsV0FBVyxDQUFDVCxhQUFhLENBQUM7a0JBQzlCLENBQUMsQ0FBQztnQkFDTixDQUFDLE1BQ0k7a0JBQ0Q0QixVQUFVLEdBQUcsSUFBSTtrQkFDakJuQixXQUFXLENBQUNULGFBQWEsQ0FBQztnQkFDOUI7Y0FDSixDQUFDLENBQUM7WUFDTixDQUFDO1VBQ0wsQ0FBQyxNQUNJO1lBQ0RsdUIsT0FBTyxDQUFDa3dCLElBQUksQ0FBQyxpSEFBaUgsQ0FBQztVQUNuSTtRQUNKO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUNELE9BQU90SixHQUFHLEVBQUU7TUFDUm5zQixpQkFBaUIsQ0FBQzZCLGlCQUFpQixDQUFFLGlDQUFnQ3NxQixHQUFHLENBQUN2ckIsT0FBUSxPQUFNdXJCLEdBQUcsQ0FBQ29JLEtBQU0sRUFBQyxDQUFDO0lBQ3ZHO0VBQ0osQ0FBQztFQUNELE1BQU1tQixlQUFlLEdBQUk1RCxNQUFNLElBQUs7SUFDaENPLFVBQVUsQ0FBQ3NCLFdBQVcsRUFBRTdCLE1BQU0sQ0FBQztJQUMvQjZCLFdBQVcsR0FBRyxJQUFJO0VBQ3RCLENBQUM7RUFDRCxNQUFNZ0Msa0JBQWtCLEdBQUk3RCxNQUFNLElBQUs7SUFDbkM7SUFDQThCLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDaEJ2QixVQUFVLENBQUNxQixnQkFBZ0IsRUFBRSxTQUFTLEVBQUU1QixNQUFNLENBQUM7SUFDL0M0QixnQkFBZ0IsR0FBRyxJQUFJO0lBQ3ZCckIsVUFBVSxDQUFDb0IsYUFBYSxFQUFFLE1BQU0sRUFBRTNCLE1BQU0sQ0FBQztJQUN6QzJCLGFBQWEsR0FBRyxJQUFJO0VBQ3hCLENBQUM7RUFDRCxNQUFNbUMsY0FBYyxHQUFHdmtDLDREQUFPLENBQUMsc0RBQXNELEVBQUcwTyxJQUFJLElBQUs7SUFDN0ZpMEIsZUFBZSxHQUFHLEtBQUs7SUFDdkJVLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFDMUJWLGVBQWUsR0FBRyxJQUFJO0lBQ3RCajBCLElBQUksQ0FBQytMLElBQUksR0FBR21vQixjQUFjLElBQUksSUFBSTtFQUN0QyxDQUFDLENBQUM7RUFDRixNQUFNNEIsWUFBWSxHQUFHeGtDLDREQUFPLENBQUMsb0RBQW9ELEVBQUcwTyxJQUFJLElBQUs7SUFDekY0MUIsa0JBQWtCLENBQUMsU0FBUyxDQUFDO0VBQ2pDLENBQUMsQ0FBQztFQUNGLElBQUlHLG1CQUFtQjtFQUN2QixJQUFJLE9BQU9qcUIsSUFBSSxLQUFLLFdBQVcsSUFBSXBILE1BQU0sQ0FBQ3N4QixtQkFBbUIsRUFBRXRJLE1BQU0sR0FBRzVoQixJQUFJLENBQUNtcUIsVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRTtJQUMxR0YsbUJBQW1CLEdBQUdyeEIsTUFBTSxDQUFDc3hCLG1CQUFtQixDQUFDdEksTUFBTSxDQUFDd0ksZ0JBQWdCO0lBQ3hFeHhCLE1BQU0sQ0FBQ3N4QixtQkFBbUIsQ0FBQ3RJLE1BQU0sQ0FBQ3dJLGdCQUFnQixHQUFHeHhCLE1BQU0sQ0FBQ3N4QixtQkFBbUIsQ0FBQ3RJLE1BQU0sQ0FBQzVoQixJQUFJLENBQUNtcUIsVUFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUM7RUFDL0g7RUFDQSxJQUFJLENBQUM1TSxPQUFPLENBQUNnTCxRQUFRLEVBQUU7SUFDbkJsbEMsNERBQVcsQ0FBQ3NMLEVBQUUsQ0FBQ3RMLDREQUFXLENBQUNnbkMsV0FBVyxFQUFFTixjQUFjLENBQUM7RUFDM0Q7RUFDQTFtQyw0REFBVyxDQUFDc0wsRUFBRSxDQUFDdEwsNERBQVcsQ0FBQ2luQyxTQUFTLEVBQUVOLFlBQVksQ0FBQztFQUNuRCxJQUFJQyxtQkFBbUIsRUFBRTtJQUNyQnJ4QixNQUFNLENBQUNzeEIsbUJBQW1CLENBQUN0SSxNQUFNLENBQUN3SSxnQkFBZ0IsR0FBR0gsbUJBQW1CO0VBQzVFO0VBQ0EsSUFBSTdELElBQXlCLEVBQUU7SUFDM0I7SUFDQXh0QixNQUFNLENBQUMsNkJBQTZCLENBQUMsR0FBRyxNQUFNO01BQzFDaXhCLGVBQWUsQ0FBQyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUNEanhCLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLE1BQU07TUFDekNreEIsa0JBQWtCLENBQUMsV0FBVyxDQUFDO0lBQ25DLENBQUM7SUFDRGx4QixNQUFNLENBQUMsOEJBQThCLENBQUMsR0FBRyxNQUFNO01BQzNDaXdCLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFDOUIsQ0FBQztJQUNEandCLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLE1BQU07TUFDakN2Viw0REFBVyxDQUFDeUwsR0FBRyxDQUFDekwsNERBQVcsQ0FBQ2duQyxXQUFXLEVBQUVOLGNBQWMsQ0FBQztNQUN4RDFtQyw0REFBVyxDQUFDeUwsR0FBRyxDQUFDekwsNERBQVcsQ0FBQ2luQyxTQUFTLEVBQUVOLFlBQVksQ0FBQztNQUNwREYsa0JBQWtCLENBQUMsV0FBVyxDQUFDO01BQy9CRCxlQUFlLENBQUMsV0FBVyxDQUFDO0lBQ2hDLENBQUM7SUFDRGp4QixNQUFNLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDMnhCLHFCQUFxQixHQUFHLEtBQUssS0FBSztNQUNqRVQsa0JBQWtCLENBQUMsV0FBVyxDQUFDO01BQy9CLElBQUlTLHFCQUFxQixFQUFFO1FBQ3ZCVixlQUFlLENBQUMsV0FBVyxDQUFDO01BQ2hDO01BQ0FoQixhQUFhLENBQUMsV0FBVyxDQUFDO0lBQzlCLENBQUM7SUFDRCxJQUFJLENBQUN4bEMsNERBQVcsQ0FBQ21uQyxXQUFXLENBQUMsQ0FBQyxFQUFFO01BQzVCbm5DLDREQUFXLENBQUM2YyxHQUFHLENBQUMsQ0FBQztNQUNqQjtJQUNKO0lBQ0Eyb0IsYUFBYSxDQUFDLFdBQVcsQ0FBQztJQUMxQjtFQUNKO0VBQ0EsSUFBSXRMLE9BQU8sQ0FBQ2dMLFFBQVEsRUFBRTtJQUNsQk0sYUFBYSxDQUFDLFdBQVcsQ0FBQztFQUM5QixDQUFDLE1BQ0k7SUFDRHhsQyw0REFBVyxDQUFDNmMsR0FBRyxDQUFDLENBQUM7RUFDckI7QUFDSjtBQUVBLE1BQU11cUIsNEJBQTRCLFNBQVMxaEMsc0RBQVcsQ0FBQztFQUNuRCtELFdBQVdBLENBQUN3USxRQUFRLEVBQUVrc0IsVUFBVSxFQUFFO0lBQzlCLEtBQUssQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDbHNCLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNrc0IsVUFBVSxHQUFHQSxVQUFVO0VBQ2hDO0VBQ0FrQixzQkFBc0JBLENBQUNDLGFBQWEsRUFBRTtJQUNsQyxJQUFJLENBQUNwTixPQUFPLEdBQUc7TUFDWDBMLGtCQUFrQixFQUFFQSxDQUFBLEtBQU0sSUFBSSxDQUFDM3JCLFFBQVEsQ0FBQ290QixzQkFBc0IsQ0FBQ0MsYUFBYSxDQUFDO01BQzdFbkIsVUFBVSxFQUFFQSxDQUFBLEtBQU0sSUFBSSxDQUFDQTtJQUMzQixDQUFDO0lBQ0Q3Qix5QkFBeUIsQ0FBQyxJQUFJLENBQUNwSyxPQUFPLENBQUM7SUFDdkMsT0FBTyxJQUFJO0VBQ2Y7RUFDQXFOLGVBQWVBLENBQUM1RSxVQUFVLEVBQUU2RSxlQUFlLEVBQUU7SUFDekMsSUFBSSxDQUFDdE4sT0FBTyxHQUFHO01BQ1gwTCxrQkFBa0IsRUFBRUEsQ0FBQSxLQUFNLElBQUksQ0FBQzNyQixRQUFRLENBQUNzdEIsZUFBZSxDQUFDNUUsVUFBVSxFQUFFNkUsZUFBZTtJQUN2RixDQUFDO0lBQ0RsRCx5QkFBeUIsQ0FBQyxJQUFJLENBQUNwSyxPQUFPLENBQUM7SUFDdkMsT0FBTyxJQUFJO0VBQ2Y7RUFDQTJLLFNBQVNBLENBQUM5NUIsUUFBUSxFQUFFO0lBQ2hCLElBQUksQ0FBQ2tQLFFBQVEsQ0FBQzRxQixTQUFTLENBQUM5NUIsUUFBUSxDQUFDO0VBQ3JDO0VBQ0EsSUFBSTBYLFFBQVFBLENBQUEsRUFBRztJQUNYLE9BQU8sSUFBSSxDQUFDeEksUUFBUSxDQUFDd0ksUUFBUTtFQUNqQztFQUNBekQsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sSUFBSSxDQUFDL0UsUUFBUSxDQUFDK0UsT0FBTyxDQUFDLENBQUM7RUFDM0I7RUFDQSxJQUFJeW9CLFNBQVNBLENBQUEsRUFBRztJQUNaLE9BQU8sSUFBSSxDQUFDeHRCLFFBQVEsQ0FBQ3d0QixTQUFTO0VBQ2xDO0FBQ0o7QUFFQSxNQUFNQywwQkFBMEIsR0FBRztFQUFFemMsT0FBTyxFQUFFOWQsWUFBWTtFQUFFeXdCLFFBQVEsRUFBRXh3QjtBQUFtQixDQUFDO0FBQzFGLE1BQU11NkIscUJBQXFCLFNBQVM3aEMsb0RBQVMsQ0FBQztFQUMxQzhoQyxRQUFRQSxDQUFDQyxRQUFRLEVBQUU1OUIsS0FBSyxFQUFFO0lBQ3RCLE9BQU9BLEtBQUs7RUFDaEI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTY5QixvQkFBb0IsQ0FBQztFQUN2QnIrQixXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBLElBQUksQ0FBQ3MrQixJQUFJLEdBQUc7TUFDUkMsVUFBVSxFQUFFO0lBQ2hCLENBQUM7RUFDTDtFQUNBL29CLGFBQWFBLENBQUMxQyxHQUFHLEVBQUU7SUFDZixNQUFNLElBQUlqSixLQUFLLENBQUMsK0VBQStFLENBQUM7RUFDcEc7QUFDSjtBQUNBLE1BQU0yMEIsZ0JBQWdCLEdBQUcsQ0FBQ1AsMEJBQTBCLEVBQUU7RUFBRXpjLE9BQU8sRUFBRW5sQixvREFBUztFQUFFbThCLFFBQVEsRUFBRTBGLHFCQUFxQjtFQUFFeGMsSUFBSSxFQUFFO0FBQUcsQ0FBQyxFQUFFO0VBQUVGLE9BQU8sRUFBRW5rQixzREFBUTtFQUFFbTdCLFFBQVEsRUFBRTZGLG9CQUFvQjtFQUFFM2MsSUFBSSxFQUFFO0FBQUcsQ0FBQyxDQUFDO0FBQ3pMLE1BQU0rYyxvQkFBb0IsR0FBR2xpQyxvRUFBcUIsQ0FBQ0QsdURBQVksRUFBRSxxQkFBcUIsRUFBRWtpQyxnQkFBZ0IsQ0FBQztBQUN6RztBQUNBO0FBQ0E7QUFDQSxNQUFNRSwyQkFBMkIsR0FBRyxTQUFBQSxDQUFVak8sT0FBTyxFQUFFa08sY0FBYyxFQUFFO0VBQ25FL3hCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtGQUFrRixDQUFDO0VBQy9GNGpCLE9BQU8sR0FBR0EsT0FBTyxJQUFJLENBQUMsQ0FBQztFQUN2QmtPLGNBQWMsR0FBR0EsY0FBYyxJQUFJLEVBQUU7RUFDckMsTUFBTUMsVUFBVSxHQUFHLElBQUk1NUIsV0FBVyxDQUFDLElBQUk5TCxzREFBSyxDQUFDdTNCLE9BQU8sQ0FBQ3hyQixlQUFlLElBQUksT0FBTyxDQUFDLENBQUM7RUFDakYsSUFBSXkzQixVQUFVLEdBQUdqTSxPQUFPLENBQUNpTSxVQUFVO0VBQ25DLElBQUksQ0FBQ0EsVUFBVSxJQUFJak0sT0FBTyxDQUFDb08sS0FBSyxFQUFFO0lBQzlCbkMsVUFBVSxHQUFHLElBQUlwbUMsMERBQVUsQ0FBQyxDQUFDO0lBQzdCb21DLFVBQVUsQ0FBQ3ozQixlQUFlLEdBQUd3ckIsT0FBTyxDQUFDeHJCLGVBQWUsSUFBSSxPQUFPO0VBQ25FO0VBQ0EsT0FBTyxJQUFJMDRCLDRCQUE0QixDQUFDYyxvQkFBb0IsQ0FBQyxDQUFDLEdBQUdFLGNBQWMsQ0FBQyxDQUFDLEVBQUVqQyxVQUFVLENBQUM7QUFDbEcsQ0FBQztBQUVELE1BQU1vQyxhQUFhLFNBQVM1b0MsMkRBQVcsQ0FBQztFQUNwQzhKLFdBQVdBLENBQUMrK0IsZ0JBQWdCLEVBQUU7SUFDMUIsS0FBSyxDQUFDLENBQUM7SUFDUCxJQUFJLENBQUNBLGdCQUFnQixHQUFHQSxnQkFBZ0I7RUFDNUM7RUFDQUMsUUFBUUEsQ0FBQzM4QixJQUFJLEVBQUU0OEIsT0FBTyxFQUFFO0lBQ3BCLEtBQUssQ0FBQ0QsUUFBUSxDQUFDMzhCLElBQUksRUFBRTQ4QixPQUFPLENBQUM7SUFDN0IsSUFBSSxJQUFJLENBQUNGLGdCQUFnQixDQUFDcHdCLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDL0MsSUFBSSxDQUFDb3dCLGdCQUFnQixDQUFDcjFCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQzlDO0VBQ0o7RUFDQXZHLFdBQVdBLENBQUNkLElBQUksRUFBRTtJQUNkLEtBQUssQ0FBQ2MsV0FBVyxDQUFDZCxJQUFJLENBQUM7SUFDdkIsSUFBSSxDQUFDMDhCLGdCQUFnQixDQUFDOTdCLFdBQVcsQ0FBQyxJQUFJLENBQUM7RUFDM0M7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNpOEIsMEJBQTBCQSxDQUFBLEVBQUc7RUFDbEMsSUFBSXRyQixRQUFRLEdBQUdyZCw0REFBVyxDQUFDMDhCLFdBQVcsQ0FBQyxDQUFDO0VBQ3hDLElBQUksQ0FBQ3JmLFFBQVEsSUFBSSxFQUFFQSxRQUFRLFlBQVluYywyREFBVSxDQUFDLEVBQUU7SUFDaERtYyxRQUFRLEdBQUcsSUFBSW5jLDJEQUFVLENBQUMsQ0FBQztJQUMzQmxCLDREQUFXLENBQUNvUCxhQUFhLENBQUM7TUFBRUMsTUFBTSxFQUFFQSxDQUFBLEtBQU1nTztJQUFTLENBQUMsQ0FBQztFQUN6RDtFQUNBLE1BQU11ckIsU0FBUyxHQUFHLElBQUlMLGFBQWEsQ0FBQ2xyQixRQUFRLENBQUM7RUFDN0M7RUFDQSxPQUFPdXJCLFNBQVM7QUFDcEI7QUFDQSxNQUFNQyxtQkFBbUIsQ0FBQztFQUN0QjtJQUFTLElBQUksQ0FBQzE0QixJQUFJLFlBQUEyNEIsNEJBQUF0K0IsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZxK0IsbUJBQW1CO0lBQUEsQ0FBa0Q7RUFBRTtFQUNqTDtJQUFTLElBQUksQ0FBQ2pqQixJQUFJLGtCQWxpSThFcGlCLDhEQUFFO01BQUFvTixJQUFBLEVBa2lJU2k0QjtJQUFtQixFQUFHO0VBQUU7RUFDbkk7SUFBUyxJQUFJLENBQUMvaUIsSUFBSSxrQkFuaUk4RXRpQiw4REFBRTtNQUFBOG5CLFNBQUEsRUFtaUl5QyxDQUNuSTtRQUFFTCxPQUFPLEVBQUVoZSwwQkFBMEI7UUFBRTJ3QixRQUFRLEVBQUU7TUFBSyxDQUFDLEVBQ3ZEO1FBQUUzUyxPQUFPLEVBQUVwZSxhQUFhO1FBQUVxZSxVQUFVLEVBQUV5ZDtNQUEyQixDQUFDO0lBQ3JFLEVBQUc7RUFBRTtBQUNkO0FBQ0E7RUFBQSxRQUFBajRCLFNBQUEsb0JBQUFBLFNBQUEsS0F4aUlvR2xOLCtEQUFFLENBd2lJWHFsQyxtQkFBbUIsRUFBYyxDQUFDO0lBQ2pIajRCLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDeWEsU0FBUyxFQUFFLENBQ1A7UUFBRUwsT0FBTyxFQUFFaGUsMEJBQTBCO1FBQUUyd0IsUUFBUSxFQUFFO01BQUssQ0FBQyxFQUN2RDtRQUFFM1MsT0FBTyxFQUFFcGUsYUFBYTtRQUFFcWUsVUFBVSxFQUFFeWQ7TUFBMkIsQ0FBQztJQUUxRSxDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNSSxrQkFBa0IsQ0FBQztFQUNyQnQvQixXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBLElBQUksQ0FBQ3UvQixXQUFXLEdBQUcsSUFBSTtJQUN2QjtJQUNBLElBQUksQ0FBQ0MsWUFBWSxHQUFHLEtBQUs7SUFDekI7SUFDQSxJQUFJLENBQUNscUIsSUFBSSxHQUFHLElBQUk7SUFDaEI7QUFDUjtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQ21xQixpQkFBaUIsR0FBRyxJQUFJO0lBQzdCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLENBQUMsQ0FBQztJQUN2QjtFQUNKO0FBQ0o7O0FBRUE7QUFDQSxJQUFJQyxRQUFRLEdBQUcsQ0FBQztBQUNoQixNQUFNQyxlQUFlLENBQUM7RUFDbEI1L0IsV0FBV0EsQ0FBQzYvQixlQUFlLEVBQUV2L0IsRUFBRSxHQUFJLGlCQUFnQnEvQixRQUFRLEVBQUcsRUFBQyxFQUFFO0lBQzdELElBQUksQ0FBQ0UsZUFBZSxHQUFHQSxlQUFlO0lBQ3RDLElBQUksQ0FBQ3YvQixFQUFFLEdBQUdBLEVBQUU7SUFDWjtJQUNBLElBQUksQ0FBQ3cvQixZQUFZLEdBQUcsSUFBSWppQywwQ0FBTyxDQUFDLENBQUM7SUFDakM7SUFDQSxJQUFJLENBQUNraUMsWUFBWSxHQUFHLElBQUlsaUMsMENBQU8sQ0FBQyxDQUFDO0lBQ2pDO0lBQ0EsSUFBSSxDQUFDbWlDLGFBQWEsR0FBRyxJQUFJbmlDLDBDQUFPLENBQUMsQ0FBQztJQUNsQztJQUNBLElBQUksQ0FBQ29pQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCO0lBQ0FKLGVBQWUsQ0FBQ0ssR0FBRyxHQUFHNS9CLEVBQUU7SUFDeEI7SUFDQXUvQixlQUFlLENBQUNNLFlBQVksQ0FDdkJqNkIsSUFBSSxDQUFDM0ksdURBQU0sQ0FBRW0zQixLQUFLLElBQUtBLEtBQUssQ0FBQy9ILEtBQUssS0FBSyxRQUFRLENBQUMsRUFBRWp2QixxREFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQzFEKytCLFNBQVMsQ0FBQyxNQUFNO01BQ2pCLElBQUksQ0FBQ3FELFlBQVksQ0FBQzc3QixJQUFJLENBQUMsQ0FBQztNQUN4QixJQUFJLENBQUM2N0IsWUFBWSxDQUFDdDVCLFFBQVEsQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztJQUNGO0lBQ0FxNUIsZUFBZSxDQUFDTSxZQUFZLENBQ3ZCajZCLElBQUksQ0FBQzNJLHVEQUFNLENBQUVtM0IsS0FBSyxJQUFLQSxLQUFLLENBQUMvSCxLQUFLLEtBQUssUUFBUSxDQUFDLEVBQUVqdkIscURBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMxRCsrQixTQUFTLENBQUMsTUFBTTtNQUNqQjJELFlBQVksQ0FBQyxJQUFJLENBQUNDLHFCQUFxQixDQUFDO01BQ3hDLElBQUksQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztNQUN6QixJQUFJLENBQUNQLFlBQVksQ0FBQzk3QixJQUFJLENBQUMsSUFBSSxDQUFDczhCLE9BQU8sQ0FBQztNQUNwQyxJQUFJLENBQUNSLFlBQVksQ0FBQ3Y1QixRQUFRLENBQUMsQ0FBQztJQUNoQyxDQUFDLENBQUM7SUFDRnE1QixlQUFlLENBQUNXLFNBQVMsQ0FBQy9ELFNBQVMsQ0FBQyxNQUFNO01BQ3RDLElBQUksQ0FBQ3VELGFBQWEsQ0FBQy83QixJQUFJLENBQUMsSUFBSSxDQUFDczhCLE9BQU8sQ0FBQztNQUNyQyxJQUFJLENBQUNQLGFBQWEsQ0FBQ3g1QixRQUFRLENBQUMsQ0FBQztNQUM3QjtNQUNBLElBQUksQ0FBQ2k2QixpQkFBaUIsR0FBRyxJQUFJO01BQzdCWixlQUFlLENBQUM1bEIsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDO0VBQ047RUFDQTtBQUNKO0FBQ0E7QUFDQTtFQUNJeW1CLEtBQUtBLENBQUNDLFlBQVksRUFBRTtJQUNoQixJQUFJLENBQUNKLE9BQU8sR0FBR0ksWUFBWTtJQUMzQjtJQUNBLElBQUksQ0FBQ2QsZUFBZSxDQUFDTSxZQUFZLENBQzVCajZCLElBQUksQ0FBQzNJLHVEQUFNLENBQUVtM0IsS0FBSyxJQUFLQSxLQUFLLENBQUMvSCxLQUFLLEtBQUssU0FBUyxDQUFDLEVBQUVqdkIscURBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUMzRCsrQixTQUFTLENBQUUvSCxLQUFLLElBQUs7TUFDdEIsSUFBSSxDQUFDc0wsYUFBYSxDQUFDLzdCLElBQUksQ0FBQzA4QixZQUFZLENBQUM7TUFDckMsSUFBSSxDQUFDWCxhQUFhLENBQUN4NUIsUUFBUSxDQUFDLENBQUM7TUFDN0IsSUFBSSxDQUFDcTVCLGVBQWUsQ0FBQzVsQixPQUFPLENBQUMsQ0FBQztNQUM5QjtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQSxJQUFJLENBQUNvbUIscUJBQXFCLEdBQUczNkIsVUFBVSxDQUFDLE1BQU07UUFDMUMsSUFBSSxDQUFDNDZCLGtCQUFrQixDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDUCxZQUFZLENBQUM5N0IsSUFBSSxDQUFDLElBQUksQ0FBQ3M4QixPQUFPLENBQUM7UUFDcEMsSUFBSSxDQUFDUixZQUFZLENBQUN2NUIsUUFBUSxDQUFDLENBQUM7TUFDaEMsQ0FBQztNQUNEO01BQ0EsR0FBRyxDQUFDO0lBQ1IsQ0FBQyxDQUFDO0lBQ0YsSUFBSSxDQUFDeTVCLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDaEIsSUFBSSxDQUFDSixlQUFlLENBQUNlLG1CQUFtQixDQUFDLENBQUM7RUFDOUM7RUFDQTtBQUNKO0FBQ0E7RUFDSUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxJQUFJLENBQUNmLFlBQVk7RUFDNUI7RUFDQTtBQUNKO0FBQ0E7RUFDSWdCLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8sSUFBSSxDQUFDZixZQUFZO0VBQzVCO0VBQ0E7QUFDSjtBQUNBO0VBQ0lnQixZQUFZQSxDQUFBLEVBQUc7SUFDWCxPQUFPLElBQUksQ0FBQ2YsYUFBYTtFQUM3QjtFQUNBO0FBQ0o7QUFDQTtFQUNJZ0IsYUFBYUEsQ0FBQSxFQUFHO0lBQ1osTUFBTSxJQUFJbjNCLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztFQUM3QztFQUNBO0VBQ0FvM0IsYUFBYUEsQ0FBQ252QixPQUFPLEVBQUU7SUFDbkI7SUFDQSxPQUFPLElBQUk7RUFDZjtFQUNBO0VBQ0FvdkIsZ0JBQWdCQSxDQUFDcHZCLE9BQU8sRUFBRTtJQUN0QjtJQUNBLE9BQU8sSUFBSTtFQUNmO0VBQ0E7RUFDQTBhLFFBQVFBLENBQUEsRUFBRztJQUNQLE9BQU8sSUFBSSxDQUFDeVQsTUFBTTtFQUN0QjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0lLLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ2pCLElBQUksQ0FBQ0wsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNoQixJQUFJLENBQUNKLGVBQWUsQ0FBQzVsQixPQUFPLENBQUMsQ0FBQztFQUNsQztBQUNKO0FBRUEsSUFBSWtuQixjQUFjLEdBQUcsTUFBTUEsY0FBYyxDQUFDO0VBQ3RDbmhDLFdBQVdBLENBQUNpMkIsT0FBTyxFQUFFbUwsU0FBUyxFQUFFMzhCLFFBQVEsRUFBRTtJQUFBLElBQUE0OEIsTUFBQTtJQUN0QyxJQUFJLENBQUNwTCxPQUFPLEdBQUdBLE9BQU87SUFDdEIsSUFBSSxDQUFDbUwsU0FBUyxHQUFHQSxTQUFTO0lBQzFCLElBQUksQ0FBQzM4QixRQUFRLEdBQUdBLFFBQVE7SUFDeEIsSUFBSSxDQUFDMDdCLFlBQVksR0FBRyxJQUFJdGlDLDBDQUFPLENBQUMsQ0FBQztJQUNqQyxJQUFJLENBQUMyaUMsU0FBUyxHQUFHLElBQUkzaUMsMENBQU8sQ0FBQyxDQUFDO0lBQzlCLElBQUksQ0FBQ3lqQyxZQUFZLEdBQUcsS0FBSztJQUN6QixJQUFJdE8sVUFBVSxHQUFHLElBQUksQ0FBQ2lELE9BQU8sQ0FBQ2xkLGdCQUFnQixFQUFFNVcsT0FBTyxDQUFDdUMsYUFBYSxJQUFJbk8sNERBQVcsQ0FBQzA4QixXQUFXLENBQUMsQ0FBQztJQUNsRyxJQUFJLENBQUNELFVBQVUsWUFBWWh1QixXQUFXLElBQUlndUIsVUFBVSxZQUFZbnRCLGdCQUFnQixLQUFLbXRCLFVBQVUsQ0FBQzd0QixTQUFTLEVBQUU7TUFDdkc2dEIsVUFBVSxHQUFHQSxVQUFVLENBQUM3dEIsU0FBUztJQUNyQztJQUNBO0lBQ0E7SUFDQTtJQUNBLE9BQU82dEIsVUFBVSxDQUFDdU8sTUFBTSxJQUFJdk8sVUFBVSxDQUFDRSxhQUFhLEVBQUU7TUFDbERGLFVBQVUsR0FBR0EsVUFBVSxDQUFDdU8sTUFBTSxJQUFJdk8sVUFBVSxDQUFDRSxhQUFhO0lBQzlEO0lBQ0EsSUFBSSxDQUFDRixVQUFVLEdBQUdBLFVBQVU7SUFDNUIsSUFBSSxDQUFDd08sY0FBYyxHQUFHdHNCLElBQUksZUFBQTJlLDJLQUFBLENBQUMsYUFBWTtNQUNuQ3dOLE1BQUksQ0FBQ2xCLFlBQVksQ0FBQ2w4QixJQUFJLENBQUM7UUFBRTBvQixLQUFLLEVBQUU7TUFBVSxDQUFDLENBQUM7TUFDNUMsSUFBSSxDQUFDMFUsTUFBSSxDQUFDQyxZQUFZLEVBQUU7UUFDcEJELE1BQUksQ0FBQ0ksWUFBWSxDQUFDMzhCLG1CQUFtQixFQUFFZ3ZCLFVBQVUsQ0FBQyxDQUFDO01BQ3ZEO01BQ0EsTUFBTXVOLE1BQUksQ0FBQzU4QixRQUFRLEVBQUUyckIscUJBQXFCLENBQUMsQ0FBQztNQUM1QztNQUNBLElBQUlpUixNQUFJLENBQUNJLFlBQVksRUFBRTM4QixtQkFBbUIsQ0FBQ21RLFFBQVEsRUFBRTtRQUNqRG5YLGdEQUFTLENBQUN1akMsTUFBSSxDQUFDSSxZQUFZLENBQUMzOEIsbUJBQW1CLEVBQUUsVUFBVSxDQUFDLENBQ3ZEb0IsSUFBSSxDQUFDeEkscURBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNiKytCLFNBQVMsQ0FBQyxNQUFNNEUsTUFBSSxDQUFDbEIsWUFBWSxDQUFDbDhCLElBQUksQ0FBQztVQUFFMG9CLEtBQUssRUFBRTtRQUFTLENBQUMsQ0FBQyxDQUFDO01BQ3JFLENBQUMsTUFDSTtRQUNEMFUsTUFBSSxDQUFDbEIsWUFBWSxDQUFDbDhCLElBQUksQ0FBQztVQUFFMG9CLEtBQUssRUFBRTtRQUFTLENBQUMsQ0FBQztNQUMvQztJQUNKLENBQUMsRUFBQztFQUNOO0VBQ0ErVSwwQkFBMEJBLENBQUNDLEtBQUssRUFBRTtJQUM5QixNQUFNQyxlQUFlLEdBQUcsQ0FBQyxJQUFJLENBQUMzTCxPQUFPLENBQUNoZCx3QkFBd0IsSUFBSSxJQUFJLENBQUNtb0IsU0FBUyxDQUFDMS9CLEdBQUcsQ0FBQy9HLG1FQUF3QixDQUFDLEVBQUVxaUIsdUJBQXVCLENBQUNTLGNBQWMsQ0FBQztJQUN2SixJQUFJa2tCLEtBQUssRUFBRTtNQUNQLElBQUksQ0FBQ2hPLGlCQUFpQixHQUFHZ08sS0FBSyxDQUFDcG1CLGVBQWUsQ0FBQ3FtQixlQUFlLENBQUM7SUFDbkUsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDak8saUJBQWlCLEdBQUdpTyxlQUFlLENBQUNoOEIsTUFBTSxDQUFDLElBQUksQ0FBQ3F3QixPQUFPLENBQUNsZCxnQkFBZ0IsRUFBRUMsUUFBUSxJQUFJLElBQUksQ0FBQ29vQixTQUFTLENBQUM7TUFDMUcsSUFBSSxDQUFDQSxTQUFTLENBQUMxL0IsR0FBRyxDQUFDOUcseURBQWMsQ0FBQyxDQUFDc2lCLFVBQVUsQ0FBQyxJQUFJLENBQUN5VyxpQkFBaUIsQ0FBQ25ZLFFBQVEsQ0FBQztJQUNsRjtJQUNBLElBQUksQ0FBQ21ZLGlCQUFpQixDQUFDVSxpQkFBaUIsQ0FBQzlXLGFBQWEsQ0FBQyxDQUFDO0VBQzVEO0VBQ0F4RCxvQkFBb0JBLENBQUNGLE1BQU0sRUFBRTtJQUFBLElBQUFnb0IsTUFBQTtJQUN6QixJQUFJLENBQUNDLG9CQUFvQixDQUFDLENBQUM7SUFDM0IsTUFBTUgsS0FBSyxHQUFHOW5CLE1BQU0sQ0FBQ2QsZ0JBQWdCLElBQUksSUFBSSxDQUFDa2QsT0FBTyxDQUFDbGQsZ0JBQWdCO0lBQ3RFLElBQUksQ0FBQzJvQiwwQkFBMEIsQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RDOW5CLE1BQU0sQ0FBQ2QsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDNGEsaUJBQWlCLENBQUM1ekIsUUFBUSxDQUFDa2UsRUFBRTtJQUM1RCxNQUFNbVcsVUFBVSxHQUFHLElBQUlsK0IsMkRBQVcsQ0FBQyxDQUFDO0lBQ3BDLElBQUksQ0FBQzA5QixZQUFZLEdBQUcsSUFBSW5YLDJCQUEyQixDQUFDMlgsVUFBVSxFQUFFLElBQUksQ0FBQzZCLE9BQU8sQ0FBQ2hkLHdCQUF3QixJQUFJLElBQUksQ0FBQ21vQixTQUFTLENBQUMxL0IsR0FBRyxDQUFDL0csbUVBQXdCLENBQUMsRUFBRSxJQUFJLENBQUN5bUMsU0FBUyxDQUFDMS9CLEdBQUcsQ0FBQzlHLHlEQUFjLENBQUMsRUFBRSxJQUFJLENBQUN3bUMsU0FBUyxDQUFDO0lBQzFNLE1BQU0vbkIsV0FBVyxHQUFHLElBQUksQ0FBQ3VhLFlBQVksQ0FBQ3JiLE1BQU0sQ0FBQ3NCLE1BQU0sQ0FBQztJQUNwRCxJQUFJLENBQUM0bkIsWUFBWSxHQUFHLElBQUlsOUIsU0FBUyxDQUFDOFUsV0FBVyxDQUFDO0lBQzlDLElBQUksQ0FBQ29vQixZQUFZLENBQUMzOEIsbUJBQW1CLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLENBQUNvN0IsR0FBRztJQUNuRTtJQUNBLElBQUksQ0FBQ3VCLFlBQVksQ0FBQzE4QixvQkFBb0IsQ0FBQyxDQUFDO0lBQ3hDLE1BQU1nOUIsV0FBVyxHQUFHLElBQUksQ0FBQzlMLE9BQU8sQ0FBQ3lKLGFBQWEsSUFBSSxDQUFDLENBQUM7SUFDcEQsSUFBSSxDQUFDMU0sVUFBVSxDQUFDRCxTQUFTLENBQUMsSUFBSSxDQUFDME8sWUFBWSxDQUFDMzhCLG1CQUFtQixFQUFFO01BQzdEc1UsT0FBTyxFQUFFLElBQUk7TUFDYixHQUFHMm9CLFdBQVc7TUFDZHRQLGFBQWE7UUFBQSxJQUFBdVAsS0FBQSxHQUFBbk8sMktBQUEsQ0FBRSxhQUFZO1VBQ3ZCLE1BQU1nTyxNQUFJLENBQUNwOUIsUUFBUSxFQUFFMnJCLHFCQUFxQixDQUFDLENBQUM7VUFDNUN5UixNQUFJLENBQUNyQixTQUFTLENBQUN2OEIsSUFBSSxDQUFDLENBQUM7VUFDckI0OUIsTUFBSSxDQUFDckIsU0FBUyxDQUFDaDZCLFFBQVEsQ0FBQyxDQUFDO1FBQzdCLENBQUM7UUFBQSxnQkFBQWlzQixjQUFBO1VBQUEsT0FBQXVQLEtBQUEsQ0FBQS9jLEtBQUEsT0FBQUMsU0FBQTtRQUFBO01BQUE7TUFDRCtjLFVBQVUsRUFBRSxDQUFDLElBQUksQ0FBQ2hNLE9BQU8sQ0FBQ3VKO0lBQzlCLENBQUMsQ0FBQztJQUNGO0lBQ0E7SUFDQTtJQUNBLE9BQU9ubUIsV0FBVztFQUN0QjtFQUNBUyxxQkFBcUJBLENBQUNELE1BQU0sRUFBRTtJQUFBLElBQUFxb0IsTUFBQTtJQUMxQixJQUFJLENBQUNKLG9CQUFvQixDQUFDLENBQUM7SUFDM0IsTUFBTTFOLFVBQVUsR0FBRyxJQUFJbCtCLDJEQUFXLENBQUMsQ0FBQztJQUNwQyxJQUFJLENBQUMwOUIsWUFBWSxHQUFHLElBQUluWCwyQkFBMkIsQ0FBQzJYLFVBQVUsRUFBRSxJQUFJLENBQUM2QixPQUFPLENBQUNoZCx3QkFBd0IsSUFBSSxJQUFJLENBQUNtb0IsU0FBUyxDQUFDMS9CLEdBQUcsQ0FBQy9HLG1FQUF3QixDQUFDLEVBQUUsSUFBSSxDQUFDeW1DLFNBQVMsQ0FBQzEvQixHQUFHLENBQUM5Ryx5REFBYyxDQUFDLEVBQUUsSUFBSSxDQUFDd21DLFNBQVMsQ0FBQztJQUMxTSxNQUFNbmtCLFlBQVksR0FBRyxJQUFJLENBQUMyVyxZQUFZLENBQUNyYixNQUFNLENBQUNzQixNQUFNLENBQUM7SUFDckRvRCxZQUFZLENBQUNvWCxpQkFBaUIsQ0FBQzlXLGFBQWEsQ0FBQyxDQUFDO0lBQzlDLElBQUksQ0FBQ2trQixZQUFZLEdBQUcsSUFBSWw5QixTQUFTLENBQUMwWSxZQUFZLENBQUM7SUFDL0MsSUFBSSxJQUFJLENBQUN3a0IsWUFBWSxDQUFDMzhCLG1CQUFtQixLQUFLLElBQUksQ0FBQzI4QixZQUFZLENBQUNwL0IsSUFBSSxFQUFFO01BQ2xFLElBQUksQ0FBQ28vQixZQUFZLENBQUNwL0IsSUFBSSxDQUFDNndCLGFBQWEsR0FBRyxJQUFJLENBQUN1TyxZQUFZLENBQUMzOEIsbUJBQW1CO0lBQ2hGO0lBQ0EsSUFBSSxDQUFDMjhCLFlBQVksQ0FBQzM4QixtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLElBQUksQ0FBQ283QixHQUFHO0lBQ25FO0lBQ0EsSUFBSSxDQUFDdUIsWUFBWSxDQUFDMThCLG9CQUFvQixDQUFDLENBQUM7SUFDeEMsTUFBTWc5QixXQUFXLEdBQUcsSUFBSSxDQUFDOUwsT0FBTyxDQUFDeUosYUFBYSxJQUFJLENBQUMsQ0FBQztJQUNwRCxJQUFJLENBQUMxTSxVQUFVLENBQUNELFNBQVMsQ0FBQyxJQUFJLENBQUMwTyxZQUFZLENBQUMzOEIsbUJBQW1CLEVBQUU7TUFDN0RzVSxPQUFPLEVBQUUsSUFBSTtNQUNiLEdBQUcyb0IsV0FBVztNQUNkdFAsYUFBYTtRQUFBLElBQUEwUCxLQUFBLEdBQUF0TywyS0FBQSxDQUFFLGFBQVk7VUFDdkJxTyxNQUFJLENBQUNaLFlBQVksR0FBRyxJQUFJO1VBQ3hCWSxNQUFJLENBQUNWLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztVQUN2QlUsTUFBSSxDQUFDMUIsU0FBUyxDQUFDdjhCLElBQUksQ0FBQyxDQUFDO1VBQ3JCaStCLE1BQUksQ0FBQzFCLFNBQVMsQ0FBQ2g2QixRQUFRLENBQUMsQ0FBQztRQUM3QixDQUFDO1FBQUEsZ0JBQUFpc0IsY0FBQTtVQUFBLE9BQUEwUCxLQUFBLENBQUFsZCxLQUFBLE9BQUFDLFNBQUE7UUFBQTtNQUFBO01BQ0QrYyxVQUFVLEVBQUUsQ0FBQyxJQUFJLENBQUNoTSxPQUFPLENBQUN1SjtJQUM5QixDQUFDLENBQUM7SUFDRixPQUFPdmlCLFlBQVk7RUFDdkI7RUFDQTJqQixtQkFBbUJBLENBQUEsRUFBRztJQUNsQixJQUFJLENBQUNZLGNBQWMsQ0FBQyxDQUFDO0VBQ3pCO0VBQ0F2bkIsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sSUFBSSxDQUFDMlosWUFBWSxDQUFDM1osT0FBTyxDQUFDLENBQUM7RUFDL0I7RUFDQTZuQixvQkFBb0JBLENBQUEsRUFBRztJQUNuQixNQUFNelcsS0FBSyxHQUFHLElBQUksQ0FBQzJILFVBQVUsWUFBWWg4QixzREFBSyxHQUFHLElBQUksQ0FBQ2c4QixVQUFVLEdBQUcsSUFBSSxDQUFDQSxVQUFVLEVBQUUxUyxJQUFJLEVBQUUrSyxLQUFLLElBQUlyMEIsc0RBQUssQ0FBQ2d6QixPQUFPLENBQUMsQ0FBQztJQUNsSCxJQUFJLENBQUN2bEIsUUFBUSxFQUFFMHJCLHFCQUFxQixDQUFDOUUsS0FBSyxDQUFDO0VBQy9DO0FBQ0osQ0FBQztBQUNEOFYsY0FBYyxHQUFHcmtDLGlEQUFVLENBQUMsQ0FDeEJGLDhDQUFPLENBQUMsQ0FBQyxFQUFFdkMsdURBQVEsQ0FBQyxDQUFDLENBQUMsRUFDdEJ3QyxpREFBVSxDQUFDLG1CQUFtQixFQUFFLENBQUN5aUMsa0JBQWtCLEVBQUV6a0MsbURBQVEsRUFBRXF4QixrQkFBa0IsQ0FBQyxDQUFDLENBQ3RGLEVBQUVpVixjQUFjLENBQUM7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNaUIsa0JBQWtCLEdBQUcsSUFBSXBvQyx5REFBYyxDQUFDLGtCQUFrQixDQUFDO0FBQ2pFO0FBQ0EsTUFBTXFvQyw2QkFBNkIsR0FBRyxJQUFJcm9DLHlEQUFjLENBQUMsK0JBQStCLENBQUM7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNc29DLGlCQUFpQixDQUFDO0VBQ3BCO0VBQ0EsSUFBSUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ2QsT0FBTyxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJLENBQUNBLGFBQWEsQ0FBQ0QsV0FBVyxHQUFHLElBQUksQ0FBQ0UsdUJBQXVCO0VBQzdGO0VBQ0E7RUFDQSxJQUFJNUIsV0FBV0EsQ0FBQSxFQUFHO0lBQ2QsT0FBTyxJQUFJLENBQUMyQixhQUFhLEdBQUcsSUFBSSxDQUFDQSxhQUFhLENBQUMzQixXQUFXLEdBQUcsSUFBSSxDQUFDNkIsdUJBQXVCO0VBQzdGO0VBQ0FDLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ2pCLE1BQU0zL0IsTUFBTSxHQUFHLElBQUksQ0FBQ3cvQixhQUFhO0lBQ2pDLE9BQU94L0IsTUFBTSxHQUFHQSxNQUFNLENBQUMyL0Isa0JBQWtCLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQ0MsMEJBQTBCO0VBQ2pGO0VBQ0E1aUMsV0FBV0EsQ0FBQ29oQyxTQUFTLEVBQUV5QixlQUFlLEVBQUVMLGFBQWEsRUFBRU0scUJBQXFCLEVBQUVDLGdCQUFnQixFQUFFQyxnQkFBZ0IsRUFBRUMsZ0JBQWdCLEVBQUU7SUFDaEksSUFBSSxDQUFDN0IsU0FBUyxHQUFHQSxTQUFTO0lBQzFCLElBQUksQ0FBQ3lCLGVBQWUsR0FBR0EsZUFBZTtJQUN0QyxJQUFJLENBQUNMLGFBQWEsR0FBR0EsYUFBYTtJQUNsQyxJQUFJLENBQUNNLHFCQUFxQixHQUFHQSxxQkFBcUI7SUFDbEQsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0lBQ3hDLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QyxJQUFJLENBQUNDLGdCQUFnQixHQUFHQSxnQkFBZ0I7SUFDeEMsSUFBSSxDQUFDUix1QkFBdUIsR0FBRyxFQUFFO0lBQ2pDLElBQUksQ0FBQ0csMEJBQTBCLEdBQUcsSUFBSS9rQywwQ0FBTyxDQUFDLENBQUM7SUFDL0MsSUFBSSxDQUFDNmtDLHVCQUF1QixHQUFHLElBQUk3a0MsMENBQU8sQ0FBQyxDQUFDO0lBQzVDO0lBQ0E7QUFDUjtBQUNBO0FBQ0E7SUFDUSxJQUFJLENBQUNxbEMsY0FBYyxHQUFHbmxDLDRDQUFLLENBQUMsTUFBTyxJQUFJLENBQUN3a0MsV0FBVyxDQUFDLzJCLE1BQU0sR0FBRyxJQUFJLENBQUNtM0Isa0JBQWtCLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQ0Esa0JBQWtCLENBQUMsQ0FBQyxDQUFDejhCLElBQUksQ0FBQ3ZJLDBEQUFTLENBQUMySCxTQUFTLENBQUMsQ0FBRSxDQUFDO0VBQ25KO0VBQ0E2OUIsSUFBSUEsQ0FBQ0Msc0JBQXNCLEVBQUVwTixNQUFNLEVBQUU7SUFDakNBLE1BQU0sR0FBR3FOLG9CQUFvQixDQUFDck4sTUFBTSxFQUFFLElBQUksQ0FBQzZNLGVBQWUsSUFBSSxJQUFJdkQsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO0lBQ3ZGLElBQUl0SixNQUFNLENBQUMxMUIsRUFBRSxJQUFJLElBQUksQ0FBQ2dqQyxhQUFhLENBQUN0TixNQUFNLENBQUMxMUIsRUFBRSxDQUFDLEtBQUssT0FBT3dMLE1BQU0sQ0FBQzdFLFNBQVMsS0FBSyxXQUFXLElBQUk2RSxNQUFNLENBQUM3RSxTQUFTLENBQUMsRUFBRTtNQUM3RyxNQUFNNEMsS0FBSyxDQUFFLG1CQUFrQm1zQixNQUFNLENBQUMxMUIsRUFBRyxpREFBZ0QsQ0FBQztJQUM5RjtJQUNBLE1BQU1pakMsU0FBUyxHQUFHLElBQUksQ0FBQ0Msb0JBQW9CLENBQUNKLHNCQUFzQixFQUFFcE4sTUFBTSxDQUFDO0lBQzNFLElBQUksQ0FBQ3VNLFdBQVcsQ0FBQzVnQyxJQUFJLENBQUM0aEMsU0FBUyxDQUFDO0lBQ2hDQSxTQUFTLENBQUN6QyxXQUFXLENBQUMsQ0FBQyxDQUFDckUsU0FBUyxDQUFDLE1BQU0sSUFBSSxDQUFDZ0gsaUJBQWlCLENBQUNGLFNBQVMsQ0FBQyxDQUFDO0lBQzFFLElBQUksQ0FBQzFDLFdBQVcsQ0FBQzU4QixJQUFJLENBQUNzL0IsU0FBUyxDQUFDO0lBQ2hDO0lBQ0E7SUFDQSxPQUFPQSxTQUFTO0VBQ3BCO0VBQ0E7QUFDSjtBQUNBO0VBQ0lHLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQ0MsYUFBYSxDQUFDLElBQUksQ0FBQ3BCLFdBQVcsQ0FBQztFQUN4QztFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0llLGFBQWFBLENBQUNoakMsRUFBRSxFQUFFO0lBQ2QsT0FBTyxJQUFJLENBQUNpaUMsV0FBVyxDQUFDMzlCLElBQUksQ0FBRWcvQixNQUFNLElBQUtBLE1BQU0sQ0FBQ3RqQyxFQUFFLEtBQUtBLEVBQUUsQ0FBQztFQUM5RDtFQUNBaUcsV0FBV0EsQ0FBQSxFQUFHO0lBQ1Y7SUFDQTtJQUNBLElBQUksQ0FBQ285QixhQUFhLENBQUMsSUFBSSxDQUFDbEIsdUJBQXVCLENBQUM7SUFDaEQsSUFBSSxDQUFDRywwQkFBMEIsQ0FBQ3A4QixRQUFRLENBQUMsQ0FBQztJQUMxQyxJQUFJLENBQUNrOEIsdUJBQXVCLENBQUNsOEIsUUFBUSxDQUFDLENBQUM7RUFDM0M7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSWc5QixvQkFBb0JBLENBQUNKLHNCQUFzQixFQUFFcE4sTUFBTSxFQUFFO0lBQ2pEO0lBQ0E7SUFDQSxNQUFNNk4sY0FBYyxHQUFHLElBQUksSUFBSSxDQUFDZCxnQkFBZ0IsQ0FBQy9NLE1BQU0sRUFBRSxJQUFJLENBQUNvTCxTQUFTLEVBQUUsSUFBSSxDQUFDNkIsZ0JBQWdCLENBQUM7SUFDL0YsTUFBTU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDVCxxQkFBcUIsQ0FBQ2UsY0FBYyxFQUFFN04sTUFBTSxDQUFDMTFCLEVBQUUsQ0FBQztJQUMzRSxJQUFJOGlDLHNCQUFzQixZQUFZOW5DLHNEQUFXLEVBQUU7TUFDL0M7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBO01BQ0F1b0MsY0FBYyxDQUFDOXBCLG9CQUFvQjtNQUNuQztNQUNBLElBQUliLGNBQWMsQ0FBQ2txQixzQkFBc0IsRUFBRSxJQUFJLEVBQUU7UUFBRXpkLFNBQVMsRUFBRXFRLE1BQU0sQ0FBQzFnQixJQUFJO1FBQUVpdUI7TUFBVSxDQUFDLENBQUMsQ0FBQztJQUM1RixDQUFDLE1BQ0k7TUFDRCxNQUFNdnFCLFFBQVEsR0FBRyxJQUFJLENBQUM4cUIsZUFBZSxDQUFDOU4sTUFBTSxFQUFFdU4sU0FBUyxDQUFDO01BQ3hELE1BQU1RLFVBQVUsR0FBR0YsY0FBYyxDQUFDL3BCLHFCQUFxQixDQUFDLElBQUloQixlQUFlLENBQUNzcUIsc0JBQXNCLEVBQUVwTixNQUFNLENBQUNqZCxnQkFBZ0IsRUFBRUMsUUFBUSxDQUFDLENBQUM7TUFDdkl1cUIsU0FBUyxDQUFDOUMsaUJBQWlCLEdBQUdzRCxVQUFVLENBQUNoa0MsUUFBUTtJQUNyRDtJQUNBLE9BQU93akMsU0FBUztFQUNwQjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSU8sZUFBZUEsQ0FBQzlOLE1BQU0sRUFBRXVOLFNBQVMsRUFBRTtJQUMvQixNQUFNUyxZQUFZLEdBQUdoTyxNQUFNLElBQUlBLE1BQU0sQ0FBQ2pkLGdCQUFnQixJQUFJaWQsTUFBTSxDQUFDamQsZ0JBQWdCLENBQUNDLFFBQVE7SUFDMUY7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNNkksU0FBUyxHQUFHLENBQ2Q7TUFBRUwsT0FBTyxFQUFFLElBQUksQ0FBQ3doQixnQkFBZ0I7TUFBRTdPLFFBQVEsRUFBRTZCLE1BQU0sQ0FBQzFnQjtJQUFLLENBQUMsRUFDekQ7TUFBRWtNLE9BQU8sRUFBRSxJQUFJLENBQUNzaEIscUJBQXFCO01BQUUzTyxRQUFRLEVBQUVvUDtJQUFVLENBQUMsQ0FDL0Q7SUFDRCxPQUFPMW9DLG1EQUFRLENBQUMrSyxNQUFNLENBQUM7TUFBRTVDLE1BQU0sRUFBRWdoQyxZQUFZLElBQUksSUFBSSxDQUFDNUMsU0FBUztNQUFFdmY7SUFBVSxDQUFDLENBQUM7RUFDakY7RUFDQTtBQUNKO0FBQ0E7QUFDQTtFQUNJNGhCLGlCQUFpQkEsQ0FBQ0YsU0FBUyxFQUFFO0lBQ3pCLE1BQU14NUIsS0FBSyxHQUFHLElBQUksQ0FBQ3c0QixXQUFXLENBQUN0NEIsT0FBTyxDQUFDczVCLFNBQVMsQ0FBQztJQUNqRCxJQUFJeDVCLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRTtNQUNaLElBQUksQ0FBQ3c0QixXQUFXLENBQUNyNEIsTUFBTSxDQUFDSCxLQUFLLEVBQUUsQ0FBQyxDQUFDO01BQ2pDO01BQ0E7TUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDdzRCLFdBQVcsQ0FBQy8yQixNQUFNLEVBQUU7UUFDMUIsSUFBSSxDQUFDbTNCLGtCQUFrQixDQUFDLENBQUMsQ0FBQzErQixJQUFJLENBQUMsQ0FBQztNQUNwQztJQUNKO0VBQ0o7RUFDQTtFQUNBMC9CLGFBQWFBLENBQUNNLE9BQU8sRUFBRTtJQUNuQixJQUFJNXpCLENBQUMsR0FBRzR6QixPQUFPLENBQUN6NEIsTUFBTTtJQUN0QixPQUFPNkUsQ0FBQyxFQUFFLEVBQUU7TUFDUjtNQUNBO01BQ0E7TUFDQTtNQUNBNHpCLE9BQU8sQ0FBQzV6QixDQUFDLENBQUMsQ0FBQ3F3QixLQUFLLENBQUMsQ0FBQztJQUN0QjtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUNoNkIsSUFBSSxZQUFBdzlCLDBCQUFBbmpDLENBQUE7TUEzOUk4RWhILDhEQUFFO0lBQUEsQ0EyOUltRjtFQUFFO0VBQ3ZMO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBNTlJOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUE0OUlKbTdCO0lBQWlCLEVBQWlCO0VBQUU7QUFDdEk7QUFDQTtFQUFBLFFBQUFyN0IsU0FBQSxvQkFBQUEsU0FBQSxLQTk5SW9HbE4sK0RBQUUsQ0E4OUlYdW9DLGlCQUFpQixFQUFjLENBQUM7SUFDL0duN0IsSUFBSSxFQUFFNU0sb0RBQVNBO0VBQ25CLENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRTRNLElBQUksRUFBRXBOLG1EQUFXYztFQUFDLENBQUMsRUFBRTtJQUFFc00sSUFBSSxFQUFFN0I7RUFBVSxDQUFDLEVBQUU7SUFBRTZCLElBQUksRUFBRTdCO0VBQVUsQ0FBQyxFQUFFO0lBQUU2QixJQUFJLEVBQUVwTiwrQ0FBT29xQztFQUFDLENBQUMsRUFBRTtJQUFFaDlCLElBQUksRUFBRXBOLCtDQUFPb3FDO0VBQUMsQ0FBQyxFQUFFO0lBQUVoOUIsSUFBSSxFQUFFcE4seURBQWlCQztFQUFDLENBQUMsRUFBRTtJQUFFbU4sSUFBSSxFQUFFK2tCO0VBQW1CLENBQUMsQ0FBQztBQUFBO0FBQ3BNO0FBQ0E7QUFDQTtBQUNBLE1BQU1rWSxtQkFBbUIsU0FBUzlCLGlCQUFpQixDQUFDO0VBQ2hEdGlDLFdBQVdBLENBQUNnWixRQUFRLEVBQUVxckIsY0FBYyxFQUFFQyxZQUFZLEVBQUU3L0IsUUFBUSxFQUFFO0lBQzFELEtBQUssQ0FBQ3VVLFFBQVEsRUFBRXFyQixjQUFjLEVBQUVDLFlBQVksRUFBRTFFLGVBQWUsRUFBRXVCLGNBQWMsRUFBRWlCLGtCQUFrQixFQUFFMzlCLFFBQVEsQ0FBQztFQUNoSDtFQUNBO0lBQVMsSUFBSSxDQUFDaUMsSUFBSSxZQUFBNjlCLDRCQUFBeGpDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGcWpDLG1CQUFtQixFQXgrSTdCcnFDLHNEQUFFLENBdytJNkNBLG1EQUFXLEdBeCtJMURBLHNEQUFFLENBdytJcUVzb0MsNkJBQTZCLE1BeCtJcEd0b0Msc0RBQUUsQ0F3K0krSHFxQyxtQkFBbUIsT0F4K0lwSnJxQyxzREFBRSxDQXcrSStMbXlCLGtCQUFrQjtJQUFBLENBQTZEO0VBQUU7RUFDbFg7SUFBUyxJQUFJLENBQUN0bEIsS0FBSyxrQkF6K0k2RTdNLGdFQUFFO01BQUErTSxLQUFBLEVBeStJWXM5QixtQkFBbUI7TUFBQXI5QixPQUFBLEVBQW5CcTlCLG1CQUFtQixDQUFBMTlCO0lBQUEsRUFBRztFQUFFO0FBQzFJO0FBQ0E7RUFBQSxRQUFBTyxTQUFBLG9CQUFBQSxTQUFBLEtBMytJb0dsTiwrREFBRSxDQTIrSVhxcUMsbUJBQW1CLEVBQWMsQ0FBQztJQUNqSGo5QixJQUFJLEVBQUVoTixxREFBVUE7RUFDcEIsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFZ04sSUFBSSxFQUFFcE4sbURBQVdjO0VBQUMsQ0FBQyxFQUFFO0lBQUVzTSxJQUFJLEVBQUVtNEIsa0JBQWtCO0lBQUUxZSxVQUFVLEVBQUUsQ0FBQztNQUMvRXpaLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDLEVBQUU7TUFDQzhNLElBQUksRUFBRWxOLGlEQUFNO01BQ1ptTixJQUFJLEVBQUUsQ0FBQ2k3Qiw2QkFBNkI7SUFDeEMsQ0FBQztFQUFFLENBQUMsRUFBRTtJQUFFbDdCLElBQUksRUFBRWk5QixtQkFBbUI7SUFBRXhqQixVQUFVLEVBQUUsQ0FBQztNQUM1Q3paLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDLEVBQUU7TUFDQzhNLElBQUksRUFBRXRMLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxFQUFFO0lBQUVzTCxJQUFJLEVBQUUra0Isa0JBQWtCO0lBQUV0TCxVQUFVLEVBQUUsQ0FBQztNQUMzQ3paLElBQUksRUFBRTlNLG1EQUFRQTtJQUNsQixDQUFDO0VBQUUsQ0FBQyxDQUFDO0FBQUE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2dwQyxvQkFBb0JBLENBQUNyTixNQUFNLEVBQUVxTyxjQUFjLEVBQUU7RUFDbEQsT0FBTztJQUFFLEdBQUdBLGNBQWM7SUFBRSxHQUFHck87RUFBTyxDQUFDO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTXdPLDBCQUEwQixDQUFDO0VBQzdCeGtDLFdBQVdBO0VBQ1g7RUFDQTtFQUNBdWpDLFNBQVMsRUFBRXpjLFdBQVcsRUFBRTJkLE9BQU8sRUFBRTtJQUM3QixJQUFJLENBQUNsQixTQUFTLEdBQUdBLFNBQVM7SUFDMUIsSUFBSSxDQUFDemMsV0FBVyxHQUFHQSxXQUFXO0lBQzlCLElBQUksQ0FBQzJkLE9BQU8sR0FBR0EsT0FBTztFQUMxQjtFQUNBbnBCLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUksQ0FBQyxJQUFJLENBQUNpb0IsU0FBUyxFQUFFO01BQ2pCO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQTtNQUNBLElBQUksQ0FBQ0EsU0FBUyxHQUFHbUIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDNWQsV0FBVyxFQUFFLElBQUksQ0FBQzJkLE9BQU8sQ0FBQ2xDLFdBQVcsQ0FBQztJQUNqRjtFQUNKO0VBQ0F0aEIsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ2pCLE1BQU15akIsYUFBYSxHQUFHempCLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJQSxPQUFPLENBQUMsdUJBQXVCLENBQUM7SUFDcEYsSUFBSXlqQixhQUFhLEVBQUU7TUFDZixJQUFJLENBQUNoRSxZQUFZLEdBQUdnRSxhQUFhLENBQUN2akIsWUFBWTtJQUNsRDtFQUNKO0VBQ0F3akIsY0FBY0EsQ0FBQSxFQUFHO0lBQ2I7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLENBQUNyQixTQUFTLENBQUM3QyxLQUFLLENBQUMsSUFBSSxDQUFDQyxZQUFZLENBQUM7RUFDM0M7RUFDQTtJQUFTLElBQUksQ0FBQ2o2QixJQUFJLFlBQUFtK0IsbUNBQUE5akMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Z5akMsMEJBQTBCLEVBOWlKcEN6cUMsK0RBQUUsQ0E4aUpvRDZsQyxlQUFlLE1BOWlKckU3bEMsK0RBQUUsQ0E4aUpnR0EscURBQWEsR0E5aUovR0EsK0RBQUUsQ0E4aUowSHFxQyxtQkFBbUI7SUFBQSxDQUE0QztFQUFFO0VBQzdSO0lBQVMsSUFBSSxDQUFDN3BCLElBQUksa0JBL2lKOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUEraUpKcTlCLDBCQUEwQjtNQUFBL3BCLFNBQUE7TUFBQW1PLFlBQUEsV0FBQWtjLHdDQUFBcmxDLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUEvaUp4QjFGLHdEQUFFLGlCQUFBZ3JDLGtEQUFBO1lBQUEsT0EraUpKcmxDLEdBQUEsQ0FBQWtsQyxjQUFBLENBQWUsQ0FBQztVQUFBO1FBQUE7TUFBQTtNQUFBOW9CLE1BQUE7UUFBQTZrQixZQUFBLEdBL2lKZDVtQywwREFBRSxDQUFBd2EsSUFBQTtRQUFBeXdCLGVBQUEsR0FBRmpyQywwREFBRSxDQUFBd2EsSUFBQTtNQUFBO01BQUFtRyxRQUFBO01BQUFDLFFBQUEsR0FBRjVnQixrRUFBRTtJQUFBLEVBK2lKdVU7RUFBRTtBQUMvYTtBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0FqakpvR2xOLCtEQUFFLENBaWpKWHlxQywwQkFBMEIsRUFBYyxDQUFDO0lBQ3hIcjlCLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDO01BQ0F5VCxRQUFRLEVBQUUsNENBQTRDO01BQ3RESCxRQUFRLEVBQUU7SUFDZCxDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFdlQsSUFBSSxFQUFFeTRCLGVBQWU7SUFBRWhmLFVBQVUsRUFBRSxDQUFDO01BQ3JEelosSUFBSSxFQUFFOU0sbURBQVFBO0lBQ2xCLENBQUM7RUFBRSxDQUFDLEVBQUU7SUFBRThNLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsRUFBRTtJQUFFNk0sSUFBSSxFQUFFaTlCO0VBQW9CLENBQUMsQ0FBQyxFQUFrQjtJQUFFekQsWUFBWSxFQUFFLENBQUM7TUFDaEd4NUIsSUFBSSxFQUFFbE0sZ0RBQUs7TUFDWG1NLElBQUksRUFBRSxDQUFDLHFCQUFxQjtJQUNoQyxDQUFDLENBQUM7SUFBRTQ5QixlQUFlLEVBQUUsQ0FBQztNQUNsQjc5QixJQUFJLEVBQUVsTSxnREFBSztNQUNYbU0sSUFBSSxFQUFFLENBQUMsbUJBQW1CO0lBQzlCLENBQUMsQ0FBQztJQUFFdzlCLGNBQWMsRUFBRSxDQUFDO01BQ2pCejlCLElBQUksRUFBRTFMLHVEQUFZO01BQ2xCMkwsSUFBSSxFQUFFLENBQUMsS0FBSztJQUNoQixDQUFDO0VBQUUsQ0FBQztBQUFBO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTczlCLGdCQUFnQkEsQ0FBQ3ZpQyxPQUFPLEVBQUVvZ0MsV0FBVyxFQUFFO0VBQzVDLElBQUlsZ0MsSUFBSSxHQUFHRixPQUFPLENBQUN1QyxhQUFhLENBQUMxQixNQUFNO0VBQ3ZDLE9BQU9YLElBQUksSUFBSSxDQUFDZ0MsTUFBTSxDQUFDc0wsY0FBYyxDQUFDQyxJQUFJLENBQUN2TixJQUFJLEVBQUUsaUJBQWlCLENBQUMsRUFBRTtJQUNqRUEsSUFBSSxHQUFHQSxJQUFJLENBQUNXLE1BQU07RUFDdEI7RUFDQSxPQUFPWCxJQUFJLEdBQUdrZ0MsV0FBVyxDQUFDMzlCLElBQUksQ0FBRWcvQixNQUFNLElBQUtBLE1BQU0sQ0FBQ3RqQyxFQUFFLEtBQUsrQixJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxHQUFHLElBQUk7QUFDNUY7QUFFQSxNQUFNNGlDLGtCQUFrQixDQUFDO0VBQ3JCO0lBQVMsSUFBSSxDQUFDditCLElBQUksWUFBQXcrQiwyQkFBQW5rQyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RmtrQyxrQkFBa0I7SUFBQSxDQUFrRDtFQUFFO0VBQ2hMO0lBQVMsSUFBSSxDQUFDOW9CLElBQUksa0JBbmxKOEVwaUIsOERBQUU7TUFBQW9OLElBQUEsRUFtbEpTODlCO0lBQWtCLEVBQXNGO0VBQUU7RUFDck47SUFBUyxJQUFJLENBQUM1b0IsSUFBSSxrQkFwbEo4RXRpQiw4REFBRTtNQUFBOG5CLFNBQUEsRUFvbEp3QyxDQUFDdWlCLG1CQUFtQjtJQUFDLEVBQUc7RUFBRTtBQUN4SztBQUNBO0VBQUEsUUFBQW45QixTQUFBLG9CQUFBQSxTQUFBLEtBdGxKb0dsTiwrREFBRSxDQXNsSlhrckMsa0JBQWtCLEVBQWMsQ0FBQztJQUNoSDk5QixJQUFJLEVBQUV6TSxtREFBUTtJQUNkME0sSUFBSSxFQUFFLENBQUM7TUFDQ29WLFlBQVksRUFBRSxDQUFDZ29CLDBCQUEwQixDQUFDO01BQzFDam9CLE9BQU8sRUFBRSxDQUFDaW9CLDBCQUEwQixDQUFDO01BQ3JDM2lCLFNBQVMsRUFBRSxDQUFDdWlCLG1CQUFtQjtJQUNuQyxDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7O0FBRVY7QUFDQTtBQUNBLE1BQU1lLFlBQVksQ0FBQztFQUNmQyxVQUFVQSxDQUFBLEVBQUc7SUFDVCxPQUFPOXJDLDZEQUFZLENBQUM4ckMsVUFBVSxDQUFDLENBQUM7RUFDcEM7RUFDQUMsWUFBWUEsQ0FBQ3ZyQyxJQUFJLEVBQUU7SUFDZixPQUFPUCxxREFBSSxDQUFDK3JDLFFBQVEsQ0FBQ3hyQyxJQUFJLENBQUM7RUFDOUI7RUFDQXlyQyxVQUFVQSxDQUFDenJDLElBQUksRUFBRTtJQUNiLE9BQU9QLHFEQUFJLENBQUNpc0MsTUFBTSxDQUFDMXJDLElBQUksQ0FBQztFQUM1QjtFQUNBO0lBQVMsSUFBSSxDQUFDNE0sSUFBSSxZQUFBKytCLHFCQUFBMWtDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGb2tDLFlBQVk7SUFBQSxDQUFvRDtFQUFFO0VBQzVLO0lBQVMsSUFBSSxDQUFDditCLEtBQUssa0JBNW1KNkU3TSxnRUFBRTtNQUFBK00sS0FBQSxFQTRtSllxK0IsWUFBWTtNQUFBcCtCLE9BQUEsRUFBWm8rQixZQUFZLENBQUF6K0I7SUFBQSxFQUFHO0VBQUU7QUFDbkk7QUFDQTtFQUFBLFFBQUFPLFNBQUEsb0JBQUFBLFNBQUEsS0E5bUpvR2xOLCtEQUFFLENBOG1KWG9yQyxZQUFZLEVBQWMsQ0FBQztJQUMxR2grQixJQUFJLEVBQUVoTixxREFBVUE7RUFDcEIsQ0FBQyxDQUFDO0FBQUE7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTdXJDLHNCQUFzQkEsQ0FBQ2g3QixRQUFRLEVBQUVzTyxRQUFRLEVBQUVELGdCQUFnQixFQUFFO0VBQ2xFQyxRQUFRLEdBQUdELGdCQUFnQixFQUFFQyxRQUFRLElBQUlBLFFBQVE7RUFDakQsTUFBTTRvQixlQUFlLEdBQUdsM0IsUUFBUSxDQUFDc1MsdUJBQXVCLENBQUNTLGNBQWMsQ0FBQztFQUN4RSxNQUFNa1csaUJBQWlCLEdBQUc1YSxnQkFBZ0IsRUFBRXdDLGVBQWUsQ0FBQ3FtQixlQUFlLENBQUMsSUFBSUEsZUFBZSxDQUFDaDhCLE1BQU0sQ0FBQ29ULFFBQVEsQ0FBQztFQUNoSCxJQUFJLENBQUNELGdCQUFnQixFQUFFO0lBQ25CQyxRQUFRLENBQUN0WCxHQUFHLENBQUM5Ryx5REFBYyxDQUFDLENBQUNzaUIsVUFBVSxDQUFDeVcsaUJBQWlCLENBQUNuWSxRQUFRLENBQUM7RUFDdkU7RUFDQW1ZLGlCQUFpQixDQUFDVSxpQkFBaUIsQ0FBQzlXLGFBQWEsQ0FBQyxDQUFDO0VBQ25ELE9BQU9vVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2dTLHdCQUF3QkEsQ0FBQ0MsY0FBYyxFQUFFblYsT0FBTyxFQUFFO0VBQ3ZELElBQUlrRCxpQkFBaUIsR0FBR2xELE9BQU8sQ0FBQ2tELGlCQUFpQjtFQUNqRCxNQUFNa1MscUJBQXFCLEdBQUcsQ0FBQyxDQUFDbFMsaUJBQWlCO0VBQ2pELElBQUlrUyxxQkFBcUIsRUFBRTtJQUN2QnBWLE9BQU8sQ0FBQzFYLGdCQUFnQixHQUFHNGEsaUJBQWlCLENBQUM1ekIsUUFBUSxDQUFDa2UsRUFBRTtFQUM1RDtFQUNBLE1BQU1qRixRQUFRLEdBQUd5WCxPQUFPLENBQUMxWCxnQkFBZ0IsRUFBRUMsUUFBUSxJQUFJeVgsT0FBTyxDQUFDelgsUUFBUTtFQUN2RSxNQUFNdE8sUUFBUSxHQUFHK2xCLE9BQU8sQ0FBQy9sQixRQUFRLElBQUlzTyxRQUFRLENBQUN0WCxHQUFHLENBQUMvRyxtRUFBd0IsQ0FBQztFQUMzRSxJQUFJLENBQUNnNUIsaUJBQWlCLEtBQUtsRCxPQUFPLENBQUMxWCxnQkFBZ0IsSUFBSTZzQixjQUFjLFlBQVl0cUMsc0RBQVcsQ0FBQyxFQUFFO0lBQzNGcTRCLGlCQUFpQixHQUFHK1Isc0JBQXNCLENBQUNoN0IsUUFBUSxFQUFFc08sUUFBUSxFQUFFeVgsT0FBTyxDQUFDMVgsZ0JBQWdCLENBQUM7RUFDNUY7RUFDQSxJQUFJYyxNQUFNO0VBQ1YsSUFBSStyQixjQUFjLFlBQVl0cUMsc0RBQVcsRUFBRTtJQUN2Q3VlLE1BQU0sR0FBRyxJQUFJWCxjQUFjLENBQUMwc0IsY0FBYyxFQUFFalMsaUJBQWlCLENBQUM1ekIsUUFBUSxDQUFDa2UsRUFBRSxDQUFDO0VBQzlFLENBQUMsTUFDSTtJQUNEcEUsTUFBTSxHQUFHLElBQUlmLGVBQWUsQ0FBQzhzQixjQUFjLEVBQUVqUyxpQkFBaUIsRUFBRTV6QixRQUFRLENBQUNrZSxFQUFFLENBQUM7RUFDaEY7RUFDQSxNQUFNK1UsVUFBVSxHQUFHLElBQUk5OEIsMkRBQVcsQ0FBQyxDQUFDO0VBQ3BDLE1BQU0wOUIsWUFBWSxHQUFHLElBQUluWCwyQkFBMkIsQ0FBQ3VXLFVBQVUsRUFBRXRvQixRQUFRLEVBQUVzTyxRQUFRLENBQUN0WCxHQUFHLENBQUM5Ryx5REFBYyxDQUFDLEVBQUVvZSxRQUFRLENBQUM7RUFDbEgsTUFBTW9xQixzQkFBc0IsR0FBR3hQLFlBQVksQ0FBQ3JiLE1BQU0sQ0FBQ3NCLE1BQU0sQ0FBQztFQUMxRHVwQixzQkFBc0IsQ0FBQ2hJLFNBQVMsQ0FBQyxNQUFNO0lBQ25DeEgsWUFBWSxDQUFDM1osT0FBTyxDQUFDLENBQUM7RUFDMUIsQ0FBQyxDQUFDO0VBQ0YsSUFBSTBaLGlCQUFpQixJQUFJLENBQUNrUyxxQkFBcUIsRUFBRTtJQUM3Q3pDLHNCQUFzQixDQUFDaEksU0FBUyxDQUFDLE1BQU07TUFDbkN6SCxpQkFBaUIsQ0FBQ3BlLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLENBQUMsQ0FBQztFQUNOO0VBQ0EsTUFBTW1HLE9BQU8sR0FBRyxJQUFJblgsU0FBUyxDQUFDNitCLHNCQUFzQixDQUFDO0VBQ3JEMW5CLE9BQU8sQ0FBQ2lZLGlCQUFpQixHQUFHQSxpQkFBaUI7RUFDN0MsSUFBSSxDQUFDbEQsT0FBTyxDQUFDcVYsc0JBQXNCLEVBQUU7SUFDakNwcUIsT0FBTyxDQUFDM1csb0JBQW9CLENBQUMsQ0FBQztFQUNsQztFQUNBLE9BQU8yVyxPQUFPO0FBQ2xCO0FBRUEsTUFBTXFxQixpQkFBaUIsQ0FBQztFQUNwQi9sQyxXQUFXQSxDQUFDcUMsSUFBSSxFQUFFO0lBQ2QsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7SUFDaEIsSUFBSSxDQUFDMmpDLHlCQUF5QixHQUFHLENBQUM7SUFDbEMsSUFBSSxDQUFDQyxRQUFRLEdBQUcsTUFBTTtNQUNsQjtJQUFBLENBQ0g7SUFDRCxJQUFJLENBQUNDLFNBQVMsR0FBRyxNQUFNO01BQ25CO0lBQUEsQ0FDSDtFQUNMO0VBQ0FDLGdCQUFnQkEsQ0FBQ2x6QixFQUFFLEVBQUU7SUFDakIsSUFBSSxDQUFDZ3pCLFFBQVEsR0FBSUcsR0FBRyxJQUFLO01BQ3JCLElBQUksSUFBSSxDQUFDSix5QkFBeUIsRUFBRTtRQUNoQzVGLFlBQVksQ0FBQyxJQUFJLENBQUM0Rix5QkFBeUIsQ0FBQztNQUNoRDtNQUNBLElBQUksQ0FBQ0EseUJBQXlCLEdBQUd0Z0MsVUFBVSxDQUFDLE1BQU07UUFDOUMsSUFBSSxDQUFDc2dDLHlCQUF5QixHQUFHLENBQUM7UUFDbEMveUIsRUFBRSxDQUFDbXpCLEdBQUcsQ0FBQztNQUNYLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDVixDQUFDO0VBQ0w7RUFDQUMsaUJBQWlCQSxDQUFDcHpCLEVBQUUsRUFBRTtJQUNsQixJQUFJLENBQUNpekIsU0FBUyxHQUFHanpCLEVBQUU7RUFDdkI7RUFDQXF6QixnQkFBZ0JBLENBQUNDLFVBQVUsRUFBRTtJQUN6QixJQUFJLENBQUNsa0MsSUFBSSxDQUFDeUYsU0FBUyxHQUFHLENBQUN5K0IsVUFBVTtFQUNyQztFQUNBQyxVQUFVQSxDQUFDQyxDQUFDLEVBQUU7SUFDVjtFQUFBO0VBRUpDLGNBQWNBLENBQUNsbUMsS0FBSyxFQUFFO0lBQ2xCLE9BQU9naUIsT0FBTyxDQUFDaGlCLEtBQUssQ0FBQyxHQUFHaEksMkRBQVUsR0FBR2dJLEtBQUs7RUFDOUM7QUFDSjtBQUVBLE1BQU1tbUMsbUJBQW1CLEdBQUc7RUFDeEJubEIsT0FBTyxFQUFFL2lCLDhEQUFpQjtFQUMxQndxQixXQUFXLEVBQUU1dEIseURBQVUsQ0FBQyxNQUFNdXJDLGlCQUFpQixDQUFDO0VBQ2hEbk8sS0FBSyxFQUFFO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1tTyxpQkFBaUIsU0FBU2IsaUJBQWlCLENBQUM7RUFDOUM7RUFDQS9sQyxXQUFXQSxDQUFDdVosVUFBVSxFQUFFO0lBQ3BCLEtBQUssQ0FBQ0EsVUFBVSxDQUFDN1UsYUFBYSxDQUFDO0VBQ25DO0VBQ0E4aEMsVUFBVUEsQ0FBQ2htQyxLQUFLLEVBQUU7SUFDZCxNQUFNcW1DLFVBQVUsR0FBRyxLQUFLLENBQUNILGNBQWMsQ0FBQ2xtQyxLQUFLLEdBQUksR0FBRUEsS0FBTSxFQUFDLEdBQUdBLEtBQUssQ0FBQztJQUNuRSxJQUFJLENBQUM2QixJQUFJLENBQUN4QixJQUFJLEdBQUdnbUMsVUFBVTtFQUMvQjtFQUNBO0lBQVMsSUFBSSxDQUFDbmdDLElBQUksWUFBQW9nQywwQkFBQS9sQyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RjZsQyxpQkFBaUIsRUEzdUozQjdzQywrREFBRSxDQTJ1SjJDQSxxREFBYTtJQUFBLENBQTRDO0VBQUU7RUFDeE07SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkE1dUo4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQTR1Skp5L0IsaUJBQWlCO01BQUFuc0IsU0FBQTtNQUFBbU8sWUFBQSxXQUFBbWUsK0JBQUF0bkMsRUFBQSxFQUFBQyxHQUFBO1FBQUEsSUFBQUQsRUFBQTtVQTV1SmYxRix3REFBRSxrQkFBQWl0QywwQ0FBQTtZQUFBLE9BNHVKSnRuQyxHQUFBLENBQUF3bUMsU0FBQSxDQUFVLENBQUM7VUFBQSwwQkFBQWUsZ0RBQUFqZSxNQUFBO1lBQUEsT0FBWHRwQixHQUFBLENBQUF1bUMsUUFBQSxDQUFBamQsTUFBQSxDQUFBeG9CLEtBQXFCLENBQUM7VUFBQTtRQUFBO01BQUE7TUFBQW1hLFFBQUEsR0E1dUpwQjVnQixnRUFBRSxDQTR1Snk3QixDQUFDNHNDLG1CQUFtQixDQUFDLEdBNXVKaDlCNXNDLHdFQUFFO0lBQUEsRUE0dUpzL0I7RUFBRTtBQUM5bEM7QUFDQTtFQUFBLFFBQUFrTixTQUFBLG9CQUFBQSxTQUFBLEtBOXVKb0dsTiwrREFBRSxDQTh1Slg2c0MsaUJBQWlCLEVBQWMsQ0FBQztJQUMvR3ovQixJQUFJLEVBQUU1TSxvREFBUztJQUNmNk0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSx1RUFBdUUsR0FDN0UsdUVBQXVFLEdBQ3ZFLHVFQUF1RSxHQUN2RSwwRUFBMEUsR0FDMUUsb0VBQW9FLEdBQ3BFLG9FQUFvRSxHQUNwRSxvRUFBb0UsR0FDcEUsdUVBQXVFLEdBQ3ZFLHVFQUF1RSxHQUN2RSx1RUFBdUUsR0FDdkUsdUVBQXVFLEdBQ3ZFLDBFQUEwRTtNQUM5RWdILFNBQVMsRUFBRSxDQUFDOGtCLG1CQUFtQixDQUFDO01BQ2hDO01BQ0FudUIsSUFBSSxFQUFFO1FBQ0YsUUFBUSxFQUFFLGFBQWE7UUFDdkIsY0FBYyxFQUFFO01BQ3BCO0lBQ0osQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRXJSLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQztBQUFBO0FBRTNELE1BQU00c0Msc0JBQXNCLEdBQUc7RUFDM0IxbEIsT0FBTyxFQUFFL2lCLDhEQUFpQjtFQUMxQndxQixXQUFXLEVBQUU1dEIseURBQVUsQ0FBQyxNQUFNOHJDLG9CQUFvQixDQUFDO0VBQ25EMU8sS0FBSyxFQUFFO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0wTyxvQkFBb0IsU0FBU3BCLGlCQUFpQixDQUFDO0VBQ2pEO0VBQ0EvbEMsV0FBV0EsQ0FBQ3VaLFVBQVUsRUFBRTtJQUNwQixLQUFLLENBQUNBLFVBQVUsQ0FBQzdVLGFBQWEsQ0FBQztFQUNuQztFQUNBOGhDLFVBQVVBLENBQUNobUMsS0FBSyxFQUFFO0lBQ2QsTUFBTXFtQyxVQUFVLEdBQUcsS0FBSyxDQUFDSCxjQUFjLENBQUNsbUMsS0FBSyxDQUFDO0lBQzlDLElBQUksQ0FBQzZCLElBQUksQ0FBQytrQyxPQUFPLEdBQUdQLFVBQVU7RUFDbEM7RUFDQTtJQUFTLElBQUksQ0FBQ25nQyxJQUFJLFlBQUEyZ0MsNkJBQUF0bUMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZvbUMsb0JBQW9CLEVBN3hKOUJwdEMsK0RBQUUsQ0E2eEo4Q0EscURBQWE7SUFBQSxDQUE0QztFQUFFO0VBQzNNO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBOXhKOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUE4eEpKZ2dDLG9CQUFvQjtNQUFBMXNCLFNBQUE7TUFBQW1PLFlBQUEsV0FBQTBlLGtDQUFBN25DLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUE5eEpsQjFGLHdEQUFFLDJCQUFBd3RDLHNEQUFBdmUsTUFBQTtZQUFBLE9BOHhKSnRwQixHQUFBLENBQUF1bUMsUUFBQSxDQUFBamQsTUFBQSxDQUFBeG9CLEtBQXFCLENBQUM7VUFBQTtRQUFBO01BQUE7TUFBQW1hLFFBQUEsR0E5eEpwQjVnQixnRUFBRSxDQTh4SnNPLENBQUNtdEMsc0JBQXNCLENBQUMsR0E5eEpoUW50Qyx3RUFBRTtJQUFBLEVBOHhKc1M7RUFBRTtBQUM5WTtBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0FoeUpvR2xOLCtEQUFFLENBZ3lKWG90QyxvQkFBb0IsRUFBYyxDQUFDO0lBQ2xIaGdDLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLDhEQUE4RCxHQUFHLDZEQUE2RDtNQUN4SWdILFNBQVMsRUFBRSxDQUFDcWxCLHNCQUFzQixDQUFDO01BQ25DO01BQ0ExdUIsSUFBSSxFQUFFO1FBQ0YsaUJBQWlCLEVBQUU7TUFDdkI7SUFDSixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFclIsSUFBSSxFQUFFcE4scURBQWFPO0VBQUMsQ0FBQyxDQUFDO0FBQUE7QUFFM0QsTUFBTWt0QyxtQkFBbUIsR0FBRztFQUN4QmhtQixPQUFPLEVBQUUvaUIsOERBQWlCO0VBQzFCd3FCLFdBQVcsRUFBRTV0Qix5REFBVSxDQUFDLE1BQU1vc0MsaUJBQWlCLENBQUM7RUFDaERoUCxLQUFLLEVBQUU7QUFDWCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTWdQLGlCQUFpQixTQUFTMUIsaUJBQWlCLENBQUM7RUFDOUM7RUFDQS9sQyxXQUFXQSxDQUFDdVosVUFBVSxFQUFFO0lBQ3BCLEtBQUssQ0FBQ0EsVUFBVSxDQUFDN1UsYUFBYSxDQUFDO0VBQ25DO0VBQ0E4aEMsVUFBVUEsQ0FBQ2htQyxLQUFLLEVBQUU7SUFDZCxNQUFNcW1DLFVBQVUsR0FBRyxLQUFLLENBQUNILGNBQWMsQ0FBQ2xtQyxLQUFLLENBQUM7SUFDOUMsSUFBSSxDQUFDNkIsSUFBSSxDQUFDcWxDLElBQUksR0FBR2IsVUFBVTtFQUMvQjtFQUNBO0lBQVMsSUFBSSxDQUFDbmdDLElBQUksWUFBQWloQywwQkFBQTVtQyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RjBtQyxpQkFBaUIsRUFuMEozQjF0QywrREFBRSxDQW0wSjJDQSxxREFBYTtJQUFBLENBQTRDO0VBQUU7RUFDeE07SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkFwMEo4RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQW8wSkpzZ0MsaUJBQWlCO01BQUFodEIsU0FBQTtNQUFBbU8sWUFBQSxXQUFBZ2YsK0JBQUFub0MsRUFBQSxFQUFBQyxHQUFBO1FBQUEsSUFBQUQsRUFBQTtVQXAwSmYxRix3REFBRSx3QkFBQTh0QyxnREFBQTdlLE1BQUE7WUFBQSxPQW8wSkp0cEIsR0FBQSxDQUFBdW1DLFFBQUEsQ0FBQWpkLE1BQUEsQ0FBQXhvQixLQUFxQixDQUFDO1VBQUE7UUFBQTtNQUFBO01BQUFtYSxRQUFBLEdBcDBKcEI1Z0IsZ0VBQUUsQ0FvMEoyWSxDQUFDeXRDLG1CQUFtQixDQUFDLEdBcDBKbGF6dEMsd0VBQUU7SUFBQSxFQW8wSndjO0VBQUU7QUFDaGpCO0FBQ0E7RUFBQSxRQUFBa04sU0FBQSxvQkFBQUEsU0FBQSxLQXQwSm9HbE4sK0RBQUUsQ0FzMEpYMHRDLGlCQUFpQixFQUFjLENBQUM7SUFDL0d0Z0MsSUFBSSxFQUFFNU0sb0RBQVM7SUFDZjZNLElBQUksRUFBRSxDQUFDO01BQ0N5VCxRQUFRLEVBQUUsMEVBQTBFLEdBQUcsMEVBQTBFLEdBQUcsMEVBQTBFLEdBQUcsNEVBQTRFO01BQzdUZ0gsU0FBUyxFQUFFLENBQUMybEIsbUJBQW1CLENBQUM7TUFDaEM7TUFDQWh2QixJQUFJLEVBQUU7UUFDRixjQUFjLEVBQUU7TUFDcEI7SUFDSixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFclIsSUFBSSxFQUFFcE4scURBQWFPO0VBQUMsQ0FBQyxDQUFDO0FBQUE7QUFFM0QsTUFBTXd0QyxtQkFBbUIsR0FBRztFQUN4QnRtQixPQUFPLEVBQUUvaUIsOERBQWlCO0VBQzFCd3FCLFdBQVcsRUFBRTV0Qix5REFBVSxDQUFDLE1BQU0wc0MsaUJBQWlCLENBQUM7RUFDaER0UCxLQUFLLEVBQUU7QUFDWCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTXNQLGlCQUFpQixTQUFTaEMsaUJBQWlCLENBQUM7RUFDOUM7RUFDQS9sQyxXQUFXQSxDQUFDdVosVUFBVSxFQUFFO0lBQ3BCLEtBQUssQ0FBQ0EsVUFBVSxDQUFDN1UsYUFBYSxDQUFDO0VBQ25DO0VBQ0E4aEMsVUFBVUEsQ0FBQ2htQyxLQUFLLEVBQUU7SUFDZCxNQUFNcW1DLFVBQVUsR0FBRyxLQUFLLENBQUNILGNBQWMsQ0FBQ2xtQyxLQUFLLENBQUM7SUFDOUMsSUFBSSxDQUFDNkIsSUFBSSxDQUFDMmxDLElBQUksR0FBR25CLFVBQVU7RUFDL0I7RUFDQTtJQUFTLElBQUksQ0FBQ25nQyxJQUFJLFlBQUF1aEMsMEJBQUFsbkMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZnbkMsaUJBQWlCLEVBejJKM0JodUMsK0RBQUUsQ0F5MkoyQ0EscURBQWE7SUFBQSxDQUE0QztFQUFFO0VBQ3hNO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBMTJKOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUEwMkpKNGdDLGlCQUFpQjtNQUFBdHRCLFNBQUE7TUFBQW1PLFlBQUEsV0FBQXNmLCtCQUFBem9DLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUExMkpmMUYsd0RBQUUsd0JBQUFvdUMsZ0RBQUFuZixNQUFBO1lBQUEsT0EwMkpKdHBCLEdBQUEsQ0FBQXVtQyxRQUFBLENBQUFqZCxNQUFBLENBQUF4b0IsS0FBcUIsQ0FBQztVQUFBO1FBQUE7TUFBQTtNQUFBbWEsUUFBQSxHQTEySnBCNWdCLGdFQUFFLENBMDJKMlksQ0FBQyt0QyxtQkFBbUIsQ0FBQyxHQTEySmxhL3RDLHdFQUFFO0lBQUEsRUEwMkp3YztFQUFFO0FBQ2hqQjtBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0E1MkpvR2xOLCtEQUFFLENBNDJKWGd1QyxpQkFBaUIsRUFBYyxDQUFDO0lBQy9HNWdDLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLDBFQUEwRSxHQUFHLDBFQUEwRSxHQUFHLDBFQUEwRSxHQUFHLDRFQUE0RTtNQUM3VGdILFNBQVMsRUFBRSxDQUFDaW1CLG1CQUFtQixDQUFDO01BQ2hDO01BQ0F0dkIsSUFBSSxFQUFFO1FBQ0YsY0FBYyxFQUFFO01BQ3BCO0lBQ0osQ0FBQztFQUNULENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRXJSLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQztBQUFBO0FBRTNELE1BQU04dEMscUJBQXFCLEdBQUc7RUFDMUI1bUIsT0FBTyxFQUFFL2lCLDhEQUFpQjtFQUMxQndxQixXQUFXLEVBQUU1dEIseURBQVUsQ0FBQyxNQUFNZ3RDLG1CQUFtQixDQUFDO0VBQ2xENVAsS0FBSyxFQUFFO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU00UCxtQkFBbUIsU0FBU3RDLGlCQUFpQixDQUFDO0VBQ2hEO0VBQ0EvbEMsV0FBV0EsQ0FBQ3VaLFVBQVUsRUFBRTtJQUNwQixLQUFLLENBQUNBLFVBQVUsQ0FBQzdVLGFBQWEsQ0FBQztFQUNuQztFQUNBOGhDLFVBQVVBLENBQUNobUMsS0FBSyxFQUFFO0lBQ2QsTUFBTXFtQyxVQUFVLEdBQUcsS0FBSyxDQUFDSCxjQUFjLENBQUNsbUMsS0FBSyxDQUFDO0lBQzlDLElBQUksQ0FBQzZCLElBQUksQ0FBQzdCLEtBQUssR0FBR3FtQyxVQUFVO0VBQ2hDO0VBQ0E7SUFBUyxJQUFJLENBQUNuZ0MsSUFBSSxZQUFBNGhDLDRCQUFBdm5DLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGc25DLG1CQUFtQixFQS80SjdCdHVDLCtEQUFFLENBKzRKNkNBLHFEQUFhO0lBQUEsQ0FBNEM7RUFBRTtFQUMxTTtJQUFTLElBQUksQ0FBQ3dnQixJQUFJLGtCQWg1SjhFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBZzVKSmtoQyxtQkFBbUI7TUFBQTV0QixTQUFBO01BQUFtTyxZQUFBLFdBQUEyZixpQ0FBQTlvQyxFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBaDVKakIxRix3REFBRSx5QkFBQXl1QyxtREFBQXhmLE1BQUE7WUFBQSxPQWc1Skp0cEIsR0FBQSxDQUFBdW1DLFFBQUEsQ0FBQWpkLE1BQUEsQ0FBQXhvQixLQUFxQixDQUFDO1VBQUE7UUFBQTtNQUFBO01BQUFtYSxRQUFBLEdBaDVKcEI1Z0IsZ0VBQUUsQ0FnNUptTyxDQUFDcXVDLHFCQUFxQixDQUFDLEdBaDVKNVBydUMsd0VBQUU7SUFBQSxFQWc1SmtTO0VBQUU7QUFDMVk7QUFDQTtFQUFBLFFBQUFrTixTQUFBLG9CQUFBQSxTQUFBLEtBbDVKb0dsTiwrREFBRSxDQWs1SlhzdUMsbUJBQW1CLEVBQWMsQ0FBQztJQUNqSGxoQyxJQUFJLEVBQUU1TSxvREFBUztJQUNmNk0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSw4REFBOEQsR0FBRyw2REFBNkQ7TUFDeElnSCxTQUFTLEVBQUUsQ0FBQ3VtQixxQkFBcUIsQ0FBQztNQUNsQztNQUNBNXZCLElBQUksRUFBRTtRQUNGLGVBQWUsRUFBRTtNQUNyQjtJQUNKLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVyUixJQUFJLEVBQUVwTixxREFBYU87RUFBQyxDQUFDLENBQUM7QUFBQTtBQUUzRCxNQUFNbXVDLDZCQUE2QixHQUFHO0VBQ2xDam5CLE9BQU8sRUFBRS9pQiw4REFBaUI7RUFDMUJ3cUIsV0FBVyxFQUFFNXRCLHlEQUFVLENBQUMsTUFBTXF0QywwQkFBMEIsQ0FBQztFQUN6RGpRLEtBQUssRUFBRTtBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNaVEsMEJBQTBCLFNBQVMzQyxpQkFBaUIsQ0FBQztFQUN2RDtFQUNBL2xDLFdBQVdBLENBQUN1WixVQUFVLEVBQUU7SUFDcEIsS0FBSyxDQUFDQSxVQUFVLENBQUM3VSxhQUFhLENBQUM7RUFDbkM7RUFDQThoQyxVQUFVQSxDQUFDaG1DLEtBQUssRUFBRTtJQUNkLE1BQU1xbUMsVUFBVSxHQUFHLEtBQUssQ0FBQ0gsY0FBYyxDQUFDbG1DLEtBQUssQ0FBQztJQUM5QyxJQUFJLENBQUNBLEtBQUssR0FBR3FtQyxVQUFVO0lBQ3ZCLElBQUksSUFBSSxDQUFDbFIsZUFBZSxFQUFFO01BQ3RCLElBQUksQ0FBQ3R6QixJQUFJLENBQUNvekIsYUFBYSxHQUFHLElBQUksQ0FBQ2oxQixLQUFLO0lBQ3hDO0VBQ0o7RUFDQTZnQixlQUFlQSxDQUFBLEVBQUc7SUFDZCxJQUFJLENBQUNzVSxlQUFlLEdBQUcsSUFBSTtJQUMzQixJQUFJLENBQUN0ekIsSUFBSSxDQUFDb3pCLGFBQWEsR0FBRyxJQUFJLENBQUNqMUIsS0FBSztFQUN4QztFQUNBO0lBQVMsSUFBSSxDQUFDa0csSUFBSSxZQUFBaWlDLG1DQUFBNW5DLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGMm5DLDBCQUEwQixFQTU3SnBDM3VDLCtEQUFFLENBNDdKb0RBLHFEQUFhO0lBQUEsQ0FBNEM7RUFBRTtFQUNqTjtJQUFTLElBQUksQ0FBQ3dnQixJQUFJLGtCQTc3SjhFeGdCLCtEQUFFO01BQUFvTixJQUFBLEVBNjdKSnVoQywwQkFBMEI7TUFBQWp1QixTQUFBO01BQUFtTyxZQUFBLFdBQUFnZ0Isd0NBQUFucEMsRUFBQSxFQUFBQyxHQUFBO1FBQUEsSUFBQUQsRUFBQTtVQTc3SnhCMUYsd0RBQUUsaUNBQUE4dUMsa0VBQUE3ZixNQUFBO1lBQUEsT0E2N0pKdHBCLEdBQUEsQ0FBQXVtQyxRQUFBLENBQUFqZCxNQUFBLENBQUF4b0IsS0FBcUIsQ0FBQztVQUFBO1FBQUE7TUFBQTtNQUFBbWEsUUFBQSxHQTc3SnBCNWdCLGdFQUFFLENBNjdKdTlCLENBQUMwdUMsNkJBQTZCLENBQUMsR0E3N0p4L0IxdUMsd0VBQUU7SUFBQSxFQTY3SjhoQztFQUFFO0FBQ3RvQztBQUNBO0VBQUEsUUFBQWtOLFNBQUEsb0JBQUFBLFNBQUEsS0EvN0pvR2xOLCtEQUFFLENBKzdKWDJ1QywwQkFBMEIsRUFBYyxDQUFDO0lBQ3hIdmhDLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUNDeVQsUUFBUSxFQUFFLGdGQUFnRixHQUN0RixnRkFBZ0YsR0FDaEYsZ0ZBQWdGLEdBQ2hGLG1GQUFtRixHQUNuRiwwRUFBMEUsR0FDMUUsMEVBQTBFLEdBQzFFLDBFQUEwRSxHQUMxRSw2RUFBNkUsR0FDN0UsaUVBQWlFLEdBQ2pFLGlFQUFpRSxHQUNqRSxpRUFBaUUsR0FDakUsbUVBQW1FO01BQ3ZFZ0gsU0FBUyxFQUFFLENBQUM0bUIsNkJBQTZCLENBQUM7TUFDMUM7TUFDQWp3QixJQUFJLEVBQUU7UUFDRix1QkFBdUIsRUFBRTtNQUM3QjtJQUNKLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVyUixJQUFJLEVBQUVwTixxREFBYU87RUFBQyxDQUFDLENBQUM7QUFBQTtBQUUzRCxNQUFNd3VDLHVCQUF1QixDQUFDO0VBQzFCO0lBQVMsSUFBSSxDQUFDcGlDLElBQUksWUFBQXFpQyxnQ0FBQWhvQyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RituQyx1QkFBdUI7SUFBQSxDQUFrRDtFQUFFO0VBQ3JMO0lBQVMsSUFBSSxDQUFDM3NCLElBQUksa0JBeDlKOEVwaUIsOERBQUU7TUFBQW9OLElBQUEsRUF3OUpTMmhDO0lBQXVCLEVBQW1VO0VBQUU7RUFDdmM7SUFBUyxJQUFJLENBQUN6c0IsSUFBSSxrQkF6OUo4RXRpQiw4REFBRTtNQUFBNjlCLE9BQUEsR0F5OUo0Q2w1Qix3REFBVyxFQUFFQSx3REFBVztJQUFBLEVBQUk7RUFBRTtBQUNoTDtBQUNBO0VBQUEsUUFBQXVJLFNBQUEsb0JBQUFBLFNBQUEsS0EzOUpvR2xOLCtEQUFFLENBMjlKWCt1Qyx1QkFBdUIsRUFBYyxDQUFDO0lBQ3JIM2hDLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDb1YsWUFBWSxFQUFFLENBQUNvcUIsaUJBQWlCLEVBQUVPLG9CQUFvQixFQUFFTSxpQkFBaUIsRUFBRU0saUJBQWlCLEVBQUVXLDBCQUEwQixFQUFFTCxtQkFBbUIsQ0FBQztNQUM5SXhtQixTQUFTLEVBQUUsRUFBRTtNQUNiK1YsT0FBTyxFQUFFLENBQUNsNUIsd0RBQVcsQ0FBQztNQUN0QjZkLE9BQU8sRUFBRSxDQUFDN2Qsd0RBQVcsRUFBRWtvQyxpQkFBaUIsRUFBRU8sb0JBQW9CLEVBQUVNLGlCQUFpQixFQUFFTSxpQkFBaUIsRUFBRVcsMEJBQTBCLEVBQUVMLG1CQUFtQjtJQUN6SixDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7QUFFVixNQUFNVyxnQkFBZ0IsR0FBRyxlQUFlO0FBQ3hDLFNBQVNDLG1CQUFtQkEsQ0FBQzN4QixLQUFLLEVBQUU7RUFDaEMsT0FBT0EsS0FBSyxDQUFDek0sT0FBTyxDQUFDbStCLGdCQUFnQixFQUFFLENBQUMsR0FBR0UsQ0FBQyxLQUFLQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDeEU7QUFDQSxTQUFTQyx1QkFBdUJBLENBQUM1MEIsTUFBTSxFQUFFNjBCLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUU7RUFDOUQsTUFBTUMsSUFBSSxHQUFHQywyQkFBMkIsQ0FBQ2oxQixNQUFNLEVBQUU2MEIsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sQ0FBQztFQUN6RSxPQUFPL3ZDLGtFQUFpQixDQUFDa3dDLHlCQUF5QixDQUFDRixJQUFJLENBQUM7QUFDNUQ7QUFDQSxNQUFNQywyQkFBMkIsR0FBR0EsQ0FBQ2oxQixNQUFNLEVBQUU2MEIsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sTUFBTTtFQUN0RUksVUFBVSxFQUFFLElBQUk7RUFDaEJOLFFBQVEsRUFBRUEsUUFBUSxJQUFJLElBQUk7RUFDMUJDLEtBQUs7RUFDTE0sS0FBSyxFQUFFQyxRQUFRLENBQUNOLE1BQU0sQ0FBQztFQUN2Qk8sU0FBUyxFQUFFdDFCLE1BQU0sQ0FBQy9XLEdBQUcsQ0FBQ3NzQyxzQkFBc0I7QUFDaEQsQ0FBQyxDQUFDO0FBQ0YsTUFBTUYsUUFBUSxHQUFJcnBDLEtBQUssSUFBSy9HLHFGQUFnQyxDQUFDK0csS0FBSyxDQUFDO0FBQ25FLE1BQU11cEMsc0JBQXNCLEdBQUl2MUIsTUFBTSxLQUFNO0VBQ3hDNjBCLFFBQVEsRUFBRVcsbUJBQW1CLENBQUN4MUIsTUFBTSxDQUFDO0VBQ3JDZ0ksWUFBWSxFQUFFeXRCLGVBQWUsQ0FBQ3oxQixNQUFNO0FBQ3hDLENBQUMsQ0FBQztBQUNGLE1BQU13MUIsbUJBQW1CLEdBQUl4MUIsTUFBTSxJQUFLQSxNQUFNLENBQUMwMUIsTUFBTTtBQUNyRCxTQUFTRCxlQUFlQSxDQUFDejFCLE1BQU0sRUFBRTtFQUM3QixNQUFNdEMsSUFBSSxHQUFHbEIsS0FBSyxDQUFDaUIsSUFBSSxDQUFDdUMsTUFBTSxDQUFDdEMsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUN0QyxNQUFNaTRCLG9CQUFvQixHQUFHajRCLElBQUksQ0FBQ3pVLEdBQUcsQ0FBRXdPLFFBQVEsS0FBTTtJQUFFQSxRQUFRO0lBQUV6TCxLQUFLLEVBQUVnVSxNQUFNLENBQUM5UyxHQUFHLENBQUN1SyxRQUFRO0VBQUUsQ0FBQyxDQUFDLENBQUM7RUFDaEcsT0FBT3ZTLDhFQUF5QixDQUFDeXdDLG9CQUFvQixDQUFDO0FBQzFEO0FBRUEsTUFBTUMsMkJBQTJCLENBQUM7RUFDOUJwcUMsV0FBV0EsQ0FBQ3NULE1BQU0sRUFBRXcyQixTQUFTLEVBQUVULFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUU7SUFDcEQsSUFBSSxDQUFDajJCLE1BQU0sR0FBR0EsTUFBTTtJQUNwQixJQUFJLENBQUMrMUIsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHQSxLQUFLO0lBQ2xCLElBQUksQ0FBQ2UsWUFBWSxHQUFHLElBQUk7SUFDeEIsSUFBSSxDQUFDQyxtQkFBbUIsR0FBRyxFQUFFO0lBQzdCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsRUFBRTtJQUM1QixJQUFJLENBQUNDLFNBQVMsR0FBRyxLQUFLO0lBQ3RCLElBQUksQ0FBQ0MsUUFBUSxHQUFHLEtBQUs7SUFDckIsSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ1osU0FBUyxFQUFFVCxRQUFRLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxDQUFDO0VBQ2xFO0VBQ0EsSUFBSW9CLFNBQVNBLENBQUEsRUFBRztJQUNaLE9BQU8sSUFBSSxDQUFDckIsS0FBSyxHQUFHLElBQUksQ0FBQ0QsUUFBUTtFQUNyQztFQUNBdUIsSUFBSUEsQ0FBQSxFQUFHLENBQUU7RUFDVEMsVUFBVUEsQ0FBQSxFQUFHO0lBQ1QsT0FBTyxJQUFJLENBQUNKLFFBQVE7RUFDeEI7RUFDQUssT0FBT0EsQ0FBQzczQixFQUFFLEVBQUU7SUFDUixJQUFJLENBQUNxM0IsbUJBQW1CLENBQUMzb0MsSUFBSSxDQUFDc1IsRUFBRSxDQUFDO0VBQ3JDO0VBQ0E4M0IsTUFBTUEsQ0FBQzkzQixFQUFFLEVBQUU7SUFDUCxJQUFJLENBQUNzM0Isa0JBQWtCLENBQUM1b0MsSUFBSSxDQUFDc1IsRUFBRSxDQUFDO0VBQ3BDO0VBQ0Ftb0IsU0FBU0EsQ0FBQ25vQixFQUFFLEVBQUU7SUFDVixJQUFJLENBQUNzM0Isa0JBQWtCLENBQUM1b0MsSUFBSSxDQUFDc1IsRUFBRSxDQUFDO0VBQ3BDO0VBQ0ErM0IsSUFBSUEsQ0FBQSxFQUFHO0lBQ0gsSUFBSTNqQyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNXLGFBQWEsQ0FBRSxrQ0FBaUMsQ0FBQztJQUN2RTtJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNpakMsU0FBUyxFQUFFO01BQ2pCO0lBQ0o7SUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDUixRQUFRLEVBQUU7TUFDaEIsSUFBSSxDQUFDQSxRQUFRLEdBQUcsSUFBSTtNQUNwQixJQUFJLENBQUNILG1CQUFtQixDQUFDdm9DLE9BQU8sQ0FBRWtSLEVBQUUsSUFBS0EsRUFBRSxDQUFDLENBQUMsQ0FBQztNQUM5QyxJQUFJLENBQUNxM0IsbUJBQW1CLEdBQUcsRUFBRTtJQUNqQztJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQ2gzQixNQUFNLENBQUMyQixRQUFRLEVBQUU7TUFDdEIsSUFBSSxDQUFDaTJCLGFBQWEsQ0FBQyxDQUFDO0lBQ3hCLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQzUzQixNQUFNLENBQUN6UixFQUFFLENBQUM3TCxvREFBSSxDQUFDeWdCLFdBQVcsRUFBRSxJQUFJLENBQUMwMEIsY0FBYyxDQUFDejNCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRTtFQUNKO0VBQ0F5M0IsY0FBY0EsQ0FBQy9qQyxJQUFJLEVBQUU7SUFDakIsSUFBSSxDQUFDa00sTUFBTSxDQUFDdFIsR0FBRyxDQUFDaE0sb0RBQUksQ0FBQ3lnQixXQUFXLEVBQUUsSUFBSSxDQUFDMDBCLGNBQWMsQ0FBQztJQUN0RCxJQUFJLENBQUNELGFBQWEsQ0FBQyxDQUFDO0VBQ3hCO0VBQ0FBLGFBQWFBLENBQUEsRUFBRztJQUNaLElBQUksQ0FBQ0QsU0FBUyxDQUNURCxJQUFJLENBQUMsSUFBSSxDQUFDMTNCLE1BQU0sQ0FBQyxDQUNqQjZtQixJQUFJLENBQUMsTUFBTSxJQUFJLENBQUNpUixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQzNCdk8sS0FBSyxDQUFFd08sRUFBRSxJQUFLLENBQUUsQ0FBQyxDQUFDO0VBQzNCO0VBQ0FDLEtBQUtBLENBQUEsRUFBRyxDQUFFO0VBQ1ZDLE1BQU1BLENBQUEsRUFBRztJQUNMLElBQUksQ0FBQ0gsUUFBUSxDQUFDLENBQUM7RUFDbkI7RUFDQUksS0FBS0EsQ0FBQSxFQUFHO0lBQ0osSUFBSW5rQyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNXLGFBQWEsQ0FBRSxtQ0FBa0MsQ0FBQztJQUN4RTtJQUNBLElBQUksSUFBSSxDQUFDaWpDLFNBQVMsSUFBSSxJQUFJLENBQUNBLFNBQVMsQ0FBQ1EsU0FBUyxFQUFFO01BQzVDLElBQUksQ0FBQ1IsU0FBUyxDQUFDUyxNQUFNLENBQUMsQ0FBQztJQUMzQjtFQUNKO0VBQ0FDLE9BQU9BLENBQUEsRUFBRztJQUNOLElBQUl0a0MsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDVyxhQUFhLENBQUUscUNBQW9DLENBQUM7SUFDMUU7SUFDQSxJQUFJLENBQUN3akMsS0FBSyxDQUFDLENBQUM7SUFDWixJQUFJLENBQUNSLElBQUksQ0FBQyxDQUFDO0VBQ2Y7RUFDQXoxQixPQUFPQSxDQUFBLEVBQUc7SUFDTixJQUFJbE8saUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDVyxhQUFhLENBQUUscUNBQW9DLENBQUM7SUFDMUU7SUFDQSxJQUFJLENBQUNvakMsUUFBUSxDQUFDLENBQUM7RUFDbkI7RUFDQVEsV0FBV0EsQ0FBQ0MsRUFBRSxFQUFFO0lBQ1osTUFBTSxJQUFJaGlDLEtBQUssQ0FBQyxzREFBc0QsQ0FBQztFQUMzRTtFQUNBaWlDLFdBQVdBLENBQUEsRUFBRztJQUNWLE9BQU8sQ0FBQztFQUNaO0VBQ0FwQixxQkFBcUJBLENBQUNaLFNBQVMsRUFBRVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRTtJQUN0RCxJQUFJbGlDLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ1csYUFBYSxDQUFFLG1EQUFrRCxDQUFDO0lBQ3hGO0lBQ0EsSUFBSSxDQUFDaWpDLFNBQVMsR0FBRzdCLHVCQUF1QixDQUFDVSxTQUFTLEVBQUVULFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLENBQUM7RUFDaEY7RUFDQTZCLFFBQVFBLENBQUEsRUFBRztJQUNQLElBQUkvakMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDVyxhQUFhLENBQUUsc0NBQXFDLENBQUM7SUFDM0U7SUFDQSxJQUFJLElBQUksQ0FBQ3dpQyxTQUFTLEVBQUU7TUFDaEI7SUFDSjtJQUNBLElBQUksQ0FBQ0EsU0FBUyxHQUFHLElBQUk7SUFDckIsSUFBSSxDQUFDQyxRQUFRLEdBQUcsS0FBSztJQUNyQixJQUFJLENBQUNGLGtCQUFrQixDQUFDeG9DLE9BQU8sQ0FBRWtSLEVBQUUsSUFBS0EsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3QyxJQUFJLENBQUNzM0Isa0JBQWtCLEdBQUcsRUFBRTtFQUNoQztBQUNKO0FBRUEsTUFBTXdCLFFBQVEsQ0FBQztFQUNYL3JDLFdBQVdBLENBQUNnc0MsV0FBVyxFQUFFO0lBQ3JCLElBQUksQ0FBQ3RlLEtBQUssQ0FBQ3NlLFdBQVcsQ0FBQztFQUMzQjtFQUNBQyxLQUFLQSxDQUFDOXBDLE9BQU8sRUFBRTtJQUNYLE9BQU8sSUFBSSxDQUFDK3BDLGVBQWUsQ0FBQy9wQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUNncUMsbUJBQW1CLENBQUNocUMsT0FBTyxDQUFDO0VBQzdFO0VBQ0F1ckIsS0FBS0EsQ0FBQ3NlLFdBQVcsRUFBRTtJQUNmLE1BQU12eEIsU0FBUyxHQUFHdXhCLFdBQVcsQ0FBQzk3QixLQUFLLENBQUMsR0FBRyxDQUFDLENBQUN6UyxHQUFHLENBQUVnWCxDQUFDLElBQUtBLENBQUMsQ0FBQzIzQixJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzdELElBQUksQ0FBQ0MsV0FBVyxHQUFHNXhCLFNBQVMsQ0FBQ2hkLEdBQUcsQ0FBQzlELDBEQUFTLENBQUMyeUMsY0FBYyxDQUFDO0lBQzFELElBQUksQ0FBQ0MsY0FBYyxHQUFHOXhCLFNBQVMsQ0FBQ2xkLE1BQU0sQ0FBRWtYLENBQUMsSUFBS0EsQ0FBQyxDQUFDKzNCLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDL3VDLEdBQUcsQ0FBRWdYLENBQUMsSUFBS0EsQ0FBQyxDQUFDZzRCLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUMvRjtFQUNBUCxlQUFlQSxDQUFDL3BDLE9BQU8sRUFBRTtJQUNyQixPQUFPLElBQUksQ0FBQ2txQyxXQUFXLENBQUNLLElBQUksQ0FBRWo0QixDQUFDLElBQUtBLENBQUMsQ0FBQ3czQixLQUFLLENBQUM5cEMsT0FBTyxDQUFDLENBQUM7RUFDekQ7RUFDQWdxQyxtQkFBbUJBLENBQUNocUMsT0FBTyxFQUFFO0lBQ3pCLE9BQU8sSUFBSSxDQUFDb3FDLGNBQWMsQ0FBQ0csSUFBSSxDQUFFajRCLENBQUMsSUFBSyxJQUFJLENBQUNrNEIsUUFBUSxDQUFDeHFDLE9BQU8sRUFBRXNTLENBQUMsQ0FBQyxDQUFDO0VBQ3JFO0VBQ0E7RUFDQTtFQUNBO0VBQ0FrNEIsUUFBUUEsQ0FBQ3hxQyxPQUFPLEVBQUV5cUMsR0FBRyxFQUFFO0lBQ25CLE9BQU96cUMsT0FBTyxJQUFJQSxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUlBLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQ3lxQyxHQUFHLENBQUM7RUFDdkU7QUFDSjtBQUNBLE1BQU1DLDJCQUEyQixDQUFDO0VBQzlCO0lBQVMsSUFBSSxDQUFDQyxlQUFlLEdBQUcsQ0FBQyxHQUFHbHpDLHFFQUFvQixDQUFDbXpDLGlCQUFpQixDQUFDLENBQUMsRUFBRSxXQUFXLENBQUM7RUFBRTtFQUM1RkMsZ0JBQWdCQSxDQUFDN3FDLE9BQU8sRUFBRTtJQUN0QixPQUFPQSxPQUFPLEVBQUVhLE1BQU07RUFDMUI7RUFDQWlxQyxxQkFBcUJBLENBQUNoaEMsUUFBUSxFQUFFO0lBQzVCNUUsaUJBQWlCLENBQUNXLGFBQWEsQ0FBRSwrQ0FBOENpRSxRQUFTLEVBQUMsQ0FBQztJQUMxRixPQUFPNGdDLDJCQUEyQixDQUFDQyxlQUFlLENBQUM3aUMsT0FBTyxDQUFDZ0MsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQy9FO0VBQ0FpaEMsY0FBY0EsQ0FBQy9xQyxPQUFPLEVBQUU2cEMsV0FBVyxFQUFFO0lBQ2pDM2tDLGlCQUFpQixDQUFDVyxhQUFhLENBQUUsNkNBQTRDLEdBQUksWUFBVzdGLE9BQVEsZUFBYzZwQyxXQUFZLEVBQUMsQ0FBQztJQUNoSSxNQUFNbnhCLFFBQVEsR0FBRyxJQUFJLENBQUNzeUIsWUFBWSxDQUFDbkIsV0FBVyxDQUFDO0lBQy9DLE9BQU9ueEIsUUFBUSxDQUFDb3hCLEtBQUssQ0FBQzlwQyxPQUFPLENBQUM7RUFDbEM7RUFDQWlyQyxlQUFlQSxDQUFDQyxJQUFJLEVBQUVDLElBQUksRUFBRTtJQUN4QmptQyxpQkFBaUIsQ0FBQ1csYUFBYSxDQUFFLDhDQUE2QyxHQUFJLGFBQVlxbEMsSUFBSyxlQUFjQyxJQUFLLEVBQUMsQ0FBQztJQUN4SDtJQUNBLElBQUlELElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtNQUNwQixPQUFPLElBQUk7SUFDZjtJQUNBLE1BQU10WixNQUFNLEdBQUc7TUFBRXdaLFlBQVksRUFBRUQ7SUFBSyxDQUFDO0lBQ3JDLE1BQU1yM0IsTUFBTSxHQUFHLElBQUksQ0FBQ3UzQixnQkFBZ0IsQ0FBQ0gsSUFBSSxFQUFFSSxXQUFXLEVBQUUxWixNQUFNLENBQUM7SUFDL0QsT0FBTzlkLE1BQU0sQ0FBQ3kzQixLQUFLO0VBQ3ZCO0VBQ0FDLEtBQUtBLENBQUN4ckMsT0FBTyxFQUFFNnBDLFdBQVcsRUFBRXZULEtBQUssRUFBRTtJQUMvQnB4QixpQkFBaUIsQ0FBQ1csYUFBYSxDQUFFLG9DQUFtQyxHQUFJLFlBQVc3RixPQUFRLGVBQWM2cEMsV0FBWSxHQUFFLEdBQUksVUFBU3ZULEtBQU0sRUFBQyxDQUFDO0lBQzVJLE1BQU01ZCxRQUFRLEdBQUcsSUFBSSxDQUFDc3lCLFlBQVksQ0FBQ25CLFdBQVcsQ0FBQztJQUMvQyxNQUFNalksTUFBTSxHQUFHO01BQUVsWixRQUFRO01BQUU0ZDtJQUFNLENBQUM7SUFDbEMsTUFBTXhpQixNQUFNLEdBQUcsSUFBSSxDQUFDdTNCLGdCQUFnQixDQUFDcnJDLE9BQU8sRUFBRXlyQyxnQkFBZ0IsRUFBRTdaLE1BQU0sQ0FBQztJQUN2RSxPQUFPOWQsTUFBTSxDQUFDNDNCLE9BQU8sSUFBSSxFQUFFO0VBQy9CO0VBQ0FDLFlBQVlBLENBQUMzckMsT0FBTyxFQUFFbU8sSUFBSSxFQUFFO0lBQ3hCakosaUJBQWlCLENBQUNXLGFBQWEsQ0FBRSwyQ0FBMEMsR0FBSSxZQUFXN0YsT0FBUSxXQUFVbU8sSUFBSyxFQUFDLENBQUM7SUFDbkgsTUFBTXk5QixhQUFhLEdBQUc5RSxtQkFBbUIsQ0FBQzM0QixJQUFJLENBQUM7SUFDL0MsT0FBT25PLE9BQU8sQ0FBQ21RLEtBQUssQ0FBQ3k3QixhQUFhLENBQUM7RUFDdkM7RUFDQUMsT0FBT0EsQ0FBQzdyQyxPQUFPLEVBQUUybkMsU0FBUyxFQUFFVCxRQUFRLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFO0lBQ2pEbGlDLGlCQUFpQixDQUFDVyxhQUFhLENBQUUsc0NBQXFDLEdBQUksWUFBVzdGLE9BQVEsZ0JBQWUybkMsU0FBVSxHQUFFLEdBQUksYUFBWVQsUUFBUyxZQUFXQyxLQUFNLEdBQUUsR0FBSSxXQUFVQyxNQUFPLEVBQUMsQ0FBQztJQUMzTCxPQUFPLElBQUlhLDJCQUEyQixDQUFDam9DLE9BQU8sRUFBRTJuQyxTQUFTLEVBQUVULFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLENBQUM7RUFDdkY7RUFDQTRELFlBQVlBLENBQUNuQixXQUFXLEVBQUU7SUFDdEIsT0FBTyxJQUFJRCxRQUFRLENBQUNDLFdBQVcsQ0FBQztFQUNwQztFQUNBd0IsZ0JBQWdCQSxDQUFDcnJDLE9BQU8sRUFBRVosRUFBRSxFQUFFMHNDLFFBQVEsRUFBRTtJQUNwQyxNQUFNaDRCLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDakI7SUFDQXBjLG1FQUFjLENBQUNzSSxPQUFPLEVBQUd3SCxLQUFLLElBQUtwSSxFQUFFLENBQUNvSSxLQUFLLEVBQUVzTSxNQUFNLEVBQUVnNEIsUUFBUSxDQUFDLENBQUM7SUFDL0QsT0FBT2g0QixNQUFNO0VBQ2pCO0FBQ0o7QUFDQSxTQUFTdzNCLFdBQVdBLENBQUN0ckMsT0FBTyxFQUFFOFQsTUFBTSxFQUFFOGQsTUFBTSxFQUFFO0VBQzFDLElBQUk1eEIsT0FBTyxLQUFLNHhCLE1BQU0sQ0FBQ3daLFlBQVksRUFBRTtJQUNqQ3QzQixNQUFNLENBQUN5M0IsS0FBSyxHQUFHLElBQUk7RUFDdkI7RUFDQSxPQUFPLENBQUN6M0IsTUFBTSxDQUFDeTNCLEtBQUs7QUFDeEI7QUFDQSxTQUFTRSxnQkFBZ0JBLENBQUN6ckMsT0FBTyxFQUFFOFQsTUFBTSxFQUFFOGQsTUFBTSxFQUFFO0VBQy9DLElBQUksQ0FBQzlkLE1BQU0sQ0FBQzQzQixPQUFPLEVBQUU7SUFDakI1M0IsTUFBTSxDQUFDNDNCLE9BQU8sR0FBRyxFQUFFO0VBQ3ZCO0VBQ0EsTUFBTTtJQUFFaHpCLFFBQVE7SUFBRTRkO0VBQU0sQ0FBQyxHQUFHMUUsTUFBTTtFQUNsQztFQUNBO0VBQ0E7RUFDQSxJQUFJNXhCLE9BQU8sWUFBWWpDLGFBQWEsSUFBSSxDQUFDMmEsUUFBUSxDQUFDb3hCLEtBQUssQ0FBQzlwQyxPQUFPLENBQUMsRUFBRTtJQUM5RCxPQUFPLElBQUk7RUFDZjtFQUNBLElBQUlBLE9BQU8sWUFBWWhNLGtFQUFrQixFQUFFO0lBQ3ZDZ00sT0FBTyxDQUFDK3JDLFNBQVMsQ0FBRXZrQyxLQUFLLElBQUs7TUFDekJzTSxNQUFNLENBQUM0M0IsT0FBTyxDQUFDbHNDLElBQUksQ0FBQ2dJLEtBQUssQ0FBQztNQUMxQixPQUFPLElBQUk7SUFDZixDQUFDLENBQUM7RUFDTixDQUFDLE1BQ0k7SUFDRHNNLE1BQU0sQ0FBQzQzQixPQUFPLENBQUNsc0MsSUFBSSxDQUFDUSxPQUFPLENBQUM7RUFDaEM7RUFDQSxPQUFPczJCLEtBQUs7QUFDaEI7QUFFQSxNQUFNMFYseUJBQXlCLFNBQVN2dkMsNkVBQWdCLENBQUM7RUFDckRvQixXQUFXQSxDQUFDb3VDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7SUFDakMsS0FBSyxDQUFDRixHQUFHLENBQUM5UCxJQUFJLEVBQUUrUCxNQUFNLEVBQUVDLFVBQVUsQ0FBQztFQUN2QztFQUNBO0lBQVMsSUFBSSxDQUFDNW5DLElBQUksWUFBQTZuQyxrQ0FBQXh0QyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3Rm90Qyx5QkFBeUIsRUExdEtuQ3AwQyxzREFBRSxDQTB0S21Ec0Qsc0RBQVEsR0ExdEs3RHRELHNEQUFFLENBMHRLd0U0RSx5RUFBb0IsR0ExdEs5RjVFLHNEQUFFLENBMHRLeUc0RSxzRkFBOEI7SUFBQSxDQUE2QztFQUFFO0VBQ3hSO0lBQVMsSUFBSSxDQUFDaUksS0FBSyxrQkEzdEs2RTdNLGdFQUFFO01BQUErTSxLQUFBLEVBMnRLWXFuQyx5QkFBeUI7TUFBQXBuQyxPQUFBLEVBQXpCb25DLHlCQUF5QixDQUFBem5DO0lBQUEsRUFBRztFQUFFO0FBQ2hKO0FBQ0E7RUFBQSxRQUFBTyxTQUFBLG9CQUFBQSxTQUFBLEtBN3RLb0dsTiwrREFBRSxDQTZ0S1hvMEMseUJBQXlCLEVBQWMsQ0FBQztJQUN2SGhuQyxJQUFJLEVBQUVoTixxREFBVUE7RUFDcEIsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFZ04sSUFBSSxFQUFFN0IsU0FBUztJQUFFc2IsVUFBVSxFQUFFLENBQUM7TUFDL0N6WixJQUFJLEVBQUVsTixpREFBTTtNQUNabU4sSUFBSSxFQUFFLENBQUMvSixzREFBUTtJQUNuQixDQUFDO0VBQUUsQ0FBQyxFQUFFO0lBQUU4SixJQUFJLEVBQUV4SSx5RUFBb0JHO0VBQUMsQ0FBQyxFQUFFO0lBQUVxSSxJQUFJLEVBQUV4SSxzRkFBOEJJO0VBQUMsQ0FBQyxDQUFDO0FBQUE7QUFDL0YsU0FBU3l2QyxtQ0FBbUNBLENBQUEsRUFBRztFQUMzQyxPQUFPLElBQUkzQiwyQkFBMkIsQ0FBQyxDQUFDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzRCLGlDQUFpQ0EsQ0FBQSxFQUFHO0VBQ3pDLE9BQU8sSUFBSTV2QywwRkFBNkIsQ0FBQyxDQUFDO0FBQzlDO0FBQ0EsTUFBTTZ2Qyw0QkFBNEIsQ0FBQztFQUMvQjF1QyxXQUFXQSxDQUFDNmtCLFlBQVksRUFBRTtJQUN0QjtJQUNBRCxvQkFBb0IsQ0FBQ0MsWUFBWSxFQUFFLDhCQUE4QixDQUFDO0VBQ3RFO0VBQ0E7SUFBUyxJQUFJLENBQUNuZSxJQUFJLFlBQUFpb0MscUNBQUE1dEMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0YydEMsNEJBQTRCLEVBanZLdEMzMEMsc0RBQUUsQ0FpdktzRDIwQyw0QkFBNEI7SUFBQSxDQUEyRTtFQUFFO0VBQ2pRO0lBQVMsSUFBSSxDQUFDdnlCLElBQUksa0JBbHZLOEVwaUIsOERBQUU7TUFBQW9OLElBQUEsRUFrdktTdW5DO0lBQTRCLEVBQXdDO0VBQUU7RUFDakw7SUFBUyxJQUFJLENBQUNyeUIsSUFBSSxrQkFudks4RXRpQiw4REFBRTtNQUFBOG5CLFNBQUEsRUFtdktrRCxDQUM1STtRQUNJTCxPQUFPLEVBQUUxaUIseUVBQWU7UUFDeEIyaUIsVUFBVSxFQUFFK3NCO01BQ2hCLENBQUM7TUFDRDtNQUNBO1FBQ0lodEIsT0FBTyxFQUFFemlCLHNGQUF5QjtRQUNsQzBpQixVQUFVLEVBQUVndEI7TUFDaEIsQ0FBQyxFQUNEO1FBQUVqdEIsT0FBTyxFQUFFNWlCLDZFQUFnQjtRQUFFNDVCLFFBQVEsRUFBRTJWO01BQTBCO01BQ2pFO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFBQSxDQUNIO01BQUF2VyxPQUFBLEdBQVlGLHdCQUF3QjtJQUFBLEVBQUk7RUFBRTtBQUNuRDtBQUNBO0VBQUEsUUFBQXp3QixTQUFBLG9CQUFBQSxTQUFBLEtBcndLb0dsTiwrREFBRSxDQXF3S1gyMEMsNEJBQTRCLEVBQWMsQ0FBQztJQUMxSHZuQyxJQUFJLEVBQUV6TSxtREFBUTtJQUNkME0sSUFBSSxFQUFFLENBQUM7TUFDQ3d3QixPQUFPLEVBQUUsQ0FBQ0Ysd0JBQXdCLENBQUM7TUFDbkM3VixTQUFTLEVBQUUsQ0FDUDtRQUNJTCxPQUFPLEVBQUUxaUIseUVBQWU7UUFDeEIyaUIsVUFBVSxFQUFFK3NCO01BQ2hCLENBQUM7TUFDRDtNQUNBO1FBQ0lodEIsT0FBTyxFQUFFemlCLHNGQUF5QjtRQUNsQzBpQixVQUFVLEVBQUVndEI7TUFDaEIsQ0FBQyxFQUNEO1FBQUVqdEIsT0FBTyxFQUFFNWlCLDZFQUFnQjtRQUFFNDVCLFFBQVEsRUFBRTJWO01BQTBCO01BQ2pFO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFBQTtJQUVSLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVobkMsSUFBSSxFQUFFdW5DLDRCQUE0QjtJQUFFOXRCLFVBQVUsRUFBRSxDQUFDO01BQ2xFelosSUFBSSxFQUFFOU0sbURBQVFBO0lBQ2xCLENBQUMsRUFBRTtNQUNDOE0sSUFBSSxFQUFFdEwsbURBQVFBO0lBQ2xCLENBQUM7RUFBRSxDQUFDLENBQUM7QUFBQTtBQUVyQixTQUFTK3lDLGNBQWNBLENBQUN6aEIsR0FBRyxFQUFFO0VBQ3pCLE9BQU9BLEdBQUcsQ0FBQ2xqQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJa2pCLEdBQUcsQ0FBQ2xqQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztBQUMzRDtBQUNBLFNBQVM0a0MsZUFBZUEsQ0FBQzFoQixHQUFHLEVBQUUyaEIsWUFBWSxFQUFFO0VBQ3hDM2hCLEdBQUcsR0FBR0EsR0FBRyxDQUFDdGlCLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUNBLE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDO0VBQzNDc2lCLEdBQUcsR0FBR3J6QixxREFBSSxDQUFDcVksSUFBSSxDQUFDMjhCLFlBQVksQ0FBQzFKLFVBQVUsQ0FBQyxDQUFDLENBQUN0ckMsSUFBSSxFQUFFcXpCLEdBQUcsQ0FBQztFQUNwRCxPQUFPQSxHQUFHO0FBQ2Q7QUFDQSxTQUFTNGhCLHVCQUF1QkEsQ0FBQzVoQixHQUFHLEVBQUUyaEIsWUFBWSxFQUFFRSxlQUFlLEVBQUVDLGFBQWEsRUFBRTtFQUNoRjloQixHQUFHLEdBQUcwaEIsZUFBZSxDQUFDMWhCLEdBQUcsRUFBRTJoQixZQUFZLENBQUM7RUFDeEM7RUFDQSxPQUFPLElBQUk5d0MsNkNBQVksQ0FBRWt4QyxRQUFRLElBQUs7SUFDbEMsSUFBSUosWUFBWSxDQUFDdkosVUFBVSxDQUFDcFksR0FBRyxDQUFDLEVBQUU7TUFDOUIsTUFBTWdpQixTQUFTLEdBQUdMLFlBQVksQ0FBQ3pKLFlBQVksQ0FBQ2xZLEdBQUcsQ0FBQztNQUNoRGdpQixTQUFTLENBQUNDLFFBQVEsQ0FBQyxDQUFDLENBQUNqVixJQUFJLENBQUU3a0IsSUFBSSxJQUFLO1FBQ2hDLElBQUk7VUFDQSxNQUFNKzVCLElBQUksR0FBR0MsSUFBSSxDQUFDNWhCLEtBQUssQ0FBQ3BZLElBQUksQ0FBQztVQUM3QjQ1QixRQUFRLENBQUNqckMsSUFBSSxDQUFDK3FDLGVBQWUsQ0FBQzdoQixHQUFHLEVBQUVraUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1VBQzlDSCxRQUFRLENBQUMxb0MsUUFBUSxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUNELE9BQU8rQixLQUFLLEVBQUU7VUFDVjtVQUNBO1VBQ0EsTUFBTWduQyxXQUFXLEdBQUc7WUFBRWhuQyxLQUFLO1lBQUUxSCxJQUFJLEVBQUV5VTtVQUFLLENBQUM7VUFDekM0NUIsUUFBUSxDQUFDM21DLEtBQUssQ0FBQzBtQyxhQUFhLENBQUM5aEIsR0FBRyxFQUFFb2lCLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN4RDtNQUNKLENBQUMsRUFBRy9iLEdBQUcsSUFBSztRQUNSMGIsUUFBUSxDQUFDM21DLEtBQUssQ0FBQzBtQyxhQUFhLENBQUM5aEIsR0FBRyxFQUFFcUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO01BQ2hELENBQUMsQ0FBQztJQUNOLENBQUMsTUFDSTtNQUNEMGIsUUFBUSxDQUFDM21DLEtBQUssQ0FBQzBtQyxhQUFhLENBQUM5aEIsR0FBRyxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN4RDtFQUNKLENBQUMsQ0FBQztBQUNOO0FBRUEsTUFBTXFpQixhQUFhLFNBQVN4d0MsaUVBQWMsQ0FBQztFQUN2Q2dCLFdBQVdBLENBQUN5dkMsVUFBVSxFQUFFWCxZQUFZLEVBQUU7SUFDbEMsS0FBSyxDQUFDVyxVQUFVLENBQUM7SUFDakIsSUFBSSxDQUFDWCxZQUFZLEdBQUdBLFlBQVk7RUFDcEM7RUFDQVksTUFBTUEsQ0FBQ0MsR0FBRyxFQUFFO0lBQ1IsSUFBSTE1QixNQUFNO0lBQ1YsSUFBSTI0QixjQUFjLENBQUNlLEdBQUcsQ0FBQ3hpQixHQUFHLENBQUMsRUFBRTtNQUN6QmxYLE1BQU0sR0FBRyxJQUFJLENBQUMyNUIsc0JBQXNCLENBQUNELEdBQUcsQ0FBQ3hpQixHQUFHLENBQUM7SUFDakQsQ0FBQyxNQUNJO01BQ0RsWCxNQUFNLEdBQUcsS0FBSyxDQUFDeTVCLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDO0lBQzlCO0lBQ0EsT0FBTzE1QixNQUFNO0VBQ2pCO0VBQ0EyNUIsc0JBQXNCQSxDQUFDemlCLEdBQUcsRUFBRTtJQUN4QixPQUFPNGhCLHVCQUF1QixDQUFDNWhCLEdBQUcsRUFBRSxJQUFJLENBQUMyaEIsWUFBWSxFQUFFZSxxQkFBcUIsRUFBRUMsbUJBQW1CLENBQUM7RUFDdEc7RUFDQTtJQUFTLElBQUksQ0FBQ3BwQyxJQUFJLFlBQUFxcEMsc0JBQUFodkMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Z5dUMsYUFBYSxFQXYxS3ZCejFDLHNEQUFFLENBdTFLdUNnRCx3REFBZSxHQXYxS3hEaEQsc0RBQUUsQ0F1MUttRW9yQyxZQUFZO0lBQUEsQ0FBNkM7RUFBRTtFQUNoTztJQUFTLElBQUksQ0FBQ3YrQixLQUFLLGtCQXgxSzZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUF3MUtZMG9DLGFBQWE7TUFBQXpvQyxPQUFBLEVBQWJ5b0MsYUFBYSxDQUFBOW9DO0lBQUEsRUFBRztFQUFFO0FBQ3BJO0FBQ0E7RUFBQSxRQUFBTyxTQUFBLG9CQUFBQSxTQUFBLEtBMTFLb0dsTiwrREFBRSxDQTAxS1h5MUMsYUFBYSxFQUFjLENBQUM7SUFDM0dyb0MsSUFBSSxFQUFFaE4scURBQVVBO0VBQ3BCLENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRWdOLElBQUksRUFBRXBLLHdEQUFlQztFQUFDLENBQUMsRUFBRTtJQUFFbUssSUFBSSxFQUFFZytCO0VBQWEsQ0FBQyxDQUFDO0FBQUE7QUFDckYsU0FBUzBLLHFCQUFxQkEsQ0FBQzFpQixHQUFHLEVBQUVtUixJQUFJLEVBQUUwUixNQUFNLEVBQUU7RUFDOUMsT0FBTyxJQUFJL3dDLCtEQUFZLENBQUM7SUFDcEJrdUIsR0FBRztJQUNIbVIsSUFBSTtJQUNKMFIsTUFBTTtJQUNOQyxVQUFVLEVBQUU7RUFDaEIsQ0FBQyxDQUFDO0FBQ047QUFDQSxTQUFTSCxtQkFBbUJBLENBQUMzaUIsR0FBRyxFQUFFbVIsSUFBSSxFQUFFMFIsTUFBTSxFQUFFO0VBQzVDLE9BQU8sSUFBSTl3QyxvRUFBaUIsQ0FBQztJQUN6Qml1QixHQUFHO0lBQ0g1a0IsS0FBSyxFQUFFKzFCLElBQUk7SUFDWDBSLE1BQU07SUFDTkMsVUFBVSxFQUFFO0VBQ2hCLENBQUMsQ0FBQztBQUNOO0FBRUEsTUFBTUMsNEJBQTRCLENBQUM7RUFDL0I7SUFBUyxJQUFJLENBQUN4cEMsSUFBSSxZQUFBeXBDLHFDQUFBcHZDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGbXZDLDRCQUE0QjtJQUFBLENBQWtEO0VBQUU7RUFDMUw7SUFBUyxJQUFJLENBQUMvekIsSUFBSSxrQkFoM0s4RXBpQiw4REFBRTtNQUFBb04sSUFBQSxFQWczS1Mrb0M7SUFBNEIsRUFBNkQ7RUFBRTtFQUN0TTtJQUFTLElBQUksQ0FBQzd6QixJQUFJLGtCQWozSzhFdGlCLDhEQUFFO01BQUE4bkIsU0FBQSxFQWkzS2tELENBQUNzakIsWUFBWSxFQUFFcUssYUFBYSxFQUFFO1FBQUVodUIsT0FBTyxFQUFFcGlCLDhEQUFXO1FBQUU2cEIsV0FBVyxFQUFFdW1CO01BQWMsQ0FBQyxDQUFDO01BQUE1WCxPQUFBLEdBQVl6NEIsbUVBQWdCLEVBQUVBLG1FQUFnQjtJQUFBLEVBQUk7RUFBRTtBQUMvUjtBQUNBO0VBQUEsUUFBQThILFNBQUEsb0JBQUFBLFNBQUEsS0FuM0tvR2xOLCtEQUFFLENBbTNLWG0yQyw0QkFBNEIsRUFBYyxDQUFDO0lBQzFIL29DLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDeWEsU0FBUyxFQUFFLENBQUNzakIsWUFBWSxFQUFFcUssYUFBYSxFQUFFO1FBQUVodUIsT0FBTyxFQUFFcGlCLDhEQUFXO1FBQUU2cEIsV0FBVyxFQUFFdW1CO01BQWMsQ0FBQyxDQUFDO01BQzlGNVgsT0FBTyxFQUFFLENBQUN6NEIsbUVBQWdCLENBQUM7TUFDM0JvZCxPQUFPLEVBQUUsQ0FBQ3BkLG1FQUFnQjtJQUM5QixDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU2l4QyxrQ0FBa0NBLENBQUNDLGNBQWMsRUFBRTtFQUN4RDtFQUNBLE9BQU9BLGNBQWM7RUFDckI7RUFDQTtFQUNBO0VBQ0E7RUFDQTtBQUNKO0FBQ0EsTUFBTUMseUJBQXlCLEdBQUdqckIsTUFBTSxDQUFDLHVCQUF1QixDQUFDO0FBQ2pFLE1BQU1rckIsZUFBZSxHQUFHbHJCLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDNUMsU0FBU21yQixtQkFBbUJBLENBQUN2ekIsWUFBWSxFQUFFO0VBQ3ZDLElBQUlBLFlBQVksRUFBRTtJQUNkLE1BQU13ekIsU0FBUyxHQUFHeHpCLFlBQVksQ0FBQ3N6QixlQUFlLENBQUM7SUFDL0MsSUFBSUUsU0FBUyxFQUFFO01BQ1hBLFNBQVMsQ0FBQ2w3QixPQUFPLENBQUMsQ0FBQztJQUN2QjtJQUNBMEgsWUFBWSxDQUFDMUgsT0FBTyxDQUFDLENBQUM7RUFDMUI7QUFDSjtBQUVBLE1BQU1tN0IsY0FBYyxHQUFHLFNBQUFBLENBQVVDLFFBQVEsRUFBRTtFQUN2QyxPQUFPQSxRQUFRLENBQUNDLFlBQVksQ0FBQ3orQixJQUFJLENBQUMsSUFBSSxDQUFDO0FBQzNDLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxNQUFNMCtCLGtCQUFrQixDQUFDO0VBQ3JCN3dDLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQzh3QyxLQUFLLEdBQUcsSUFBSTkvQixLQUFLLENBQUMsQ0FBQztFQUM1QjtFQUNBLElBQUl4RixNQUFNQSxDQUFBLEVBQUc7SUFDVCxPQUFPLElBQUksQ0FBQ3NsQyxLQUFLLENBQUN0bEMsTUFBTTtFQUM1QjtFQUNBN0osSUFBSUEsQ0FBQ292QyxTQUFTLEVBQUU7SUFDWixJQUFJLENBQUNELEtBQUssQ0FBQ252QyxJQUFJLENBQUNvdkMsU0FBUyxDQUFDO0VBQzlCO0VBQ0E3aEIsR0FBR0EsQ0FBQSxFQUFHO0lBQ0YsT0FBTyxJQUFJLENBQUM0aEIsS0FBSyxDQUFDNWhCLEdBQUcsQ0FBQyxDQUFDO0VBQzNCO0VBQ0E4aEIsSUFBSUEsQ0FBQSxFQUFHO0lBQ0gsT0FBTyxJQUFJLENBQUNGLEtBQUssQ0FBQyxJQUFJLENBQUNBLEtBQUssQ0FBQ3RsQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0VBQzVDO0VBQ0F1RyxLQUFLQSxDQUFBLEVBQUc7SUFDSixJQUFJMUssaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDc0IscUJBQXFCLENBQUUsOEJBQTZCLElBQUksQ0FBQ21vQyxLQUFLLENBQUN0bEMsTUFBTywwQkFBeUIsQ0FBQztJQUN0SDtJQUNBLE9BQU8sSUFBSSxDQUFDc2xDLEtBQUssQ0FBQ3RsQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQzFCLE1BQU1taEIsS0FBSyxHQUFHLElBQUksQ0FBQ21rQixLQUFLLENBQUM1aEIsR0FBRyxDQUFDLENBQUMsQ0FBQ3ZDLEtBQUs7TUFDcEMsSUFBSSxDQUFDQSxLQUFLLENBQUMxUCxZQUFZLEVBQUU7UUFDckIsTUFBTSxJQUFJcFQsS0FBSyxDQUFDLDhDQUE4QyxDQUFDO01BQ25FO01BQ0EybUMsbUJBQW1CLENBQUM3akIsS0FBSyxDQUFDMVAsWUFBWSxDQUFDO0lBQzNDO0VBQ0o7RUFDQWcwQixtQkFBbUJBLENBQUEsRUFBRztJQUNsQixLQUFLLE1BQU03L0IsSUFBSSxJQUFJLElBQUksQ0FBQzAvQixLQUFLLEVBQUU7TUFDM0IxL0IsSUFBSSxDQUFDOC9CLGlCQUFpQixHQUFHLElBQUk7SUFDakM7RUFDSjtFQUNBQyxXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBLEtBQUssSUFBSTlnQyxDQUFDLEdBQUcsSUFBSSxDQUFDeWdDLEtBQUssQ0FBQ3RsQyxNQUFNLEdBQUcsQ0FBQyxFQUFFNkUsQ0FBQyxJQUFJLENBQUMsRUFBRUEsQ0FBQyxFQUFFLEVBQUU7TUFDN0MsTUFBTTBnQyxTQUFTLEdBQUcsSUFBSSxDQUFDRCxLQUFLLENBQUN6Z0MsQ0FBQyxDQUFDO01BQy9CLElBQUkwZ0MsU0FBUyxDQUFDRyxpQkFBaUIsRUFBRTtRQUM3QixNQUFNdmtCLEtBQUssR0FBR29rQixTQUFTLENBQUNwa0IsS0FBSztRQUM3QixJQUFJLENBQUNBLEtBQUssQ0FBQzFQLFlBQVksRUFBRTtVQUNyQixNQUFNLElBQUlwVCxLQUFLLENBQUMsOENBQThDLENBQUM7UUFDbkU7UUFDQTJtQyxtQkFBbUIsQ0FBQzdqQixLQUFLLENBQUMxUCxZQUFZLENBQUM7UUFDdkMsSUFBSSxDQUFDNnpCLEtBQUssQ0FBQzVtQyxNQUFNLENBQUNtRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO01BQzNCO0lBQ0o7RUFDSjtFQUNBK2dDLGVBQWVBLENBQUEsRUFBRztJQUNkLElBQUlDLGlCQUFpQixHQUFHLENBQUM7SUFDekIsTUFBTUMsYUFBYSxHQUFHLElBQUksQ0FBQ1IsS0FBSyxDQUFDcEUsSUFBSSxDQUFFcUUsU0FBUyxJQUFLO01BQ2pELE9BQU9BLFNBQVMsQ0FBQ1EsT0FBTztJQUM1QixDQUFDLENBQUM7SUFDRixJQUFJRCxhQUFhLEVBQUU7TUFDZixJQUFJRSxpQkFBaUIsR0FBRyxLQUFLO01BQzdCLE9BQU8sQ0FBQ0EsaUJBQWlCLEVBQUU7UUFDdkIsTUFBTVQsU0FBUyxHQUFHLElBQUksQ0FBQ0MsSUFBSSxDQUFDLENBQUM7UUFDN0IsTUFBTXJrQixLQUFLLEdBQUdva0IsU0FBUyxDQUFDcGtCLEtBQUs7UUFDN0IsSUFBSSxDQUFDQSxLQUFLLENBQUMxUCxZQUFZLEVBQUU7VUFDckIsTUFBTSxJQUFJcFQsS0FBSyxDQUFDLDhDQUE4QyxDQUFDO1FBQ25FO1FBQ0EybUMsbUJBQW1CLENBQUM3akIsS0FBSyxDQUFDMVAsWUFBWSxDQUFDO1FBQ3ZDLElBQUk4ekIsU0FBUyxDQUFDUSxPQUFPLEVBQUU7VUFDbkJDLGlCQUFpQixHQUFHLElBQUk7UUFDNUI7UUFDQSxJQUFJLENBQUN0aUIsR0FBRyxDQUFDLENBQUM7UUFDVm1pQixpQkFBaUIsRUFBRTtNQUN2QjtJQUNKO0lBQ0EsSUFBSWhxQyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNzQixxQkFBcUIsQ0FBRSx3Q0FBdUMwb0MsaUJBQWtCLDBCQUF5QixDQUFDO0lBQ2hJO0VBQ0o7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNSSxvQkFBb0IsQ0FBQztFQUN2Qnp4QyxXQUFXQSxDQUFDeUUsUUFBUSxFQUFFO0lBQ2xCLElBQUksQ0FBQ0EsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ2l0QyxhQUFhLEdBQUcsQ0FBQyxDQUFDO0VBQzNCO0VBQ0EzbUIsWUFBWUEsQ0FBQzRtQixLQUFLLEVBQUU7SUFDaEJBLEtBQUssR0FBR3ZCLGtDQUFrQyxDQUFDdUIsS0FBSyxDQUFDO0lBQ2pELE1BQU07TUFBRTdqQjtJQUFPLENBQUMsR0FBRyxJQUFJLENBQUM4akIscUJBQXFCLENBQUNELEtBQUssQ0FBQztJQUNwRCxNQUFNcCtCLEdBQUcsR0FBR205QixjQUFjLENBQUNpQixLQUFLLENBQUM7SUFDakMsSUFBSUUsZUFBZSxHQUFHLEtBQUs7SUFDM0IsSUFBSUMsR0FBRyxHQUFHSCxLQUFLO0lBQ2YsT0FBTyxFQUFFRSxlQUFlLEdBQUdDLEdBQUcsQ0FBQ3hCLHlCQUF5QixDQUFDLENBQUMsSUFBSXdCLEdBQUcsQ0FBQzl1QyxNQUFNLEVBQUU7TUFDdEU4dUMsR0FBRyxHQUFHQSxHQUFHLENBQUM5dUMsTUFBTTtJQUNwQjtJQUNBLE1BQU1zbkIsTUFBTSxHQUFHd0QsTUFBTSxHQUFHQSxNQUFNLENBQUMzRCxvQkFBb0IsR0FBRyxLQUFLO0lBQzNELElBQUlZLFlBQVksR0FBRytDLE1BQU0sSUFBSSxDQUFDeEQsTUFBTSxJQUFJdW5CLGVBQWU7SUFDdkQsSUFBSS9qQixNQUFNLEVBQUU7TUFDUixJQUFJQSxNQUFNLENBQUM5cUIsTUFBTSxJQUFJLENBQUM4cUIsTUFBTSxDQUFDOXFCLE1BQU0sQ0FBQytuQixZQUFZLEVBQUU7UUFDOUNBLFlBQVksR0FBRyxLQUFLO01BQ3hCO01BQ0ErQyxNQUFNLENBQUMvQyxZQUFZLEdBQUdBLFlBQVk7SUFDdEM7SUFDQSxJQUFJMWpCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ3NCLHFCQUFxQixDQUFFLHdCQUF1QjJoQixNQUFPLFNBQVEvVyxHQUFJLFlBQVd3WCxZQUFhLEVBQUMsQ0FBQztJQUNqSDtJQUNBLE9BQU9BLFlBQVk7RUFDdkI7RUFDQTZtQixxQkFBcUJBLENBQUNHLFdBQVcsRUFBRTtJQUMvQixJQUFJSixLQUFLLEdBQUdJLFdBQVc7SUFDdkIsTUFBTUMsY0FBYyxHQUFHLElBQUksQ0FBQ3Z0QyxRQUFRLENBQUN3c0IsZ0JBQWdCLENBQUMwZ0IsS0FBSyxDQUFDO0lBQzVELElBQUlsbkIsU0FBUyxHQUFHdW5CLGNBQWM7SUFDOUIsSUFBSWxrQixNQUFNLEdBQUcsSUFBSSxDQUFDcnBCLFFBQVEsQ0FBQ3NwQixVQUFVLENBQUN0RCxTQUFTLEVBQUVrbkIsS0FBSyxDQUFDO0lBQ3ZELE9BQU8sQ0FBQzdqQixNQUFNLEVBQUU7TUFDWixJQUFJLENBQUM2akIsS0FBSyxDQUFDM3VDLE1BQU0sRUFBRTtRQUNmLE9BQU87VUFBRThxQixNQUFNLEVBQUUsSUFBSTtVQUFFckQsU0FBUyxFQUFFdW5CO1FBQWUsQ0FBQztNQUN0RDtNQUNBTCxLQUFLLEdBQUdBLEtBQUssQ0FBQzN1QyxNQUFNO01BQ3BCeW5CLFNBQVMsR0FBRyxJQUFJLENBQUNobUIsUUFBUSxDQUFDd3NCLGdCQUFnQixDQUFDMGdCLEtBQUssQ0FBQztNQUNqRDdqQixNQUFNLEdBQUcsSUFBSSxDQUFDcnBCLFFBQVEsQ0FBQ3NwQixVQUFVLENBQUN0RCxTQUFTLEVBQUVrbkIsS0FBSyxDQUFDO0lBQ3ZEO0lBQ0EsSUFBSTdqQixNQUFNLEVBQUU7TUFDUixPQUFPLENBQUNBLE1BQU0sQ0FBQ3ZELFVBQVUsQ0FBQzBuQixRQUFRLENBQUN4bkIsU0FBUyxDQUFDLEVBQUU7UUFDM0MsSUFBSSxDQUFDa25CLEtBQUssQ0FBQzN1QyxNQUFNLEVBQUU7VUFDZnFFLGlCQUFpQixDQUFDc0IscUJBQXFCLENBQUUsOENBQTZDb3BDLFdBQVksR0FBRSxDQUFDO1VBQ3JHLE9BQU87WUFBRWprQixNQUFNO1lBQUVyRCxTQUFTLEVBQUV1bkI7VUFBZSxDQUFDO1FBQ2hEO1FBQ0FMLEtBQUssR0FBR0EsS0FBSyxDQUFDM3VDLE1BQU07UUFDcEJ5bkIsU0FBUyxHQUFHLElBQUksQ0FBQ2htQixRQUFRLENBQUN3c0IsZ0JBQWdCLENBQUMwZ0IsS0FBSyxDQUFDO01BQ3JEO0lBQ0o7SUFDQSxPQUFPO01BQUU3akIsTUFBTTtNQUFFckQ7SUFBVSxDQUFDO0VBQ2hDO0VBQ0F5bkIsWUFBWUEsQ0FBQ1AsS0FBSyxFQUFFO0lBQ2hCQSxLQUFLLEdBQUd2QixrQ0FBa0MsQ0FBQ3VCLEtBQUssQ0FBQztJQUNqRCxNQUFNO01BQUU3akIsTUFBTTtNQUFFckQ7SUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDbW5CLHFCQUFxQixDQUFDRCxLQUFLLENBQUM7SUFDL0QsTUFBTWIsS0FBSyxHQUFHLElBQUksQ0FBQ1ksYUFBYSxDQUFDam5CLFNBQVMsQ0FBQztJQUMzQyxJQUFJLENBQUNxbUIsS0FBSyxFQUFFO01BQ1IsT0FBTyxLQUFLO0lBQ2hCO0lBQ0EsTUFBTXY5QixHQUFHLEdBQUdtOUIsY0FBYyxDQUFDaUIsS0FBSyxDQUFDO0lBQ2pDLE1BQU1ybkIsTUFBTSxHQUFHd0QsTUFBTSxHQUFHQSxNQUFNLENBQUMzRCxvQkFBb0IsR0FBRyxLQUFLO0lBQzNELE1BQU0rbkIsWUFBWSxHQUFHNW5CLE1BQU0sSUFBSXdtQixLQUFLLENBQUNFLElBQUksQ0FBQyxDQUFDLEVBQUV6OUIsR0FBRyxLQUFLQSxHQUFHO0lBQ3hELElBQUlsTSxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNzQixxQkFBcUIsQ0FBRSx3QkFBdUIyaEIsTUFBTyxTQUFRL1csR0FBSSxZQUFXMitCLFlBQWEsRUFBQyxDQUFDO0lBQ2pIO0lBQ0EsSUFBSXBrQixNQUFNLEVBQUU7TUFDUkEsTUFBTSxDQUFDL0MsWUFBWSxHQUFHLElBQUk7SUFDOUI7SUFDQSxPQUFPbW5CLFlBQVk7RUFDdkI7RUFDQUMsS0FBS0EsQ0FBQ1IsS0FBSyxFQUFFaGxCLEtBQUssRUFBRTtJQUNoQmdsQixLQUFLLEdBQUd2QixrQ0FBa0MsQ0FBQ3VCLEtBQUssQ0FBQztJQUNqRCxNQUFNcCtCLEdBQUcsR0FBR205QixjQUFjLENBQUNpQixLQUFLLENBQUM7SUFDakMsSUFBSXRxQyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNzQixxQkFBcUIsQ0FBRSxjQUFhNEssR0FBSSxZQUFXb1osS0FBTSxFQUFDLENBQUM7SUFDakY7SUFDQSxNQUFNO01BQUVsQztJQUFVLENBQUMsR0FBRyxJQUFJLENBQUNtbkIscUJBQXFCLENBQUNELEtBQUssQ0FBQztJQUN2RDtJQUNBLE1BQU1iLEtBQUssR0FBSSxJQUFJLENBQUNZLGFBQWEsQ0FBQ2puQixTQUFTLENBQUMsR0FBRyxJQUFJLENBQUNpbkIsYUFBYSxDQUFDam5CLFNBQVMsQ0FBQyxJQUFJLElBQUlvbUIsa0JBQWtCLENBQUMsQ0FBRTtJQUN6RyxJQUFJbGtCLEtBQUssRUFBRTtNQUNQLElBQUk0a0IsT0FBTyxHQUFHLEtBQUs7TUFDbkIsSUFBSSxJQUFJLENBQUM5c0MsUUFBUSxDQUFDOG5CLHFCQUFxQixHQUFHLENBQUMsRUFBRTtRQUN6Q2dsQixPQUFPLEdBQUcsSUFBSTtNQUNsQjtNQUNBVCxLQUFLLENBQUNudkMsSUFBSSxDQUFDO1FBQUU0UixHQUFHO1FBQUVvWixLQUFLO1FBQUU0a0I7TUFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQyxNQUNJO01BQ0QsTUFBTWEsT0FBTyxHQUFHdEIsS0FBSyxDQUFDRSxJQUFJLENBQUMsQ0FBQztNQUM1QixJQUFJb0IsT0FBTyxDQUFDNytCLEdBQUcsS0FBS0EsR0FBRyxFQUFFO1FBQ3JCdTlCLEtBQUssQ0FBQzVoQixHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQzRoQixLQUFLLENBQUN0bEMsTUFBTSxFQUFFO1VBQ2YsT0FBTyxJQUFJLENBQUNrbUMsYUFBYSxDQUFDam5CLFNBQVMsQ0FBQztRQUN4QztNQUNKLENBQUMsTUFDSTtRQUNELE1BQU0sSUFBSTVnQixLQUFLLENBQUMsOERBQThELEdBQUksYUFBWXVvQyxPQUFPLENBQUM3K0IsR0FBSSxZQUFXQSxHQUFJLEVBQUMsQ0FBQztNQUMvSDtJQUNKO0VBQ0o7RUFDQTgrQixRQUFRQSxDQUFDVixLQUFLLEVBQUU7SUFDWkEsS0FBSyxHQUFHdkIsa0NBQWtDLENBQUN1QixLQUFLLENBQUM7SUFDakQsTUFBTTtNQUFFN2pCLE1BQU07TUFBRXJEO0lBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQ21uQixxQkFBcUIsQ0FBQ0QsS0FBSyxDQUFDO0lBQy9ELE1BQU1iLEtBQUssR0FBRyxJQUFJLENBQUNZLGFBQWEsQ0FBQ2puQixTQUFTLENBQUM7SUFDM0MsSUFBSSxDQUFDcW1CLEtBQUssRUFBRTtNQUNSLE9BQU8sSUFBSTtJQUNmO0lBQ0EsTUFBTXY5QixHQUFHLEdBQUdtOUIsY0FBYyxDQUFDaUIsS0FBSyxDQUFDO0lBQ2pDLE1BQU1ybkIsTUFBTSxHQUFHd0QsTUFBTSxHQUFHQSxNQUFNLENBQUMzRCxvQkFBb0IsR0FBRyxLQUFLO0lBQzNELE1BQU1tb0IsVUFBVSxHQUFHeEIsS0FBSyxDQUFDRSxJQUFJLENBQUMsQ0FBQztJQUMvQixJQUFJcmtCLEtBQUssR0FBRyxJQUFJO0lBQ2hCLElBQUlyQyxNQUFNLElBQUlnb0IsVUFBVSxJQUFJQSxVQUFVLENBQUMvK0IsR0FBRyxLQUFLQSxHQUFHLEVBQUU7TUFDaERvWixLQUFLLEdBQUcybEIsVUFBVSxDQUFDM2xCLEtBQUs7SUFDNUI7SUFDQSxJQUFJdGxCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ3NCLHFCQUFxQixDQUFFLHFCQUFvQjJoQixNQUFPLFNBQVEvVyxHQUFJLFdBQVVvWixLQUFNLEVBQUMsQ0FBQztJQUN0RztJQUNBLE9BQU9BLEtBQUs7RUFDaEI7RUFDQTRsQixnQkFBZ0JBLENBQUNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFO0lBQzNCLE1BQU1DLFdBQVcsR0FBR0YsTUFBTSxDQUFDRyxXQUFXLEtBQUtGLElBQUksQ0FBQ0UsV0FBVztJQUMzRCxJQUFJRCxXQUFXLElBQUlELElBQUksSUFBSUEsSUFBSSxDQUFDbkMseUJBQXlCLENBQUMsRUFBRTtNQUN4RDtNQUNBO01BQ0FrQyxNQUFNLENBQUNsQyx5QkFBeUIsQ0FBQyxHQUFHbUMsSUFBSSxDQUFDbkMseUJBQXlCLENBQUM7SUFDdkU7SUFDQSxJQUFJanBDLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ3NCLHFCQUFxQixDQUFFLDRCQUEyQitwQyxXQUFZLEVBQUMsQ0FBQztJQUN0RjtJQUNBLE9BQU9BLFdBQVc7RUFDdEI7RUFDQUUsVUFBVUEsQ0FBQ25vQixTQUFTLEVBQUU7SUFDbEIsTUFBTXFtQixLQUFLLEdBQUcsSUFBSSxDQUFDWSxhQUFhLENBQUNqbkIsU0FBUyxDQUFDO0lBQzNDLElBQUlxbUIsS0FBSyxFQUFFO01BQ1BBLEtBQUssQ0FBQy8rQixLQUFLLENBQUMsQ0FBQztJQUNqQjtFQUNKO0VBQ0E4Z0MsaUJBQWlCQSxDQUFDcG9CLFNBQVMsRUFBRTtJQUN6QixNQUFNcW1CLEtBQUssR0FBRyxJQUFJLENBQUNZLGFBQWEsQ0FBQ2puQixTQUFTLENBQUM7SUFDM0MsSUFBSXFtQixLQUFLLEVBQUU7TUFDUEEsS0FBSyxDQUFDRyxtQkFBbUIsQ0FBQyxDQUFDO0lBQy9CO0VBQ0o7RUFDQTZCLFFBQVFBLENBQUNyb0IsU0FBUyxFQUFFO0lBQ2hCLE1BQU1xbUIsS0FBSyxHQUFHLElBQUksQ0FBQ1ksYUFBYSxDQUFDam5CLFNBQVMsQ0FBQztJQUMzQyxJQUFJcW1CLEtBQUssRUFBRTtNQUNQLElBQUlBLEtBQUssQ0FBQ0UsSUFBSSxDQUFDLENBQUMsRUFBRTtRQUNkLE1BQU1ya0IsS0FBSyxHQUFHbWtCLEtBQUssQ0FBQzVoQixHQUFHLENBQUMsQ0FBQyxFQUFFdkMsS0FBSztRQUNoQyxJQUFJQSxLQUFLLEVBQUUxUCxZQUFZLEVBQUU7VUFDckJ1ekIsbUJBQW1CLENBQUM3akIsS0FBSyxFQUFFMVAsWUFBWSxDQUFDO1FBQzVDO01BQ0o7SUFDSjtFQUNKO0VBQ0E4MUIsZUFBZUEsQ0FBQ3RvQixTQUFTLEVBQUU7SUFDdkIsTUFBTXFtQixLQUFLLEdBQUcsSUFBSSxDQUFDWSxhQUFhLENBQUNqbkIsU0FBUyxDQUFDO0lBQzNDLElBQUlxbUIsS0FBSyxFQUFFO01BQ1AsTUFBTTEvQixJQUFJLEdBQUcwL0IsS0FBSyxDQUFDRSxJQUFJLENBQUMsQ0FBQztNQUN6QixJQUFJNS9CLElBQUksRUFBRTtRQUNOQSxJQUFJLENBQUM4L0IsaUJBQWlCLEdBQUcsSUFBSTtNQUNqQztJQUNKO0VBQ0o7RUFDQThCLGdCQUFnQkEsQ0FBQ3ZvQixTQUFTLEVBQUU7SUFDeEIsTUFBTXFtQixLQUFLLEdBQUcsSUFBSSxDQUFDWSxhQUFhLENBQUNqbkIsU0FBUyxDQUFDO0lBQzNDLElBQUlxbUIsS0FBSyxFQUFFO01BQ1BBLEtBQUssQ0FBQ0ssV0FBVyxDQUFDLENBQUM7SUFDdkI7RUFDSjtFQUNBQyxlQUFlQSxDQUFDM21CLFNBQVMsRUFBRTtJQUN2QixNQUFNcW1CLEtBQUssR0FBRyxJQUFJLENBQUNZLGFBQWEsQ0FBQ2puQixTQUFTLENBQUM7SUFDM0MsSUFBSXFtQixLQUFLLEVBQUU7TUFDUEEsS0FBSyxDQUFDTSxlQUFlLENBQUMsQ0FBQztJQUMzQjtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUMxcUMsSUFBSSxZQUFBdXNDLDZCQUFBbHlDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGMHdDLG9CQUFvQixFQXJxTDlCMTNDLHNEQUFFLENBcXFMOENteUIsa0JBQWtCO0lBQUEsQ0FBNkM7RUFBRTtFQUNqTjtJQUFTLElBQUksQ0FBQ3RsQixLQUFLLGtCQXRxTDZFN00sZ0VBQUU7TUFBQStNLEtBQUEsRUFzcUxZMnFDLG9CQUFvQjtNQUFBMXFDLE9BQUEsRUFBcEIwcUMsb0JBQW9CLENBQUEvcUM7SUFBQSxFQUFHO0VBQUU7QUFDM0k7QUFDQTtFQUFBLFFBQUFPLFNBQUEsb0JBQUFBLFNBQUEsS0F4cUxvR2xOLCtEQUFFLENBd3FMWDAzQyxvQkFBb0IsRUFBYyxDQUFDO0lBQ2xIdHFDLElBQUksRUFBRWhOLHFEQUFVQTtFQUNwQixDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUVnTixJQUFJLEVBQUUra0I7RUFBbUIsQ0FBQyxDQUFDO0FBQUE7QUFFaEUsTUFBTWduQixnQkFBZ0IsQ0FBQztFQUNuQmx6QyxXQUFXQSxDQUFDbXpDLE1BQU0sRUFBRWxRLGdCQUFnQixFQUFFOVcsWUFBWSxFQUFFO0lBQ2hELElBQUksQ0FBQ2duQixNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDbFEsZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QyxJQUFJLENBQUM5VyxZQUFZLEdBQUdBLFlBQVk7RUFDcEM7RUFDQXZpQixRQUFRQSxDQUFDd3BDLFFBQVEsRUFBRUMsTUFBTSxFQUFFO0lBQ3ZCLE9BQU8sSUFBSSxDQUFDRixNQUFNLENBQUN2cEMsUUFBUSxDQUFDd3BDLFFBQVEsRUFBRUMsTUFBTSxDQUFDO0VBQ2pEO0VBQ0FDLGFBQWFBLENBQUNubUIsR0FBRyxFQUFFc0QsT0FBTyxFQUFFO0lBQ3hCLE9BQU8sSUFBSSxDQUFDMGlCLE1BQU0sQ0FBQ0csYUFBYSxDQUFDbm1CLEdBQUcsRUFBRXNELE9BQU8sQ0FBQztFQUNsRDtFQUNBeEIsSUFBSUEsQ0FBQ3NrQixxQkFBcUIsRUFBRTtJQUN4QixJQUFJQSxxQkFBcUIsRUFBRTtNQUN2QixJQUFJLENBQUNDLFdBQVcsQ0FBQ0QscUJBQXFCLENBQUM7SUFDM0MsQ0FBQyxNQUNJO01BQ0QsSUFBSSxDQUFDdFEsZ0JBQWdCLENBQUNoVSxJQUFJLENBQUMsQ0FBQztJQUNoQztFQUNKO0VBQ0FuRCxTQUFTQSxDQUFDeW5CLHFCQUFxQixFQUFFO0lBQzdCLElBQUl6bkIsU0FBUyxHQUFHLElBQUk7SUFDcEIsSUFBSXluQixxQkFBcUIsRUFBRTtNQUN2QixNQUFNO1FBQUVFLGFBQWE7UUFBRXBuQjtNQUFRLENBQUMsR0FBRyxJQUFJLENBQUNxbkIsaUJBQWlCLENBQUNILHFCQUFxQixDQUFDO01BQ2hGLElBQUlFLGFBQWEsQ0FBQ2pvQyxNQUFNLEtBQUs2Z0IsT0FBTyxDQUFDN2dCLE1BQU0sRUFBRTtRQUN6Q25FLGlCQUFpQixDQUFDcUIsV0FBVyxDQUFDLDZDQUE2QyxDQUFDO01BQ2hGLENBQUMsTUFDSTtRQUNEK3FDLGFBQWEsQ0FBQzF4QyxPQUFPLENBQUU0eEMsWUFBWSxJQUFLO1VBQ3BDLElBQUksQ0FBQyxJQUFJLENBQUMxUSxnQkFBZ0IsQ0FBQ25YLFNBQVMsQ0FBQzZuQixZQUFZLENBQUMsRUFBRTtZQUNoRDduQixTQUFTLEdBQUcsS0FBSztVQUNyQjtRQUNKLENBQUMsQ0FBQztNQUNOO0lBQ0osQ0FBQyxNQUNJO01BQ0RBLFNBQVMsR0FBRyxJQUFJLENBQUNtWCxnQkFBZ0IsQ0FBQ25YLFNBQVMsQ0FBQyxDQUFDO0lBQ2pEO0lBQ0EsT0FBT0EsU0FBUztFQUNwQjtFQUNBOG5CLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ2pCLElBQUksQ0FBQ3puQixZQUFZLENBQUNwQyxRQUFRLENBQUMsQ0FBQyxDQUFDMEYsTUFBTSxDQUFDLENBQUM7RUFDekM7RUFDQW9rQix1QkFBdUJBLENBQUEsRUFBRztJQUN0QixPQUFPLElBQUksQ0FBQzFuQixZQUFZLENBQUNwQyxRQUFRLENBQUMsQ0FBQyxDQUFDK0IsU0FBUyxDQUFDLENBQUM7RUFDbkQ7RUFDQTBuQixXQUFXQSxDQUFDL2lCLE9BQU8sRUFBRTtJQUNqQixNQUFNO01BQUVnakIsYUFBYTtNQUFFcG5CO0lBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQ3FuQixpQkFBaUIsQ0FBQ2pqQixPQUFPLENBQUM7SUFDbEUsSUFBSWdqQixhQUFhLENBQUNqb0MsTUFBTSxLQUFLNmdCLE9BQU8sQ0FBQzdnQixNQUFNLEVBQUU7TUFDekNuRSxpQkFBaUIsQ0FBQ3FCLFdBQVcsQ0FBQyw2Q0FBNkMsQ0FBQztJQUNoRixDQUFDLE1BQ0k7TUFDRCtxQyxhQUFhLENBQUMxeEMsT0FBTyxDQUFFNHhDLFlBQVksSUFBSztRQUNwQyxJQUFJQSxZQUFZLENBQUN4cEIsb0JBQW9CLEVBQUU7VUFDbkM5aUIsaUJBQWlCLENBQUNxQixXQUFXLENBQUMsaURBQWlELENBQUM7UUFDcEYsQ0FBQyxNQUNJO1VBQ0QsSUFBSSxDQUFDdTZCLGdCQUFnQixDQUFDaFUsSUFBSSxDQUFDMGtCLFlBQVksQ0FBQztRQUM1QztNQUNKLENBQUMsQ0FBQztJQUNOO0VBQ0o7RUFDQTtFQUNBRCxpQkFBaUJBLENBQUNqakIsT0FBTyxFQUFFO0lBQ3ZCLE1BQU1xakIsU0FBUyxHQUFHLElBQUksQ0FBQ1gsTUFBTSxDQUFDWSxXQUFXLENBQUM1Z0MsSUFBSTtJQUM5QyxJQUFJa1osT0FBTyxHQUFHb0UsT0FBTyxDQUFDcEUsT0FBTztJQUM3QixJQUFJMm5CLGFBQWEsR0FBR3ZqQixPQUFPLENBQUN3akIsVUFBVSxJQUFJSCxTQUFTO0lBQ25ELE1BQU1JLG1CQUFtQixHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNILGFBQWEsQ0FBQztJQUNqRSxNQUFNcG9CLGVBQWUsR0FBR3NvQixtQkFBbUIsSUFBSUEsbUJBQW1CLENBQUN0b0IsZUFBZTtJQUNsRjtJQUNBO0lBQ0EsSUFBSUEsZUFBZSxJQUFJb29CLGFBQWEsQ0FBQ2xtQixNQUFNLEtBQUssU0FBUyxFQUFFO01BQ3ZEa21CLGFBQWEsR0FBR0EsYUFBYSxDQUFDaHhDLE1BQU0sSUFBSWd4QyxhQUFhO0lBQ3pEO0lBQ0EzbkIsT0FBTyxHQUFHQSxPQUFPLElBQUksQ0FBQzJuQixhQUFhLENBQUNsbUIsTUFBTSxDQUFDO0lBQzNDLE1BQU0ybEIsYUFBYSxHQUFHLElBQUksQ0FBQ1csb0JBQW9CLENBQUMsQ0FBQyxHQUFHL25CLE9BQU8sQ0FBQyxFQUFFMm5CLGFBQWEsQ0FBQztJQUM1RSxPQUFPO01BQUVQLGFBQWEsRUFBRUEsYUFBYTtNQUFFcG5CLE9BQU8sRUFBRUE7SUFBUSxDQUFDO0VBQzdEO0VBQ0E7RUFDQStuQixvQkFBb0JBLENBQUMvbkIsT0FBTyxFQUFFc2xCLEtBQUssRUFBRTtJQUNqQyxJQUFJLENBQUNBLEtBQUssSUFBSXRsQixPQUFPLENBQUM3Z0IsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUNoQyxPQUFPLEVBQUU7SUFDYjtJQUNBLE1BQU1pb0MsYUFBYSxHQUFHLEVBQUU7SUFDeEIsSUFBSXBuQixPQUFPLENBQUNxZ0IsSUFBSSxDQUFFamdCLGFBQWEsSUFBS0EsYUFBYSxLQUFLa2xCLEtBQUssQ0FBQzdqQixNQUFNLENBQUMsRUFBRTtNQUNqRSxNQUFNQSxNQUFNLEdBQUcsSUFBSSxDQUFDcW1CLGlCQUFpQixDQUFDeEMsS0FBSyxDQUFDO01BQzVDLElBQUk3akIsTUFBTSxFQUFFO1FBQ1J6QixPQUFPLENBQUNuaUIsTUFBTSxDQUFDbWlCLE9BQU8sQ0FBQ3BpQixPQUFPLENBQUMwbkMsS0FBSyxDQUFDN2pCLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoRDJsQixhQUFhLENBQUM5eEMsSUFBSSxDQUFDbXNCLE1BQU0sQ0FBQztNQUM5QjtJQUNKO0lBQ0EsSUFBSSxDQUFDNmpCLEtBQUssQ0FBQ2ptQyxRQUFRLEVBQUU7TUFDakIsT0FBTytuQyxhQUFhO0lBQ3hCO0lBQ0EsS0FBSyxJQUFJMXBDLEtBQUssR0FBRyxDQUFDLEVBQUVBLEtBQUssR0FBRzRuQyxLQUFLLENBQUNqbUMsUUFBUSxDQUFDRixNQUFNLEVBQUV6QixLQUFLLEVBQUUsRUFBRTtNQUN4RCxJQUFJc2lCLE9BQU8sQ0FBQzdnQixNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3RCO01BQ0o7TUFDQSxNQUFNMGxCLFlBQVksR0FBR3lnQixLQUFLLENBQUNqbUMsUUFBUSxDQUFDM0IsS0FBSyxDQUFDO01BQzFDMHBDLGFBQWEsQ0FBQzl4QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUN5eUMsb0JBQW9CLENBQUMvbkIsT0FBTyxFQUFFNkUsWUFBWSxDQUFDLENBQUM7SUFDM0U7SUFDQSxPQUFPdWlCLGFBQWE7RUFDeEI7RUFDQVUsaUJBQWlCQSxDQUFDampCLFlBQVksRUFBRTtJQUM1QixNQUFNbWpCLG9CQUFvQixHQUFHakUsa0NBQWtDLENBQUNsZixZQUFZLENBQUN5ZixRQUFRLENBQUM7SUFDdEYsTUFBTWxtQixTQUFTLEdBQUcsSUFBSSxDQUFDd1ksZ0JBQWdCLENBQUNoUyxnQkFBZ0IsQ0FBQ29qQixvQkFBb0IsQ0FBQztJQUM5RSxNQUFNdm1CLE1BQU0sR0FBRyxJQUFJLENBQUNtVixnQkFBZ0IsQ0FBQ2xWLFVBQVUsQ0FBQ3RELFNBQVMsRUFBRTRwQixvQkFBb0IsQ0FBQztJQUNoRixPQUFPdm1CLE1BQU07RUFDakI7RUFDQTtJQUFTLElBQUksQ0FBQ3BuQixJQUFJLFlBQUE0dEMseUJBQUF2ekMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZteUMsZ0JBQWdCLEVBenhMMUJuNUMsc0RBQUUsQ0F5eEwwQ2tFLG9EQUFXLEdBenhMdkRsRSxzREFBRSxDQXl4TGtFbXlCLGtCQUFrQixHQXp4THRGbnlCLHNEQUFFLENBeXhMaUcrdkIsWUFBWTtJQUFBLENBQTZDO0VBQUU7RUFDOVA7SUFBUyxJQUFJLENBQUNsakIsS0FBSyxrQkExeEw2RTdNLGdFQUFFO01BQUErTSxLQUFBLEVBMHhMWW9zQyxnQkFBZ0I7TUFBQW5zQyxPQUFBLEVBQWhCbXNDLGdCQUFnQixDQUFBeHNDLElBQUE7TUFBQU0sVUFBQSxFQUFjO0lBQU0sRUFBRztFQUFFO0FBQzNKO0FBQ0E7RUFBQSxRQUFBQyxTQUFBLG9CQUFBQSxTQUFBLEtBNXhMb0dsTiwrREFBRSxDQTR4TFhtNUMsZ0JBQWdCLEVBQWMsQ0FBQztJQUM5Ry9yQyxJQUFJLEVBQUVoTixxREFBVTtJQUNoQmlOLElBQUksRUFBRSxDQUFDO01BQ0NKLFVBQVUsRUFBRTtJQUNoQixDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFRyxJQUFJLEVBQUVsSixvREFBV3MyQztFQUFDLENBQUMsRUFBRTtJQUFFcHRDLElBQUksRUFBRStrQjtFQUFtQixDQUFDLEVBQUU7SUFBRS9rQixJQUFJLEVBQUUyaUI7RUFBYSxDQUFDLENBQUM7QUFBQTs7QUFFL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTBxQixZQUFZLENBQUM7RUFDZngwQyxXQUFXQSxDQUFDeTBDLE1BQU0sRUFBRXRCLE1BQU0sRUFBRXVCLFNBQVMsRUFBRS9DLEtBQUssRUFBRXY3QixFQUFFLEVBQUU7SUFDOUMsSUFBSSxDQUFDcStCLE1BQU0sR0FBR0EsTUFBTTtJQUNwQixJQUFJLENBQUN0QixNQUFNLEdBQUdBLE1BQU07SUFDcEIsSUFBSSxDQUFDdUIsU0FBUyxHQUFHQSxTQUFTO0lBQzFCLElBQUksQ0FBQy9DLEtBQUssR0FBR0EsS0FBSztJQUNsQixJQUFJLENBQUN2N0IsRUFBRSxHQUFHQSxFQUFFO0lBQ1osSUFBSSxDQUFDdStCLGNBQWMsR0FBRyxJQUFJO0lBQzFCLElBQUksQ0FBQ3ZCLFFBQVEsR0FBRyxFQUFFO0VBQ3RCO0VBQ0EveEIsZUFBZUEsQ0FBQSxFQUFHO0lBQ2QsSUFBSSxDQUFDakwsRUFBRSxDQUFDMVIsYUFBYSxDQUFDN0MsRUFBRSxDQUFDLEtBQUssRUFBRSxNQUFNO01BQ2xDLElBQUksQ0FBQzR5QyxNQUFNLENBQUNyaEMsR0FBRyxDQUFDLE1BQU07UUFDbEIsSUFBSSxDQUFDd2hDLEtBQUssQ0FBQyxDQUFDO01BQ2hCLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQztFQUNOO0VBQ0EsSUFBSTdnQixNQUFNQSxDQUFDemUsSUFBSSxFQUFFO0lBQ2IsSUFBSXRFLEtBQUssQ0FBQ0MsT0FBTyxDQUFDcUUsSUFBSSxDQUFDLEVBQUU7TUFDckIsSUFBSSxDQUFDODlCLFFBQVEsR0FBRzk5QixJQUFJO0lBQ3hCLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQzg5QixRQUFRLEdBQUcsQ0FBQzk5QixJQUFJLENBQUM7SUFDMUI7RUFDSjtFQUNBcy9CLEtBQUtBLENBQUEsRUFBRztJQUNKLElBQUl2dEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFFLHdCQUF1QixJQUFJLENBQUMycUMsUUFBUyxHQUFFLEdBQUksVUFBUyxJQUFJLENBQUNwbkIsWUFBYSxHQUFFLEdBQUksZUFBY3NqQixJQUFJLENBQUN1RixTQUFTLENBQUMsSUFBSSxDQUFDRixjQUFjLENBQUUsR0FBRSxHQUFJLGFBQVksSUFBSSxDQUFDRyxzQkFBdUIsRUFBQyxDQUFDO0lBQy9NO0lBQ0EsTUFBTXpCLE1BQU0sR0FBRyxJQUFJLENBQUMwQixTQUFTLENBQUMsQ0FBQztJQUMvQjtJQUNBLElBQUksQ0FBQ0wsU0FBUyxDQUFDOXFDLFFBQVEsQ0FBQyxJQUFJLENBQUN3cEMsUUFBUSxFQUFFO01BQ25DLEdBQUdDLE1BQU07TUFDVFksVUFBVSxFQUFFLElBQUksQ0FBQ3RDLEtBQUs7TUFDdEJ6a0IsV0FBVyxFQUFFLElBQUksQ0FBQ0EsV0FBVztNQUM3QjhuQixRQUFRLEVBQUUsSUFBSSxDQUFDQSxRQUFRO01BQ3ZCQyxtQkFBbUIsRUFBRSxJQUFJLENBQUNBLG1CQUFtQjtNQUM3Q0MsZ0JBQWdCLEVBQUVDLGFBQWEsQ0FBQyxJQUFJLENBQUNELGdCQUFnQjtJQUN6RCxDQUFDLENBQUM7RUFDTjtFQUNBSCxTQUFTQSxDQUFBLEVBQUc7SUFDUixNQUFNSyxVQUFVLEdBQUcsSUFBSSxDQUFDQyxhQUFhLENBQUMsQ0FBQztJQUN2QyxPQUFPO01BQ0hDLGtCQUFrQixFQUFFSCxhQUFhLENBQUMsSUFBSSxDQUFDRyxrQkFBa0IsQ0FBQztNQUMxREMsVUFBVSxFQUFFSixhQUFhLENBQUMsSUFBSSxDQUFDSSxVQUFVLENBQUM7TUFDMUN2cEIsWUFBWSxFQUFFLElBQUksQ0FBQ3dwQixtQkFBbUIsQ0FBQyxJQUFJLENBQUN4cEIsWUFBWSxDQUFDO01BQ3pEQyxRQUFRLEVBQUVtcEIsVUFBVSxDQUFDbnBCLFFBQVE7TUFDN0JtcEIsVUFBVSxFQUFFQSxVQUFVLENBQUNBO0lBQzNCLENBQUM7RUFDTDtFQUNBLElBQUlLLE9BQU9BLENBQUEsRUFBRztJQUNWLE1BQU1BLE9BQU8sR0FBRyxJQUFJLENBQUN0QyxNQUFNLENBQUN1QyxhQUFhLENBQUMsSUFBSSxDQUFDdEMsUUFBUSxFQUFFO01BQ3JEYSxVQUFVLEVBQUUsSUFBSSxDQUFDdEMsS0FBSztNQUN0QnprQixXQUFXLEVBQUUsSUFBSSxDQUFDQSxXQUFXO01BQzdCOG5CLFFBQVEsRUFBRSxJQUFJLENBQUNBLFFBQVE7TUFDdkJDLG1CQUFtQixFQUFFLElBQUksQ0FBQ0EsbUJBQW1CO01BQzdDQyxnQkFBZ0IsRUFBRUMsYUFBYSxDQUFDLElBQUksQ0FBQ0QsZ0JBQWdCO0lBQ3pELENBQUMsQ0FBQztJQUNGLElBQUk3dEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFFLGlDQUFnQ2d0QyxPQUFRLEVBQUMsQ0FBQztJQUMzRTtJQUNBLE9BQU9BLE9BQU87RUFDbEI7RUFDQUQsbUJBQW1CQSxDQUFDaDFDLEtBQUssRUFBRTtJQUN2QixPQUFPQSxLQUFLLEtBQUssSUFBSSxJQUFJQSxLQUFLLEtBQUssTUFBTTtFQUM3QztFQUNBNjBDLGFBQWFBLENBQUEsRUFBRztJQUNaLElBQUlELFVBQVU7SUFDZCxJQUFJbnBCLFFBQVE7SUFDWixJQUFJLE9BQU8sSUFBSSxDQUFDMG9CLGNBQWMsS0FBSyxTQUFTLEVBQUU7TUFDMUMxb0IsUUFBUSxHQUFHLElBQUksQ0FBQzBvQixjQUFjO0lBQ2xDLENBQUMsTUFDSSxJQUFJLE9BQU8sSUFBSSxDQUFDQSxjQUFjLEtBQUssUUFBUSxFQUFFO01BQzlDLElBQUksSUFBSSxDQUFDQSxjQUFjLEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQ0EsY0FBYyxLQUFLLE9BQU8sRUFBRTtRQUNuRTFvQixRQUFRLEdBQUcsS0FBSztNQUNwQixDQUFDLE1BQ0k7UUFDREEsUUFBUSxHQUFHLElBQUk7UUFDZm1wQixVQUFVLEdBQUc7VUFDVG4xQyxJQUFJLEVBQUUsSUFBSSxDQUFDMDBDO1FBQ2YsQ0FBQztNQUNMO0lBQ0osQ0FBQyxNQUNJO01BQ0Qxb0IsUUFBUSxHQUFHLElBQUk7TUFDZm1wQixVQUFVLEdBQUcsSUFBSSxDQUFDVCxjQUFjO0lBQ3BDO0lBQ0EsTUFBTXRMLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQ3lMLHNCQUFzQjtJQUM3QyxJQUFJLENBQUNhLEtBQUssQ0FBQ3RNLFFBQVEsQ0FBQyxFQUFFO01BQ2xCK0wsVUFBVSxHQUFHQSxVQUFVLElBQUksQ0FBQyxDQUFDO01BQzdCQSxVQUFVLENBQUMvTCxRQUFRLEdBQUdBLFFBQVE7SUFDbEM7SUFDQSxPQUFPO01BQUVwZCxRQUFRO01BQUVtcEI7SUFBVyxDQUFDO0VBQ25DO0VBQ0E7SUFBUyxJQUFJLENBQUMxdUMsSUFBSSxZQUFBa3ZDLHFCQUFBNzBDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGeXpDLFlBQVksRUF6NUx0Qno2QywrREFBRSxDQXk1THNDQSxpREFBUyxHQXo1TGpEQSwrREFBRSxDQXk1TDREa0Usb0RBQVcsR0F6NUx6RWxFLCtEQUFFLENBeTVMb0ZtNUMsZ0JBQWdCLEdBejVMdEduNUMsK0RBQUUsQ0F5NUxpSGtFLDREQUFtQixHQXo1THRJbEUsK0RBQUUsQ0F5NUxpSkEscURBQWE7SUFBQSxDQUE0QztFQUFFO0VBQzlTO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBMTVMOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUEwNUxKcXRDLFlBQVk7TUFBQS81QixTQUFBO01BQUFxQixNQUFBO1FBQUF4SSxNQUFBO1FBQUE0WixXQUFBO1FBQUE4bkIsUUFBQTtRQUFBQyxtQkFBQTtRQUFBWSxtQkFBQTtRQUFBWCxnQkFBQTtRQUFBSSxrQkFBQTtRQUFBQyxVQUFBO1FBQUF2cEIsWUFBQTtRQUFBMm9CLGNBQUE7UUFBQUcsc0JBQUE7UUFBQS9nQixNQUFBLEdBMTVMVmg2QiwwREFBRSxDQUFBd2EsSUFBQTtNQUFBO0lBQUEsRUEwNUw2ZDtFQUFFO0FBQ3JrQjtBQUNBO0VBQUEsUUFBQXROLFNBQUEsb0JBQUFBLFNBQUEsS0E1NUxvR2xOLCtEQUFFLENBNDVMWHk2QyxZQUFZLEVBQWMsQ0FBQztJQUMxR3J0QyxJQUFJLEVBQUU1TSxvREFBUztJQUNmNk0sSUFBSSxFQUFFLENBQUM7TUFBRXlULFFBQVEsRUFBRTtJQUFpQixDQUFDO0VBQ3pDLENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRTFULElBQUksRUFBRXBOLGlEQUFTcUM7RUFBQyxDQUFDLEVBQUU7SUFBRStLLElBQUksRUFBRWxKLG9EQUFXczJDO0VBQUMsQ0FBQyxFQUFFO0lBQUVwdEMsSUFBSSxFQUFFK3JDO0VBQWlCLENBQUMsRUFBRTtJQUFFL3JDLElBQUksRUFBRWxKLDREQUFtQkk7RUFBQyxDQUFDLEVBQUU7SUFBRThJLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsQ0FBQyxFQUFrQjtJQUFFZ1osTUFBTSxFQUFFLENBQUM7TUFDL0tuTSxJQUFJLEVBQUVsTSxnREFBS0E7SUFDZixDQUFDLENBQUM7SUFBRWl5QixXQUFXLEVBQUUsQ0FBQztNQUNkL2xCLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFKzVDLFFBQVEsRUFBRSxDQUFDO01BQ1g3dEMsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUVnNkMsbUJBQW1CLEVBQUUsQ0FBQztNQUN0Qjl0QyxJQUFJLEVBQUVsTSxnREFBS0E7SUFDZixDQUFDLENBQUM7SUFBRTQ2QyxtQkFBbUIsRUFBRSxDQUFDO01BQ3RCMXVDLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFaTZDLGdCQUFnQixFQUFFLENBQUM7TUFDbkIvdEMsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUVxNkMsa0JBQWtCLEVBQUUsQ0FBQztNQUNyQm51QyxJQUFJLEVBQUVsTSxnREFBS0E7SUFDZixDQUFDLENBQUM7SUFBRXM2QyxVQUFVLEVBQUUsQ0FBQztNQUNicHVDLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFK3dCLFlBQVksRUFBRSxDQUFDO01BQ2Y3a0IsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUUwNUMsY0FBYyxFQUFFLENBQUM7TUFDakJ4dEMsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQyxDQUFDO0lBQUU2NUMsc0JBQXNCLEVBQUUsQ0FBQztNQUN6QjN0QyxJQUFJLEVBQUVsTSxnREFBS0E7SUFDZixDQUFDLENBQUM7SUFBRTg0QixNQUFNLEVBQUUsQ0FBQztNQUNUNXNCLElBQUksRUFBRWxNLGdEQUFLO01BQ1htTSxJQUFJLEVBQUUsQ0FBQyxjQUFjO0lBQ3pCLENBQUM7RUFBRSxDQUFDO0FBQUE7QUFDaEIsU0FBUyt0QyxhQUFhQSxDQUFDMWdDLENBQUMsRUFBRTtFQUN0QixPQUFPQSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQ0EsQ0FBQztBQUMxQjs7QUFFQTtBQUNBO0FBQ0EsU0FBU3FoQyxZQUFZQSxDQUFDQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFFO0VBQy9DLElBQUlBLEtBQUssRUFBRTtJQUNQLE9BQU9DLGtCQUFrQixDQUFDSCxTQUFTLENBQUM1aUMsSUFBSSxFQUFFNmlDLFNBQVMsQ0FBQzdpQyxJQUFJLENBQUM7RUFDN0QsQ0FBQyxNQUNJO0lBQ0QsT0FBT2dqQyxvQkFBb0IsQ0FBQ0osU0FBUyxDQUFDNWlDLElBQUksRUFBRTZpQyxTQUFTLENBQUM3aUMsSUFBSSxDQUFDO0VBQy9EO0FBQ0o7QUFDQSxTQUFTK2lDLGtCQUFrQkEsQ0FBQ0gsU0FBUyxFQUFFQyxTQUFTLEVBQUU7RUFDOUMsSUFBSSxDQUFDSSxTQUFTLENBQUNMLFNBQVMsQ0FBQ00sUUFBUSxFQUFFTCxTQUFTLENBQUNLLFFBQVEsQ0FBQyxFQUFFO0lBQ3BELE9BQU8sS0FBSztFQUNoQjtFQUNBLElBQUlOLFNBQVMsQ0FBQ08sZ0JBQWdCLEtBQUtOLFNBQVMsQ0FBQ00sZ0JBQWdCLEVBQUU7SUFDM0QsT0FBTyxLQUFLO0VBQ2hCO0VBQ0EsS0FBSyxNQUFNdnBDLENBQUMsSUFBSWlwQyxTQUFTLENBQUN0cUMsUUFBUSxFQUFFO0lBQ2hDLElBQUksQ0FBQ3FxQyxTQUFTLENBQUNycUMsUUFBUSxDQUFDcUIsQ0FBQyxDQUFDLEVBQUU7TUFDeEIsT0FBTyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSSxDQUFDbXBDLGtCQUFrQixDQUFDSCxTQUFTLENBQUNycUMsUUFBUSxDQUFDcUIsQ0FBQyxDQUFDLEVBQUVpcEMsU0FBUyxDQUFDdHFDLFFBQVEsQ0FBQ3FCLENBQUMsQ0FBQyxDQUFDLEVBQUU7TUFDbkUsT0FBTyxLQUFLO0lBQ2hCO0VBQ0o7RUFDQSxPQUFPLElBQUk7QUFDZjtBQUNBLFNBQVNvcEMsb0JBQW9CQSxDQUFDSixTQUFTLEVBQUVDLFNBQVMsRUFBRTtFQUNoRCxPQUFPTywwQkFBMEIsQ0FBQ1IsU0FBUyxFQUFFQyxTQUFTLEVBQUVBLFNBQVMsQ0FBQ0ssUUFBUSxDQUFDO0FBQy9FO0FBQ0EsU0FBU0UsMEJBQTBCQSxDQUFDUixTQUFTLEVBQUVDLFNBQVMsRUFBRVEsY0FBYyxFQUFFO0VBQ3RFLElBQUlULFNBQVMsQ0FBQ00sUUFBUSxDQUFDN3FDLE1BQU0sR0FBR2dyQyxjQUFjLENBQUNockMsTUFBTSxFQUFFO0lBQ25ELE1BQU1vdUIsT0FBTyxHQUFHbWMsU0FBUyxDQUFDTSxRQUFRLENBQUNuZ0MsS0FBSyxDQUFDLENBQUMsRUFBRXNnQyxjQUFjLENBQUNockMsTUFBTSxDQUFDO0lBQ2xFLElBQUksQ0FBQzRxQyxTQUFTLENBQUN4YyxPQUFPLEVBQUU0YyxjQUFjLENBQUMsRUFBRTtNQUNyQyxPQUFPLEtBQUs7SUFDaEI7SUFDQSxJQUFJUixTQUFTLENBQUNTLFdBQVcsQ0FBQyxDQUFDLEVBQUU7TUFDekIsT0FBTyxLQUFLO0lBQ2hCO0lBQ0EsT0FBTyxJQUFJO0VBQ2YsQ0FBQyxNQUNJLElBQUlWLFNBQVMsQ0FBQ00sUUFBUSxDQUFDN3FDLE1BQU0sS0FBS2dyQyxjQUFjLENBQUNockMsTUFBTSxFQUFFO0lBQzFELElBQUksQ0FBQzRxQyxTQUFTLENBQUNMLFNBQVMsQ0FBQ00sUUFBUSxFQUFFRyxjQUFjLENBQUMsRUFBRTtNQUNoRCxPQUFPLEtBQUs7SUFDaEI7SUFDQSxLQUFLLE1BQU16cEMsQ0FBQyxJQUFJaXBDLFNBQVMsQ0FBQ3RxQyxRQUFRLEVBQUU7TUFDaEMsSUFBSSxDQUFDcXFDLFNBQVMsQ0FBQ3JxQyxRQUFRLENBQUNxQixDQUFDLENBQUMsRUFBRTtRQUN4QixPQUFPLEtBQUs7TUFDaEI7TUFDQSxJQUFJLENBQUNvcEMsb0JBQW9CLENBQUNKLFNBQVMsQ0FBQ3JxQyxRQUFRLENBQUNxQixDQUFDLENBQUMsRUFBRWlwQyxTQUFTLENBQUN0cUMsUUFBUSxDQUFDcUIsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNyRSxPQUFPLEtBQUs7TUFDaEI7SUFDSjtJQUNBLE9BQU8sSUFBSTtFQUNmLENBQUMsTUFDSTtJQUNELE1BQU02c0IsT0FBTyxHQUFHNGMsY0FBYyxDQUFDdGdDLEtBQUssQ0FBQyxDQUFDLEVBQUU2L0IsU0FBUyxDQUFDTSxRQUFRLENBQUM3cUMsTUFBTSxDQUFDO0lBQ2xFLE1BQU12SCxJQUFJLEdBQUd1eUMsY0FBYyxDQUFDdGdDLEtBQUssQ0FBQzYvQixTQUFTLENBQUNNLFFBQVEsQ0FBQzdxQyxNQUFNLENBQUM7SUFDNUQsSUFBSSxDQUFDNHFDLFNBQVMsQ0FBQ0wsU0FBUyxDQUFDTSxRQUFRLEVBQUV6YyxPQUFPLENBQUMsRUFBRTtNQUN6QyxPQUFPLEtBQUs7SUFDaEI7SUFDQSxJQUFJLENBQUNtYyxTQUFTLENBQUNycUMsUUFBUSxDQUFDdk4sNERBQWMsQ0FBQyxFQUFFO01BQ3JDLE9BQU8sS0FBSztJQUNoQjtJQUNBLE9BQU9vNEMsMEJBQTBCLENBQUNSLFNBQVMsQ0FBQ3JxQyxRQUFRLENBQUN2Tiw0REFBYyxDQUFDLEVBQUU2M0MsU0FBUyxFQUFFL3hDLElBQUksQ0FBQztFQUMxRjtBQUNKO0FBQ0EsU0FBU215QyxTQUFTQSxDQUFDTSxDQUFDLEVBQUVDLENBQUMsRUFBRTtFQUNyQixJQUFJRCxDQUFDLENBQUNsckMsTUFBTSxLQUFLbXJDLENBQUMsQ0FBQ25yQyxNQUFNLEVBQUU7SUFDdkIsT0FBTyxLQUFLO0VBQ2hCO0VBQ0EsS0FBSyxJQUFJNkUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcW1DLENBQUMsQ0FBQ2xyQyxNQUFNLEVBQUUsRUFBRTZFLENBQUMsRUFBRTtJQUMvQixJQUFJcW1DLENBQUMsQ0FBQ3JtQyxDQUFDLENBQUMsQ0FBQ3ZXLElBQUksS0FBSzY4QyxDQUFDLENBQUN0bUMsQ0FBQyxDQUFDLENBQUN2VyxJQUFJLEVBQUU7TUFDekIsT0FBTyxLQUFLO0lBQ2hCO0VBQ0o7RUFDQSxPQUFPLElBQUk7QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNODhDLGtCQUFrQixDQUFDO0VBQ3JCNTJDLFdBQVdBLENBQUNtekMsTUFBTSxFQUFFaHhDLE9BQU8sRUFBRWlTLFFBQVEsRUFBRTtJQUNuQyxJQUFJLENBQUMrK0IsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ2h4QyxPQUFPLEdBQUdBLE9BQU87SUFDdEIsSUFBSSxDQUFDaVMsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ3RDLE9BQU8sR0FBRyxFQUFFO0lBQ2pCLElBQUksQ0FBQytrQyxNQUFNLEdBQUcsS0FBSztJQUNuQixJQUFJLENBQUNDLHlCQUF5QixHQUFHO01BQUViLEtBQUssRUFBRTtJQUFNLENBQUM7SUFDakQsSUFBSSxDQUFDYyxZQUFZLEdBQUc1RCxNQUFNLENBQUNyZSxNQUFNLENBQUMySCxTQUFTLENBQUVob0IsQ0FBQyxJQUFLO01BQy9DLElBQUlBLENBQUMsWUFBWXJXLDJEQUFhLEVBQUU7UUFDNUIsSUFBSSxDQUFDdWxCLE1BQU0sQ0FBQyxDQUFDO01BQ2pCO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFDQSxJQUFJcXpCLFFBQVFBLENBQUEsRUFBRztJQUNYLE9BQU8sSUFBSSxDQUFDSCxNQUFNO0VBQ3RCO0VBQ0ExdkIsa0JBQWtCQSxDQUFBLEVBQUc7SUFDakIsSUFBSSxDQUFDOHZCLEtBQUssQ0FBQy8xQixPQUFPLENBQUN1YixTQUFTLENBQUMsTUFBTSxJQUFJLENBQUM5WSxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQ0EsTUFBTSxDQUFDLENBQUM7RUFDakI7RUFDQSxJQUFJdXpCLGtCQUFrQkEsQ0FBQzVoQyxJQUFJLEVBQUU7SUFDekIsSUFBSXRFLEtBQUssQ0FBQ0MsT0FBTyxDQUFDcUUsSUFBSSxDQUFDLEVBQUU7TUFDckIsSUFBSSxDQUFDeEQsT0FBTyxHQUFHd0QsSUFBSTtJQUN2QixDQUFDLE1BQ0k7TUFDRCxJQUFJLENBQUN4RCxPQUFPLEdBQUd3RCxJQUFJLENBQUNwRixLQUFLLENBQUMsR0FBRyxDQUFDO0lBQ2xDO0VBQ0o7RUFDQStRLFdBQVdBLENBQUEsRUFBRztJQUNWLElBQUksQ0FBQzBDLE1BQU0sQ0FBQyxDQUFDO0VBQ2pCO0VBQ0FwZCxXQUFXQSxDQUFBLEVBQUc7SUFDVixJQUFJLENBQUN3d0MsWUFBWSxDQUFDSSxXQUFXLENBQUMsQ0FBQztFQUNuQztFQUNBeHpCLE1BQU1BLENBQUEsRUFBRztJQUNMLElBQUksQ0FBQyxJQUFJLENBQUNzekIsS0FBSyxFQUFFO01BQ2I7SUFDSjtJQUNBLE1BQU1HLGNBQWMsR0FBRyxJQUFJLENBQUNBLGNBQWMsQ0FBQyxDQUFDO0lBQzVDO0lBQ0EsSUFBSSxJQUFJLENBQUNQLE1BQU0sS0FBS08sY0FBYyxFQUFFO01BQ2hDLE1BQU0xcUIsY0FBYyxHQUFHLElBQUksQ0FBQ3ltQixNQUFNLENBQUNrRSxRQUFRLENBQUMsSUFBSSxDQUFDbEUsTUFBTSxDQUFDaG1CLEdBQUcsQ0FBQztNQUM1RCxNQUFNbXFCLGFBQWEsR0FBRyxJQUFJLENBQUNDLFVBQVUsQ0FBQzdxQixjQUFjLEVBQUUsSUFBSSxDQUFDdXFCLEtBQUssQ0FBQztNQUNqRSxJQUFJLENBQUNubEMsT0FBTyxDQUFDL1AsT0FBTyxDQUFFZ0wsQ0FBQyxJQUFLO1FBQ3hCLElBQUl1cUMsYUFBYSxFQUFFO1VBQ2YsSUFBSSxDQUFDbGpDLFFBQVEsQ0FBQzVDLFFBQVEsQ0FBQyxJQUFJLENBQUNyUCxPQUFPLENBQUN1QyxhQUFhLEVBQUVxSSxDQUFDLENBQUM7UUFDekQsQ0FBQyxNQUNJO1VBQ0QsSUFBSSxDQUFDcUgsUUFBUSxDQUFDeEMsV0FBVyxDQUFDLElBQUksQ0FBQ3pQLE9BQU8sQ0FBQ3VDLGFBQWEsRUFBRXFJLENBQUMsQ0FBQztRQUM1RDtNQUNKLENBQUMsQ0FBQztJQUNOO0lBQ0E0SCxPQUFPLENBQUNDLE9BQU8sQ0FBQ3dpQyxjQUFjLENBQUMsQ0FBQ2pkLElBQUksQ0FBRTBjLE1BQU0sSUFBTSxJQUFJLENBQUNBLE1BQU0sR0FBR0EsTUFBTyxDQUFDO0VBQzVFO0VBQ0FVLFVBQVVBLENBQUM3cUIsY0FBYyxFQUFFOHFCLENBQUMsRUFBRTtJQUMxQixPQUFPQSxDQUFDLENBQUNDLE1BQU0sQ0FBQyxDQUFDQyxHQUFHLEVBQUVDLElBQUksS0FBSztNQUMzQixPQUFPRCxHQUFHLElBQUk1QixZQUFZLENBQUNwcEIsY0FBYyxFQUFFaXJCLElBQUksQ0FBQ2xDLE9BQU8sRUFBRSxJQUFJLENBQUNxQix5QkFBeUIsQ0FBQ2IsS0FBSyxDQUFDO0lBQ2xHLENBQUMsRUFBRSxLQUFLLENBQUM7RUFDYjtFQUNBMkIsWUFBWUEsQ0FBQ3pFLE1BQU0sRUFBRTtJQUNqQixPQUFRd0UsSUFBSSxJQUFLeEUsTUFBTSxDQUFDNkQsUUFBUSxDQUFDVyxJQUFJLENBQUNsQyxPQUFPLEVBQUUsSUFBSSxDQUFDcUIseUJBQXlCLENBQUNiLEtBQUssQ0FBQztFQUN4RjtFQUNBbUIsY0FBY0EsQ0FBQSxFQUFHO0lBQ2IsT0FBTyxJQUFJLENBQUNILEtBQUssQ0FBQ3ZLLElBQUksQ0FBQyxJQUFJLENBQUNrTCxZQUFZLENBQUMsSUFBSSxDQUFDekUsTUFBTSxDQUFDLENBQUM7RUFDMUQ7RUFDQTtJQUFTLElBQUksQ0FBQ3pzQyxJQUFJLFlBQUFteEMsMkJBQUE5MkMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0Y2MUMsa0JBQWtCLEVBeG5NNUI3OEMsK0RBQUUsQ0F3bk00Q2tFLG9EQUFXLEdBeG5NekRsRSwrREFBRSxDQXduTW9FQSxxREFBYSxHQXhuTW5GQSwrREFBRSxDQXduTThGQSxvREFBWTtJQUFBLENBQTRDO0VBQUU7RUFDMVA7SUFBUyxJQUFJLENBQUN3Z0IsSUFBSSxrQkF6bk04RXhnQiwrREFBRTtNQUFBb04sSUFBQSxFQXluTUp5dkMsa0JBQWtCO01BQUFuOEIsU0FBQTtNQUFBOE4sY0FBQSxXQUFBdXZCLGtDQUFBcjRDLEVBQUEsRUFBQUMsR0FBQSxFQUFBK29CLFFBQUE7UUFBQSxJQUFBaHBCLEVBQUE7VUF6bk1oQjFGLDREQUFFLENBQUEwdUIsUUFBQSxFQXluTThNK3JCLFlBQVk7UUFBQTtRQUFBLElBQUEvMEMsRUFBQTtVQUFBLElBQUF3ZixFQUFBO1VBem5NNU5sbEIsNERBQUUsQ0FBQWtsQixFQUFBLEdBQUZsbEIseURBQUUsUUFBQTJGLEdBQUEsQ0FBQXUzQyxLQUFBLEdBQUFoNEIsRUFBQTtRQUFBO01BQUE7TUFBQW5ELE1BQUE7UUFBQWc3Qix5QkFBQTtRQUFBSSxrQkFBQTtNQUFBO01BQUF4OEIsUUFBQTtNQUFBQyxRQUFBLEdBQUY1Z0Isa0VBQUU7SUFBQSxFQXluTW1TO0VBQUU7QUFDM1k7QUFDQTtFQUFBLFFBQUFrTixTQUFBLG9CQUFBQSxTQUFBLEtBM25Nb0dsTiwrREFBRSxDQTJuTVg2OEMsa0JBQWtCLEVBQWMsQ0FBQztJQUNoSHp2QyxJQUFJLEVBQUU1TSxvREFBUztJQUNmNk0sSUFBSSxFQUFFLENBQUM7TUFDQ3lULFFBQVEsRUFBRSxzQkFBc0I7TUFDaENILFFBQVEsRUFBRTtJQUNkLENBQUM7RUFDVCxDQUFDLENBQUMsRUFBa0IsTUFBTSxDQUFDO0lBQUV2VCxJQUFJLEVBQUVsSixvREFBV3MyQztFQUFDLENBQUMsRUFBRTtJQUFFcHRDLElBQUksRUFBRXBOLHFEQUFhTztFQUFDLENBQUMsRUFBRTtJQUFFNk0sSUFBSSxFQUFFcE4sb0RBQVk4aEI7RUFBQyxDQUFDLENBQUMsRUFBa0I7SUFBRW83QixLQUFLLEVBQUUsQ0FBQztNQUN0SDl2QyxJQUFJLEVBQUUzSywwREFBZTtNQUNyQjRLLElBQUksRUFBRSxDQUFDb3RDLFlBQVk7SUFDdkIsQ0FBQyxDQUFDO0lBQUVzQyx5QkFBeUIsRUFBRSxDQUFDO01BQzVCM3ZDLElBQUksRUFBRWxNLGdEQUFLQTtJQUNmLENBQUMsQ0FBQztJQUFFaThDLGtCQUFrQixFQUFFLENBQUM7TUFDckIvdkMsSUFBSSxFQUFFbE0sZ0RBQUtBO0lBQ2YsQ0FBQztFQUFFLENBQUM7QUFBQTtBQUVoQixNQUFNODhDLFNBQVMsQ0FBQztFQUNaLzNDLFdBQVdBLENBQUNnNEMsVUFBVSxFQUFFO0lBQ3BCLElBQUksQ0FBQzNILGNBQWMsR0FBRyxJQUFJenlDLGtEQUFlLENBQUNvNkMsVUFBVSxDQUFDO0VBQ3pEO0FBQ0o7QUFDQSxTQUFTQywwQkFBMEJBLENBQUM3bUMsSUFBSSxFQUFFO0VBQ3RDLE9BQU8sQ0FBQyxDQUFDQSxJQUFJLENBQUM0TCx1QkFBdUI7QUFDekM7QUFDQSxTQUFTazdCLFlBQVlBLENBQUNqbEMsRUFBRSxFQUFFO0VBQ3RCLElBQUlrbEMsTUFBTSxHQUFHLEtBQUs7RUFDbEIsT0FBTyxDQUFDLEdBQUcvd0MsSUFBSSxLQUFLO0lBQ2hCLElBQUkrd0MsTUFBTSxFQUFFO01BQ1I7SUFDSjtJQUNBQSxNQUFNLEdBQUcsSUFBSTtJQUNiLE9BQU9sbEMsRUFBRSxDQUFDLEdBQUc3TCxJQUFJLENBQUM7RUFDdEIsQ0FBQztBQUNMO0FBQ0EsTUFBTWd4QyxvQkFBb0IsQ0FBQztFQUN2QnA0QyxXQUFXQSxDQUFDcTRDLHFCQUFxQixFQUFFcjFDLE1BQU0sRUFBRTtJQUN2QyxJQUFJLENBQUNxMUMscUJBQXFCLEdBQUdBLHFCQUFxQjtJQUNsRCxJQUFJLENBQUNyMUMsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ3MxQyxJQUFJLEdBQUcsSUFBSTF0QixHQUFHLENBQUMsQ0FBQztFQUN6QjtFQUNBbHBCLEdBQUdBLENBQUNvRixLQUFLLEVBQUV5eEMsYUFBYSxFQUFFamlDLEtBQUssRUFBRTtJQUM3QixNQUFNOVIsR0FBRyxHQUFHLElBQUksQ0FBQ3hCLE1BQU0sQ0FBQ3RCLEdBQUcsQ0FBQ29GLEtBQUssRUFBRXl4QyxhQUFhLEVBQUVqaUMsS0FBSyxDQUFDO0lBQ3hEO0lBQ0EsSUFBSSxPQUFPQSxLQUFLLEtBQUssUUFBUSxFQUFFO01BQzNCLElBQUksRUFBRUEsS0FBSyxHQUFHN1osc0RBQVcsQ0FBQ1osUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDdzhDLHFCQUFxQixDQUFDbHRDLEdBQUcsQ0FBQ3JFLEtBQUssQ0FBQyxFQUFFO1FBQzFFLElBQUksQ0FBQ3d4QyxJQUFJLENBQUM5dEIsR0FBRyxDQUFDaG1CLEdBQUcsQ0FBQztNQUN0QjtJQUNKLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQzhSLEtBQUssRUFBRWtpQyxRQUFRLElBQUksSUFBSSxDQUFDSCxxQkFBcUIsQ0FBQ2x0QyxHQUFHLENBQUNyRSxLQUFLLENBQUMsRUFBRTtRQUMzRCxJQUFJLENBQUN3eEMsSUFBSSxDQUFDOXRCLEdBQUcsQ0FBQ2htQixHQUFHLENBQUM7TUFDdEI7SUFDSjtJQUNBLE9BQU9BLEdBQUc7RUFDZDtFQUNBK1EsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sSUFBSSxDQUFDK2lDLElBQUksQ0FBQ3YyQyxPQUFPLENBQUV5QyxHQUFHLElBQUs7TUFDdkIsSUFBSUEsR0FBRyxDQUFDK0IsV0FBVyxZQUFZb1EsUUFBUSxFQUFFO1FBQ3JDblMsR0FBRyxDQUFDK0IsV0FBVyxDQUFDLENBQUM7TUFDckI7SUFDSixDQUFDLENBQUM7SUFDRixJQUFJLENBQUMreEMsSUFBSSxDQUFDdm1DLEtBQUssQ0FBQyxDQUFDO0VBQ3JCO0FBQ0o7QUFDQSxNQUFNMG1DLGFBQWEsR0FBRyxTQUFBQSxDQUFVcEksY0FBYyxFQUFFO0VBQzVDLE9BQU9BLGNBQWMsQ0FBQ08sWUFBWSxDQUFDeitCLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDakQsQ0FBQztBQUNEM0gsZUFBZSxDQUFDLG9CQUFvQixFQUFFLE1BQU14VCxzREFBSyxDQUFDO0FBQ2xEO0FBQ0EsTUFBTTBoRCxnQkFBZ0IsQ0FBQztFQUNuQjtFQUNBLElBQUlDLGdCQUFnQkEsQ0FBQSxFQUFHO0lBQ25CLE9BQU8sSUFBSSxDQUFDbDBDLFFBQVEsQ0FBQ3VVLFFBQVE7RUFDakM7RUFDQTtFQUNBLElBQUk0L0IsdUJBQXVCQSxDQUFBLEVBQUc7SUFDMUIsT0FBTyxJQUFJLENBQUNsdUMsUUFBUTtFQUN4QjtFQUNBLElBQUltdUMsV0FBV0EsQ0FBQSxFQUFHO0lBQ2QsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDQyxTQUFTO0VBQzNCO0VBQ0EsSUFBSXJoQyxTQUFTQSxDQUFBLEVBQUc7SUFDWixJQUFJLENBQUMsSUFBSSxDQUFDcWhDLFNBQVMsRUFBRTtNQUNqQixJQUFJenhDLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1FBQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQztNQUMxRDtNQUNBO0lBQ0o7SUFDQSxPQUFPLElBQUksQ0FBQ3F3QyxTQUFTLENBQUMvNEMsUUFBUTtFQUNsQztFQUNBLElBQUlzd0MsY0FBY0EsQ0FBQSxFQUFHO0lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUN5SSxTQUFTLEVBQUU7TUFDakIsSUFBSXp4QyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMseUJBQXlCLENBQUM7TUFDMUQ7TUFDQTtJQUNKO0lBQ0EsT0FBTyxJQUFJLENBQUNzd0MsZUFBZTtFQUMvQjtFQUNBLElBQUlDLGtCQUFrQkEsQ0FBQSxFQUFHO0lBQ3JCLElBQUksSUFBSSxDQUFDRCxlQUFlLEVBQUU7TUFDdEIsT0FBTyxJQUFJLENBQUNBLGVBQWUsQ0FBQ3BJLFFBQVEsQ0FBQ3I3QixJQUFJO0lBQzdDO0lBQ0EsT0FBTyxDQUFDLENBQUM7RUFDYjtFQUNBdFYsV0FBV0EsQ0FBQ2k1QyxjQUFjLEVBQUV4MEMsUUFBUSxFQUFFeEUsSUFBSSxFQUFFaTVDLG1CQUFtQixFQUFFQyxhQUFhLEVBQUVsVyxnQkFBZ0IsRUFBRWhxQix3QkFBd0IsRUFBRXZPLFFBQVEsRUFBRWdULGNBQWMsRUFBRTA3QixXQUFXLEVBQUVDLGtCQUFrQixFQUFFNUUsTUFBTSxFQUFFdEIsTUFBTSxFQUFFNXlCLEtBQUssRUFBRTVOLFFBQVEsRUFBRTJtQyxtQkFBbUIsRUFBRTtJQUN6TyxJQUFJLENBQUNMLGNBQWMsR0FBR0EsY0FBYztJQUNwQyxJQUFJLENBQUN4MEMsUUFBUSxHQUFHQSxRQUFRO0lBQ3hCLElBQUksQ0FBQ3crQixnQkFBZ0IsR0FBR0EsZ0JBQWdCO0lBQ3hDLElBQUksQ0FBQ2hxQix3QkFBd0IsR0FBR0Esd0JBQXdCO0lBQ3hELElBQUksQ0FBQ3ZPLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNnVCxjQUFjLEdBQUdBLGNBQWM7SUFDcEMsSUFBSSxDQUFDMDdCLFdBQVcsR0FBR0EsV0FBVztJQUM5QixJQUFJLENBQUNDLGtCQUFrQixHQUFHQSxrQkFBa0I7SUFDNUMsSUFBSSxDQUFDNUUsTUFBTSxHQUFHQSxNQUFNO0lBQ3BCLElBQUksQ0FBQ3RCLE1BQU0sR0FBR0EsTUFBTTtJQUNwQixJQUFJLENBQUNtRyxtQkFBbUIsR0FBR0EsbUJBQW1CO0lBQzlDO0lBQ0EsSUFBSSxDQUFDUixTQUFTLEdBQUcsSUFBSTtJQUNyQixJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJO0lBQzNCLElBQUksQ0FBQ1EsWUFBWSxHQUFHLElBQUkvK0MsdURBQVksQ0FBQyxDQUFDO0lBQ3RDLElBQUksQ0FBQ2cvQyxZQUFZLEdBQUcsSUFBSWgvQyx1REFBWSxDQUFDLENBQUM7SUFDdEM7SUFDQSxJQUFJLENBQUNpL0MsY0FBYyxHQUFHLElBQUlqL0MsdURBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQztJQUNBLElBQUksQ0FBQ2svQyxnQkFBZ0IsR0FBRyxJQUFJbC9DLHVEQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsSUFBSSxDQUFDMitDLGFBQWEsR0FBR0EsYUFBYTtJQUNsQyxJQUFJLENBQUM5dEIsS0FBSyxHQUFHOUssS0FBSyxDQUFDN2IsYUFBYTtJQUNoQyxJQUFJLENBQUNpMUMsc0JBQXNCLENBQUNULG1CQUFtQixDQUFDO0lBQ2hELElBQUk3eEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7TUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFFLHVDQUFzQyxJQUFJLENBQUM0aUIsS0FBTSxFQUFDLENBQUM7SUFDcEY7SUFDQSxJQUFJLENBQUNwckIsSUFBSSxHQUFHQSxJQUFJLElBQUk5Qiw0REFBYztJQUNsQzg2QyxjQUFjLENBQUNXLG9CQUFvQixDQUFDLElBQUksQ0FBQzM1QyxJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQ3BELElBQUksQ0FBQzBTLFFBQVEsR0FBR0EsUUFBUTtJQUN4QixJQUFJLENBQUNrbkMscUJBQXFCLEdBQUdudkMsUUFBUSxDQUFDc1MsdUJBQXVCLENBQUNTLGNBQWMsQ0FBQztFQUNqRjtFQUNBazhCLHNCQUFzQkEsQ0FBQ1QsbUJBQW1CLEVBQUU7SUFDeEMsUUFBUUEsbUJBQW1CO01BQ3ZCLEtBQUssUUFBUTtNQUNiLEtBQUssT0FBTztRQUNSLElBQUksQ0FBQzd0QixLQUFLLENBQUM2dEIsbUJBQW1CLEdBQUdBLG1CQUFtQjtRQUNwRDtNQUNKO1FBQ0ksSUFBSSxDQUFDN3RCLEtBQUssQ0FBQzZ0QixtQkFBbUIsR0FBRyxNQUFNO0lBQy9DO0VBQ0o7RUFDQTN5QyxXQUFXQSxDQUFBLEVBQUc7SUFDVjtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQzB5QyxjQUFjLENBQUNhLFVBQVUsQ0FBQyxJQUFJLENBQUM3NUMsSUFBSSxDQUFDLEVBQUU2dEIsTUFBTSxLQUFLLElBQUksRUFBRTtNQUM1RDtNQUNBO01BQ0EsSUFBSSxDQUFDbXJCLGNBQWMsQ0FBQ2Msc0JBQXNCLENBQUMsSUFBSSxDQUFDOTVDLElBQUksQ0FBQztJQUN6RDtJQUNBLElBQUksSUFBSSxDQUFDNnRCLE1BQU0sRUFBRTtNQUNiLElBQUksQ0FBQ0EsTUFBTSxDQUFDdkQsVUFBVSxDQUFDeG9CLE9BQU8sQ0FBRXdSLEdBQUcsSUFBSztRQUNwQyxJQUFJLENBQUM4bEMsa0JBQWtCLENBQUNqSSxlQUFlLENBQUM3OUIsR0FBRyxDQUFDO01BQ2hELENBQUMsQ0FBQztNQUNGLElBQUksQ0FBQzB2QixnQkFBZ0IsQ0FBQ25TLFdBQVcsQ0FBQyxJQUFJLENBQUN6RixLQUFLLENBQUM7SUFDakQsQ0FBQyxNQUNJO01BQ0Roa0IsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsMEVBQTBFLENBQUM7SUFDM0c7SUFDQSxJQUFJLElBQUksQ0FBQ293QyxXQUFXLEVBQUU7TUFDbEIsTUFBTTlyQyxDQUFDLEdBQUcsSUFBSSxDQUFDK3JDLFNBQVMsQ0FBQy80QyxRQUFRO01BQ2pDLElBQUksQ0FBQys0QyxTQUFTLENBQUN0OUIsUUFBUSxDQUFDN0MsTUFBTSxDQUFDLENBQUM7TUFDaEM2M0IsbUJBQW1CLENBQUMsSUFBSSxDQUFDc0ksU0FBUyxDQUFDO01BQ25DLElBQUksQ0FBQ1ksZ0JBQWdCLENBQUNqK0IsSUFBSSxDQUFDMU8sQ0FBQyxDQUFDO01BQzdCLElBQUksQ0FBQytyQyxTQUFTLEdBQUcsSUFBSTtJQUN6QjtFQUNKO0VBQ0FrQixVQUFVQSxDQUFBLEVBQUc7SUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDbHNCLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQ0EsTUFBTSxDQUFDM0Qsb0JBQW9CLEVBQUU7TUFDbkQsSUFBSTlpQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsOEZBQThGLENBQUM7TUFDL0g7TUFDQTtJQUNKO0lBQ0EsSUFBSXBCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyxpRUFBaUUsQ0FBQztJQUNsRztJQUNBLElBQUksQ0FBQyxJQUFJLENBQUNvd0MsV0FBVyxFQUFFO01BQ25CO0lBQ0o7SUFDQSxJQUFJLENBQUNvQixlQUFlLEdBQUcsQ0FBQztJQUN4QixNQUFNbHRDLENBQUMsR0FBRyxJQUFJLENBQUMrckMsU0FBUyxDQUFDLzRDLFFBQVE7SUFDakN5d0MsbUJBQW1CLENBQUMsSUFBSSxDQUFDc0ksU0FBUyxDQUFDO0lBQ25DLElBQUksQ0FBQ0EsU0FBUyxHQUFHLElBQUk7SUFDckIsSUFBSSxDQUFDQyxlQUFlLEdBQUcsSUFBSTtJQUMzQixJQUFJLENBQUNXLGdCQUFnQixDQUFDaitCLElBQUksQ0FBQzFPLENBQUMsQ0FBQztFQUNqQztFQUNBO0FBQ0o7QUFDQTtFQUNJNEwsTUFBTUEsQ0FBQSxFQUFHO0lBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQ2tnQyxXQUFXLEVBQUU7TUFDbkIsSUFBSXh4QyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMseUJBQXlCLENBQUM7TUFDMUQ7TUFDQTtJQUNKO0lBQ0EsSUFBSXBCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBRSwrQkFBOEJnd0MsYUFBYSxDQUFDLElBQUksQ0FBQ00sZUFBZSxDQUFFLEVBQUMsQ0FBQztJQUNyRztJQUNBLElBQUksQ0FBQ2tCLGVBQWUsR0FBRyxDQUFDO0lBQ3hCO0lBQ0EsSUFBSSxDQUFDbkIsU0FBUyxDQUFDdDlCLFFBQVEsQ0FBQzdDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLE1BQU1sQixTQUFTLEdBQUcsSUFBSSxDQUFDcWhDLFNBQVM7SUFDaEMsSUFBSSxDQUFDQSxTQUFTLEdBQUcsSUFBSTtJQUNyQixJQUFJLENBQUNDLGVBQWUsR0FBRyxJQUFJO0lBQzNCLElBQUksQ0FBQ1MsWUFBWSxDQUFDLzlCLElBQUksQ0FBQ2hFLFNBQVMsQ0FBQzFYLFFBQVEsQ0FBQztJQUMxQyxPQUFPMFgsU0FBUztFQUNwQjtFQUNBO0FBQ0o7QUFDQTtFQUNJYyxNQUFNQSxDQUFDL1QsR0FBRyxFQUFFNnJDLGNBQWMsRUFBRTtJQUN4QixJQUFJaHBDLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBRSwrQkFBOEJnd0MsYUFBYSxDQUFDcEksY0FBYyxDQUFFLEVBQUMsQ0FBQztJQUMvRjtJQUNBLElBQUksQ0FBQ3lJLFNBQVMsR0FBR3QwQyxHQUFHO0lBQ3BCO0lBQ0EsSUFBSSxDQUFDczBDLFNBQVMsQ0FBQ3Q5QixRQUFRLENBQUM2QyxZQUFZLENBQUMsQ0FBQztJQUN0QyxJQUFJLENBQUN5NkIsU0FBUyxDQUFDdDlCLFFBQVEsQ0FBQzRLLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLElBQUksQ0FBQzJ5QixlQUFlLEdBQUcxSSxjQUFjO0lBQ3JDLElBQUksQ0FBQzZKLGtCQUFrQixDQUFDN0osY0FBYyxDQUFDO0lBQ3ZDO0lBQ0EsSUFBSSxJQUFJLENBQUM4Six1QkFBdUIsQ0FBQyxDQUFDLEVBQUU7TUFDaEMsSUFBSSxDQUFDbFgsZ0JBQWdCLENBQUMvUyx5QkFBeUIsQ0FBQyxJQUFJLENBQUM3RSxLQUFLLENBQUM7SUFDL0Q7SUFDQSxJQUFJLENBQUNrdUIsWUFBWSxDQUFDOTlCLElBQUksQ0FBQ2pYLEdBQUcsQ0FBQ3pFLFFBQVEsQ0FBQztFQUN4QztFQUNBbzZDLHVCQUF1QkEsQ0FBQSxFQUFHO0lBQ3RCLElBQUl6dUMsUUFBUSxHQUFHLElBQUksQ0FBQ3V0QyxjQUFjLENBQUNhLFVBQVUsQ0FBQyxJQUFJLENBQUM3NUMsSUFBSSxDQUFDLEVBQUV5TCxRQUFRO0lBQ2xFLE9BQU9BLFFBQVEsRUFBRTtNQUNiLE1BQU0wdUMsWUFBWSxHQUFHMXVDLFFBQVEsQ0FBQ291QyxVQUFVLENBQUMsSUFBSSxDQUFDNzVDLElBQUksQ0FBQztNQUNuRCxJQUFJLENBQUNtNkMsWUFBWSxJQUFJLENBQUNBLFlBQVksQ0FBQ3RzQixNQUFNLEVBQUU7UUFDdkMsT0FBTyxJQUFJO01BQ2Y7TUFDQSxJQUFJc3NCLFlBQVksQ0FBQ3RzQixNQUFNLFlBQVk0cUIsZ0JBQWdCLEVBQUU7UUFDakQsT0FBTyxLQUFLO01BQ2hCO01BQ0FodEMsUUFBUSxHQUFHMHVDLFlBQVksQ0FBQzF1QyxRQUFRO0lBQ3BDO0lBQ0EsT0FBTyxJQUFJO0VBQ2Y7RUFDQTtBQUNKO0FBQ0E7QUFDQTtFQUNJMnVDLFlBQVlBLENBQUNoSyxjQUFjLEVBQUUzbEMsUUFBUSxFQUFFO0lBQ25DLElBQUksQ0FBQ29qQixNQUFNLEdBQUcsSUFBSSxDQUFDQSxNQUFNLElBQUksSUFBSSxDQUFDd3NCLFNBQVMsQ0FBQ2pLLGNBQWMsQ0FBQ00sUUFBUSxDQUFDO0lBQ3BFLElBQUksQ0FBQyxJQUFJLENBQUM3aUIsTUFBTSxFQUFFO01BQ2QsSUFBSXptQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtRQUNsQ1YsaUJBQWlCLENBQUNxQixXQUFXLENBQUMsNkNBQTZDLENBQUM7TUFDaEY7TUFDQTtJQUNKO0lBQ0EsSUFBSSxDQUFDb2xCLE1BQU0sQ0FBQ2xDLGVBQWUsR0FBRyxJQUFJLENBQUN1dEIsYUFBYTtJQUNoRCxJQUFJLENBQUNsVyxnQkFBZ0IsQ0FBQ3JTLGlCQUFpQixDQUFDLElBQUksQ0FBQzlDLE1BQU0sRUFBRSxJQUFJLENBQUN6QyxLQUFLLEVBQUUsSUFBSSxDQUFDOHRCLGFBQWEsQ0FBQztJQUNwRixJQUFJLElBQUksQ0FBQ3JyQixNQUFNLElBQUksSUFBSSxDQUFDQSxNQUFNLENBQUMzRCxvQkFBb0IsRUFBRTtNQUNqRCxJQUFJOWlCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO1FBQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQywwRkFBMEYsQ0FBQztNQUMzSDtNQUNBLElBQUksSUFBSSxDQUFDMHhDLHVCQUF1QixDQUFDLENBQUMsRUFBRTtRQUNoQyxJQUFJLENBQUNsWCxnQkFBZ0IsQ0FBQy9TLHlCQUF5QixDQUFDLElBQUksQ0FBQzdFLEtBQUssQ0FBQztNQUMvRDtJQUNKO0lBQ0EsSUFBSWhrQixpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUUscUNBQW9DZ3dDLGFBQWEsQ0FBQ3BJLGNBQWMsQ0FBRSxFQUFDLENBQUM7SUFDckc7SUFDQSxJQUFJLENBQUMwSSxlQUFlLEdBQUcxSSxjQUFjO0lBQ3JDLElBQUksQ0FBQzZKLGtCQUFrQixDQUFDN0osY0FBYyxDQUFDO0lBQ3ZDLElBQUksQ0FBQ2tLLG1CQUFtQixDQUFDbEssY0FBYyxFQUFFM2xDLFFBQVEsSUFBSSxJQUFJLENBQUM0dUMsbUJBQW1CLENBQUM7SUFDOUUsSUFBSSxDQUFDRyxjQUFjLENBQUNoK0IsSUFBSSxDQUFDLElBQUksQ0FBQ3E5QixTQUFTLENBQUMvNEMsUUFBUSxDQUFDO0VBQ3JEO0VBQ0F3NkMsbUJBQW1CQSxDQUFDbEssY0FBYyxFQUFFbUssa0JBQWtCLEVBQUU7SUFDcEQsSUFBSW56QyxpQkFBaUIsQ0FBQ1UsWUFBWSxDQUFDLENBQUMsRUFBRTtNQUNsQ1YsaUJBQWlCLENBQUNvQixTQUFTLENBQUMsbURBQW1ELEdBQUcsZ0RBQWdELENBQUM7SUFDdkk7SUFDQSxNQUFNZ1AsU0FBUyxHQUFHLElBQUksQ0FBQ2dqQyxnQkFBZ0IsQ0FBQ3BLLGNBQWMsQ0FBQztJQUN2RCxNQUFNL3ZCLElBQUksR0FBRyxJQUFJLENBQUM4NEIsV0FBVyxDQUFDO01BQzFCc0IsWUFBWSxFQUFFLElBQUk7TUFDbEIzOEIsYUFBYSxFQUFFdEc7SUFDbkIsQ0FBQyxDQUFDO0lBQ0YsTUFBTWhULFFBQVEsR0FBRyxJQUFJLENBQUNBLFFBQVE7SUFDOUIsTUFBTWsyQyxhQUFhLEdBQUcsSUFBSS92QixHQUFHLENBQUMsQ0FBQzdLLFdBQVcsQ0FBQyxDQUFDO0lBQzVDLE1BQU02NkIsY0FBYyxHQUFHLy9DLG1EQUFRLENBQUMrSyxNQUFNLENBQUM7TUFDbkNpYyxTQUFTLEVBQUUsQ0FDUDtRQUFFTCxPQUFPLEVBQUVwckIsb0RBQUk7UUFBRSs5QixRQUFRLEVBQUU3VDtNQUFLLENBQUMsRUFDakM7UUFBRWtCLE9BQU8sRUFBRXhxQixzREFBSztRQUFFbTlCLFFBQVEsRUFBRSxJQUFJLENBQUM5STtNQUFNLENBQUMsRUFDeEM7UUFBRTdKLE9BQU8sRUFBRXUyQixTQUFTO1FBQUU1akIsUUFBUSxFQUFFLElBQUk0akIsU0FBUyxDQUFDMUgsY0FBYztNQUFFLENBQUMsRUFDL0Q7UUFBRTd1QixPQUFPLEVBQUVuakIsNERBQWM7UUFBRTgxQixRQUFRLEVBQUVrYztNQUFlLENBQUMsRUFDckQ7UUFBRTd1QixPQUFPLEVBQUVsakIsb0VBQXNCO1FBQUU2MUIsUUFBUSxFQUFFLElBQUksQ0FBQzhrQixjQUFjLENBQUM0QixrQkFBa0IsQ0FBQyxJQUFJLENBQUM1NkMsSUFBSSxDQUFDLENBQUN5TDtNQUFTLENBQUMsRUFDekc7UUFBRThWLE9BQU8sRUFBRXpCLFdBQVc7UUFBRXlZLFFBQVEsRUFBRXpZO01BQVksQ0FBQyxDQUNsRDtNQUNEL2MsTUFBTSxFQUFFeUIsUUFBUSxDQUFDdVU7SUFDckIsQ0FBQyxDQUFDO0lBQ0YsTUFBTUEsUUFBUSxHQUFHLElBQUlvL0Isb0JBQW9CLENBQUN1QyxhQUFhLEVBQUVDLGNBQWMsQ0FBQztJQUN4RSxJQUFJbkssU0FBUztJQUNiLElBQUl3SCwwQkFBMEIsQ0FBQ3VDLGtCQUFrQixDQUFDLEVBQUU7TUFDaEQsTUFBTXp6QyxPQUFPLEdBQUd5ekMsa0JBQWtCLENBQUN4OUIsdUJBQXVCLENBQUNTLGNBQWMsQ0FBQztNQUMxRWd6QixTQUFTLEdBQUdoc0MsUUFBUSxDQUFDOFcsZUFBZSxDQUFDeFUsT0FBTyxFQUFFdEMsUUFBUSxDQUFDK0csTUFBTSxFQUFFd04sUUFBUSxDQUFDO0lBQzVFLENBQUMsTUFDSTtNQUNELE1BQU1zZ0MsbUJBQW1CLEdBQUdrQixrQkFBa0I7TUFDOUMvSixTQUFTLEdBQUdoc0MsUUFBUSxDQUFDOFcsZUFBZSxDQUFDa0MsY0FBYyxFQUFFO1FBQUUxVCxLQUFLLEVBQUV0RixRQUFRLENBQUMrRyxNQUFNO1FBQUV3TixRQUFRO1FBQUVzZ0M7TUFBb0IsQ0FBQyxDQUFDO0lBQ25IO0lBQ0E3SSxTQUFTLENBQUNyVixTQUFTLENBQUMsTUFBTXBpQixRQUFRLENBQUN6RCxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzdDLElBQUksQ0FBQ21JLGNBQWMsQ0FBQ1csWUFBWSxDQUFDLENBQUM7SUFDbEMsSUFBSSxDQUFDeTZCLFNBQVMsR0FBR3JJLFNBQVMsQ0FBQzF3QyxRQUFRLENBQUN5ZSx1QkFBdUIsQ0FBQy9HLFNBQVMsQ0FBQztJQUN0RSxJQUFJLENBQUNxaEMsU0FBUyxDQUFDemtCLGlCQUFpQixDQUFDOVcsYUFBYSxDQUFDLENBQUM7SUFDaEQsSUFBSSxDQUFDdTlCLG1CQUFtQixDQUFDeDZCLElBQUksRUFBRSxJQUFJLENBQUN3NEIsU0FBUyxFQUFFO01BQUV6STtJQUFlLENBQUMsQ0FBQztJQUNsRSxJQUFJLENBQUN5SSxTQUFTLENBQUN2SSxlQUFlLENBQUMsR0FBR0UsU0FBUztFQUMvQztFQUNBcUssbUJBQW1CQSxDQUFDeDZCLElBQUksRUFBRXJELFlBQVksRUFBRTg5QixpQkFBaUIsRUFBRTtJQUN2RDtJQUNBLE1BQU1DLGFBQWEsR0FBRy85QixZQUFZLENBQUN4WSxRQUFRLENBQUNDLGFBQWE7SUFDekQ7SUFDQSxJQUFJLENBQUNpTyxRQUFRLENBQUMxUCxXQUFXLENBQUMrM0MsYUFBYSxDQUFDaDRDLE1BQU0sRUFBRWc0QyxhQUFhLENBQUM7SUFDOUQ7SUFDQSxJQUFJLENBQUNyb0MsUUFBUSxDQUFDckUsV0FBVyxDQUFDZ1MsSUFBSSxFQUFFMDZCLGFBQWEsQ0FBQztJQUM5QyxJQUFJQyxpQkFBaUIsR0FBRzdLLGtDQUFrQyxDQUFDLElBQUksQ0FBQzJJLGVBQWUsQ0FBQ3BJLFFBQVEsQ0FBQztJQUN6RixJQUFJbG1CLFNBQVMsR0FBRyxJQUFJLENBQUN3WSxnQkFBZ0IsQ0FBQ2hTLGdCQUFnQixDQUFDZ3FCLGlCQUFpQixDQUFDO0lBQ3pFLE1BQU1DLFlBQVksR0FBR3p3QixTQUFTO0lBQzlCLE9BQU8sQ0FBQyxJQUFJLENBQUN3WSxnQkFBZ0IsQ0FBQ2xWLFVBQVUsQ0FBQ3RELFNBQVMsQ0FBQyxFQUFFO01BQ2pEd3dCLGlCQUFpQixHQUFHQSxpQkFBaUIsQ0FBQ2o0QyxNQUFNO01BQzVDLElBQUksQ0FBQ2k0QyxpQkFBaUIsRUFBRTtRQUNwQjV6QyxpQkFBaUIsQ0FBQ3FCLFdBQVcsQ0FBQyxtQ0FBbUMsR0FBR3d5QyxZQUFZLENBQUM7UUFDakY7TUFDSjtNQUNBendCLFNBQVMsR0FBRyxJQUFJLENBQUN3WSxnQkFBZ0IsQ0FBQ2hTLGdCQUFnQixDQUFDZ3FCLGlCQUFpQixDQUFDO0lBQ3pFO0lBQ0EsTUFBTUUscUJBQXFCLEdBQUdydkMsTUFBTSxDQUFDb0gsSUFBSSxDQUFDMG1CLE9BQU8sQ0FBQ3doQixJQUFJLENBQUVoMEMsSUFBSSxJQUFLO01BQzdELElBQUlBLElBQUksQ0FBQ2kwQyxnQkFBZ0IsRUFBRTtRQUN2QixJQUFJLENBQUNwWSxnQkFBZ0IsQ0FBQ2hULHdCQUF3QixDQUFDLElBQUksQ0FBQzVFLEtBQUssRUFBRVosU0FBUyxDQUFDO1FBQ3JFLElBQUksQ0FBQ3dZLGdCQUFnQixDQUFDaFUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM1RCxLQUFLLENBQUM7TUFDaEQ7SUFDSixDQUFDLENBQUM7SUFDRjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQS9LLElBQUksQ0FBQ3plLEVBQUUsQ0FBQ3pMLG9EQUFJLENBQUNrbEQsa0JBQWtCLEVBQUVILHFCQUFxQixDQUFDO0lBQ3ZEbCtCLFlBQVksQ0FBQ21lLFNBQVMsQ0FBQyxNQUFNO01BQ3pCLElBQUk5YSxJQUFJLEVBQUU7UUFDTkEsSUFBSSxDQUFDdGUsR0FBRyxDQUFDNUwsb0RBQUksQ0FBQ2tsRCxrQkFBa0IsRUFBRUgscUJBQXFCLENBQUM7UUFDeEQ3NkIsSUFBSSxHQUFHLElBQUk7TUFDZjtJQUNKLENBQUMsQ0FBQztJQUNGLE1BQU1vUSxVQUFVLEdBQUc7TUFBRSxHQUFHM0UsaUJBQWlCO01BQUUsSUFBSSxJQUFJLENBQUNvbkIsTUFBTSxDQUFDb0ksb0JBQW9CLENBQUMsQ0FBQyxDQUFDbEksTUFBTSxJQUFJLENBQUMsQ0FBQztJQUFFLENBQUM7SUFDakcsSUFBSSxDQUFDcFEsZ0JBQWdCLENBQUN6UyxvQkFBb0IsQ0FBQyxJQUFJLENBQUNuRixLQUFLLEVBQUVxRixVQUFVLENBQUM7SUFDbEUsTUFBTThxQixTQUFTLEdBQUc5cUIsVUFBVSxDQUFDNmtCLFVBQVUsSUFBSSxDQUFDN2tCLFVBQVUsQ0FBQzFFLFlBQVk7SUFDbkUsTUFBTWtGLFlBQVksR0FBRyxJQUFJLENBQUNtZixjQUFjO0lBQ3hDO0lBQ0EsSUFBSTNmLFVBQVUsQ0FBQzFFLFlBQVksRUFBRTtNQUN6QixJQUFJLENBQUM4QixNQUFNLENBQUN2RCxVQUFVLENBQUN4b0IsT0FBTyxDQUFFd1IsR0FBRyxJQUFLLElBQUksQ0FBQzhsQyxrQkFBa0IsQ0FBQ3hHLGlCQUFpQixDQUFDdC9CLEdBQUcsQ0FBQyxDQUFDO01BQ3ZGLE1BQU1rb0MsU0FBUyxHQUFHdkQsWUFBWSxDQUFDLE1BQU07UUFDakMsSUFBSSxJQUFJLENBQUMrQixlQUFlLEtBQUt3QixTQUFTLEVBQUU7VUFDcEMsSUFBSSxDQUFDeEIsZUFBZSxHQUFHLElBQUk7UUFDL0I7UUFDQSxJQUFJLElBQUksQ0FBQ25zQixNQUFNLElBQUksSUFBSSxDQUFDdWlCLGNBQWMsS0FBS25mLFlBQVksRUFBRTtVQUNyRDtVQUNBO1VBQ0E7VUFDQSxJQUFJLENBQUNwRCxNQUFNLENBQUN2RCxVQUFVLENBQUN4b0IsT0FBTyxDQUFFd1IsR0FBRyxJQUFLLElBQUksQ0FBQzhsQyxrQkFBa0IsQ0FBQ3JHLGdCQUFnQixDQUFDei9CLEdBQUcsQ0FBQyxDQUFDO1FBQzFGO01BQ0osQ0FBQyxDQUFDO01BQ0YsSUFBSSxDQUFDMG1DLGVBQWUsR0FBR3dCLFNBQVM7TUFDaEMsTUFBTUMsYUFBYSxHQUFHQSxDQUFBLEtBQU1oMkMsVUFBVSxDQUFDLE1BQU07UUFDekMrMUMsU0FBUyxDQUFDLENBQUM7TUFDZixDQUFDLENBQUM7TUFDRm43QixJQUFJLENBQUNwTCxJQUFJLENBQUM5ZSxvREFBSSxDQUFDdWxELGdCQUFnQixFQUFFRCxhQUFhLENBQUM7SUFDbkQsQ0FBQyxNQUNJLElBQUlockIsVUFBVSxDQUFDNmtCLFVBQVUsRUFBRTtNQUM1QixJQUFJLENBQUN6bkIsTUFBTSxDQUFDdkQsVUFBVSxDQUFDeG9CLE9BQU8sQ0FBRXdSLEdBQUcsSUFBSyxJQUFJLENBQUM4bEMsa0JBQWtCLENBQUN0RyxlQUFlLENBQUN4L0IsR0FBRyxDQUFDLENBQUM7TUFDckYsTUFBTXUvQixRQUFRLEdBQUdvRixZQUFZLENBQUMsTUFBTTtRQUNoQyxJQUFJLElBQUksQ0FBQytCLGVBQWUsS0FBS25ILFFBQVEsRUFBRTtVQUNuQyxJQUFJLENBQUNtSCxlQUFlLEdBQUcsSUFBSTtRQUMvQjtRQUNBLElBQUksSUFBSSxDQUFDbnNCLE1BQU0sSUFBSSxJQUFJLENBQUN1aUIsY0FBYyxLQUFLbmYsWUFBWSxFQUFFO1VBQ3JEO1VBQ0E7VUFDQTtVQUNBLElBQUksQ0FBQ3BELE1BQU0sQ0FBQ3ZELFVBQVUsQ0FBQ3hvQixPQUFPLENBQUV3UixHQUFHLElBQUssSUFBSSxDQUFDOGxDLGtCQUFrQixDQUFDckcsZ0JBQWdCLENBQUN6L0IsR0FBRyxDQUFDLENBQUM7UUFDMUY7TUFDSixDQUFDLENBQUM7TUFDRixJQUFJLENBQUMwbUMsZUFBZSxHQUFHbkgsUUFBUTtNQUMvQixNQUFNNEksYUFBYSxHQUFHQSxDQUFBLEtBQU1oMkMsVUFBVSxDQUFDLE1BQU07UUFDekNvdEMsUUFBUSxDQUFDLENBQUM7TUFDZCxDQUFDLENBQUM7TUFDRnh5QixJQUFJLENBQUNwTCxJQUFJLENBQUM5ZSxvREFBSSxDQUFDdWxELGdCQUFnQixFQUFFRCxhQUFhLENBQUM7SUFDbkQ7SUFDQSxNQUFNRSxlQUFlLEdBQUc7TUFDcEJoMkMsTUFBTUEsQ0FBQSxFQUFHO1FBQ0wsT0FBTzBhLElBQUk7TUFDZixDQUFDO01BQ0RsSCxPQUFPLEVBQUUyaEMsaUJBQWlCO01BQzFCL3VCLFlBQVksRUFBRTBFLFVBQVUsQ0FBQzFFLFlBQVk7TUFDckNDLFFBQVEsRUFBRXlFLFVBQVUsQ0FBQ3pFLFFBQVE7TUFDN0JtcEIsVUFBVSxFQUFFMWtCLFVBQVUsQ0FBQzBrQjtJQUMzQixDQUFDO0lBQ0QsSUFBSW9HLFNBQVMsSUFBSSxJQUFJLENBQUNud0IsS0FBSyxDQUFDd3dCLFdBQVcsRUFBRTtNQUNyQyxJQUFJLENBQUN4d0IsS0FBSyxDQUFDeXdCLFdBQVcsQ0FBQ0YsZUFBZSxDQUFDO0lBQzNDLENBQUMsTUFDSTtNQUNELElBQUksQ0FBQ3Z3QixLQUFLLENBQUN6aEIsUUFBUSxDQUFDZ3lDLGVBQWUsQ0FBQztJQUN4QztFQUNKO0VBQ0E7RUFDQTtFQUNBO0VBQ0ExQixrQkFBa0JBLENBQUM3SixjQUFjLEVBQUU7SUFDL0IsTUFBTWxpQixLQUFLLEdBQUcsRUFBRTtJQUNoQkEsS0FBSyxDQUFDeHNCLElBQUksQ0FBQzB1QyxjQUFjLENBQUNNLFFBQVEsQ0FBQztJQUNuQyxJQUFJemYsWUFBWSxHQUFHL0MsS0FBSyxDQUFDVyxLQUFLLENBQUMsQ0FBQztJQUNoQyxPQUFPb0MsWUFBWSxFQUFFO01BQ2pCQSxZQUFZLENBQUN4bEIsUUFBUSxDQUFDM0osT0FBTyxDQUFFZzZDLFVBQVUsSUFBSztRQUMxQzV0QixLQUFLLENBQUN4c0IsSUFBSSxDQUFDbzZDLFVBQVUsQ0FBQztNQUMxQixDQUFDLENBQUM7TUFDRixNQUFNZCxpQkFBaUIsR0FBRzdLLGtDQUFrQyxDQUFDbGYsWUFBWSxDQUFDO01BQzFFLE1BQU16RyxTQUFTLEdBQUcsSUFBSSxDQUFDd1ksZ0JBQWdCLENBQUNoUyxnQkFBZ0IsQ0FBQ2dxQixpQkFBaUIsQ0FBQztNQUMzRSxNQUFNbnRCLE1BQU0sR0FBRyxJQUFJLENBQUNtVixnQkFBZ0IsQ0FBQ2xWLFVBQVUsQ0FBQ3RELFNBQVMsRUFBRXd3QixpQkFBaUIsQ0FBQztNQUM3RSxJQUFJbnRCLE1BQU0sSUFBSUEsTUFBTSxDQUFDakQsTUFBTSxDQUFDcmYsTUFBTSxFQUFFO1FBQ2hDeXZDLGlCQUFpQixDQUFDM0sseUJBQXlCLENBQUMsR0FBRyxJQUFJO1FBQ25ELElBQUlqcEMsaUJBQWlCLENBQUNVLFlBQVksQ0FBQyxDQUFDLEVBQUU7VUFDbENWLGlCQUFpQixDQUFDb0IsU0FBUyxDQUFDLGtDQUFrQyxHQUFHZ3dDLGFBQWEsQ0FBQ3dDLGlCQUFpQixDQUFDLENBQUM7UUFDdEc7TUFDSjtNQUNBL3BCLFlBQVksR0FBRy9DLEtBQUssQ0FBQ1csS0FBSyxDQUFDLENBQUM7SUFDaEM7RUFDSjtFQUNBMnJCLGdCQUFnQkEsQ0FBQ3BLLGNBQWMsRUFBRTtJQUM3QixPQUFPQSxjQUFjLENBQUNzQyxXQUFXLENBQUNsN0IsU0FBUyxJQUFJNDRCLGNBQWMsQ0FBQzU0QixTQUFTO0VBQzNFO0VBQ0E2aUMsU0FBU0EsQ0FBQzlvQixzQkFBc0IsRUFBRTtJQUM5QixNQUFNeXBCLGlCQUFpQixHQUFHN0ssa0NBQWtDLENBQUM1ZSxzQkFBc0IsQ0FBQztJQUNwRixNQUFNL0csU0FBUyxHQUFHLElBQUksQ0FBQ3dZLGdCQUFnQixDQUFDaFMsZ0JBQWdCLENBQUNncUIsaUJBQWlCLENBQUM7SUFDM0UsSUFBSW50QixNQUFNLEdBQUcsSUFBSSxDQUFDbVYsZ0JBQWdCLENBQUNsVixVQUFVLENBQUN0RCxTQUFTLEVBQUV3d0IsaUJBQWlCLENBQUM7SUFDM0U7SUFDQSxJQUFJLENBQUNudEIsTUFBTSxJQUFJLElBQUksQ0FBQ3FyQixhQUFhLEVBQUU7TUFDL0IsTUFBTXpxQixlQUFlLEdBQUcsSUFBSSxDQUFDdVUsZ0JBQWdCLENBQUNoUyxnQkFBZ0IsQ0FBQ2dxQixpQkFBaUIsQ0FBQ2o0QyxNQUFNLENBQUM7TUFDeEY4cUIsTUFBTSxHQUFHLElBQUksQ0FBQ21WLGdCQUFnQixDQUFDbFYsVUFBVSxDQUFDVyxlQUFlLEVBQUV1c0IsaUJBQWlCLENBQUNqNEMsTUFBTSxDQUFDO01BQ3BGLElBQUk4cUIsTUFBTSxFQUFFO1FBQ1JBLE1BQU0sQ0FBQ3ZELFVBQVUsQ0FBQzVvQixJQUFJLENBQUM4b0IsU0FBUyxDQUFDO01BQ3JDO0lBQ0o7SUFDQSxPQUFPcUQsTUFBTTtFQUNqQjtFQUNBO0lBQVMsSUFBSSxDQUFDcG5CLElBQUksWUFBQXMxQyx5QkFBQWo3QyxDQUFBO01BQUEsWUFBQUEsQ0FBQSxJQUF3RjIzQyxnQkFBZ0IsRUFsa04xQjMrQywrREFBRSxDQWtrTjBDa0Usb0VBQTJCLEdBbGtOdkVsRSwrREFBRSxDQWtrTmtGQSwyREFBbUIsR0Fsa052R0EsK0RBQUUsQ0Fra05rSCxNQUFNLEdBbGtOMUhBLCtEQUFFLENBa2tOc0oscUJBQXFCLEdBbGtON0tBLCtEQUFFLENBa2tOeU0sZUFBZSxHQWxrTjFOQSwrREFBRSxDQWtrTnNQbXlCLGtCQUFrQixHQWxrTjFRbnlCLCtEQUFFLENBa2tOcVJBLG1FQUEyQixHQWxrTmxUQSwrREFBRSxDQWtrTjZUQSxtRUFBMkIsR0Fsa04xVkEsK0RBQUUsQ0Fra05xV0EsNERBQW9CLEdBbGtOM1hBLCtEQUFFLENBa2tOc1kySixZQUFZLEdBbGtOcFozSiwrREFBRSxDQWtrTitaMDNDLG9CQUFvQixHQWxrTnJiMTNDLCtEQUFFLENBa2tOZ2NBLGlEQUFTLEdBbGtOM2NBLCtEQUFFLENBa2tOc2RrRSxvREFBVyxHQWxrTm5lbEUsK0RBQUUsQ0Fra044ZUEscURBQWEsR0Fsa043ZkEsK0RBQUUsQ0Fra053Z0J1VCxRQUFRLEdBbGtObGhCdlQsK0RBQUUsQ0Fra042aEJBLDhEQUFzQjtJQUFBLENBQTRDO0VBQUU7RUFDbnNCO0lBQVMsSUFBSSxDQUFDd2dCLElBQUksa0JBbmtOOEV4Z0IsK0RBQUU7TUFBQW9OLElBQUEsRUFta05KdXhDLGdCQUFnQjtNQUFBaitCLFNBQUE7TUFBQXVCLE9BQUE7UUFBQXk5QixjQUFBO1FBQUFDLGdCQUFBO01BQUE7SUFBQSxFQUEwSDtFQUFFO0FBQzlPO0FBQ0E1OEMsaURBQVUsQ0FBQyxDQUNQcEUsd0RBQU8sRUFDUG1FLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDd0IsNERBQWMsRUFBRWdHLE1BQU0sQ0FBQyxDQUFDLEVBQ3pEeEgsaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUMxQyxFQUFFNjdDLGdCQUFnQixDQUFDN2hDLFNBQVMsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDO0FBQ3BEL1osaURBQVUsQ0FBQyxDQUNQcEUsd0RBQU8sRUFDUG1FLGlEQUFVLENBQUMsYUFBYSxFQUFFOFosUUFBUSxDQUFDLEVBQ25DOVosaURBQVUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDekcsb0RBQUksRUFBRThELHVEQUFZLEVBQUVtSyxNQUFNLENBQUMsQ0FBQyxFQUM3RHhILGlEQUFVLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FDMUMsRUFBRTY3QyxnQkFBZ0IsQ0FBQzdoQyxTQUFTLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxDQUFDO0FBQzNEO0VBQUEsUUFBQTVQLFNBQUEsb0JBQUFBLFNBQUEsS0FqbE5vR2xOLCtEQUFFLENBaWxOWDIrQyxnQkFBZ0IsRUFBYyxDQUFDO0lBQzlHdnhDLElBQUksRUFBRTVNLG9EQUFTO0lBQ2Y2TSxJQUFJLEVBQUUsQ0FBQztNQUFFeVQsUUFBUSxFQUFFO0lBQXFCLENBQUM7RUFDN0MsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFMVQsSUFBSSxFQUFFbEosb0VBQTJCSztFQUFDLENBQUMsRUFBRTtJQUFFNkksSUFBSSxFQUFFcE4sMkRBQW1CZTtFQUFDLENBQUMsRUFBRTtJQUFFcU0sSUFBSSxFQUFFN0IsU0FBUztJQUFFc2IsVUFBVSxFQUFFLENBQUM7TUFDckh6WixJQUFJLEVBQUV6SyxvREFBUztNQUNmMEssSUFBSSxFQUFFLENBQUMsTUFBTTtJQUNqQixDQUFDO0VBQUUsQ0FBQyxFQUFFO0lBQUVELElBQUksRUFBRTdCLFNBQVM7SUFBRXNiLFVBQVUsRUFBRSxDQUFDO01BQ2xDelosSUFBSSxFQUFFekssb0RBQVM7TUFDZjBLLElBQUksRUFBRSxDQUFDLHFCQUFxQjtJQUNoQyxDQUFDO0VBQUUsQ0FBQyxFQUFFO0lBQUVELElBQUksRUFBRTdCLFNBQVM7SUFBRXNiLFVBQVUsRUFBRSxDQUFDO01BQ2xDelosSUFBSSxFQUFFekssb0RBQVM7TUFDZjBLLElBQUksRUFBRSxDQUFDLGVBQWU7SUFDMUIsQ0FBQztFQUFFLENBQUMsRUFBRTtJQUFFRCxJQUFJLEVBQUUra0I7RUFBbUIsQ0FBQyxFQUFFO0lBQUUva0IsSUFBSSxFQUFFcE4sbUVBQTJCWTtFQUFDLENBQUMsRUFBRTtJQUFFd00sSUFBSSxFQUFFcE4sbUVBQTJCWTtFQUFDLENBQUMsRUFBRTtJQUFFd00sSUFBSSxFQUFFcE4sNERBQW9CcUI7RUFBQyxDQUFDLEVBQUU7SUFBRStMLElBQUksRUFBRTdCLFNBQVM7SUFBRXNiLFVBQVUsRUFBRSxDQUFDO01BQzlLelosSUFBSSxFQUFFbE4saURBQU07TUFDWm1OLElBQUksRUFBRSxDQUFDMUQsWUFBWTtJQUN2QixDQUFDO0VBQUUsQ0FBQyxFQUFFO0lBQUV5RCxJQUFJLEVBQUVzcUM7RUFBcUIsQ0FBQyxFQUFFO0lBQUV0cUMsSUFBSSxFQUFFcE4saURBQVNxQztFQUFDLENBQUMsRUFBRTtJQUFFK0ssSUFBSSxFQUFFbEosb0RBQVdzMkM7RUFBQyxDQUFDLEVBQUU7SUFBRXB0QyxJQUFJLEVBQUVwTixxREFBYU87RUFBQyxDQUFDLEVBQUU7SUFBRTZNLElBQUksRUFBRW1HO0VBQVMsQ0FBQyxFQUFFO0lBQUVuRyxJQUFJLEVBQUVwTiw4REFBc0JtaUQ7RUFBQyxDQUFDLENBQUMsRUFBa0I7SUFBRXpDLGNBQWMsRUFBRSxDQUFDO01BQ3JNdHlDLElBQUksRUFBRTFNLGlEQUFNO01BQ1oyTSxJQUFJLEVBQUUsQ0FBQyxVQUFVO0lBQ3JCLENBQUMsQ0FBQztJQUFFc3lDLGdCQUFnQixFQUFFLENBQUM7TUFDbkJ2eUMsSUFBSSxFQUFFMU0saURBQU07TUFDWjJNLElBQUksRUFBRSxDQUFDLFlBQVk7SUFDdkIsQ0FBQyxDQUFDO0lBQUVpekMsWUFBWSxFQUFFLEVBQUU7SUFBRVMsbUJBQW1CLEVBQUU7RUFBRyxDQUFDO0FBQUE7QUFFM0QsTUFBTXFCLDRCQUE0QixTQUFTNytDLDhEQUFnQixDQUFDO0VBQ3hEMEMsV0FBV0EsQ0FBQ2lqQyxnQkFBZ0IsRUFBRTtJQUMxQixLQUFLLENBQUMsQ0FBQztJQUNQLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdBLGdCQUFnQjtJQUN4QyxJQUFJNTdCLGlCQUFpQixDQUFDVSxZQUFZLENBQUMsQ0FBQyxFQUFFO01BQ2xDVixpQkFBaUIsQ0FBQ29CLFNBQVMsQ0FBQyw0Q0FBNEMsQ0FBQztJQUM3RTtFQUNKO0VBQ0ErakIsUUFBUUEsQ0FBQSxFQUFHO0lBQ1AsT0FBT2xuQixTQUFTO0VBQ3BCO0VBQ0E4MkMsa0JBQWtCQSxDQUFBLEVBQUc7SUFDakIsT0FBTyxHQUFHO0VBQ2Q7RUFDQTFzQixVQUFVQSxDQUFDemMsRUFBRSxFQUFFO0lBQ1gsSUFBSSxDQUFDZ3dCLGdCQUFnQixDQUFDdlQsVUFBVSxDQUFDemMsRUFBRSxDQUFDO0lBQ3BDLE9BQU8sTUFBTTtNQUNUO0lBQUEsQ0FDSDtFQUNMO0VBQ0FvcEMsWUFBWUEsQ0FBQ0MsR0FBRyxFQUFFO0lBQ2QsT0FBTyxNQUFNO01BQ1Q7SUFBQSxDQUNIO0VBQ0w7RUFDQSxJQUFJQyxNQUFNQSxDQUFBLEVBQUc7SUFDVCxPQUFPLEVBQUU7RUFDYjtFQUNBLElBQUlDLElBQUlBLENBQUEsRUFBRztJQUNQLE9BQU8sRUFBRTtFQUNiO0VBQ0EsSUFBSUMsUUFBUUEsQ0FBQSxFQUFHO0lBQ1gsT0FBTyxJQUFJLENBQUN4WixnQkFBZ0IsQ0FBQ25wQyxJQUFJLENBQUMsQ0FBQztFQUN2QztFQUNBLElBQUkyaUQsUUFBUUEsQ0FBQ0MsUUFBUSxFQUFFO0lBQ25CLE1BQU0sSUFBSTd5QyxLQUFLLENBQUMsNkRBQTZELENBQUM7RUFDbEY7RUFDQTBqQixTQUFTQSxDQUFDWixLQUFLLEVBQUVhLEtBQUssRUFBRUwsR0FBRyxFQUFFO0lBQ3pCLElBQUksQ0FBQzhWLGdCQUFnQixDQUFDMVYsU0FBUyxDQUFDWixLQUFLLEVBQUVhLEtBQUssRUFBRUwsR0FBRyxFQUFFLElBQUksQ0FBQztFQUM1RDtFQUNBNEIsWUFBWUEsQ0FBQ3BDLEtBQUssRUFBRWEsS0FBSyxFQUFFTCxHQUFHLEVBQUU7SUFDNUIsSUFBSSxDQUFDOFYsZ0JBQWdCLENBQUNsVSxZQUFZLENBQUNwQyxLQUFLLEVBQUVhLEtBQUssRUFBRUwsR0FBRyxFQUFFLElBQUksQ0FBQztFQUMvRDtFQUNBNkIsT0FBT0EsQ0FBQSxFQUFHO0lBQ04sTUFBTSxJQUFJbmxCLEtBQUssQ0FBQywwREFBMEQsQ0FBQztFQUMvRTtFQUNBb2xCLElBQUlBLENBQUEsRUFBRztJQUNILElBQUksQ0FBQ2dVLGdCQUFnQixDQUFDaFUsSUFBSSxDQUFDLENBQUM7RUFDaEM7RUFDQTtJQUFTLElBQUksQ0FBQ3ZvQixJQUFJLFlBQUFpMkMscUNBQUE1N0MsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZvN0MsNEJBQTRCLEVBenBOdENwaUQsc0RBQUUsQ0F5cE5zRG15QixrQkFBa0I7SUFBQSxDQUE2QztFQUFFO0VBQ3pOO0lBQVMsSUFBSSxDQUFDdGxCLEtBQUssa0JBMXBONkU3TSxnRUFBRTtNQUFBK00sS0FBQSxFQTBwTllxMUMsNEJBQTRCO01BQUFwMUMsT0FBQSxFQUE1Qm8xQyw0QkFBNEIsQ0FBQXoxQztJQUFBLEVBQUc7RUFBRTtBQUNuSjtBQUNBO0VBQUEsUUFBQU8sU0FBQSxvQkFBQUEsU0FBQSxLQTVwTm9HbE4sK0RBQUUsQ0E0cE5Yb2lELDRCQUE0QixFQUFjLENBQUM7SUFDMUhoMUMsSUFBSSxFQUFFaE4scURBQVVBO0VBQ3BCLENBQUMsQ0FBQyxFQUFrQixNQUFNLENBQUM7SUFBRWdOLElBQUksRUFBRStrQjtFQUFtQixDQUFDLENBQUM7QUFBQTtBQUVoRSxNQUFNMHdCLHNCQUFzQixDQUFDO0VBQ3pCNThDLFdBQVdBLENBQUNzZ0IsSUFBSSxFQUFFO0lBQ2QsSUFBSSxDQUFDQSxJQUFJLEdBQUdBLElBQUk7SUFDaEIsSUFBSSxJQUFJLENBQUNBLElBQUksRUFBRTtNQUNYLElBQUksQ0FBQ0EsSUFBSSxDQUFDVSxlQUFlLEdBQUcsSUFBSTtNQUNoQyxJQUFJLENBQUNWLElBQUksQ0FBQ3plLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTTtRQUN6QixJQUFJLElBQUksQ0FBQ2c3QyxnQkFBZ0IsSUFBSSxJQUFJLENBQUN2OEIsSUFBSSxDQUFDK0ssS0FBSyxFQUFFO1VBQzFDLElBQUksQ0FBQ3d4QixnQkFBZ0IsQ0FBQ2xELHNCQUFzQixDQUFDLElBQUksQ0FBQ3I1QixJQUFJLENBQUMrSyxLQUFLLENBQUM2dEIsbUJBQW1CLENBQUM7UUFDckY7TUFDSixDQUFDLENBQUM7SUFDTjtFQUNKO0VBQ0E7SUFBUyxJQUFJLENBQUN4eUMsSUFBSSxZQUFBbzJDLCtCQUFBLzdDLENBQUE7TUFBQSxZQUFBQSxDQUFBLElBQXdGNjdDLHNCQUFzQixFQTVxTmhDN2lELCtEQUFFLENBNHFOZ0RoRSxvREFBTztJQUFBLENBQTRDO0VBQUU7RUFDdk07SUFBUyxJQUFJLENBQUM2b0IsSUFBSSxrQkE3cU44RTdrQiwrREFBRTtNQUFBb04sSUFBQSxFQTZxTkp5MUMsc0JBQXNCO01BQUFuaUMsU0FBQTtNQUFBcUUsU0FBQSxXQUFBaStCLDZCQUFBdDlDLEVBQUEsRUFBQUMsR0FBQTtRQUFBLElBQUFELEVBQUE7VUE3cU5wQjFGLHlEQUFFLENBNnFOMkgyK0MsZ0JBQWdCLEtBQTJCQSxnQkFBZ0I7UUFBQTtRQUFBLElBQUFqNUMsRUFBQTtVQUFBLElBQUF3ZixFQUFBO1VBN3FOeExsbEIsNERBQUUsQ0FBQWtsQixFQUFBLEdBQUZsbEIseURBQUUsUUFBQTJGLEdBQUEsQ0FBQW05QyxnQkFBQSxHQUFBNTlCLEVBQUEsQ0FBQUcsS0FBQTtRQUFBO01BQUE7TUFBQUUsS0FBQTtNQUFBQyxJQUFBO01BQUFDLE1BQUE7TUFBQXJHLFFBQUEsV0FBQTZqQyxnQ0FBQXY5QyxFQUFBLEVBQUFDLEdBQUE7UUFBQSxJQUFBRCxFQUFBO1VBQUYxRix1REFBRSwyQkE2cU5pUixDQUFDO1FBQUE7TUFBQTtNQUFBaTlCLFlBQUEsR0FBNkQwaEIsZ0JBQWdCO01BQUF2a0MsYUFBQTtJQUFBLEVBQTJFO0VBQUU7QUFDbGhCO0FBQ0E7RUFBQSxRQUFBbE4sU0FBQSxvQkFBQUEsU0FBQSxLQS9xTm9HbE4sK0RBQUUsQ0ErcU5YNmlELHNCQUFzQixFQUFjLENBQUM7SUFDcEh6MUMsSUFBSSxFQUFFcE0sb0RBQVM7SUFDZnFNLElBQUksRUFBRSxDQUFDO01BQ0M7TUFDQXlULFFBQVEsRUFBRSxpQkFBaUI7TUFDM0IxQixRQUFRLEVBQUU7SUFDZCxDQUFDO0VBQ1QsQ0FBQyxDQUFDLEVBQWtCLE1BQU0sQ0FBQztJQUFFaFMsSUFBSSxFQUFFcFIsb0RBQU9LO0VBQUMsQ0FBQyxDQUFDLEVBQWtCO0lBQUV5bUQsZ0JBQWdCLEVBQUUsQ0FBQztNQUM1RTExQyxJQUFJLEVBQUVuTSxvREFBUztNQUNmb00sSUFBSSxFQUFFLENBQUNzeEMsZ0JBQWdCLEVBQUU7UUFBRTc0QixJQUFJLEVBQUU2NEIsZ0JBQWdCO1FBQUU1NEIsTUFBTSxFQUFFO01BQU0sQ0FBQztJQUN0RSxDQUFDO0VBQUUsQ0FBQztBQUFBO0FBRWhCLFNBQVNtOUIsdUJBQXVCQSxDQUFDaGEsZ0JBQWdCLEVBQUU5VyxZQUFZLEVBQUVDLFNBQVMsRUFBRTtFQUN4RSxPQUFPNlcsZ0JBQWdCLEdBQUdBLGdCQUFnQixHQUFHLElBQUkvVyxrQkFBa0IsQ0FBQ0MsWUFBWSxFQUFFQyxTQUFTLENBQUM7QUFDaEc7QUFDQSxNQUFNOHdCLHdCQUF3QixDQUFDO0VBQzNCLE9BQU9DLE9BQU9BLENBQUNDLE1BQU0sRUFBRXBuQixNQUFNLEVBQUU7SUFDM0IsT0FBTztNQUNIcW5CLFFBQVEsRUFBRUgsd0JBQXdCO01BQ2xDcjdCLFNBQVMsRUFBRSxDQUNQLEdBQUd0akIsMERBQVksQ0FBQzQrQyxPQUFPLENBQUNDLE1BQU0sRUFBRXBuQixNQUFNLENBQUMsQ0FBQ25VLFNBQVMsRUFDakQ7UUFDSUwsT0FBTyxFQUFFMEssa0JBQWtCO1FBQzNCekssVUFBVSxFQUFFdzdCLHVCQUF1QjtRQUNuQ3Y3QixJQUFJLEVBQUUsQ0FBQyxDQUFDd0ssa0JBQWtCLEVBQUUsSUFBSTd4QixtREFBUSxDQUFDLENBQUMsRUFBRSxJQUFJd0IsbURBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRWl1QixZQUFZLEVBQUUsQ0FBQyxJQUFJenZCLG1EQUFRLENBQUMsQ0FBQyxFQUFFaUosVUFBVSxDQUFDO01BQzNHLENBQUMsRUFDRDtRQUFFa2UsT0FBTyxFQUFFdmtCLDhEQUFnQjtRQUFFZ3NCLFdBQVcsRUFBRWlEO01BQW1CLENBQUMsRUFDOURpd0IsNEJBQTRCLEVBQzVCO1FBQUUzNkIsT0FBTyxFQUFFbGtCLDhEQUFnQjtRQUFFMnJCLFdBQVcsRUFBRWt6QjtNQUE2QixDQUFDLEVBQ3hFakosZ0JBQWdCLEVBQ2hCekIsb0JBQW9CLEVBQ3BCO1FBQUVqd0IsT0FBTyxFQUFFaGpCLGdFQUFrQjtRQUFFeXFCLFdBQVcsRUFBRXdvQjtNQUFxQixDQUFDO0lBRTFFLENBQUM7RUFDTDtFQUNBLE9BQU82TCxRQUFRQSxDQUFDRixNQUFNLEVBQUU7SUFDcEIsT0FBTztNQUFFQyxRQUFRLEVBQUVILHdCQUF3QjtNQUFFcjdCLFNBQVMsRUFBRXRqQiwwREFBWSxDQUFDKytDLFFBQVEsQ0FBQ0YsTUFBTSxDQUFDLENBQUN2N0I7SUFBVSxDQUFDO0VBQ3JHO0VBQ0E7SUFBUyxJQUFJLENBQUNuYixJQUFJLFlBQUE2MkMsaUNBQUF4OEMsQ0FBQTtNQUFBLFlBQUFBLENBQUEsSUFBd0ZtOEMsd0JBQXdCO0lBQUEsQ0FBa0Q7RUFBRTtFQUN0TDtJQUFTLElBQUksQ0FBQy9nQyxJQUFJLGtCQXR0TjhFcGlCLDhEQUFFO01BQUFvTixJQUFBLEVBc3ROUysxQztJQUF3QixFQUF1UDtFQUFFO0VBQzVYO0lBQVMsSUFBSSxDQUFDN2dDLElBQUksa0JBdnROOEV0aUIsOERBQUU7TUFBQTY5QixPQUFBLEdBdXRONkNyNUIsMERBQVksRUFBRW01Qix3QkFBd0IsRUFBRW41QiwwREFBWTtJQUFBLEVBQUk7RUFBRTtBQUM3TTtBQUNBO0VBQUEsUUFBQTBJLFNBQUEsb0JBQUFBLFNBQUEsS0F6dE5vR2xOLCtEQUFFLENBeXROWG1qRCx3QkFBd0IsRUFBYyxDQUFDO0lBQ3RILzFDLElBQUksRUFBRXpNLG1EQUFRO0lBQ2QwTSxJQUFJLEVBQUUsQ0FBQztNQUNDb1YsWUFBWSxFQUFFLENBQUNnNEIsWUFBWSxFQUFFb0Msa0JBQWtCLEVBQUU4QixnQkFBZ0IsRUFBRWtFLHNCQUFzQixDQUFDO01BQzFGaGxCLE9BQU8sRUFBRSxDQUFDcjVCLDBEQUFZLEVBQUVtNUIsd0JBQXdCLENBQUM7TUFDakRuYixPQUFPLEVBQUUsQ0FBQ2hlLDBEQUFZLEVBQUVpMkMsWUFBWSxFQUFFb0Msa0JBQWtCLEVBQUU4QixnQkFBZ0IsRUFBRWtFLHNCQUFzQixDQUFDO01BQ25HL2tCLE9BQU8sRUFBRSxDQUFDbDhCLDJEQUFnQjtJQUM5QixDQUFDO0VBQ1QsQ0FBQyxDQUFDO0FBQUE7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJNmhELFlBQVksR0FBRyxDQUFDO0FBQ3BCLFNBQVNDLElBQUlBLENBQUEsRUFBRyxDQUFFO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNQyxrQkFBa0IsQ0FBQztFQUNyQjE5QyxXQUFXQSxDQUFDO0lBQUUyOUMsb0JBQW9CLEdBQUdoaEQsd0RBQVMsQ0FBQyxDQUFDO0lBQUVpaEQsa0NBQWtDLEdBQUcsSUFBSTtJQUFFQyxnQ0FBZ0MsR0FBRztFQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtJQUN6SSxJQUFJLENBQUNDLG9CQUFvQixHQUFHLEtBQUs7SUFDakMsSUFBSSxDQUFDQyxvQkFBb0IsR0FBRyxLQUFLO0lBQ2pDO0FBQ1I7QUFDQTtJQUNRLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUk7SUFDcEI7QUFDUjtBQUNBO0lBQ1EsSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSXpqRCx1REFBWSxDQUFDLEtBQUssQ0FBQztJQUN6QztBQUNSO0FBQ0E7QUFDQTtBQUNBO0lBQ1EsSUFBSSxDQUFDMGpELGdCQUFnQixHQUFHLElBQUkxakQsdURBQVksQ0FBQyxLQUFLLENBQUM7SUFDL0M7QUFDUjtBQUNBO0FBQ0E7QUFDQTtJQUNRLElBQUksQ0FBQzJqRCxRQUFRLEdBQUcsSUFBSTNqRCx1REFBWSxDQUFDLEtBQUssQ0FBQztJQUN2QztBQUNSO0FBQ0E7SUFDUSxJQUFJLENBQUM0akQsT0FBTyxHQUFHLElBQUk1akQsdURBQVksQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxPQUFPMFksSUFBSSxJQUFJLFdBQVcsRUFBRTtNQUM1QixNQUFNLElBQUlySixLQUFLLENBQUUsZ0RBQStDLENBQUM7SUFDckU7SUFDQXFKLElBQUksQ0FBQ21yQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3hCLE1BQU1DLElBQUksR0FBRyxJQUFJO0lBQ2pCQSxJQUFJLENBQUNDLFFBQVEsR0FBRyxDQUFDO0lBQ2pCRCxJQUFJLENBQUNFLE1BQU0sR0FBR0YsSUFBSSxDQUFDRyxNQUFNLEdBQUd2ckMsSUFBSSxDQUFDMG1CLE9BQU87SUFDeEMsSUFBSTFtQixJQUFJLENBQUMsc0JBQXNCLENBQUMsRUFBRTtNQUM5Qm9yQyxJQUFJLENBQUNHLE1BQU0sR0FBR0gsSUFBSSxDQUFDRyxNQUFNLENBQUNDLElBQUksQ0FBQyxJQUFJeHJDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RTtJQUNBLElBQUl5cUMsb0JBQW9CLElBQUl6cUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLEVBQUU7TUFDeERvckMsSUFBSSxDQUFDRyxNQUFNLEdBQUdILElBQUksQ0FBQ0csTUFBTSxDQUFDQyxJQUFJLENBQUN4ckMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDbEU7SUFDQTtJQUNBO0lBQ0FvckMsSUFBSSxDQUFDVixrQ0FBa0MsR0FBRyxDQUFDQyxnQ0FBZ0MsSUFBSUQsa0NBQWtDO0lBQ2pIVSxJQUFJLENBQUNULGdDQUFnQyxHQUFHQSxnQ0FBZ0M7SUFDeEVTLElBQUksQ0FBQ0ssMkJBQTJCLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDTCxJQUFJLENBQUNNLDJCQUEyQixHQUFHLFVBQVVyOUMsRUFBRSxFQUFFO01BQzdDLE1BQU1zOUMsMEJBQTBCLEdBQUd6bEQsZ0RBQUssQ0FBQzhaLElBQUksQ0FBQ21xQixVQUFVLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFJamtDLHFFQUEwQjtNQUMvR3lsRCwwQkFBMEIsQ0FBQ3Q5QyxFQUFFLENBQUM7TUFDOUIsT0FBT2k4QyxZQUFZLEVBQUU7SUFDekIsQ0FBQztJQUNEdUIsZ0NBQWdDLENBQUNULElBQUksQ0FBQztFQUMxQztFQUNBLE9BQU9VLGVBQWVBLENBQUEsRUFBRztJQUNyQixPQUFPOXJDLElBQUksQ0FBQzBtQixPQUFPLENBQUNsNEIsR0FBRyxDQUFDLGVBQWUsQ0FBQyxLQUFLLElBQUk7RUFDckQ7RUFDQSxPQUFPdTlDLG1CQUFtQkEsQ0FBQSxFQUFHO0lBQ3pCLElBQUksQ0FBQzdpRCxpREFBTSxDQUFDNGlELGVBQWUsQ0FBQyxDQUFDLEVBQUU7TUFDM0IsTUFBTSxJQUFJbjFDLEtBQUssQ0FBQyxnREFBZ0QsQ0FBQztJQUNyRTtFQUNKO0VBQ0EsT0FBT3ExQyxzQkFBc0JBLENBQUEsRUFBRztJQUM1QixJQUFJOWlELGlEQUFNLENBQUM0aUQsZUFBZSxDQUFDLENBQUMsRUFBRTtNQUMxQixNQUFNLElBQUluMUMsS0FBSyxDQUFDLGdEQUFnRCxDQUFDO0lBQ3JFO0VBQ0o7RUFDQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7RUFDSXVKLEdBQUdBLENBQUNILEVBQUUsRUFBRWtzQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUMxQixPQUFPLElBQUksQ0FBQ1gsTUFBTSxDQUFDcnJDLEdBQUcsQ0FBQ0gsRUFBRSxFQUFFa3NDLFNBQVMsRUFBRUMsU0FBUyxDQUFDO0VBQ3BEO0VBQ0E7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lDLE9BQU9BLENBQUNwc0MsRUFBRSxFQUFFa3NDLFNBQVMsRUFBRUMsU0FBUyxFQUFFbi9DLElBQUksRUFBRTtJQUNwQyxNQUFNMHlCLElBQUksR0FBRyxJQUFJLENBQUM4ckIsTUFBTTtJQUN4QixNQUFNNWtCLElBQUksR0FBR2xILElBQUksQ0FBQ21ILGlCQUFpQixDQUFDLGVBQWUsR0FBRzc1QixJQUFJLEVBQUVnVCxFQUFFLEVBQUVxc0MsYUFBYSxFQUFFN0IsSUFBSSxFQUFFQSxJQUFJLENBQUM7SUFDMUYsSUFBSTtNQUNBLE9BQU85cUIsSUFBSSxDQUFDMHNCLE9BQU8sQ0FBQ3hsQixJQUFJLEVBQUVzbEIsU0FBUyxFQUFFQyxTQUFTLENBQUM7SUFDbkQsQ0FBQyxTQUNPO01BQ0p6c0IsSUFBSSxDQUFDcUgsVUFBVSxDQUFDSCxJQUFJLENBQUM7SUFDekI7RUFDSjtFQUNBO0FBQ0o7QUFDQTtBQUNBO0VBQ0kwbEIsVUFBVUEsQ0FBQ3RzQyxFQUFFLEVBQUVrc0MsU0FBUyxFQUFFQyxTQUFTLEVBQUU7SUFDakMsT0FBTyxJQUFJLENBQUNYLE1BQU0sQ0FBQ2MsVUFBVSxDQUFDdHNDLEVBQUUsRUFBRWtzQyxTQUFTLEVBQUVDLFNBQVMsQ0FBQztFQUMzRDtFQUNBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0lJLGlCQUFpQkEsQ0FBQ3ZzQyxFQUFFLEVBQUU7SUFDbEIsT0FBTyxJQUFJLENBQUN1ckMsTUFBTSxDQUFDcHJDLEdBQUcsQ0FBQ0gsRUFBRSxDQUFDO0VBQzlCO0FBQ0o7QUFDQSxNQUFNcXNDLGFBQWEsR0FBRyxDQUFDLENBQUM7QUFDeEIsU0FBU0csV0FBV0EsQ0FBQzlzQixJQUFJLEVBQUU7RUFDdkI7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsSUFBSUEsSUFBSSxDQUFDNHJCLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQzVyQixJQUFJLENBQUNvckIsb0JBQW9CLElBQUksQ0FBQ3ByQixJQUFJLENBQUNxckIsUUFBUSxFQUFFO0lBQ3BFLElBQUk7TUFDQXJyQixJQUFJLENBQUM0ckIsUUFBUSxFQUFFO01BQ2Y1ckIsSUFBSSxDQUFDdXJCLGdCQUFnQixDQUFDemlDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDcEMsQ0FBQyxTQUNPO01BQ0prWCxJQUFJLENBQUM0ckIsUUFBUSxFQUFFO01BQ2YsSUFBSSxDQUFDNXJCLElBQUksQ0FBQ29yQixvQkFBb0IsRUFBRTtRQUM1QixJQUFJO1VBQ0FwckIsSUFBSSxDQUFDNnNCLGlCQUFpQixDQUFDLE1BQU03c0IsSUFBSSxDQUFDd3JCLFFBQVEsQ0FBQzFpQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUQsQ0FBQyxTQUNPO1VBQ0prWCxJQUFJLENBQUNxckIsUUFBUSxHQUFHLElBQUk7UUFDeEI7TUFDSjtJQUNKO0VBQ0o7QUFDSjtBQUNBLFNBQVMwQiw2QkFBNkJBLENBQUMvc0IsSUFBSSxFQUFFO0VBQ3pDO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0ksSUFBSUEsSUFBSSxDQUFDZ3RCLG9CQUFvQixJQUFJaHRCLElBQUksQ0FBQ2dzQiwyQkFBMkIsS0FBSyxDQUFDLENBQUMsRUFBRTtJQUN0RTtFQUNKO0VBQ0Foc0IsSUFBSSxDQUFDZ3NCLDJCQUEyQixHQUFHaHNCLElBQUksQ0FBQ2lzQiwyQkFBMkIsQ0FBQ2h2QyxJQUFJLENBQUM5RCxNQUFNLEVBQUUsTUFBTTtJQUNuRjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLENBQUM2bUIsSUFBSSxDQUFDaXRCLGdCQUFnQixFQUFFO01BQ3hCanRCLElBQUksQ0FBQ2l0QixnQkFBZ0IsR0FBRzFzQyxJQUFJLENBQUNDLElBQUksQ0FBQzJtQixpQkFBaUIsQ0FBQyxrQkFBa0IsRUFBRSxNQUFNO1FBQzFFbkgsSUFBSSxDQUFDZ3NCLDJCQUEyQixHQUFHLENBQUMsQ0FBQztRQUNyQ2tCLHFCQUFxQixDQUFDbHRCLElBQUksQ0FBQztRQUMzQkEsSUFBSSxDQUFDZ3RCLG9CQUFvQixHQUFHLElBQUk7UUFDaENGLFdBQVcsQ0FBQzlzQixJQUFJLENBQUM7UUFDakJBLElBQUksQ0FBQ2d0QixvQkFBb0IsR0FBRyxLQUFLO01BQ3JDLENBQUMsRUFBRXI2QyxTQUFTLEVBQUUsTUFBTSxDQUFFLENBQUMsRUFBRSxNQUFNLENBQUUsQ0FBQyxDQUFDO0lBQ3ZDO0lBQ0FxdEIsSUFBSSxDQUFDaXRCLGdCQUFnQixDQUFDN2xCLE1BQU0sQ0FBQyxDQUFDO0VBQ2xDLENBQUMsQ0FBQztFQUNGOGxCLHFCQUFxQixDQUFDbHRCLElBQUksQ0FBQztBQUMvQjtBQUNBLFNBQVNvc0IsZ0NBQWdDQSxDQUFDcHNCLElBQUksRUFBRTtFQUM1QyxNQUFNbXRCLHFDQUFxQyxHQUFHQSxDQUFBLEtBQU07SUFDaERKLDZCQUE2QixDQUFDL3NCLElBQUksQ0FBQztFQUN2QyxDQUFDO0VBQ0RBLElBQUksQ0FBQzhyQixNQUFNLEdBQUc5ckIsSUFBSSxDQUFDOHJCLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDO0lBQzNCeitDLElBQUksRUFBRSxTQUFTO0lBQ2ZnUSxVQUFVLEVBQUU7TUFBRTh2QyxhQUFhLEVBQUU7SUFBSyxDQUFDO0lBQ25DQyxZQUFZLEVBQUVBLENBQUNDLFFBQVEsRUFBRXJtQixPQUFPLEVBQUV0bUIsTUFBTSxFQUFFdW1CLElBQUksRUFBRXNsQixTQUFTLEVBQUVDLFNBQVMsS0FBSztNQUNyRSxJQUFJO1FBQ0FjLE9BQU8sQ0FBQ3Z0QixJQUFJLENBQUM7UUFDYixPQUFPc3RCLFFBQVEsQ0FBQ0UsVUFBVSxDQUFDN3NDLE1BQU0sRUFBRXVtQixJQUFJLEVBQUVzbEIsU0FBUyxFQUFFQyxTQUFTLENBQUM7TUFDbEUsQ0FBQyxTQUNPO1FBQ0osSUFBS3pzQixJQUFJLENBQUNpckIsa0NBQWtDLElBQUkvakIsSUFBSSxDQUFDMXlCLElBQUksS0FBSyxXQUFXLElBQUt3ckIsSUFBSSxDQUFDa3JCLGdDQUFnQyxJQUFJLENBQUN6a0QsNkRBQWtCLENBQUMsQ0FBQyxFQUFFO1VBQzFJMG1ELHFDQUFxQyxDQUFDLENBQUM7UUFDM0M7UUFDQU8sT0FBTyxDQUFDMXRCLElBQUksQ0FBQztNQUNqQjtJQUNKLENBQUM7SUFDRDJ0QixRQUFRLEVBQUVBLENBQUNMLFFBQVEsRUFBRXJtQixPQUFPLEVBQUV0bUIsTUFBTSxFQUFFaFMsUUFBUSxFQUFFNjlDLFNBQVMsRUFBRUMsU0FBUyxFQUFFbUIsTUFBTSxLQUFLO01BQzdFLElBQUk7UUFDQUwsT0FBTyxDQUFDdnRCLElBQUksQ0FBQztRQUNiLE9BQU9zdEIsUUFBUSxDQUFDbG1CLE1BQU0sQ0FBQ3ptQixNQUFNLEVBQUVoUyxRQUFRLEVBQUU2OUMsU0FBUyxFQUFFQyxTQUFTLEVBQUVtQixNQUFNLENBQUM7TUFDMUUsQ0FBQyxTQUNPO1FBQ0osSUFBSTV0QixJQUFJLENBQUNrckIsZ0NBQWdDLElBQUksQ0FBQ3prRCw2REFBa0IsQ0FBQyxDQUFDLEVBQUU7VUFDaEUwbUQscUNBQXFDLENBQUMsQ0FBQztRQUMzQztRQUNBTyxPQUFPLENBQUMxdEIsSUFBSSxDQUFDO01BQ2pCO0lBQ0osQ0FBQztJQUNENnRCLFNBQVMsRUFBRUEsQ0FBQ1AsUUFBUSxFQUFFcm1CLE9BQU8sRUFBRXRtQixNQUFNLEVBQUVtdEMsWUFBWSxLQUFLO01BQ3BEUixRQUFRLENBQUNTLE9BQU8sQ0FBQ3B0QyxNQUFNLEVBQUVtdEMsWUFBWSxDQUFDO01BQ3RDLElBQUk3bUIsT0FBTyxLQUFLdG1CLE1BQU0sRUFBRTtRQUNwQjtRQUNBO1FBQ0EsSUFBSW10QyxZQUFZLENBQUM3d0IsTUFBTSxJQUFJLFdBQVcsRUFBRTtVQUNwQytDLElBQUksQ0FBQ2d1QixxQkFBcUIsR0FBR0YsWUFBWSxDQUFDRyxTQUFTO1VBQ25EZixxQkFBcUIsQ0FBQ2x0QixJQUFJLENBQUM7VUFDM0I4c0IsV0FBVyxDQUFDOXNCLElBQUksQ0FBQztRQUNyQixDQUFDLE1BQ0ksSUFBSTh0QixZQUFZLENBQUM3d0IsTUFBTSxJQUFJLFdBQVcsRUFBRTtVQUN6QytDLElBQUksQ0FBQ21yQixvQkFBb0IsR0FBRzJDLFlBQVksQ0FBQ0ksU0FBUztRQUN0RDtNQUNKO0lBQ0osQ0FBQztJQUNEQyxhQUFhLEVBQUVBLENBQUNiLFFBQVEsRUFBRXJtQixPQUFPLEVBQUV0bUIsTUFBTSxFQUFFL0ssS0FBSyxLQUFLO01BQ2pEMDNDLFFBQVEsQ0FBQ2MsV0FBVyxDQUFDenRDLE1BQU0sRUFBRS9LLEtBQUssQ0FBQztNQUNuQ29xQixJQUFJLENBQUM2c0IsaUJBQWlCLENBQUMsTUFBTTdzQixJQUFJLENBQUN5ckIsT0FBTyxDQUFDM2lDLElBQUksQ0FBQ2xULEtBQUssQ0FBQyxDQUFDO01BQ3RELE9BQU8sS0FBSztJQUNoQjtFQUNKLENBQUMsQ0FBQztBQUNOO0FBQ0EsU0FBU3MzQyxxQkFBcUJBLENBQUNsdEIsSUFBSSxFQUFFO0VBQ2pDLElBQUlBLElBQUksQ0FBQ2d1QixxQkFBcUIsSUFBSWh1QixJQUFJLENBQUNnc0IsMkJBQTJCLEtBQUssQ0FBQyxDQUFDLEVBQUU7SUFDdkVoc0IsSUFBSSxDQUFDb3JCLG9CQUFvQixHQUFHLElBQUk7RUFDcEMsQ0FBQyxNQUNJO0lBQ0RwckIsSUFBSSxDQUFDb3JCLG9CQUFvQixHQUFHLEtBQUs7RUFDckM7QUFDSjtBQUNBLFNBQVNtQyxPQUFPQSxDQUFDdnRCLElBQUksRUFBRTtFQUNuQkEsSUFBSSxDQUFDNHJCLFFBQVEsRUFBRTtFQUNmLElBQUk1ckIsSUFBSSxDQUFDcXJCLFFBQVEsRUFBRTtJQUNmcnJCLElBQUksQ0FBQ3FyQixRQUFRLEdBQUcsS0FBSztJQUNyQnJyQixJQUFJLENBQUNzckIsVUFBVSxDQUFDeGlDLElBQUksQ0FBQyxJQUFJLENBQUM7RUFDOUI7QUFDSjtBQUNBLFNBQVM0a0MsT0FBT0EsQ0FBQzF0QixJQUFJLEVBQUU7RUFDbkJBLElBQUksQ0FBQzRyQixRQUFRLEVBQUU7RUFDZmtCLFdBQVcsQ0FBQzlzQixJQUFJLENBQUM7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVrMkc7QUFDbDJHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYW5ndWxhci1kZW1vLWFwcC8uL25vZGVfbW9kdWxlcy9AbmF0aXZlc2NyaXB0L2FuZ3VsYXIvZmVzbTIwMjIvbmF0aXZlc2NyaXB0LWFuZ3VsYXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGkxIGZyb20gJ0BuYXRpdmVzY3JpcHQvY29yZSc7XG5pbXBvcnQgeyBWaWV3LCBMYXlvdXRCYXNlLCBDb250ZW50VmlldywgUHJveHlWaWV3Q29udGFpbmVyLCBQYWdlLCBwbGF0Zm9ybU5hbWVzLCBHcmlkTGF5b3V0LCBBcHBsaWNhdGlvbiwgVHJhY2UsIEZvcm1hdHRlZFN0cmluZywgU3BhbiwgQWJzb2x1dGVMYXlvdXQsIEFjdGl2aXR5SW5kaWNhdG9yLCBCdXR0b24sIERhdGVQaWNrZXIsIERvY2tMYXlvdXQsIEZyYW1lLCBIdG1sVmlldywgSW1hZ2UsIExhYmVsLCBMaXN0UGlja2VyLCBMaXN0VmlldywgUGxhY2Vob2xkZXIsIFByb2dyZXNzLCBSZXBlYXRlciwgUm9vdExheW91dCwgU2Nyb2xsVmlldywgU2VhcmNoQmFyLCBTZWdtZW50ZWRCYXIsIFNlZ21lbnRlZEJhckl0ZW0sIFNsaWRlciwgU3RhY2tMYXlvdXQsIEZsZXhib3hMYXlvdXQsIFN3aXRjaCwgVGFiVmlldywgVGV4dEZpZWxkLCBUZXh0VmlldywgVGltZVBpY2tlciwgV2ViVmlldywgV3JhcExheW91dCwgdW5zZXRWYWx1ZSwgYWRkVGFnZ2VkQWRkaXRpb25hbENTUywgcHJvZmlsZSwgZ2V0Vmlld0J5SWQsIE9ic2VydmFibGUsIEFjdGlvbkl0ZW0sIE5hdmlnYXRpb25CdXR0b24sIEFjdGlvbkJhciwgT2JzZXJ2YWJsZUFycmF5LCBUYWJWaWV3SXRlbSwgQ29sb3IsIERldmljZSwgVXRpbHMsIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1MsIGtub3duRm9sZGVycywgRmlsZSwgS2V5ZnJhbWVBbmltYXRpb24sIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyLCBwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zLCBDU1NIZWxwZXIsIENzc0FuaW1hdGlvblByb3BlcnR5LCBlYWNoRGVzY2VuZGFudCwgcGF0aCB9IGZyb20gJ0BuYXRpdmVzY3JpcHQvY29yZSc7XG5pbXBvcnQgKiBhcyBpMCBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEluamVjdGlvblRva2VuLCBJbmplY3QsIENvbXBvbmVudFJlZiwgSW5qZWN0YWJsZSwgVmlld0VuY2Fwc3VsYXRpb24sIE9wdGlvbmFsLCBFbGVtZW50UmVmLCBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBOZ01vZHVsZSwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBBcHBsaWNhdGlvblJlZiwgSW5qZWN0b3IsIFZpZXdDb250YWluZXJSZWYsIENvbXBvbmVudCwgVmlld0NoaWxkLCBJbnB1dCwgSXRlcmFibGVEaWZmZXJzLCBpbmplY3QsIENoYW5nZURldGVjdG9yUmVmLCBmb3J3YXJkUmVmLCBUZW1wbGF0ZVJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbnRlbnRDaGlsZCwgSG9zdExpc3RlbmVyLCBIb3N0LCBOT19FUlJPUlNfU0NIRU1BLCBFcnJvckhhbmRsZXIsIFNraXBTZWxmLCDJtUlOSkVDVE9SX1NDT1BFLCBSZW5kZXJlckZhY3RvcnkyLCBBcHBsaWNhdGlvbk1vZHVsZSwgUGxhdGZvcm1SZWYsIE5nTW9kdWxlUmVmLCDJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24sIE5nWm9uZSwgU2FuaXRpemVyLCBwbGF0Zm9ybUNvcmUsIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgQ29udGVudENoaWxkcmVuLCBJbmplY3RGbGFncywgQXR0cmlidXRlLCBpc0Rldk1vZGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IF9fcGFyYW0sIF9fbWV0YWRhdGEsIF9fZGVjb3JhdGUgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgKiBhcyBpMSQxIGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBYaHJGYWN0b3J5LCBMb2NhdGlvblN0cmF0ZWd5LCBDb21tb25Nb2R1bGUsIFZpZXdwb3J0U2Nyb2xsZXIsIMm1TnVsbFZpZXdwb3J0U2Nyb2xsZXIsIERPQ1VNRU5ULCBQbGF0Zm9ybUxvY2F0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IGZpbHRlciwgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCwgdGFrZSwgc3RhcnRXaXRoIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCBmcm9tRXZlbnQsIGRlZmVyLCBPYnNlcnZhYmxlIGFzIE9ic2VydmFibGUkMSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0ICogYXMgaTEkMyBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgRGVmYXVsdFVybFNlcmlhbGl6ZXIsIFBSSU1BUllfT1VUTEVULCBOYXZpZ2F0aW9uRW5kLCBBY3RpdmF0ZWRSb3V0ZSwgQ2hpbGRyZW5PdXRsZXRDb250ZXh0cywgUm91dGVyTW9kdWxlLCBSb3V0ZVJldXNlU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgTkdfVkFMVUVfQUNDRVNTT1IsIEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0ICogYXMgaTEkMiBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zL2Jyb3dzZXInO1xuaW1wb3J0IHsgybVBbmltYXRpb25FbmdpbmUsIMm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciwgQW5pbWF0aW9uRHJpdmVyLCDJtUFuaW1hdGlvblN0eWxlTm9ybWFsaXplciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMvYnJvd3Nlcic7XG5pbXBvcnQgeyBIdHRwWGhyQmFja2VuZCwgSHR0cFJlc3BvbnNlLCBIdHRwRXJyb3JSZXNwb25zZSwgSHR0cENsaWVudE1vZHVsZSwgSHR0cEJhY2tlbmQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmNvbnN0IGdldENsYXNzTmFtZSA9IChpbnN0YW5jZSkgPT4gaW5zdGFuY2UuY29uc3RydWN0b3IubmFtZTtcbmNsYXNzIEludmlzaWJsZU5vZGUgZXh0ZW5kcyBWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJycpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5ub2RlVHlwZSA9IDE7XG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSBnZXRDbGFzc05hbWUodGhpcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5ub2RlTmFtZX0oJHt0aGlzLmlkfSktJHt0aGlzLm5hbWV9YDtcbiAgICB9XG59XG5jbGFzcyBDb21tZW50Tm9kZSBleHRlbmRzIEludmlzaWJsZU5vZGUge1xuICAgIHN0YXRpYyB7IHRoaXMuaWQgPSAwOyB9XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLm1ldGEgPSB7XG4gICAgICAgICAgICBza2lwQWRkVG9Eb206IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWQgPSBDb21tZW50Tm9kZS5pZC50b1N0cmluZygpO1xuICAgICAgICBDb21tZW50Tm9kZS5pZCArPSAxO1xuICAgIH1cbn1cbmNsYXNzIFRleHROb2RlIGV4dGVuZHMgSW52aXNpYmxlTm9kZSB7XG4gICAgc3RhdGljIHsgdGhpcy50ZXh0Q2hhbmdlRXZlbnQgPSAndGV4dENoYW5nZSc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLmlkID0gMDsgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG4gICAgc2V0IHRleHQodCkge1xuICAgICAgICB0aGlzLl90ZXh0ID0gdDtcbiAgICAgICAgdGhpcy5ub3RpZnkoeyBldmVudE5hbWU6IFRleHROb2RlLnRleHRDaGFuZ2VFdmVudCwgb2JqZWN0OiB0aGlzLCB2YWx1ZTogdCB9KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLl90ZXh0ID0gJyc7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RleHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tZXRhID0ge1xuICAgICAgICAgICAgc2tpcEFkZFRvRG9tOiB0cnVlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gVGV4dE5vZGUuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgVGV4dE5vZGUuaWQgKz0gMTtcbiAgICB9XG4gICAgcmVnaXN0ZXJUZXh0Q2hhbmdlKGNhbGxiYWNrLCBpZCkge1xuICAgICAgICBjb25zdCBjYiA9IChldnQpID0+IGNhbGxiYWNrKGV2dC52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGNiQXJyID0gdGhpcy5jYWxsYmFja01hcC5nZXQoaWQpIHx8IFtdO1xuICAgICAgICBjYkFyci5wdXNoKGNiKTtcbiAgICAgICAgdGhpcy5jYWxsYmFja01hcC5zZXQoaWQsIGNiQXJyKTtcbiAgICAgICAgdGhpcy5vbigndGV4dENoYW5nZScsIGNiKTtcbiAgICB9XG4gICAgdW5yZWdpc3RlclRleHRDaGFuZ2UoaWQpIHtcbiAgICAgICAgY29uc3QgY2JBcnIgPSB0aGlzLmNhbGxiYWNrTWFwLmdldChpZCkgfHwgW107XG4gICAgICAgIGNiQXJyLmZvckVhY2goKGNiKSA9PiB0aGlzLm9mZigndGV4dENoYW5nZScsIGNiKSk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tNYXAuZGVsZXRlKGlkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRGV0YWNoZWRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCAmJiBlbGVtZW50Lm1ldGEgJiYgZWxlbWVudC5tZXRhLnNraXBBZGRUb0RvbTtcbn1cbmZ1bmN0aW9uIGlzVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBWaWV3O1xufVxuZnVuY3Rpb24gaXNJbnZpc2libGVOb2RlKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGU7XG59XG5mdW5jdGlvbiBpc0xheW91dCh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBMYXlvdXRCYXNlO1xufVxuZnVuY3Rpb24gaXNDb250ZW50Vmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBDb250ZW50Vmlldztcbn1cbmZ1bmN0aW9uIGdldEZpcnN0TmF0aXZlTGlrZVZpZXcodmlldywgZXh0cmFjdEZyb21OU1BhcmVudCA9IGZhbHNlKSB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgaWYgKHZpZXcuZ2V0Q2hpbGRyZW5Db3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3LmdldENoaWxkQXQoMCkpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFjdEZyb21OU1BhcmVudCkge1xuICAgICAgICBjb25zdCBub2RlID0gdmlldy5wYXJlbnROb2RlO1xuICAgICAgICBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KTtcbiAgICAgICAgdmlldy5wYXJlbnROb2RlID0gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG5mdW5jdGlvbiBkZXRhY2hWaWV3RnJvbVBhcmVudCh2aWV3KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdmlldz8ucGFyZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmVudC5tZXRhICYmIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKSB7XG4gICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKHBhcmVudCwgdmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkgJiYgcGFyZW50LmNvbnRlbnQgPT09IHZpZXcpIHtcbiAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1ZpZXcocGFyZW50KSkge1xuICAgICAgICBwYXJlbnQuX3JlbW92ZVZpZXcodmlldyk7XG4gICAgfVxufVxuXG5jb25zdCBBUFBfUk9PVF9WSUVXID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRBcHBSb290VmlldycpO1xuY29uc3QgTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHRSb290TW9kdWxlSWQnKTtcbmNvbnN0IFNUQVJUX1BBVEggPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdFN0YXJ0UGF0aCcpO1xuY29uc3QgRU5BQkxFX1JFVVNBQkVfVklFV1MgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdEVuYWJsZVJldXNhYmxlVmlld3MnKTtcbmNvbnN0IERJU0FCTEVfUk9PVF9WSUVXX0hBTkRMSU5HID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHREaXNhYmxlUm9vdFZpZXdIYW5kbGluZycpO1xuY29uc3QgREVWSUNFID0gbmV3IEluamVjdGlvblRva2VuKCdOYXRpdmVTY3JpcHREZXZpY2UnKTtcbmNvbnN0IFBBR0VfRkFDVE9SWSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlU2NyaXB0UGFnZUZhY3RvcnknKTtcbmNvbnN0IGRlZmF1bHRQYWdlRmFjdG9yeSA9IGZ1bmN0aW9uIChfb3B0cykge1xuICAgIHJldHVybiBuZXcgUGFnZSgpO1xufTtcblxubGV0IFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyID0gY2xhc3MgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICB0aGlzLmRldmljZSA9IGRldmljZTtcbiAgICB9XG4gICAgcnVuc0luKG5hbWVzcGFjZSwgbmV4dCkge1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy5hbmRyb2lkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09ICdpb3MnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2Uub3MgPT09IHBsYXRmb3JtTmFtZXMuaW9zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KG5hbWVzcGFjZSk7XG4gICAgfVxufTtcblBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyID0gX19kZWNvcmF0ZShbXG4gICAgX19wYXJhbSgwLCBJbmplY3QoREVWSUNFKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3RdKVxuXSwgUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIpO1xuY29uc3QgTkFNRVNQQUNFX0ZJTFRFUlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ05hdGl2ZVNjcmlwdE5hbWVzcGFjZUZpbHRlcicpO1xuXG5jbGFzcyBOZ1ZpZXdSZWYge1xuICAgIGNvbnN0cnVjdG9yKHJlZikge1xuICAgICAgICB0aGlzLnJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy52aWV3ID0gcmVmIGluc3RhbmNlb2YgQ29tcG9uZW50UmVmID8gcmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQgOiByZWYucm9vdE5vZGVzLmZpbmQoKHYpID0+ICEodiBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICAgICAgdGhpcy5maXJzdE5hdGl2ZUxpa2VWaWV3ID0gZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh0aGlzLnZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hOYXRpdmVMaWtlVmlldygpIHtcbiAgICAgICAgZGV0YWNoVmlld0Zyb21QYXJlbnQodGhpcy5maXJzdE5hdGl2ZUxpa2VWaWV3KTtcbiAgICB9XG59XG5cbmNsYXNzIEFwcEhvc3RWaWV3IGV4dGVuZHMgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICAgIGdldCBuZ0FwcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZ0FwcFJvb3Q7XG4gICAgfVxuICAgIHNldCBuZ0FwcFJvb3QodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmdBcHBSb290ID0gdmFsdWU7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBnZXQgY29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gICAgfVxuICAgIHNldCBjb250ZW50KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnBhcmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29udGVudCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQucGFyZW50Tm9kZSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZ0FwcFJvb3QgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQgaW5zdGFuY2VvZiBQcm94eVZpZXdDb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZExheW91dCgpO1xuICAgICAgICAgICAgZ3JpZC5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIGdyaWQuYWRkQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgICAgICB0aGlzLm5nQXBwUm9vdCA9IGdyaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubmdBcHBSb290KSB7XG4gICAgICAgICAgICAvLyBtYXliZSB1c2UgdGhpcyBhcHByb2FjaFxuICAgICAgICAgICAgLy8gdGhpcy5zY2hlZHVsZVJvb3RDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY2hlZHVsZVJvb3RDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMubmdBcHBSb290KTtcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvbi5yZXNldFJvb3RWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlOiAoKSA9PiB0aGlzLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gLTE7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEFwcEhvc3RBc3luY1ZpZXcgZXh0ZW5kcyBHcmlkTGF5b3V0IHtcbiAgICBjb25zdHJ1Y3RvcihiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuICAgIGdldCBuZ0FwcFJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzZXQgbmdBcHBSb290KHZhbHVlKSB7XG4gICAgICAgIC8vIGlnbm9yZWRcbiAgICB9XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkID0gbmV3IEJlaGF2aW9yU3ViamVjdChmYWxzZSk7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0cnVlKTtcbiAgICAgICAgdGhpcy5vbk1haW5Nb2R1bGVSZWFkeSQgPSB0aGlzLm1haW5Nb2R1bGVSZWFkeSQucGlwZShmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBkZWxheXMgZGVzdHJveWluZyB0aGlzIG1vZHVsZSB1bnRpbCBgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKWAuXG4gICAgICogcmVtZW1iZXIgdG8gY2FsbCBgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKWAgd2hlbiBkb25lIVxuICAgICAqL1xuICAgIHdhaXRVbnRpbE5vdGlmaWVkKCkge1xuICAgICAgICB0aGlzLnJlYWR5VG9EZXN0cm95JC5uZXh0KGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbm90aWZpZXMgdGhpcyBtb2R1bGUgaXMgcmVhZHkgdG8gYmUgZGVzdHJveWVkXG4gICAgICovXG4gICAgbm90aWZ5UmVhZHlUb0Rlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVhZHlUb0Rlc3Ryb3kkLm5leHQodHJ1ZSk7XG4gICAgfVxuICAgIGlzTWFpbk1vZHVsZVJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWluTW9kdWxlUmVhZHkkLnZhbHVlO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWFkeVRvRGVzdHJveSQuY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5tYWluTW9kdWxlUmVhZHkkLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY2lvbiBpcyBjYWxsZWQgYnkgdGhlIGJvb3RzdHJhcCBjb2RlIHdoZW4gdGhlIGFwcCBpcyByZWFkeVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9ub3RpZnlNYWluTW9kdWxlUmVhZHkoKSB7XG4gICAgICAgIHRoaXMubWFpbk1vZHVsZVJlYWR5JC5uZXh0KHRydWUpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TG9hZGluZ1NlcnZpY2UsIHByb3ZpZGVkSW46ICdyb290JyB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHByb3ZpZGVkSW46ICdyb290JyB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgTmF0aXZlU2NyaXB0RGVidWcge1xuICAgIHN0YXRpYyB7IHRoaXMuYW5pbWF0aW9uc1RyYWNlQ2F0ZWdvcnkgPSAnbnMtYW5pbWF0aW9ucyc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSA9ICducy1yZW5kZXJlcic7IH1cbiAgICBzdGF0aWMgeyB0aGlzLnZpZXdVdGlsQ2F0ZWdvcnkgPSAnbnMtdmlldy11dGlsJzsgfVxuICAgIHN0YXRpYyB7IHRoaXMucm91dGVyVHJhY2VDYXRlZ29yeSA9ICducy1yb3V0ZXInOyB9XG4gICAgc3RhdGljIHsgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5ID0gJ25zLXJvdXRlLXJldXNlLXN0cmF0ZWd5JzsgfVxuICAgIHN0YXRpYyB7IHRoaXMubGlzdFZpZXdUcmFjZUNhdGVnb3J5ID0gJ25zLWxpc3Qtdmlldyc7IH1cbiAgICBzdGF0aWMgeyB0aGlzLmJvb3RzdHJhcENhdGVnb3J5ID0gJ2Jvb3RzdHJhcCc7IH1cbiAgICAvLyBUT0RPOiBtaWdyYXRlIGFsbCB1c2FnZSB0byB0aGlzIC0gYXZvaWRzIGV4dHJhbmVvdXMgbWV0aG9kIGV4ZWN1dGlvbnNcbiAgICBzdGF0aWMgeyB0aGlzLmVuYWJsZWQgPSBUcmFjZS5pc0VuYWJsZWQoKTsgfVxuICAgIHN0YXRpYyBpc0xvZ0VuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiBUcmFjZS5pc0VuYWJsZWQoKTtcbiAgICB9XG4gICAgc3RhdGljIGFuaW1hdGlvbnNMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zVHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByZW5kZXJlckxvZyhtc2cpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobXNnLCBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlclRyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVuZGVyZXJFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgdmlld1V0aWxMb2cobXNnKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1zZywgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyByb3V0ZXJMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJUcmFjZUNhdGVnb3J5KTtcbiAgICB9XG4gICAgc3RhdGljIHJvdXRlckVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyVHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgcm91dGVSZXVzZVN0cmF0ZWd5TG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5VHJhY2VDYXRlZ29yeSk7XG4gICAgfVxuICAgIHN0YXRpYyBzdHlsZUVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgVHJhY2UuY2F0ZWdvcmllcy5TdHlsZSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdMb2cobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld1RyYWNlQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgbGlzdFZpZXdFcnJvcihtZXNzYWdlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKG1lc3NhZ2UsIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3VHJhY2VDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgVHJhY2Uud3JpdGUobWVzc2FnZSwgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwQ2F0ZWdvcnkpO1xuICAgIH1cbiAgICBzdGF0aWMgYm9vdHN0cmFwTG9nRXJyb3IobWVzc2FnZSkge1xuICAgICAgICBUcmFjZS53cml0ZShtZXNzYWdlLCBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBDYXRlZ29yeSwgVHJhY2UubWVzc2FnZVR5cGUuZXJyb3IpO1xuICAgIH1cbn1cblxuY2xhc3MgTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSBleHRlbmRzIFhockZhY3Rvcnkge1xuICAgIGJ1aWxkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogbnVsbCwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFhockZhY3RvcnksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dIH0pO1xuXG5jb25zdCBmcmFtZU1ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgIC8vIFBhZ2UgY2Fubm90IGJlIGFkZGVkIHRvIEZyYW1lIHdpdGggX2FkZENoaWxkRnJvbUJ1aWxkZXIgKHRod29zIFwidXNlIGRlZmF1bHRQYWdlXCIgZXJyb3IpXG4gICAgICAgIGlmIChpc0ludmlzaWJsZU5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBQYWdlKSB7XG4gICAgICAgICAgICBwYXJlbnQubmF2aWdhdGUoeyBjcmVhdGU6ICgpID0+IGNoaWxkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IGEgUGFnZSBjYW4gYmUgYSBjaGlsZCBvZiBGcmFtZScpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5jb25zdCBmb3JtYXR0ZWRTdHJpbmdNZXRhID0ge1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuc3BhbnMuaW5kZXhPZihuZXh0KTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5wdXNoKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5zcGFucy5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHBhcmVudC5zcGFucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5jb25zdCB0ZXh0QmFzZU1ldGEgPSB7XG4gICAgaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBGb3JtYXR0ZWRTdHJpbmcpIHtcbiAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBTcGFuKSB7XG4gICAgICAgICAgICBwYXJlbnQuZm9ybWF0dGVkVGV4dCA/Pz0gbmV3IEZvcm1hdHRlZFN0cmluZygpO1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nTWV0YS5pbnNlcnRDaGlsZChwYXJlbnQuZm9ybWF0dGVkVGV4dCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDaGlsZChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmICghcGFyZW50LmZvcm1hdHRlZFRleHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEZvcm1hdHRlZFN0cmluZykge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5mb3JtYXR0ZWRUZXh0ID09PSBjaGlsZCkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5mb3JtYXR0ZWRUZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZCBpbnN0YW5jZW9mIFNwYW4pIHtcbiAgICAgICAgICAgIGZvcm1hdHRlZFN0cmluZ01ldGEucmVtb3ZlQ2hpbGQocGFyZW50LmZvcm1hdHRlZFRleHQsIGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG5jb25zdCBlbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuY29uc3QgY2FtZWxDYXNlU3BsaXQgPSAvKFthLXowLTldKShbQS1aXSkvZztcbmNvbnN0IGRlZmF1bHRWaWV3TWV0YSA9IHsgc2tpcEFkZFRvRG9tOiBmYWxzZSB9O1xuZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KGVsZW1lbnROYW1lLCByZXNvbHZlciwgbWV0YSkge1xuICAgIGNvbnN0IGVudHJ5ID0geyByZXNvbHZlciwgbWV0YSB9O1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLCBlbnRyeSk7XG4gICAgZWxlbWVudE1hcC5zZXQoZWxlbWVudE5hbWUudG9Mb3dlckNhc2UoKSwgZW50cnkpO1xuICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnROYW1lLnJlcGxhY2UoY2FtZWxDYXNlU3BsaXQsICckMS0kMicpLnRvTG93ZXJDYXNlKCksIGVudHJ5KTtcbn1cbmZ1bmN0aW9uIGdldFZpZXdDbGFzcyhlbGVtZW50TmFtZSkge1xuICAgIGNvbnN0IGVudHJ5ID0gZWxlbWVudE1hcC5nZXQoZWxlbWVudE5hbWUpIHx8IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8ga25vd24gY29tcG9uZW50IGZvciBlbGVtZW50ICR7ZWxlbWVudE5hbWV9LmApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZW50cnkucmVzb2x2ZXIoKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgQ291bGQgbm90IGxvYWQgdmlldyBmb3I6ICR7ZWxlbWVudE5hbWV9LiR7ZX1gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRWaWV3TWV0YShub2RlTmFtZSkge1xuICAgIGNvbnN0IGVudHJ5ID0gZWxlbWVudE1hcC5nZXQobm9kZU5hbWUpIHx8IGVsZW1lbnRNYXAuZ2V0KG5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiAoZW50cnkgJiYgZW50cnkubWV0YSkgfHwgZGVmYXVsdFZpZXdNZXRhO1xufVxuZnVuY3Rpb24gaXNLbm93blZpZXcoZWxlbWVudE5hbWUpIHtcbiAgICByZXR1cm4gZWxlbWVudE1hcC5oYXMoZWxlbWVudE5hbWUpIHx8IGVsZW1lbnRNYXAuaGFzKGVsZW1lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUobm9kZXMsIG5lc3RMZXZlbCkge1xuICAgIGNvbnN0IGFjdHVhbE5vZGVzID0gbm9kZXMuZmlsdGVyKChub2RlKSA9PiAhKG5vZGUgaW5zdGFuY2VvZiBJbnZpc2libGVOb2RlKSk7XG4gICAgaWYgKGFjdHVhbE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN1aXRhYmxlIHZpZXdzIGZvdW5kIGluIGxpc3QgdGVtcGxhdGUhIGAgKyBgTmVzdGluZyBsZXZlbDogJHtuZXN0TGV2ZWx9YCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjdHVhbE5vZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNb3JlIHRoYW4gb25lIHZpZXcgZm91bmQgaW4gbGlzdCB0ZW1wbGF0ZSFgICsgYE5lc3RpbmcgbGV2ZWw6ICR7bmVzdExldmVsfWApO1xuICAgIH1cbiAgICBjb25zdCByb290TGF5b3V0ID0gYWN0dWFsTm9kZXNbMF07XG4gICAgaWYgKCFyb290TGF5b3V0KSB7XG4gICAgICAgIHJldHVybiBleHRyYWN0U2luZ2xlVmlld1JlY3Vyc2l2ZShyb290TGF5b3V0LmNoaWxkcmVuLCBuZXN0TGV2ZWwgKyAxKTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50TGF5b3V0ID0gcm9vdExheW91dC5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudExheW91dCBpbnN0YW5jZW9mIExheW91dEJhc2UpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHJvb3RMYXlvdXQucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50TGF5b3V0LnJlbW92ZUNoaWxkKHJvb3RMYXlvdXQpO1xuICAgICAgICByb290TGF5b3V0LnBhcmVudE5vZGUgPSBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gcm9vdExheW91dDtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZSBpcyBkZXByZWNhdGVkLCB1c2UgZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmVcbiAqL1xuZnVuY3Rpb24gZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZShub2RlcywgbmVzdExldmVsKSB7XG4gICAgcmV0dXJuIGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKG5vZGVzLCBuZXN0TGV2ZWwpO1xufVxuXG4vLyBSZWdpc3RlciBkZWZhdWx0IE5hdGl2ZVNjcmlwdCBjb21wb25lbnRzXG4vLyBOb3RlOiBBY3Rpb25CYXIgcmVsYXRlZCBjb21wb25lbnRzIGFyZSByZWdpc3RlcmQgdG9nZXRoZXIgd2l0aCBhY3Rpb24tYmFyIGRpcmVjdGl2ZXMuXG5mdW5jdGlvbiByZWdpc3Rlck5hdGl2ZVNjcmlwdFZpZXdDb21wb25lbnRzKCkge1xuICAgIGlmICghZ2xvYmFsLl9fbmdSZWdpc3RlcmVkVmlld3MpIHtcbiAgICAgICAgZ2xvYmFsLl9fbmdSZWdpc3RlcmVkVmlld3MgPSB0cnVlO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0Fic29sdXRlTGF5b3V0JywgKCkgPT4gQWJzb2x1dGVMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0FjdGl2aXR5SW5kaWNhdG9yJywgKCkgPT4gQWN0aXZpdHlJbmRpY2F0b3IpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0J1dHRvbicsICgpID0+IEJ1dHRvbiwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdDb250ZW50VmlldycsICgpID0+IENvbnRlbnRWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdEYXRlUGlja2VyJywgKCkgPT4gRGF0ZVBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRG9ja0xheW91dCcsICgpID0+IERvY2tMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ZyYW1lJywgKCkgPT4gRnJhbWUsIGZyYW1lTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnR3JpZExheW91dCcsICgpID0+IEdyaWRMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0h0bWxWaWV3JywgKCkgPT4gSHRtbFZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0ltYWdlJywgKCkgPT4gSW1hZ2UpO1xuICAgICAgICAvLyBQYXJzZTUgY2hhbmdlcyA8SW1hZ2U+IHRhZ3MgdG8gPGltZz4uIFdURiFcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdpbWcnLCAoKSA9PiBJbWFnZSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGFiZWwnLCAoKSA9PiBMYWJlbCwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdMaXN0UGlja2VyJywgKCkgPT4gTGlzdFBpY2tlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnTGlzdFZpZXcnLCAoKSA9PiBMaXN0Vmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUGFnZScsICgpID0+IFBhZ2UpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1BsYWNlaG9sZGVyJywgKCkgPT4gUGxhY2Vob2xkZXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Byb2dyZXNzJywgKCkgPT4gUHJvZ3Jlc3MpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Byb3h5Vmlld0NvbnRhaW5lcicsICgpID0+IFByb3h5Vmlld0NvbnRhaW5lcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUmVwZWF0ZXInLCAoKSA9PiBSZXBlYXRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnUm9vdExheW91dCcsICgpID0+IFJvb3RMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1Njcm9sbFZpZXcnLCAoKSA9PiBTY3JvbGxWaWV3KTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdTZWFyY2hCYXInLCAoKSA9PiBTZWFyY2hCYXIpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NlZ21lbnRlZEJhcicsICgpID0+IFNlZ21lbnRlZEJhcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU2VnbWVudGVkQmFySXRlbScsICgpID0+IFNlZ21lbnRlZEJhckl0ZW0pO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1NsaWRlcicsICgpID0+IFNsaWRlcik7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3RhY2tMYXlvdXQnLCAoKSA9PiBTdGFja0xheW91dCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnRmxleGJveExheW91dCcsICgpID0+IEZsZXhib3hMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1N3aXRjaCcsICgpID0+IFN3aXRjaCk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnVGFiVmlldycsICgpID0+IFRhYlZpZXcpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RleHRGaWVsZCcsICgpID0+IFRleHRGaWVsZCwgdGV4dEJhc2VNZXRhKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdUZXh0VmlldycsICgpID0+IFRleHRWaWV3LCB0ZXh0QmFzZU1ldGEpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ1RpbWVQaWNrZXInLCAoKSA9PiBUaW1lUGlja2VyKTtcbiAgICAgICAgcmVnaXN0ZXJFbGVtZW50KCdXZWJWaWV3JywgKCkgPT4gV2ViVmlldyk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnV3JhcExheW91dCcsICgpID0+IFdyYXBMYXlvdXQpO1xuICAgICAgICByZWdpc3RlckVsZW1lbnQoJ0Zvcm1hdHRlZFN0cmluZycsICgpID0+IEZvcm1hdHRlZFN0cmluZywgZm9ybWF0dGVkU3RyaW5nTWV0YSk7XG4gICAgICAgIHJlZ2lzdGVyRWxlbWVudCgnU3BhbicsICgpID0+IFNwYW4pO1xuICAgIH1cbn1cblxuLy8gTm90ZTogdGhpcyB1dGlsaXR5IGV4aXN0cyBmcm9tIGRlZXAgY29yZSBpbXBvcnQgaG93ZXZlciByZXN1bHRzIGluXG4vLyBNb2R1bGUgbm90IGZvdW5kOiBFcnJvcjogQ2FuJ3QgcmVzb2x2ZSAnQG5hdGl2ZXNjcmlwdC9jb3JlL3VpL2NvcmUvcHJvcGVydGllcydcbmZ1bmN0aW9uIGlzQ3NzVmFyaWFibGUocHJvcGVydHkpIHtcbiAgICByZXR1cm4gL14tLVteLFxcc10rPyQvLnRlc3QocHJvcGVydHkpO1xufVxuY29uc3QgRUxFTUVOVF9OT0RFX1RZUEUgPSAxO1xuY29uc3QgWE1MX0FUVFJJQlVURVMgPSBPYmplY3QuZnJlZXplKFsnc3R5bGUnLCAncm93cycsICdjb2x1bW5zJywgJ2ZvbnRBdHRyaWJ1dGVzJ10pO1xuY29uc3Qgd2hpdGVTcGFjZVNwbGl0dGVyID0gL1xccysvO1xuZnVuY3Rpb24gcHJpbnROZ1RyZWUodmlldykge1xuICAgIGxldCBwYXJlbnQgPSB2aWV3O1xuICAgIHdoaWxlIChwYXJlbnQucGFyZW50ICYmIHBhcmVudC5wYXJlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICBwcmludENoaWxkcmVuUmVjdXJzZShwYXJlbnQpO1xufVxuZnVuY3Rpb24gcHJpbnRDaGlsZHJlblJlY3Vyc2UocGFyZW50KSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnQuZmlyc3RDaGlsZCA/IFtwYXJlbnQuZmlyc3RDaGlsZCwgLi4uZ2V0Q2hpbGRyZW5TaWJsaW5ncyhwYXJlbnQuZmlyc3RDaGlsZCkubmV4dFNpYmxpbmdzXSA6IFtdO1xuICAgIGNvbnNvbGUubG9nKGBwYXJlbnQ6ICR7cGFyZW50fSwgZmlyc3RDaGlsZDogJHtwYXJlbnQuZmlyc3RDaGlsZH0sIGxhc3RDaGlsZDogJHtwYXJlbnQubGFzdENoaWxkfSBjaGlsZHJlbjogJHtjaGlsZHJlbn1gKTtcbiAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coYC0tLS0tIHN0YXJ0ICR7cGFyZW50fWApO1xuICAgIH1cbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBwcmludENoaWxkcmVuUmVjdXJzZShjKSk7XG4gICAgaWYgKHBhcmVudC5maXJzdENoaWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAtLS0tLSBlbmQgJHtwYXJlbnR9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5TaWJsaW5ncyh2aWV3KSB7XG4gICAgY29uc3QgbmV4dFNpYmxpbmdzID0gW107XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5ncyA9IFtdO1xuICAgIGxldCBzaWJsaW5nID0gdmlldy5uZXh0U2libGluZztcbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICBuZXh0U2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHNpYmxpbmcgPSB2aWV3LnByZXZpb3VzU2libGluZztcbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICBwcmV2aW91c1NpYmxpbmdzLnB1c2goc2libGluZyk7XG4gICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJldmlvdXNTaWJsaW5ncyxcbiAgICAgICAgbmV4dFNpYmxpbmdzLFxuICAgIH07XG59XG5mdW5jdGlvbiBwcmludFNpYmxpbmdzVHJlZSh2aWV3KSB7XG4gICAgY29uc3QgeyBwcmV2aW91c1NpYmxpbmdzLCBuZXh0U2libGluZ3MgfSA9IGdldENoaWxkcmVuU2libGluZ3Modmlldyk7XG4gICAgY29uc29sZS5sb2coYCR7dmlld30gcHJldmlvdXNTaWJsaW5nczogJHtwcmV2aW91c1NpYmxpbmdzfSBuZXh0U2libGluZ3M6ICR7bmV4dFNpYmxpbmdzfWApO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmNvbnN0IHByb3BlcnR5TWFwcyA9IG5ldyBNYXAoKTtcbmNsYXNzIFZpZXdVdGlsIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSBjaGlsZCBpbnRvIGEgcGFycmVudCwgcHJlZmVyYWJseSBiZWZvcmUgbmV4dC5cbiAgICAgKiBAcGFyYW0gcGFyZW50IHBhcmVudCB2aWV3XG4gICAgICogQHBhcmFtIGNoaWxkIGNoaWxkIHZpZXcgdG8gYmUgYWRkZWRcbiAgICAgKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXMgZWxlbWVudC4gSWYgcHJlc2VudCwgaW5zZXJ0IGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIG5leHQgbmV4dCBlbGVtZW50LiBJZiBwcmVzZW50LCBpbnNlcnQgYmVmb3JlIHRoaXMgKHByZXZpb3VzIGlzIGlnbm9yZWQpLlxuICAgICAqL1xuICAgIGluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5kZWRQYXJlbnQgPSB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocGFyZW50KTtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRDaGlsZCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhjaGlsZCk7XG4gICAgICAgIC8vIHRoaXMgc2hvdWxkIG5ldmVyIGVudGVyLCBhcyBhbmd1bGFyIGlzIHN1cHBvc2VkIHRvIHJlbW92ZSB0aGUgY2hpbGQgZnJvbSB0aGUgcHJldmlvdXMgcGFyZW50IGJlZm9yZSBjYWxsaW5nIHRoaXNcbiAgICAgICAgLy8gYnV0IHdoZW4gYW5ndWxhciBhbmltYXRpb25zIGFyZSBlbmFibGVkLCB0aGUgcmVtb3ZhbCBtaWdodCBiZSBkZWxheWVkLCBzbyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGlzIHZpZXcgaXMgbm90IGFueXdoZXJlXG4gICAgICAgIC8vIHRoaXMgc2VlbXMgdG8gb25seSBoYXBwZW5zIHRvIENvbW1lbnROb2Rlc1xuICAgICAgICBpZiAoZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGV4dGVuZGVkQ2hpbGQucGFyZW50Tm9kZSwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhIG5leHQgY2hpbGQsIHByZXZpb3VzIGlzIHRoZSBwcmV2aW91c1NpYmxpbmcgb2YgaXRcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzID0gbmV4dC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXMpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cywgbmV4dCBpcyB0aGUgbmV4dFNpYmxpbmcgb2YgaXRcbiAgICAgICAgICAgIG5leHQgPSBwcmV2aW91cy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vIHByZXZpb3VzIG9yIG5leHQsIGFwcGVuZCB0byB0aGUgcGFyZW50XG4gICAgICAgICAgICBwcmV2aW91cyA9IGV4dGVuZGVkUGFyZW50Lmxhc3RDaGlsZDsgLy8gdGhpcyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkIGlmIHRoZSBwYXJlbnQgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0SW5MaXN0KGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkLCBwcmV2aW91cywgbmV4dCk7XG4gICAgICAgIGlmIChpc0RldGFjaGVkRWxlbWVudChjaGlsZCkgfHwgaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlID0gZXh0ZW5kZWRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0RldGFjaGVkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICAgICAgdGhpcy5hZGRUb1Zpc3VhbFRyZWUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIG5leHRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW52aXNpYmxlTm9kZShleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFZpc3VhbCA9IHRoaXMuZmluZE5leHRWaXN1YWwobmV4dCk7XG4gICAgICAgICAgICB0aGlzLmFkZEludmlzaWJsZU5vZGUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQsIG5leHRWaXN1YWwpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHByaW50TmdUcmVlKGV4dGVuZGVkQ2hpbGQpO1xuICAgIH1cbiAgICBpbnNlcnRCZWZvcmUocGFyZW50LCBjaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRSZWYgPSByZWZDaGlsZCA/IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhyZWZDaGlsZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hpbGQocGFyZW50LCBjaGlsZCwgdW5kZWZpbmVkLCBleHRlbmRlZFJlZik7XG4gICAgfVxuICAgIGluc2VydEFmdGVyKHBhcmVudCwgY2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkUmVmID0gcmVmQ2hpbGQgPyB0aGlzLmVuc3VyZU5nVmlld0V4dGVuc2lvbnMocmVmQ2hpbGQpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIGV4dGVuZGVkUmVmKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICB0aGlzLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgdmlldyBpbnRvIHRoZSBwYXJlbnQvc2libGluZyBsaW5rZWQgbGlzdFxuICAgICAqICFXQVJOSU5HOiB0aGlzIG1ldGhvZCBtYWtlcyBubyBjaGVja3MgdG8gdmFsaWRhdGUgdGhlIGludGVncml0eSBvZiBwcmV2aW91cy9uZXh0IGNoaWxkcmVuXG4gICAgICogQHBhcmFtIHBhcmVudCBwYXJlbnQgdmlld1xuICAgICAqIEBwYXJhbSBjaGlsZCBjaGlsZCB2aWV3XG4gICAgICogQHBhcmFtIHByZXZpb3VzIHByZXZpb3VzIGVsZW1lbnQuIG51bGwvdW5kZWZpbmVkIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICogQHBhcmFtIG5leHQgbmV4dCBlbGVtZW50LiBudWxsL3VuZGVmaW5lZCBmb3IgbGFzdCBlbGVtZW50XG4gICAgICovXG4gICAgaW5zZXJ0SW5MaXN0KHBhcmVudCwgY2hpbGQsIHByZXZpb3VzLCBuZXh0KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmluc2VydEluTGlzdCBwYXJlbnQ6ICR7cGFyZW50fSwgdmlldzogJHtjaGlsZH0sIGAgKyBgcHJldmlvdXM6ICR7cHJldmlvdXN9LCBuZXh0OiAke25leHR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0U2libGluZyA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQucHJldmlvdXNTaWJsaW5nID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBjaGlsZC5uZXh0U2libGluZyA9IG5leHQ7XG4gICAgICAgICAgICBuZXh0LnByZXZpb3VzU2libGluZyA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFRvVmlzdWFsVHJlZShwYXJlbnQsIGNoaWxkLCBuZXh0KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLmFkZFRvVmlzdWFsVHJlZSBwYXJlbnQ6ICR7cGFyZW50fSwgdmlldzogJHtjaGlsZH0sIG5leHQ6ICR7bmV4dH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEuaW5zZXJ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLmluc2VydENoaWxkKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0VG9MYXlvdXQocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuY29udGVudCA9IGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCAmJiBwYXJlbnQuX2FkZENoaWxkRnJvbUJ1aWxkZXIpIHtcbiAgICAgICAgICAgIHBhcmVudC5fYWRkQ2hpbGRGcm9tQnVpbGRlcihjaGlsZC5ub2RlTmFtZSwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCwgbmV4dCkge1xuICAgICAgICBpZiAocGFyZW50Lm1ldGE/Lmluc2VydEludmlzaWJsZU5vZGUpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLmluc2VydEludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCwgbmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC50ZXh0ID0gY2hpbGQudGV4dDtcbiAgICAgICAgICAgICAgICBjaGlsZC5yZWdpc3RlclRleHRDaGFuZ2UoKHQpID0+IChwYXJlbnQudGV4dCA9IHQpLCBwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGluc2VydFRvTGF5b3V0KHBhcmVudCwgY2hpbGQsIG5leHQpIHtcbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxheW91dENoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRWaXN1YWwgPSB0aGlzLmZpbmROZXh0VmlzdWFsKG5leHQpO1xuICAgICAgICBpZiAobmV4dFZpc3VhbCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJlbnQuZ2V0Q2hpbGRJbmRleChuZXh0VmlzdWFsKTtcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRDaGlsZChjaGlsZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJlbnQuZWFjaENoaWxkKChjKSA9PiB7Y29uc29sZS5sb2coYyk7IHJldHVybiB0cnVlfSk7XG4gICAgfVxuICAgIGZpbmROZXh0VmlzdWFsKHZpZXcpIHtcbiAgICAgICAgbGV0IG5leHQgPSB2aWV3O1xuICAgICAgICB3aGlsZSAobmV4dCAmJiBpc0RldGFjaGVkRWxlbWVudChuZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVmlld1V0aWwucmVtb3ZlQ2hpbGQgcGFyZW50OiAke3BhcmVudH0gY2hpbGQ6ICR7Y2hpbGR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRlbmRlZFBhcmVudCA9IHRoaXMuZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyhwYXJlbnQpO1xuICAgICAgICBjb25zdCBleHRlbmRlZENoaWxkID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKGNoaWxkKTtcbiAgICAgICAgZXh0ZW5kZWRDaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW1vdmVGcm9tTGlzdChleHRlbmRlZFBhcmVudCwgZXh0ZW5kZWRDaGlsZCk7XG4gICAgICAgIGlmICghaXNEZXRhY2hlZEVsZW1lbnQoZXh0ZW5kZWRDaGlsZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbVZpc3VhbFRyZWUoZXh0ZW5kZWRQYXJlbnQsIGV4dGVuZGVkQ2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW52aXNpYmxlTm9kZShleHRlbmRlZENoaWxkKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVJbnZpc2libGVOb2RlKGV4dGVuZGVkUGFyZW50LCBleHRlbmRlZENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVGcm9tTGlzdChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYFZpZXdVdGlsLnJlbW92ZUZyb21MaXN0IHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgY2hpbGQuIG51bGwgZXZlcnl0aGluZ1xuICAgICAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQgPT09IGNoaWxkICYmIHBhcmVudC5sYXN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IG51bGw7XG4gICAgICAgICAgICBwYXJlbnQubGFzdENoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIGNoaWxkLm5leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICAgIGNoaWxkLnByZXZpb3VzU2libGluZyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXMgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGNvbnN0IG5leHQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICAgICAgLy8gaXMgZmlyc3QgY2hpbGQsIG1ha2UgdGhlIG5leHQgc2libGluZyB0aGUgZmlyc3QgY2hpbGQgKGNhbiBiZSBudWxsKVxuICAgICAgICBpZiAocGFyZW50LmZpcnN0Q2hpbGQgPT09IGNoaWxkKSB7XG4gICAgICAgICAgICBwYXJlbnQuZmlyc3RDaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXMgbGFzdCBjaGlsZCwgbWFrZSB0aGUgcHJldmlvdXMgc2libGluZyB0aGUgbGFzdCBjaGlsZCAoY2FuIGJlIG51bGwpXG4gICAgICAgIGlmIChwYXJlbnQubGFzdENoaWxkID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50Lmxhc3RDaGlsZCA9IHByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIGhhdmUgYSBwcmV2aW91cyBzaWJsaW5nLCBtYWtlIGl0IHBvaW50IHRvIHRoZSBuZXh0IHNpYmxpbmdcbiAgICAgICAgaWYgKHByZXZpb3VzKSB7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0U2libGluZyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgaGF2ZSBhIG5leHQgc2libGluZywgbWFrZSBpdCBwb2ludCB0byB0aGUgcHJldmlvdXNcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIG5leHQucHJldmlvdXNTaWJsaW5nID0gcHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxseSwgbnVsbCB0aGUgc2libGluZ3NcbiAgICAgICAgY2hpbGQubmV4dFNpYmxpbmcgPSBudWxsO1xuICAgICAgICBjaGlsZC5wcmV2aW91c1NpYmxpbmcgPSBudWxsO1xuICAgIH1cbiAgICAvLyBOT1RFOiBUaGlzIG9uZSBpcyBPKG4pIC0gdXNlIGNhcmVmdWxseVxuICAgIGZpbmRQcmV2aW91c0VsZW1lbnQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5maW5kUHJldmlvdXNFbGVtZW50IHBhcmVudDogJHtwYXJlbnR9IGNoaWxkOiAke2NoaWxkfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmV2aW91c1Zpc3VhbDtcbiAgICAgICAgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHByZXZpb3VzVmlzdWFsID0gdGhpcy5nZXRQcmV2aW91c1Zpc3VhbEVsZW1lbnQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByZXZpb3VzID0gcHJldmlvdXNWaXN1YWwgfHwgcGFyZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIC8vIHNpbmNlIGRldGFjaGVkIGVsZW1lbnRzIGFyZSBub3QgYWRkZWQgdG8gdGhlIHZpc3VhbCB0cmVlLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZpbmQgdGhlIGFjdHVhbCBwcmV2aW91cyBzaWJsaW5nIG9mIHRoZSB2aWV3LFxuICAgICAgICAvLyB3aGljaCBtYXkgYXMgd2VsbCBiZSBhbiBpbnZpc2libGUgbm9kZVxuICAgICAgICB3aGlsZSAocHJldmlvdXMgJiYgcHJldmlvdXMgIT09IGNoaWxkICYmIHByZXZpb3VzLm5leHRTaWJsaW5nICE9PSBjaGlsZCkge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBwcmV2aW91cy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJldmlvdXM7XG4gICAgfVxuICAgIGdldFByZXZpb3VzVmlzdWFsRWxlbWVudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgaWYgKGVsZW1lbnRJbmRleCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQuZ2V0Q2hpbGRBdChlbGVtZW50SW5kZXggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBOT1RFOiBUaGlzIG9uZSBpcyBPKG4pIC0gdXNlIGNhcmVmdWxseVxuICAgIGdldENoaWxkSW5kZXgocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoaXNMYXlvdXQocGFyZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0NvbnRlbnRWaWV3KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gcGFyZW50LmNvbnRlbnQgPyAwIDogLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlRnJvbVZpc3VhbFRyZWUocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVGcm9tVmlzdWFsVHJlZSBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50Lm1ldGEgJiYgcGFyZW50Lm1ldGEucmVtb3ZlQ2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTGF5b3V0KHBhcmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb250ZW50VmlldyhwYXJlbnQpICYmIHBhcmVudC5jb250ZW50ID09PSBjaGlsZCkge1xuICAgICAgICAgICAgcGFyZW50LmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmlldyhwYXJlbnQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuX3JlbW92ZVZpZXcoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAocGFyZW50Lm1ldGE/LnJlbW92ZUludmlzaWJsZU5vZGUpIHtcbiAgICAgICAgICAgIHBhcmVudC5tZXRhLnJlbW92ZUludmlzaWJsZU5vZGUocGFyZW50LCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVucmVnaXN0ZXJUZXh0Q2hhbmdlKHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlTGF5b3V0Q2hpbGQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnZpZXdVdGlsTG9nKGBWaWV3VXRpbC5yZW1vdmVMYXlvdXRDaGlsZCBwYXJlbnQ6ICR7cGFyZW50fSBjaGlsZDogJHtjaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcmVudC5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVDb21tZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tbWVudE5vZGUodmFsdWUpO1xuICAgIH1cbiAgICBjcmVhdGVUZXh0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUodmFsdWUpO1xuICAgIH1cbiAgICBjcmVhdGVWaWV3KG5hbWUpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxOYW1lID0gbmFtZTtcbiAgICAgICAgaWYgKCFpc0tub3duVmlldyhuYW1lKSkge1xuICAgICAgICAgICAgbmFtZSA9ICdQcm94eVZpZXdDb250YWluZXInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcudmlld1V0aWxMb2coYENyZWF0aW5nIHZpZXc6ICR7b3JpZ2luYWxOYW1lfSAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdmlld0NsYXNzID0gZ2V0Vmlld0NsYXNzKG5hbWUpO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IHZpZXdDbGFzcygpO1xuICAgICAgICBjb25zdCBuZ1ZpZXcgPSB0aGlzLnNldE5nVmlld0V4dGVuc2lvbnModmlldywgbmFtZSk7XG4gICAgICAgIG5nVmlldy5yZXVzYWJsZSA9ICEhdGhpcy5yZXVzZVZpZXdzO1xuICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgIH1cbiAgICBlbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpIHtcbiAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZpZXcsICdtZXRhJykpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHZpZXcuY3NzVHlwZSB8fCB2aWV3LnR5cGVOYW1lO1xuICAgICAgICAgICAgY29uc3QgbmdWaWV3ID0gdGhpcy5zZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5nVmlldztcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXROZ1ZpZXdFeHRlbnNpb25zKHZpZXcsIG5hbWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgTWFrZSBpbnRvIGEgTmdWaWV3IHZpZXc6ICR7dmlld30gbmFtZTogXCIke25hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZ1ZpZXcgPSB2aWV3O1xuICAgICAgICBuZ1ZpZXcubm9kZU5hbWUgPSBuYW1lO1xuICAgICAgICBuZ1ZpZXcubWV0YSA9IGdldFZpZXdNZXRhKG5hbWUpO1xuICAgICAgICAvLyB3ZSdyZSBzZXR0aW5nIHRoZSBub2RlIHR5cGUgb2YgdGhlIHZpZXdcbiAgICAgICAgLy8gdG8gJ2VsZW1lbnQnIGJlY2F1c2Ugb2YgY2hlY2tzIGRvbmUgaW4gdGhlXG4gICAgICAgIC8vIGRvbSBhbmltYXRpb24gZW5naW5lXG4gICAgICAgIG5nVmlldy5ub2RlVHlwZSA9IEVMRU1FTlRfTk9ERV9UWVBFO1xuICAgICAgICByZXR1cm4gbmdWaWV3O1xuICAgIH1cbiAgICBzZXRQcm9wZXJ0eSh2aWV3LCBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghdmlldyB8fCAobmFtZXNwYWNlICYmICF0aGlzLnJ1bnNJbihuYW1lc3BhY2UpKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lLmluZGV4T2YoJy4nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBuZXN0ZWQgcHJvcGVydGllc1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGF0dHJpYnV0ZU5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBwcm9wZXJ0aWVzW3Byb3BlcnRpZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgcHJvcE1hcCA9IHRoaXMuZ2V0UHJvcGVydGllcyh2aWV3KTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgcHJvcGVydGllcy5sZW5ndGggLSAxICYmIHR5cGVvZiB2aWV3ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcE1hcC5oYXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHByb3BNYXAuZ2V0KHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3ID0gdmlld1twcm9wXTtcbiAgICAgICAgICAgICAgICBwcm9wTWFwID0gdGhpcy5nZXRQcm9wZXJ0aWVzKHZpZXcpO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZpZXcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5SW50ZXJuYWwodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bnNJbihwbGF0Zm9ybSkge1xuICAgICAgICBsZXQgcnVucyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGxhc3QgPSAoKSA9PiB0cnVlO1xuICAgICAgICBpZiAodGhpcy5uYW1lc3BhY2VGaWx0ZXJzKSB7XG4gICAgICAgICAgICBsZXQgY2hhaW4gPSAocCkgPT4gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLm5hbWVzcGFjZUZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhaW4gPSBjaGFpbjtcbiAgICAgICAgICAgICAgICBjaGFpbiA9IChwKSA9PiB0aGlzLm5hbWVzcGFjZUZpbHRlcnNbaV0ucnVuc0luKHAsIGN1cnJlbnRDaGFpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5zID0gY2hhaW4ocGxhdGZvcm0pO1xuICAgICAgICAgICAgcnVucyA9IHJ1bnMgIT09IGZhbHNlID8gdHJ1ZSA6IGZhbHNlOyAvLyB1bmRlZmluZWQgbWVhbnMgdHJ1ZVxuICAgICAgICAgICAgLy8gdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLnNvbWUoKGZpbHRlcikgPT4ge1xuICAgICAgICAgICAgLy8gXHRjb25zdCBydW5zSW5GaWx0ZXIgPSBmaWx0ZXIucnVuc0luKHBsYXRmb3JtKTtcbiAgICAgICAgICAgIC8vIFx0aWYgKHJ1bnNJbkZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBcdFx0cnVucyA9IHJ1bnNJbkZpbHRlcjtcbiAgICAgICAgICAgIC8vIFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFx0fVxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ1bnM7XG4gICAgfVxuICAgIHNldFByb3BlcnR5SW50ZXJuYWwodmlldywgYXR0cmlidXRlTmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgU2V0dGluZyBhdHRyaWJ1dGU6ICR7YXR0cmlidXRlTmFtZX09JHt2YWx1ZX0gdG8gJHt2aWV3fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICB0aGlzLnNldENsYXNzZXModmlldywgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChYTUxfQVRUUklCVVRFUy5pbmRleE9mKGF0dHJpYnV0ZU5hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgdmlld1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb3BNYXAgPSB0aGlzLmdldFByb3BlcnRpZXModmlldyk7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IHByb3BNYXAuZ2V0KGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlIGNoaWxkcmVuIG9mIGEgY29sbGVjdGlvbiBjdXJyZW50bHkgaGF2ZSBubyBwYXJlbnQgc2V0LlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFyZW50UmVmZXJlbmNlc0Zyb21JdGVtcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGxvd2VyLXVwcGVyIGNhc2UgbWFwcGVkIHByb3BlcnR5LlxuICAgICAgICAgICAgdmlld1twcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVW5rbm93biBhdHRyaWJ1dGUgdmFsdWUgLS0ganVzdCBzZXQgaXQgdG8gb3VyIG9iamVjdCBhcyBpcy5cbiAgICAgICAgdmlld1thdHRyaWJ1dGVOYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZW1vdmVQYXJlbnRSZWZlcmVuY2VzRnJvbUl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucGFyZW50ICYmIGl0ZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy52aWV3VXRpbExvZyhgVW5hc3NpZ25pbmcgcGFyZW50ICR7aXRlbS5wYXJlbnROb2RlfSBvbiB2YWx1ZTogJHtpdGVtfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UHJvcGVydGllcyhpbnN0YW5jZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgICAgIGlmICghdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXByb3BlcnR5TWFwcy5oYXModHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6Zm9yaW5cbiAgICAgICAgICAgICAgICBwcm9wTWFwLnNldChwcm9wTmFtZS50b0xvd2VyQ2FzZSgpLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wZXJ0eU1hcHMuc2V0KHR5cGUsIHByb3BNYXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eU1hcHMuZ2V0KHR5cGUpO1xuICAgIH1cbiAgICBjc3NDbGFzc2VzKHZpZXcpIHtcbiAgICAgICAgaWYgKCF2aWV3Lm5nQ3NzQ2xhc3Nlcykge1xuICAgICAgICAgICAgdmlldy5uZ0Nzc0NsYXNzZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZpZXcubmdDc3NDbGFzc2VzO1xuICAgIH1cbiAgICBhZGRDbGFzcyh2aWV3LCBjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRWaWV3ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXMoZXh0ZW5kZWRWaWV3KS5zZXQoY2xhc3NOYW1lLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcyhleHRlbmRlZFZpZXcpO1xuICAgIH1cbiAgICByZW1vdmVDbGFzcyh2aWV3LCBjbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRWaWV3ID0gdGhpcy5lbnN1cmVOZ1ZpZXdFeHRlbnNpb25zKHZpZXcpO1xuICAgICAgICB0aGlzLmNzc0NsYXNzZXMoZXh0ZW5kZWRWaWV3KS5kZWxldGUoY2xhc3NOYW1lKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3NlcyhleHRlbmRlZFZpZXcpO1xuICAgIH1cbiAgICBzZXRDbGFzc2VzKHZpZXcsIGNsYXNzZXNWYWx1ZSkge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gY2xhc3Nlc1ZhbHVlLnNwbGl0KHdoaXRlU3BhY2VTcGxpdHRlcik7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3Nlcyh2aWV3KS5jbGVhcigpO1xuICAgICAgICBjbGFzc2VzLmZvckVhY2goKGNsYXNzTmFtZSkgPT4gdGhpcy5jc3NDbGFzc2VzKHZpZXcpLnNldChjbGFzc05hbWUsIHRydWUpKTtcbiAgICAgICAgdGhpcy5zeW5jQ2xhc3Nlcyh2aWV3KTtcbiAgICB9XG4gICAgc3luY0NsYXNzZXModmlldykge1xuICAgICAgICBjb25zdCBjbGFzc1ZhbHVlID0gQXJyYXkuZnJvbSh0aGlzLmNzc0NsYXNzZXModmlldykua2V5cygpKS5qb2luKCcgJyk7XG4gICAgICAgIHZpZXcuY2xhc3NOYW1lID0gY2xhc3NWYWx1ZTtcbiAgICB9XG4gICAgc2V0U3R5bGUodmlldywgc3R5bGVOYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoaXNDc3NWYXJpYWJsZShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlLnNldFVuc2NvcGVkQ3NzVmFyaWFibGUoc3R5bGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB2aWV3Ll9vbkNzc1N0YXRlQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3LnN0eWxlW3N0eWxlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVTdHlsZSh2aWV3LCBzdHlsZU5hbWUpIHtcbiAgICAgICAgaWYgKGlzQ3NzVmFyaWFibGUoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgLy8gVE9ETzogZXhwb3NlIHRoaXMgb24gY29yZVxuICAgICAgICAgICAgdmlldy5zdHlsZS51bnNjb3BlZENzc1ZhcmlhYmxlcy5kZWxldGUoc3R5bGVOYW1lKTtcbiAgICAgICAgICAgIHZpZXcuX29uQ3NzU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXcuc3R5bGVbc3R5bGVOYW1lXSA9IHVuc2V0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbnZhciB2aWV3VXRpbCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgVmlld1V0aWw6IFZpZXdVdGlsXG59KTtcblxuY29uc3QgYWRkU3R5bGVUb0NzcyA9IHByb2ZpbGUoJ1wicmVuZGVyZXJcIi5hZGRTdHlsZVRvQ3NzJywgZnVuY3Rpb24gYWRkU3R5bGVUb0NzcyhzdHlsZSwgdGFnKSB7XG4gICAgaWYgKHRhZykge1xuICAgICAgICBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlLCB0YWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24uYWRkQ3NzKHN0eWxlKTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIHJ1bkluUm9vdFpvbmUoZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICByZXR1cm4gWm9uZS5yb290LnJ1bihmbik7XG59XG5mdW5jdGlvbiBpblJvb3Rab25lKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgY29uc3QgY2hpbGRGdW5jdGlvbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgZm4gPSBjaGlsZEZ1bmN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gcnVuSW5Sb290Wm9uZSgoKSA9PiBmbiguLi5hcmdzKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgIH07XG59XG5sZXQgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5ID0gY2xhc3MgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3Rvcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcm9vdE1vZHVsZUlELCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHRoaXMucm9vdFZpZXcgPSByb290VmlldztcbiAgICAgICAgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzID0gbmFtZXNwYWNlRmlsdGVycztcbiAgICAgICAgdGhpcy5yb290TW9kdWxlSUQgPSByb290TW9kdWxlSUQ7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVuZGVyZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIFJhZExpc3RWaWV3XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSBuZXcgVmlld1V0aWwodGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucmV1c2VWaWV3cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICB0aGlzLnJldXNlVmlld3MgPSBmYWxzZTsgLy8gZGVmYXVsdCB0byBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFJlbmRlcmVyID0gbmV3IE5hdGl2ZVNjcmlwdFJlbmRlcmVyKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgIH1cbiAgICBjcmVhdGVSZW5kZXJlcihob3N0RWxlbWVudCwgdHlwZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlciAke2hvc3RFbGVtZW50fS4gdHlwZS5pZDogJHt0eXBlLmlkfSB0eXBlLmVuY2Fwc3VsYXRpb246ICR7dHlwZS5lbmNhcHN1bGF0aW9ufWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaG9zdEVsZW1lbnQgfHwgIXR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRSZW5kZXJlcjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVuZGVyZXIgPSB0aGlzLmNvbXBvbmVudFJlbmRlcmVycy5nZXQodHlwZS5pZCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiEgV0FSTklOR1xuICAgICAgICAgKiEgV2UncmUgcmV1c2luZyB0aGUgcmVuZGVyZXIgZm9yIHRoZSBjb21wb25lbnRzXG4gICAgICAgICAqISB0aGlzIG1pZ2h0IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IgYXMgdGhlIFwicm9vdFZpZXdcIiBpcyBhbiBhcmJpdHJhcnkgaG9zdEVsZW1lbnRcbiAgICAgICAgICohIGFsc28sIHRoZSByZW5kZXJlciBoYXMgaXQncyAuZGVzdHJveSgpIGNhbGxlZCFcbiAgICAgICAgICohIG1pZ2h0IGJlIHVzZWZ1bCB0byBjcmVhdGUgYSBCYXNlRW11bGF0ZWRSZW5kZXIgYW5kIGEgUHJveHlFbXVsYXRlZFJlbmRlclxuICAgICAgICAgKiEgZXZlcnkgY29tcG9uZW50IHR5cGUgZ2V0cyBhIEJhc2VFbXVsYXRlZFJlbmRlciAoc2luZ2xldG9uKSB3aGljaCBpcyBwYXNzZWQgdG8gUHJveHlFbXVsYXRlZFJlbmRlclxuICAgICAgICAgKiEgUHJveHlFbXVsYXRlZFJlbmRlcmVyIHJlZ2lzdGVycyB3aXRoIEJhc2VFbXVsYXRlZFJlbmRlciBzbyB3ZSBjYW4gY2xlYW4gdXAgdGhpbmdzIGxpa2UgQ1NTIHdoZW4gaXQncyBub3QgbmVlZGVkXG4gICAgICAgICAqISB0aGlzIG1pZ2h0IGJlIHVzZWZ1bCBpZiB3ZSBmaW5kIGEgd2F5IHRvIEhNUiBjb21wb25lbnQgc3R5bGluZyB3aXRob3V0IGEgZnVsbCByZWJvb3RzdHJhcFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgICBpZiAocmVuZGVyZXIgaW5zdGFuY2VvZiBFbXVsYXRlZFJlbmRlcmVyKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuYXBwbHlUb0hvc3QoaG9zdEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlLmVuY2Fwc3VsYXRpb24gPT09IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpIHtcbiAgICAgICAgICAgIHR5cGUuc3R5bGVzLm1hcCgocykgPT4gcy50b1N0cmluZygpKS5mb3JFYWNoKCh2KSA9PiBhZGRTdHlsZVRvQ3NzKHYsIHRoaXMucm9vdE1vZHVsZUlEKSk7XG4gICAgICAgICAgICByZW5kZXJlciA9IHRoaXMuZGVmYXVsdFJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgRW11bGF0ZWRSZW5kZXJlcih0eXBlLCBob3N0RWxlbWVudCwgdGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJvb3RNb2R1bGVJRCwgdGhpcy5yZXVzZVZpZXdzKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmFwcGx5VG9Ib3N0KGhvc3RFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvbmVudFJlbmRlcmVycy5zZXQodHlwZS5pZCwgcmVuZGVyZXIpO1xuICAgICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICAgIC8vIGJlZ2luPygpOiB2b2lkIHtcbiAgICAvLyAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgLy8gfVxuICAgIC8vIGVuZD8oKTogdm9pZCB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIC8vIH1cbiAgICB3aGVuUmVuZGVyaW5nRG9uZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJvb3RWaWV3KSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAwO1xuICAgICAgICAgICAgZnVuY3Rpb24gc2NoZWR1bGVSZXNvbHZlKCkge1xuICAgICAgICAgICAgICAgIC8vIGlPUyByZWFsbHkgaGF0ZXMgc3luY2hyb25vdXMgdGhpbmdzLi4uXG4gICAgICAgICAgICAgICAgLy8gVXRpbHMucXVldWVNYWNyb3Rhc2socmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBmaXJlV2hlbkxvYWRlZCgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gcm9vdEZhY3RvcnkoKTtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZVJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcub25jZSgnbG9hZGVkJywgc2NoZWR1bGVSZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByb290RmFjdG9yeSA9ICgpID0+ICh0aGlzLnJvb3RWaWV3IGluc3RhbmNlb2YgQ29udGVudFZpZXcgPyB0aGlzLnJvb3RWaWV3LmNvbnRlbnQgOiB0aGlzLnJvb3RWaWV3KTtcbiAgICAgICAgICAgIGlmICghcm9vdEZhY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdEZhY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJlV2hlbkxvYWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlyZVdoZW5Mb2FkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbn07XG5OYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDAsIEluamVjdChBUFBfUk9PVF9WSUVXKSksXG4gICAgX19wYXJhbSgxLCBJbmplY3QoTkFNRVNQQUNFX0ZJTFRFUlMpKSxcbiAgICBfX3BhcmFtKDIsIEluamVjdChOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQpKSxcbiAgICBfX3BhcmFtKDMsIE9wdGlvbmFsKCkpLFxuICAgIF9fcGFyYW0oMywgSW5qZWN0KEVOQUJMRV9SRVVTQUJFX1ZJRVdTKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LCBBcnJheSwgT2JqZWN0LCBPYmplY3RdKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5KTtcbmNsYXNzIE5hdGl2ZVNjcmlwdFJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcmV1c2VWaWV3cykge1xuICAgICAgICB0aGlzLnJvb3RWaWV3ID0gcm9vdFZpZXc7XG4gICAgICAgIHRoaXMubmFtZXNwYWNlRmlsdGVycyA9IG5hbWVzcGFjZUZpbHRlcnM7XG4gICAgICAgIHRoaXMucmV1c2VWaWV3cyA9IHJldXNlVmlld3M7XG4gICAgICAgIHRoaXMudmlld1V0aWwgPSBuZXcgVmlld1V0aWwodGhpcy5uYW1lc3BhY2VGaWx0ZXJzLCB0aGlzLnJldXNlVmlld3MpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lOb2RlID0gKG5vZGUpID0+IHJ1bkluUm9vdFpvbmUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuZGVzdHJveU5vZGUgbm9kZTogJHtub2RlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGU/LmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgICAgICAgICAgbm9kZT8uZGVzdHJveU5vZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuJyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIuZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuY3JlYXRlRWxlbWVudDogJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGROYW1lO1xuICAgICAgICBpZiAoIWlzS25vd25WaWV3KG5hbWUpKSB7XG4gICAgICAgICAgICBvbGROYW1lID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSAnUHJveHlWaWV3Q29udGFpbmVyJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3VXRpbC5jcmVhdGVWaWV3KG5hbWUpO1xuICAgICAgICBpZiAob2xkTmFtZSkge1xuICAgICAgICAgICAgdmlldy5jdXN0b21DU1NOYW1lID0gb2xkTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgY3JlYXRlQ29tbWVudCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVDb21tZW50KHZhbHVlKTtcbiAgICB9XG4gICAgY3JlYXRlVGV4dCh2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmNyZWF0ZVRleHQgJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3VXRpbC5jcmVhdGVUZXh0KHZhbHVlKTtcbiAgICB9XG4gICAgYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmFwcGVuZENoaWxkIGNoaWxkOiAke25ld0NoaWxkfSBwYXJlbnQ6ICR7cGFyZW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCk7XG4gICAgfVxuICAgIGluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmluc2VydEJlZm9yZSBjaGlsZDogJHtuZXdDaGlsZH0gYCArIGBwYXJlbnQ6ICR7cGFyZW50fSByZWZDaGlsZDogJHtyZWZDaGlsZH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLmluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQsIGlzSG9zdEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5yZW1vdmVDaGlsZCBjaGlsZDogJHtvbGRDaGlsZH0gcGFyZW50OiAke3BhcmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQpO1xuICAgIH1cbiAgICBzZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSwgcHJlc2VydmVDb250ZW50KSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2VsZWN0Um9vdEVsZW1lbnQ6ICR7c2VsZWN0b3JPck5vZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdG9yT3JOb2RlIGluc3RhbmNlb2YgVmlldykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yT3JOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rvck9yTm9kZSAmJiBzZWxlY3Rvck9yTm9kZVswXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRWaWV3QnlJZCh0aGlzLnJvb3RWaWV3LCBzZWxlY3Rvck9yTm9kZS5zbGljZSgxKSk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc3VsdCB8fCB0aGlzLnJvb3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yT3JOb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld1V0aWwuY3JlYXRlVmlldyhzZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgICAgICBpZiAoZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyh2aWV3KSA9PT0gdmlldykge1xuICAgICAgICAgICAgICAgIC8vIHZpZXcgaXMgbmF0aXZlbGlrZSFcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMucm9vdFZpZXcsIHZpZXcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3RWaWV3O1xuICAgIH1cbiAgICBwYXJlbnROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5wYXJlbnROb2RlIGZvciBub2RlOiAke25vZGV9IGlzICR7bm9kZS5wYXJlbnROb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIG5leHRTaWJsaW5nKG5vZGUpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5uZXh0U2libGluZyBvZiAke25vZGV9IGlzICR7bm9kZS5uZXh0U2libGluZ31gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgc2V0QXR0cmlidXRlKGVsLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0QXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgfVxuICAgIHJlbW92ZUF0dHJpYnV0ZShlbCwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlICR7bmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonIDogJyd9JHtlbH0uJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENsYXNzKGVsLCBuYW1lKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuYWRkQ2xhc3MgJHtuYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwuYWRkQ2xhc3MoZWwsIG5hbWUpO1xuICAgIH1cbiAgICByZW1vdmVDbGFzcyhlbCwgbmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnJlbW92ZUNsYXNzICR7bmFtZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnJlbW92ZUNsYXNzKGVsLCBuYW1lKTtcbiAgICB9XG4gICAgc2V0U3R5bGUoZWwsIHN0eWxlLCB2YWx1ZSwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKGBOYXRpdmVTY3JpcHRSZW5kZXJlci5zZXRTdHlsZTogJHtlbH0sICR7c3R5bGV9ID0gJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdVdGlsLnNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZW1vdmVTdHlsZShlbCwgc3R5bGUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZygnTmF0aXZlU2NyaXB0UmVuZGVyZXIucmVtb3ZlU3R5bGU6ICR7c3R5bGVOYW1lfScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld1V0aWwucmVtb3ZlU3R5bGUoZWwsIHN0eWxlKTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkoZWwsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5lbmFibGVkKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yZW5kZXJlckxvZyhgTmF0aXZlU2NyaXB0UmVuZGVyZXIuc2V0UHJvcGVydHkgJHtlbH0uJHtuYW1lfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3VXRpbC5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRWYWx1ZShub2RlLCB2YWx1ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnNldFZhbHVlIHJlbmRlck5vZGU6ICR7bm9kZX0sIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dE5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUudGV4dCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbiAgICBsaXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuZW5hYmxlZCkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucmVuZGVyZXJMb2coYE5hdGl2ZVNjcmlwdFJlbmRlcmVyLmxpc3RlbjogJHtldmVudE5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgICAgICBpZiAoZXZlbnROYW1lID09PSBWaWV3LmxvYWRlZEV2ZW50ICYmIHRhcmdldC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgLy8gd2UgbXVzdCBjcmVhdGUgYSBuZXcgb2JlcnZhYmxlIGhlcmUgdG8gZW5zdXJlIHRoYXQgdGhlIGV2ZW50IGdvZXMgdGhyb3VnaCB3aGF0ZXZlciB6b25lIHBhdGNoZXMgYXJlIGFwcGxpZWRcbiAgICAgICAgICAgIGNvbnN0IG9icyA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgICAgICBvYnMub25jZShldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIG9icy5ub3RpZnkoe1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBvYmplY3Q6IHRhcmdldCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB0YXJnZXQub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nLCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcImNyZWF0ZUVsZW1lbnRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1N0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiY3JlYXRlQ29tbWVudFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJjcmVhdGVUZXh0XCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LCBWaWV3XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJhcHBlbmRDaGlsZFwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBPYmplY3QsIE9iamVjdF0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiaW5zZXJ0QmVmb3JlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIE9iamVjdCwgQm9vbGVhbl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlQ2hpbGRcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBTdHJpbmcsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwic2V0QXR0cmlidXRlXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgaW5Sb290Wm9uZSgpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtPYmplY3QsIFN0cmluZ10pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkQ2xhc3NcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJyZW1vdmVDbGFzc1wiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE9iamVjdCwgTnVtYmVyXSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIE5hdGl2ZVNjcmlwdFJlbmRlcmVyLnByb3RvdHlwZSwgXCJzZXRTdHlsZVwiLCBudWxsKTtcbl9fZGVjb3JhdGUoW1xuICAgIGluUm9vdFpvbmUoKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0LCBTdHJpbmcsIE51bWJlcl0pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cmV0dXJudHlwZVwiLCB2b2lkIDApXG5dLCBOYXRpdmVTY3JpcHRSZW5kZXJlci5wcm90b3R5cGUsIFwicmVtb3ZlU3R5bGVcIiwgbnVsbCk7XG5fX2RlY29yYXRlKFtcbiAgICBpblJvb3Rab25lKCksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW09iamVjdCwgU3RyaW5nLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgTmF0aXZlU2NyaXB0UmVuZGVyZXIucHJvdG90eXBlLCBcInNldFByb3BlcnR5XCIsIG51bGwpO1xuLy8gQ09OVEVOVF9BVFRSIG5vdCBleHBvcnRlZCBmcm9tIG5hdGl2ZXNjcmlwdC1yZW5kZXJlciAtIHdlIG5lZWQgaXQgZm9yIHN0eWxlcyBhcHBsaWNhdGlvbi5cbmNvbnN0IENPTVBPTkVOVF9SRUdFWCA9IC8lQ09NUCUvZztcbmNvbnN0IEFUVFJfU0FOSVRJWkVSID0gLy0vZztcbmNvbnN0IENPTVBPTkVOVF9WQVJJQUJMRSA9ICclQ09NUCUnO1xuY29uc3QgSE9TVF9BVFRSID0gYF9uZ2hvc3QtJHtDT01QT05FTlRfVkFSSUFCTEV9YDtcbmNvbnN0IENPTlRFTlRfQVRUUiA9IGBfbmdjb250ZW50LSR7Q09NUE9ORU5UX1ZBUklBQkxFfWA7XG5jb25zdCByZXBsYWNlTmdBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoaW5wdXQsIGNvbXBvbmVudElkKSB7XG4gICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoQ09NUE9ORU5UX1JFR0VYLCBjb21wb25lbnRJZCk7XG59O1xuY29uc3QgYWRkU2NvcGVkU3R5bGVUb0NzcyA9IHByb2ZpbGUoYFwicmVuZGVyZXJcIi5hZGRTY29wZWRTdHlsZVRvQ3NzYCwgZnVuY3Rpb24gYWRkU2NvcGVkU3R5bGVUb0NzcyhzdHlsZSwgdGFnKSB7XG4gICAgaWYgKHRhZykge1xuICAgICAgICBhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTKHN0eWxlLCB0YWcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24uYWRkQ3NzKHN0eWxlKTtcbiAgICB9XG59KTtcbmNsYXNzIEVtdWxhdGVkUmVuZGVyZXIgZXh0ZW5kcyBOYXRpdmVTY3JpcHRSZW5kZXJlciB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50LCByb290VmlldywgbmFtZXNwYWNlRmlsdGVycywgcm9vdE1vZHVsZUlkLCByZXVzZVZpZXdzKSB7XG4gICAgICAgIHN1cGVyKHJvb3RWaWV3LCBuYW1lc3BhY2VGaWx0ZXJzLCByZXVzZVZpZXdzKTtcbiAgICAgICAgdGhpcy5yb290TW9kdWxlSWQgPSByb290TW9kdWxlSWQ7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50LmlkLnJlcGxhY2UoQVRUUl9TQU5JVElaRVIsICdfJyk7XG4gICAgICAgIHRoaXMuY29udGVudEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoQ09OVEVOVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuaG9zdEF0dHIgPSByZXBsYWNlTmdBdHRyaWJ1dGUoSE9TVF9BVFRSLCBjb21wb25lbnRJZCk7XG4gICAgICAgIHRoaXMuYWRkU3R5bGVzKGNvbXBvbmVudC5zdHlsZXMsIGNvbXBvbmVudElkKTtcbiAgICB9XG4gICAgYXBwbHlUb0hvc3Qodmlldykge1xuICAgICAgICBzdXBlci5zZXRBdHRyaWJ1dGUodmlldywgdGhpcy5ob3N0QXR0ciwgJycpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKSB7XG4gICAgICAgIHN1cGVyLmFwcGVuZENoaWxkKHBhcmVudCwgbmV3Q2hpbGQpO1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHBhcmVudCwgbmFtZSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gc3VwZXIuY3JlYXRlRWxlbWVudChwYXJlbnQsIG5hbWUpO1xuICAgICAgICAvLyBTZXQgYW4gYXR0cmlidXRlIHRvIHRoZSB2aWV3IHRvIHNjb3BlIGNvbXBvbmVudC1zcGVjaWZpYyBjc3MuXG4gICAgICAgIC8vIFRoZSBwcm9wZXJ0eSBuYW1lIGlzIHByZS1nZW5lcmF0ZWQgYnkgQW5ndWxhci5cbiAgICAgICAgc3VwZXIuc2V0QXR0cmlidXRlKHZpZXcsIHRoaXMuY29udGVudEF0dHIsICcnKTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGFkZFN0eWxlcyhzdHlsZXMsIGNvbXBvbmVudElkKSB7XG4gICAgICAgIHN0eWxlc1xuICAgICAgICAgICAgLm1hcCgocykgPT4gcy50b1N0cmluZygpKVxuICAgICAgICAgICAgLm1hcCgocykgPT4gcmVwbGFjZU5nQXR0cmlidXRlKHMsIGNvbXBvbmVudElkKSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChzKSA9PiBhZGRTY29wZWRTdHlsZVRvQ3NzKHMsIHRoaXMucm9vdE1vZHVsZUlkKSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRW11bGF0ZWRSZW5kZXJlciwgZGVwczogXCJpbnZhbGlkXCIsIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIgfSk7IH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FycmF5LCBTdHJpbmddKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgRW11bGF0ZWRSZW5kZXJlci5wcm90b3R5cGUsIFwiYWRkU3R5bGVzXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEVtdWxhdGVkUmVuZGVyZXIsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTEuVmlldyB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9LCB7IHR5cGU6IHVuZGVmaW5lZCB9XSwgcHJvcERlY29yYXRvcnM6IHsgYWRkU3R5bGVzOiBbXSB9IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhyb3dzIGFuIGV4Y2VwdGlvbiB3aGVuIGF0dGVtcHRpbmcgdG8gYXR0YWNoIGEgbnVsbCBwb3J0YWwgdG8gYSBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd051bGxQb3J0YWxFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignTXVzdCBwcm92aWRlIGEgcG9ydGFsIHRvIGF0dGFjaCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBob3N0IHRoYXQgaXMgYWxyZWFkeSBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpIHtcbiAgICB0aHJvdyBFcnJvcignSG9zdCBhbHJlYWR5IGhhcyBhIHBvcnRhbCBhdHRhY2hlZCcpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYW4gYWxyZWFkeS1kaXNwb3NlZCBob3N0LlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdUaGlzIFBvcnRhbE91dGxldCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkJyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGF0dGFjaCBhbiB1bmtub3duIHBvcnRhbCB0eXBlLlxuICogQGRvY3MtcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gYXR0YWNoIGFuIHVua25vd24gUG9ydGFsIHR5cGUuIEJhc2VQb3J0YWxPdXRsZXQgYWNjZXB0cyBlaXRoZXIgJyArICdhIENvbXBvbmVudFBvcnRhbCBvciBhIFRlbXBsYXRlUG9ydGFsLicpO1xufVxuLyoqXG4gKiBUaHJvd3MgYW4gZXhjZXB0aW9uIHdoZW4gYXR0ZW1wdGluZyB0byBhdHRhY2ggYSBwb3J0YWwgdG8gYSBudWxsIGhvc3QuXG4gKiBAZG9jcy1wcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yKCkge1xuICAgIHRocm93IEVycm9yKCdBdHRlbXB0aW5nIHRvIGF0dGFjaCBhIHBvcnRhbCB0byBhIG51bGwgUG9ydGFsT3V0bGV0Jyk7XG59XG4vKipcbiAqIFRocm93cyBhbiBleGNlcHRpb24gd2hlbiBhdHRlbXB0aW5nIHRvIGRldGFjaCBhIHBvcnRhbCB0aGF0IGlzIG5vdCBhdHRhY2hlZC5cbiAqIEBkb2NzLXByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gZGV0YWNoIGEgcG9ydGFsIHRoYXQgaXMgbm90IGF0dGFjaGVkIHRvIGEgaG9zdCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBgUG9ydGFsYCBpcyBzb21ldGhpbmcgdGhhdCB5b3Ugd2FudCB0byByZW5kZXIgc29tZXdoZXJlIGVsc2UuXG4gKiBJdCBjYW4gYmUgYXR0YWNoIHRvIC8gZGV0YWNoZWQgZnJvbSBhIGBQb3J0YWxPdXRsZXRgLlxuICovXG5jbGFzcyBQb3J0YWwge1xuICAgIC8qKiBBdHRhY2ggdGhpcyBwb3J0YWwgdG8gYSBob3N0LiAqL1xuICAgIGF0dGFjaChob3N0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsLm5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZ2xvYmFsLm5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKGhvc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaG9zdC5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxBbHJlYWR5QXR0YWNoZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IGhvc3Q7XG4gICAgICAgIHJldHVybiBob3N0LmF0dGFjaCh0aGlzKTtcbiAgICB9XG4gICAgLyoqIERldGFjaCB0aGlzIHBvcnRhbCBmcm9tIGl0cyBob3N0ICovXG4gICAgZGV0YWNoKCkge1xuICAgICAgICBjb25zdCBob3N0ID0gdGhpcy5fYXR0YWNoZWRIb3N0O1xuICAgICAgICBpZiAoaG9zdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZEhvc3QgPSBudWxsO1xuICAgICAgICAgICAgaG9zdC5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsLm5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZ2xvYmFsLm5nRGV2TW9kZSkge1xuICAgICAgICAgICAgdGhyb3dOb1BvcnRhbEF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHBvcnRhbCBpcyBhdHRhY2hlZCB0byBhIGhvc3QuICovXG4gICAgZ2V0IGlzQXR0YWNoZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZEhvc3QgIT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgUG9ydGFsT3V0bGV0IHJlZmVyZW5jZSB3aXRob3V0IHBlcmZvcm1pbmcgYGF0dGFjaCgpYC4gVGhpcyBpcyB1c2VkIGRpcmVjdGx5IGJ5XG4gICAgICogdGhlIFBvcnRhbE91dGxldCB3aGVuIGl0IGlzIHBlcmZvcm1pbmcgYW4gYGF0dGFjaCgpYCBvciBgZGV0YWNoKClgLlxuICAgICAqL1xuICAgIHNldEF0dGFjaGVkSG9zdChob3N0KSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaGVkSG9zdCA9IGhvc3Q7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBDb21wb25lbnRQb3J0YWxgIGlzIGEgcG9ydGFsIHRoYXQgaW5zdGFudGlhdGVzIHNvbWUgQ29tcG9uZW50IHVwb24gYXR0YWNobWVudC5cbiAqL1xuY2xhc3MgQ29tcG9uZW50UG9ydGFsIGV4dGVuZHMgUG9ydGFsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQsIHZpZXdDb250YWluZXJSZWYsIGluamVjdG9yLCBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMudmlld0NvbnRhaW5lclJlZiA9IHZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBUZW1wbGF0ZVBvcnRhbGAgaXMgYSBwb3J0YWwgdGhhdCByZXByZXNlbnRzIHNvbWUgZW1iZWRkZWQgdGVtcGxhdGUgKFRlbXBsYXRlUmVmKS5cbiAqL1xuY2xhc3MgVGVtcGxhdGVQb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCB2aWV3Q29udGFpbmVyUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGVtcGxhdGVSZWYgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmID0gdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG4gICAgZ2V0IG9yaWdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVSZWYuZWxlbWVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSBwb3J0YWwgdG8gdGhlIHByb3ZpZGVkIGBQb3J0YWxPdXRsZXRgLlxuICAgICAqIFdoZW4gYSBjb250ZXh0IGlzIHByb3ZpZGVkIGl0IHdpbGwgb3ZlcnJpZGUgdGhlIGBjb250ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgYFRlbXBsYXRlUG9ydGFsYFxuICAgICAqIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGF0dGFjaChob3N0LCBjb250ZXh0ID0gdGhpcy5jb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHJldHVybiBzdXBlci5hdHRhY2goaG9zdCk7XG4gICAgfVxuICAgIGRldGFjaCgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3VwZXIuZGV0YWNoKCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIGBEb21Qb3J0YWxgIGlzIGEgcG9ydGFsIHdob3NlIERPTSBlbGVtZW50IHdpbGwgYmUgdGFrZW4gZnJvbSBpdHMgY3VycmVudCBwb3NpdGlvblxuICogaW4gdGhlIERPTSBhbmQgbW92ZWQgaW50byBhIHBvcnRhbCBvdXRsZXQsIHdoZW4gaXQgaXMgYXR0YWNoZWQuIE9uIGRldGFjaCwgdGhlIGNvbnRlbnRcbiAqIHdpbGwgYmUgcmVzdG9yZWQgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICovXG5jbGFzcyBEb21Qb3J0YWwgZXh0ZW5kcyBQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnRSZWYgPyBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQgOiBlbGVtZW50O1xuICAgIH1cbn1cbi8qKlxuICogUGFydGlhbCBpbXBsZW1lbnRhdGlvbiBvZiBQb3J0YWxPdXRsZXQgdGhhdCBoYW5kbGVzIGF0dGFjaGluZ1xuICogQ29tcG9uZW50UG9ydGFsIGFuZCBUZW1wbGF0ZVBvcnRhbC5cbiAqL1xuY2xhc3MgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoaXMgaG9zdCBoYXMgYWxyZWFkeSBiZWVuIHBlcm1hbmVudGx5IGRpc3Bvc2VkLiAqL1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIGBhdHRhY2hEb21Qb3J0YWxgIHRvIGJlY29tZSBhIHJlcXVpcmVkIGFic3RyYWN0IG1ldGhvZC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIGhvc3QgaGFzIGFuIGF0dGFjaGVkIHBvcnRhbC4gKi9cbiAgICBoYXNBdHRhY2hlZCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fYXR0YWNoZWRQb3J0YWw7XG4gICAgfVxuICAgIC8qKiBBdHRhY2hlcyBhIHBvcnRhbC4gKi9cbiAgICBhdHRhY2gocG9ydGFsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsLm5nRGV2TW9kZSA9PT0gJ3VuZGVmaW5lZCcgfHwgZ2xvYmFsLm5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKCFwb3J0YWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvd051bGxQb3J0YWxFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dQb3J0YWxPdXRsZXRBbHJlYWR5RGlzcG9zZWRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb3J0YWwgaW5zdGFuY2VvZiBDb21wb25lbnRQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoQ29tcG9uZW50UG9ydGFsKHBvcnRhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocG9ydGFsIGluc3RhbmNlb2YgVGVtcGxhdGVQb3J0YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dGFjaGVkUG9ydGFsID0gcG9ydGFsO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKTtcbiAgICAgICAgICAgIC8vIEBicmVha2luZy1jaGFuZ2UgMTAuMC4wIHJlbW92ZSBudWxsIGNoZWNrIGZvciBgdGhpcy5hdHRhY2hEb21Qb3J0YWxgLlxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXR0YWNoRG9tUG9ydGFsICYmIHBvcnRhbCBpbnN0YW5jZW9mIERvbVBvcnRhbCkge1xuICAgICAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBwb3J0YWw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRhY2hEb21Qb3J0YWwocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGdsb2JhbC5uZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IGdsb2JhbC5uZ0Rldk1vZGUpIHtcbiAgICAgICAgICAgIHRocm93VW5rbm93blBvcnRhbFR5cGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBEZXRhY2hlcyBhIHByZXZpb3VzbHkgYXR0YWNoZWQgcG9ydGFsLiAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2F0dGFjaGVkUG9ydGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbC5zZXRBdHRhY2hlZEhvc3QobnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlRGlzcG9zZUZuKCk7XG4gICAgfVxuICAgIC8qKiBQZXJtYW5lbnRseSBkaXNwb3NlIG9mIHRoaXMgcG9ydGFsIGhvc3QuICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0YWNoZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VEaXNwb3NlRm4oKTtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IHRydWU7XG4gICAgfVxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgc2V0RGlzcG9zZUZuKGZuKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VGbiA9IGZuO1xuICAgIH1cbiAgICBfaW52b2tlRGlzcG9zZUZuKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlzcG9zZUZuKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NlRm4oKTtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VGbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaXJlY3RpdmUgdmVyc2lvbiBvZiBhIGBUZW1wbGF0ZVBvcnRhbGAuIEJlY2F1c2UgdGhlIGRpcmVjdGl2ZSAqaXMqIGEgVGVtcGxhdGVQb3J0YWwsXG4gKiB0aGUgZGlyZWN0aXZlIGluc3RhbmNlIGl0c2VsZiBjYW4gYmUgYXR0YWNoZWQgdG8gYSBob3N0LCBlbmFibGluZyBkZWNsYXJhdGl2ZSB1c2Ugb2YgcG9ydGFscy5cbiAqL1xuY2xhc3MgQ2RrUG9ydGFsIGV4dGVuZHMgVGVtcGxhdGVQb3J0YWwge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIHN1cGVyKHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyUmVmKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDZGtQb3J0YWwsIGRlcHM6IFt7IHRva2VuOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHRva2VuOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogQ2RrUG9ydGFsLCBzZWxlY3RvcjogXCJbY2RrUG9ydGFsXVwiLCBleHBvcnRBczogW1wiY2RrUG9ydGFsXCJdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW2Nka1BvcnRhbF0nLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRBczogJ2Nka1BvcnRhbCcsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfV0gfSk7XG4vKipcbiAqIERpcmVjdGl2ZSB2ZXJzaW9uIG9mIGEgUG9ydGFsT3V0bGV0LiBCZWNhdXNlIHRoZSBkaXJlY3RpdmUgKmlzKiBhIFBvcnRhbE91dGxldCwgcG9ydGFscyBjYW4gYmVcbiAqIGRpcmVjdGx5IGF0dGFjaGVkIHRvIGl0LCBlbmFibGluZyBkZWNsYXJhdGl2ZSB1c2UuXG4gKlxuICogVXNhZ2U6XG4gKiBgPG5nLXRlbXBsYXRlIFtjZGtQb3J0YWxPdXRsZXRdPVwiZ3JlZXRpbmdcIj48L25nLXRlbXBsYXRlPmBcbiAqL1xuY2xhc3MgQ2RrUG9ydGFsT3V0bGV0IGV4dGVuZHMgQmFzZVBvcnRhbE91dGxldCB7XG4gICAgY29uc3RydWN0b3IoX3ZpZXdDb250YWluZXJSZWYsIHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBfdmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICAvKiogV2hldGhlciB0aGUgcG9ydGFsIGNvbXBvbmVudCBpcyBpbml0aWFsaXplZC4gKi9cbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAvKiogRW1pdHMgd2hlbiBhIHBvcnRhbCBpcyBhdHRhY2hlZCB0byB0aGUgb3V0bGV0LiAqL1xuICAgICAgICB0aGlzLmF0dGFjaGVkID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoZXMgdGhlIGdpdmVuIERvbVBvcnRhbCB0byB0aGlzIFBvcnRhbEhvc3QgYnkgbW92aW5nIGFsbCBvZiB0aGUgcG9ydGFsIGNvbnRlbnQgaW50byBpdC5cbiAgICAgICAgICogQHBhcmFtIHBvcnRhbCBQb3J0YWwgdG8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFRvIGJlIHR1cm5lZCBpbnRvIGEgbWV0aG9kLlxuICAgICAgICAgKiBAYnJlYWtpbmctY2hhbmdlIDEwLjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdHRhY2hEb21Qb3J0YWwgPSAocG9ydGFsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gcG9ydGFsLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSAmJiAodHlwZW9mIGdsb2JhbC5uZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IGdsb2JhbC5uZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RPTSBwb3J0YWwgY29udGVudCBtdXN0IGJlIGF0dGFjaGVkIHRvIGEgcGFyZW50IG5vZGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBbmNob3IgdXNlZCB0byBzYXZlIHRoZSBlbGVtZW50J3MgcHJldmlvdXMgcG9zaXRpb24gc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2UgY2FuIHJlc3RvcmUgaXQgd2hlbiB0aGUgcG9ydGFsIGlzIGRldGFjaGVkLlxuICAgICAgICAgICAgY29uc3QgYW5jaG9yTm9kZSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQ29tbWVudCgnZG9tLXBvcnRhbCcpO1xuICAgICAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGVsZW1lbnQucGFyZW50Tm9kZSwgYW5jaG9yTm9kZSwgZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuX2dldFJvb3ROb2RlKCksIGVsZW1lbnQpO1xuICAgICAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYW5jaG9yTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5zZXJ0QmVmb3JlKGFuY2hvck5vZGUucGFyZW50Tm9kZSwgZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5jaG9yTm9kZS5wYXJlbnROb2RlIS5yZXBsYWNlQ2hpbGQoZWxlbWVudCwgYW5jaG9yTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKiBQb3J0YWwgYXNzb2NpYXRlZCB3aXRoIHRoZSBQb3J0YWwgb3V0bGV0LiAqL1xuICAgIGdldCBwb3J0YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZFBvcnRhbDtcbiAgICB9XG4gICAgc2V0IHBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBjYXNlcyB3aGVyZSB0aGUgYHBvcnRhbGAgaXMgc2V0IHRvIGEgZmFsc3kgdmFsdWUgYmVmb3JlIHRoZSBsaWZlY3ljbGUgaG9va3MgaGF2ZVxuICAgICAgICAvLyBydW4uIFRoaXMgaGFuZGxlcyB0aGUgY2FzZXMgd2hlcmUgdGhlIHVzZXIgbWlnaHQgZG8gc29tZXRoaW5nIGxpa2UgYDxkaXYgY2RrUG9ydGFsT3V0bGV0PmBcbiAgICAgICAgLy8gYW5kIGF0dGFjaCBhIHBvcnRhbCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBwYXJlbnQgY29tcG9uZW50LiBXaGVuIEFuZ3VsYXIgZG9lcyB0aGUgZmlyc3QgQ0RcbiAgICAgICAgLy8gcm91bmQsIGl0IHdpbGwgZmlyZSB0aGUgc2V0dGVyIHdpdGggZW1wdHkgc3RyaW5nLCBjYXVzaW5nIHRoZSB1c2VyJ3MgY29udGVudCB0byBiZSBjbGVhcmVkLlxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpICYmICFwb3J0YWwgJiYgIXRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNBdHRhY2hlZCgpKSB7XG4gICAgICAgICAgICBzdXBlci5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9ydGFsKSB7XG4gICAgICAgICAgICBzdXBlci5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICB9XG4gICAgLyoqIENvbXBvbmVudCBvciB2aWV3IHJlZmVyZW5jZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBwb3J0YWwuICovXG4gICAgZ2V0IGF0dGFjaGVkUmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRSZWY7XG4gICAgfVxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLl9pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRQb3J0YWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFJlZiA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCB0aGUgZ2l2ZW4gQ29tcG9uZW50UG9ydGFsIHRvIHRoaXMgUG9ydGFsT3V0bGV0IHVzaW5nIHRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcG9ydGFsIFBvcnRhbCB0byBiZSBhdHRhY2hlZCB0byB0aGUgcG9ydGFsIG91dGxldC5cbiAgICAgKiBAcmV0dXJucyBSZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZWQgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgcG9ydGFsLnNldEF0dGFjaGVkSG9zdCh0aGlzKTtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYW4gb3JpZ2luLCB1c2UgdGhhdCBhcyB0aGUgbG9naWNhbCBsb2NhdGlvbiBvZiB0aGUgY29tcG9uZW50XG4gICAgICAgIC8vIGluIHRoZSBhcHBsaWNhdGlvbiB0cmVlLiBPdGhlcndpc2UgdXNlIHRoZSBsb2NhdGlvbiBvZiB0aGlzIFBvcnRhbE91dGxldC5cbiAgICAgICAgY29uc3Qgdmlld0NvbnRhaW5lclJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmICE9IG51bGwgPyBwb3J0YWwudmlld0NvbnRhaW5lclJlZiA6IHRoaXMuX3ZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIC8vIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIC8vIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeTxUPihwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgcmVmID0gdmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQocG9ydGFsLmNvbXBvbmVudCk7XG4gICAgICAgIC8vIGNvbnN0IHJlZiA9IHZpZXdDb250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50PFQ+KHBvcnRhbC5jb21wb25lbnQsIHZpZXdDb250YWluZXJSZWYubGVuZ3RoLCBwb3J0YWwuaW5qZWN0b3IgfHwgdmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgIC8vIElmIHdlJ3JlIHVzaW5nIGEgdmlldyBjb250YWluZXIgdGhhdCdzIGRpZmZlcmVudCBmcm9tIHRoZSBpbmplY3RlZCBvbmUgKGUuZy4gd2hlbiB0aGUgcG9ydGFsXG4gICAgICAgIC8vIHNwZWNpZmllcyBpdHMgb3duKSB3ZSBuZWVkIHRvIG1vdmUgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBvdXRsZXQsIG90aGVyd2lzZSBpdCdsbCBiZSByZW5kZXJlZFxuICAgICAgICAvLyBpbnNpZGUgb2YgdGhlIGFsdGVybmF0ZSB2aWV3IGNvbnRhaW5lci5cbiAgICAgICAgaWYgKHZpZXdDb250YWluZXJSZWYgIT09IHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy5fZ2V0Um9vdE5vZGUoKSwgcmVmLmhvc3RWaWV3LnJvb3ROb2Rlc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuc2V0RGlzcG9zZUZuKCgpID0+IHJlZi5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSByZWY7XG4gICAgICAgIHRoaXMuYXR0YWNoZWQuZW1pdChyZWYpO1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIFRlbXBsYXRlUG9ydGFsIHRvIHRoaXMgUG9ydGFsSG9zdCBhcyBhbiBlbWJlZGRlZCBWaWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBwb3J0YWwuc2V0QXR0YWNoZWRIb3N0KHRoaXMpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5fdmlld0NvbnRhaW5lclJlZi5jcmVhdGVFbWJlZGRlZFZpZXcocG9ydGFsLnRlbXBsYXRlUmVmLCBwb3J0YWwuY29udGV4dCk7XG4gICAgICAgIHN1cGVyLnNldERpc3Bvc2VGbigoKSA9PiB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmNsZWFyKCkpO1xuICAgICAgICB0aGlzLl9hdHRhY2hlZFBvcnRhbCA9IHBvcnRhbDtcbiAgICAgICAgdGhpcy5fYXR0YWNoZWRSZWYgPSB2aWV3UmVmO1xuICAgICAgICB0aGlzLmF0dGFjaGVkLmVtaXQodmlld1JlZik7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgcm9vdCBub2RlIG9mIHRoZSBwb3J0YWwgb3V0bGV0LiAqL1xuICAgIF9nZXRSb290Tm9kZSgpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuX3ZpZXdDb250YWluZXJSZWYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICAgICAgICAvLyBUaGUgZGlyZWN0aXZlIGNvdWxkIGJlIHNldCBvbiBhIHRlbXBsYXRlIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgY29tbWVudFxuICAgICAgICAvLyBub2RlIGJlaW5nIHRoZSByb290LiBVc2UgdGhlIGNvbW1lbnQncyBwYXJlbnQgbm9kZSBpZiB0aGF0IGlzIHRoZSBjYXNlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICByZXR1cm4gKCEobmF0aXZlRWxlbWVudCBpbnN0YW5jZW9mIENvbW1lbnROb2RlKSA/IG5hdGl2ZUVsZW1lbnQgOiBuYXRpdmVFbGVtZW50LnBhcmVudE5vZGUpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IENka1BvcnRhbE91dGxldCwgZGVwczogW3sgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBzZWxlY3RvcjogXCJbY2RrUG9ydGFsT3V0bGV0XVwiLCBpbnB1dHM6IHsgcG9ydGFsOiBbXCJjZGtQb3J0YWxPdXRsZXRcIiwgXCJwb3J0YWxcIl0gfSwgb3V0cHV0czogeyBhdHRhY2hlZDogXCJhdHRhY2hlZFwiIH0sIGV4cG9ydEFzOiBbXCJjZGtQb3J0YWxPdXRsZXRcIl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2RrUG9ydGFsT3V0bGV0LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbY2RrUG9ydGFsT3V0bGV0XScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAnY2RrUG9ydGFsT3V0bGV0JyxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1pbnB1dHMtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRzOiBbJ3BvcnRhbDogY2RrUG9ydGFsT3V0bGV0J10sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH0sIHsgdHlwZTogaTAuUmVuZGVyZXIyIH1dLCBwcm9wRGVjb3JhdG9yczogeyBhdHRhY2hlZDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBPdXRwdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5jbGFzcyBQb3J0YWxNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBvcnRhbE1vZHVsZSwgZGVjbGFyYXRpb25zOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLCBleHBvcnRzOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUG9ydGFsTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ2RrUG9ydGFsLCBDZGtQb3J0YWxPdXRsZXRdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFBvcnRhbE91dGxldCBmb3IgYXR0YWNoaW5nIHBvcnRhbHMgdG8gYW4gYXJiaXRyYXJ5IERPTSBlbGVtZW50IG91dHNpZGUgb2YgdGhlIEFuZ3VsYXJcbiAqIGFwcGxpY2F0aW9uIGNvbnRleHQuXG4gKi9cbmxldCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQgPSBjbGFzcyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQgZXh0ZW5kcyBCYXNlUG9ydGFsT3V0bGV0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogRWxlbWVudCBpbnRvIHdoaWNoIHRoZSBjb250ZW50IGlzIHByb2plY3RlZC4gKi9cbiAgICBvdXRsZXRFbGVtZW50LCBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfYXBwUmVmLCBfZGVmYXVsdEluamVjdG9yLCB2aWV3VXRpbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm91dGxldEVsZW1lbnQgPSBvdXRsZXRFbGVtZW50O1xuICAgICAgICB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBfYXBwUmVmO1xuICAgICAgICB0aGlzLl9kZWZhdWx0SW5qZWN0b3IgPSBfZGVmYXVsdEluamVjdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoZXMgYSBET00gcG9ydGFsIGJ5IHRyYW5zZmVycmluZyBpdHMgY29udGVudCBpbnRvIHRoZSBvdXRsZXQuXG4gICAgICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBUbyBiZSB0dXJuZWQgaW50byBhIG1ldGhvZC5cbiAgICAgICAgICogQGJyZWFraW5nLWNoYW5nZSAxMC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0YWNoRG9tUG9ydGFsID0gKHBvcnRhbCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHBvcnRhbC5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUgJiYgKHR5cGVvZiBnbG9iYWwubmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBnbG9iYWwubmdEZXZNb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdET00gcG9ydGFsIGNvbnRlbnQgbXVzdCBiZSBhdHRhY2hlZCB0byBhIHBhcmVudCBub2RlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQW5jaG9yIHVzZWQgdG8gc2F2ZSB0aGUgZWxlbWVudCdzIHByZXZpb3VzIHBvc2l0aW9uIHNvXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGNhbiByZXN0b3JlIGl0IHdoZW4gdGhlIHBvcnRhbCBpcyBkZXRhY2hlZC5cbiAgICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSB0aGlzLl92aWV3VXRpbC5jcmVhdGVDb21tZW50KCdkb20tcG9ydGFsJyk7XG4gICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoZWxlbWVudC5wYXJlbnROb2RlLCBhbmNob3JOb2RlLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICBzdXBlci5zZXREaXNwb3NlRm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBgcmVwbGFjZVdpdGhgIGhlcmUgYmVjYXVzZSBJRSBkb2Vzbid0IHN1cHBvcnQgaXQuXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvck5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5pbnNlcnRCZWZvcmUoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBlbGVtZW50LCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQoYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBhbmNob3JOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy9hbmNob3JOb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsZW1lbnQsIGFuY2hvck5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl92aWV3VXRpbCA9IHZpZXdVdGlsIHx8IHRoaXMuX2RlZmF1bHRJbmplY3Rvci5nZXQoVmlld1V0aWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIGdpdmVuIENvbXBvbmVudFBvcnRhbCB0byBET00gZWxlbWVudCB1c2luZyB0aGUgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkXG4gICAgICogQHJldHVybnMgUmVmZXJlbmNlIHRvIHRoZSBjcmVhdGVkIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBhdHRhY2hDb21wb25lbnRQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gcG9ydGFsLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEZhY3RvcnkgPSByZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShwb3J0YWwuY29tcG9uZW50KTtcbiAgICAgICAgbGV0IGNvbXBvbmVudFJlZjtcbiAgICAgICAgLy8gSWYgdGhlIHBvcnRhbCBzcGVjaWZpZXMgYSBWaWV3Q29udGFpbmVyUmVmLCB3ZSB3aWxsIHVzZSB0aGF0IGFzIHRoZSBhdHRhY2htZW50IHBvaW50XG4gICAgICAgIC8vIGZvciB0aGUgY29tcG9uZW50IChpbiB0ZXJtcyBvZiBBbmd1bGFyJ3MgY29tcG9uZW50IHRyZWUsIG5vdCByZW5kZXJpbmcpLlxuICAgICAgICAvLyBXaGVuIHRoZSBWaWV3Q29udGFpbmVyUmVmIGlzIG1pc3NpbmcsIHdlIHVzZSB0aGUgZmFjdG9yeSB0byBjcmVhdGUgdGhlIGNvbXBvbmVudCBkaXJlY3RseVxuICAgICAgICAvLyBhbmQgdGhlbiBtYW51YWxseSBhdHRhY2ggdGhlIHZpZXcgdG8gdGhlIGFwcGxpY2F0aW9uLlxuICAgICAgICBpZiAocG9ydGFsLnZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IHBvcnRhbC52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChjb21wb25lbnRGYWN0b3J5LCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5sZW5ndGgsIHBvcnRhbC5pbmplY3RvciB8fCBwb3J0YWwudmlld0NvbnRhaW5lclJlZi5pbmplY3Rvcik7XG4gICAgICAgICAgICB0aGlzLnNldERpc3Bvc2VGbigoKSA9PiBjb21wb25lbnRSZWYuZGVzdHJveSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHBvcnRhbC5pbmplY3RvciB8fCB0aGlzLl9kZWZhdWx0SW5qZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5fYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBjb21wb25lbnQgaGFzIGJlZW4gaW5zdGFudGlhdGVkLCBzbyB3ZSBtb3ZlIGl0IHRvIHRoZSBsb2NhdGlvbiBpbiB0aGUgRE9NXG4gICAgICAgIC8vIHdoZXJlIHdlIHdhbnQgaXQgdG8gYmUgcmVuZGVyZWQuXG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy5fZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHJvb3ROb2RlLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdmlld1V0aWwucmVtb3ZlQ2hpbGQocm9vdE5vZGUucGFyZW50LCByb290Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld1V0aWwuYXBwZW5kQ2hpbGQodGhpcy5vdXRsZXRFbGVtZW50LCB0aGlzLl9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB0ZW1wbGF0ZSBwb3J0YWwgdG8gdGhlIERPTSBhcyBhbiBlbWJlZGRlZCB2aWV3LlxuICAgICAqIEBwYXJhbSBwb3J0YWwgUG9ydGFsIHRvIGJlIGF0dGFjaGVkLlxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byB0aGUgY3JlYXRlZCBlbWJlZGRlZCB2aWV3LlxuICAgICAqL1xuICAgIGF0dGFjaFRlbXBsYXRlUG9ydGFsKHBvcnRhbCkge1xuICAgICAgICBjb25zdCB2aWV3Q29udGFpbmVyID0gcG9ydGFsLnZpZXdDb250YWluZXJSZWY7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB2aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyhwb3J0YWwudGVtcGxhdGVSZWYsIHBvcnRhbC5jb250ZXh0KTtcbiAgICAgICAgLy8gVGhlIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3YCB3aWxsIGFkZCB0aGUgdmlldyBhcyBhIGNoaWxkIG9mIHRoZSB2aWV3Q29udGFpbmVyLlxuICAgICAgICAvLyBCdXQgZm9yIHRoZSBEb21Qb3J0YWxPdXRsZXQgdGhlIHZpZXcgY2FuIGJlIGFkZGVkIGV2ZXJ5d2hlcmUgaW4gdGhlIERPTVxuICAgICAgICAvLyAoZS5nIE92ZXJsYXkgQ29udGFpbmVyKSBUbyBtb3ZlIHRoZSB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgaG9zdCBlbGVtZW50LiBXZSBqdXN0XG4gICAgICAgIC8vIHJlLWFwcGVuZCB0aGUgZXhpc3Rpbmcgcm9vdCBub2Rlcy5cbiAgICAgICAgdmlld1JlZi5yb290Tm9kZXMuZm9yRWFjaCgocm9vdE5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChyb290Tm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3VXRpbC5yZW1vdmVDaGlsZChyb290Tm9kZS5wYXJlbnQsIHJvb3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLmFwcGVuZENoaWxkKHRoaXMub3V0bGV0RWxlbWVudCwgcm9vdE5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm90ZSB0aGF0IHdlIHdhbnQgdG8gZGV0ZWN0IGNoYW5nZXMgYWZ0ZXIgdGhlIG5vZGVzIGhhdmUgYmVlbiBtb3ZlZCBzbyB0aGF0XG4gICAgICAgIC8vIGFueSBkaXJlY3RpdmVzIGluc2lkZSB0aGUgcG9ydGFsIHRoYXQgYXJlIGxvb2tpbmcgYXQgdGhlIERPTSBpbnNpZGUgYSBsaWZlY3ljbGVcbiAgICAgICAgLy8gaG9vayB3b24ndCBiZSBpbnZva2VkIHRvbyBlYXJseS5cbiAgICAgICAgdmlld1JlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMuc2V0RGlzcG9zZUZuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlld0NvbnRhaW5lci5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHZpZXdDb250YWluZXIucmVtb3ZlKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE8oamVsYm91cm4pOiBSZXR1cm4gbG9jYWxzIGZyb20gdmlldy5cbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBvdXQgYSBwb3J0YWwgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdVdGlsLnJlbW92ZUNoaWxkKHRoaXMub3V0bGV0RWxlbWVudC5wYXJlbnROb2RlLCB0aGlzLm91dGxldEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSByb290IEhUTUxFbGVtZW50IGZvciBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50LiAqL1xuICAgIF9nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZi5ob3N0Vmlldy5yb290Tm9kZXNbMF07XG4gICAgfVxufTtcbk5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCA9IF9fZGVjb3JhdGUoW1xuICAgIF9fcGFyYW0oNCwgT3B0aW9uYWwoKSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtWaWV3LFxuICAgICAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgIEFwcGxpY2F0aW9uUmVmLFxuICAgICAgICBJbmplY3RvcixcbiAgICAgICAgVmlld1V0aWxdKVxuXSwgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KTtcblxucmVnaXN0ZXJFbGVtZW50KCdEZXRhY2hlZENvbnRhaW5lcicsICgpID0+IFByb3h5Vmlld0NvbnRhaW5lciwge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbn0pO1xuLyoqXG4gKiBXcmFwcGVyIGNvbXBvbmVudCB1c2VkIGZvciBsb2FkaW5nIGNvbXBvbmVudHMgd2hlbiBuYXZpZ2F0aW5nXG4gKiBJdCB1c2VzIERldGFjaGVkQ29udGFpbmVyIGFzIHNlbGVjdG9yIHNvIHRoYXQgaXQgaXMgY29udGFpbmVyUmVmIGlzIG5vdCBhdHRhY2hlZCB0b1xuICogdGhlIHZpc3VhbCB0cmVlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1jbGFzcy1zdWZmaXhcbmNsYXNzIERldGFjaGVkTG9hZGVyIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmNvbXBvbmVudC1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHZlciwgY2hhbmdlRGV0ZWN0b3IsIGNvbnRhaW5lclJlZiwgYXBwUmVmKSB7XG4gICAgICAgIHRoaXMucmVzb2x2ZXIgPSByZXNvbHZlcjtcbiAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3RvciA9IGNoYW5nZURldGVjdG9yO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclJlZiA9IGNvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSBhcHBSZWY7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucyA9IFtdO1xuICAgIH1cbiAgICBjcmVhdGVDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgY3VzdG9tSW5qZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRQb3J0YWwoY29tcG9uZW50VHlwZSwgdGhpcy52YywgY3VzdG9tSW5qZWN0b3IgfHwgdGhpcy52Yy5pbmplY3Rvcik7XG4gICAgfVxuICAgIGNyZWF0ZVRlbXBsYXRlUG9ydGFsKHRlbXBsYXRlUmVmLCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGVtcGxhdGVQb3J0YWwodGVtcGxhdGVSZWYsIHRoaXMudmMsIGNvbnRleHQpO1xuICAgIH1cbiAgICBsb2FkSW5BcHBSZWYoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRUeXBlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDb21wb25lbnQgaXMgY3JlYXRlZCwgYnVpbHQgbWF5IG5vdCBiZSBjaGVja2VkIGlmIHdlIGFyZSBsb2FkaW5nXG4gICAgICAgIC8vIGluc2lkZSBjb21wb25lbnQgd2l0aCBPblB1c2ggQ0Qgc3RyYXRlZ3kuIE1hcmsgdXMgZm9yIGNoZWNrIHRvIGJlIHN1cmUgQ0Qgd2lsbCByZWFjaCB1cy5cbiAgICAgICAgLy8gV2UgYXJlIGluc2lkZSBhIHByb21pc2UgaGVyZSBzbyBubyBuZWVkIGZvciBzZXRUaW1lb3V0IC0gQ0Qgc2hvdWxkIHRyaWdnZXJcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIHByb21pc2UuXG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkSW5Mb2NhdGlvbiBjb21wb25lbnQgbG9hZGVkIC0+IG1hcmtGb3JDaGVjaycsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9XG4gICAgbG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VGdW5jdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgIH1cbiAgICBkZXRlY3RDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRDb21wb25lbnQoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudCcsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZENvbXBvbmVudFN5bmMoY29tcG9uZW50VHlwZSkge1xuICAgICAgICBUcmFjZS53cml0ZSgnRGV0YWNoZWRMb2FkZXIubG9hZENvbXBvbmVudFN5bmMnLCAnZGV0YWNoZWQtbG9hZGVyJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRJbkFwcFJlZihjb21wb25lbnRUeXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIFBvcnRhbHNcbiAgICAgKi9cbiAgICBsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnRUeXBlKSB7XG4gICAgICAgIFRyYWNlLndyaXRlKCdEZXRhY2hlZExvYWRlci5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbicsICdkZXRhY2hlZC1sb2FkZXInKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEluTG9jYXRpb24oY29tcG9uZW50VHlwZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBQb3J0YWxzXG4gICAgICovXG4gICAgbG9hZFdpdGhGYWN0b3J5KGZhY3RvcnkpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50UmVmID0gZmFjdG9yeS5jcmVhdGUodGhpcy5jb250YWluZXJSZWYuaW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG4gICAgICAgIHRoaXMuZGlzcG9zZUZ1bmN0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwUmVmLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgUG9ydGFsc1xuICAgICAqL1xuICAgIGxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24oZmFjdG9yeSkge1xuICAgICAgICByZXR1cm4gdGhpcy52Yy5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRGV0YWNoZWRMb2FkZXIsIGRlcHM6IFt7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHRva2VuOiBpMC5BcHBsaWNhdGlvblJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IERldGFjaGVkTG9hZGVyLCBzZWxlY3RvcjogXCJEZXRhY2hlZENvbnRhaW5lclwiLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcInZjXCIsIGZpcnN0OiB0cnVlLCBwcmVkaWNhdGU6IFtcInZjXCJdLCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogVmlld0NvbnRhaW5lclJlZiwgc3RhdGljOiB0cnVlIH1dLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPFBsYWNlaG9sZGVyICNsb2FkZXI+PC9QbGFjZWhvbGRlcj5cbiAgICA8bmctY29udGFpbmVyICN2Yz48L25nLWNvbnRhaW5lcj5cbiAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEZXRhY2hlZExvYWRlciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRGV0YWNoZWRDb250YWluZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxQbGFjZWhvbGRlciAjbG9hZGVyPjwvUGxhY2Vob2xkZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjdmM+PC9uZy1jb250YWluZXI+XG4gICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0eXBlOiBpMC5DaGFuZ2VEZXRlY3RvclJlZiB9LCB7IHR5cGU6IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0eXBlOiBpMC5BcHBsaWNhdGlvblJlZiB9XSwgcHJvcERlY29yYXRvcnM6IHsgdmM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsndmMnLCB7IHJlYWQ6IFZpZXdDb250YWluZXJSZWYsIHN0YXRpYzogdHJ1ZSB9XVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuY2xhc3MgUGFnZVNlcnZpY2Uge1xuICAgIGdldCBpblBhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pblBhZ2UkLnZhbHVlO1xuICAgIH1cbiAgICBnZXQgaW5QYWdlJCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luUGFnZSQucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgICB9XG4gICAgZ2V0IHBhZ2VFdmVudHMkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFnZUV2ZW50cyQuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhZ2UsIGVsUmVmLCB2aWV3KSB7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgaWYgKHBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2aWV3ID0gdmlldyB8fCBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHZpZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlldyBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlID0gdmlldztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkID0gbmV3IEJlaGF2aW9yU3ViamVjdCghIXRoaXMucGFnZT8uaXNMb2FkZWQpO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZEZyb20nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub24oJ25hdmlnYXRlZFRvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9uKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbmF2aWdhdGluZ1RvJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0ZWRGcm9tJywgdGhpcy5wYWdlRXZlbnQsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5wYWdlLm9mZignbmF2aWdhdGVkVG8nLCB0aGlzLnBhZ2VFdmVudCwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2Uub2ZmKCduYXZpZ2F0aW5nRnJvbScsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vZmYoJ25hdmlnYXRpbmdUbycsIHRoaXMucGFnZUV2ZW50LCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pblBhZ2UkLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuX3BhZ2VFdmVudHMkLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHBhZ2VFdmVudChldnQpIHtcbiAgICAgICAgdGhpcy5fcGFnZUV2ZW50cyQubmV4dChldnQpO1xuICAgICAgICBzd2l0Y2ggKGV2dC5ldmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ25hdmlnYXRlZFRvJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICduYXZpZ2F0ZWRGcm9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9pblBhZ2UkLm5leHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZXBzOiBbeyB0b2tlbjogaTEuUGFnZSwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTEuVmlld0Jhc2UsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlU2VydmljZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFBhZ2VTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTEuVmlld0Jhc2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV0gfSk7XG5cbmZ1bmN0aW9uIGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSh2KSB7XG4gICAgcmV0dXJuIHYuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xufVxuZnVuY3Rpb24gY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUodikge1xuICAgIHJldHVybiB2LnBhZ2U7XG59XG5yZWdpc3RlckVsZW1lbnQoJ0ZyYW1lUGFnZScsICgpID0+IEZyYW1lLCB7XG4gICAgaW5zZXJ0Q2hpbGQ6IChwYXJlbnQsIGNoaWxkKSA9PiB7XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFBhZ2UpIHtcbiAgICAgICAgICAgIGZyYW1lTWV0YS5pbnNlcnRDaGlsZChwYXJlbnQsIGNoaWxkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRbJ19fbmdfcGFnZV9fJ10uY29udGVudCA9IGNoaWxkO1xuICAgIH0sXG59KTtcbmNsYXNzIEZyYW1lUGFnZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5hY3Rpb25CYXJIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wYWdlID0gcmVuZGVyZXIuY3JlYXRlRWxlbWVudCgnUGFnZScpO1xuICAgICAgICBlbGVtZW50Lm5hdGl2ZUVsZW1lbnRbJ19fbmdfcGFnZV9fJ10gPSB0aGlzLnBhZ2U7XG4gICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKGVsZW1lbnQubmF0aXZlRWxlbWVudCwgdGhpcy5wYWdlKTtcbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4gJiYgY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4ucHJldmlvdXNWYWx1ZSAhPT0gY2hhbmdlcy5hY3Rpb25CYXJIaWRkZW4uY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbiA9ICEhdGhpcy5hY3Rpb25CYXJIaWRkZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gISF0aGlzLmFjdGlvbkJhckhpZGRlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZUNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogaTAuUmVuZGVyZXIyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogRnJhbWVQYWdlQ29tcG9uZW50LCBzZWxlY3RvcjogXCJGcmFtZVBhZ2VcIiwgaW5wdXRzOiB7IGFjdGlvbkJhckhpZGRlbjogXCJhY3Rpb25CYXJIaWRkZW5cIiB9LCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUsXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgIF0sIHVzZXNPbkNoYW5nZXM6IHRydWUsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCwgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBGcmFtZVBhZ2VDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0ZyYW1lUGFnZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lQ29tcG9uZW50RmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeUZyb21GcmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV0sIHByb3BEZWNvcmF0b3JzOiB7IGFjdGlvbkJhckhpZGRlbjogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gY3VzdG9tRnJhbWVEaXJlY3RpdmVGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5jbGFzcyBGcmFtZURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJGcmFtZVwiLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBGcmFtZSxcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW0ZyYW1lRGlyZWN0aXZlXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdGcmFtZScsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGU6IEZyYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbRnJhbWVEaXJlY3RpdmVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV0gfSk7XG5cbmZ1bmN0aW9uIGN1c3RvbVBhZ2VGYWN0b3J5KHYpIHtcbiAgICByZXR1cm4gdi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG59XG5jbGFzcyBQYWdlRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogUGFnZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJQYWdlXCIsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFBhZ2UsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogY3VzdG9tUGFnZUZhY3RvcnksXG4gICAgICAgICAgICAgICAgZGVwczogW1BhZ2VEaXJlY3RpdmVdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFBhZ2VTZXJ2aWNlLFxuICAgICAgICBdLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdQYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogUGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBjdXN0b21QYWdlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBzOiBbUGFnZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dIH0pO1xuXG5jbGFzcyBGcmFtZVBhZ2VNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVQYWdlTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lUGFnZU1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbRnJhbWVEaXJlY3RpdmUsIFBhZ2VEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtGcmFtZURpcmVjdGl2ZSwgUGFnZURpcmVjdGl2ZSwgRnJhbWVQYWdlQ29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT09IHVuZGVmaW5lZCAmJiBvYmogIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc0JsYW5rKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHVuZGVmaW5lZCB8fCBvYmogPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzQWN0aW9uSXRlbSh2aWV3KSB7XG4gICAgcmV0dXJuIHZpZXcgaW5zdGFuY2VvZiBBY3Rpb25JdGVtO1xufVxuZnVuY3Rpb24gaXNOYXZpZ2F0aW9uQnV0dG9uKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldyBpbnN0YW5jZW9mIE5hdmlnYXRpb25CdXR0b247XG59XG5jb25zdCBhY3Rpb25CYXJNZXRhID0ge1xuICAgIHNraXBBZGRUb0RvbTogdHJ1ZSxcbiAgICBpbnNlcnRDaGlsZDogKHBhcmVudCwgY2hpbGQsIG5leHQpID0+IHtcbiAgICAgICAgaWYgKGlzSW52aXNpYmxlTm9kZShjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05hdmlnYXRpb25CdXR0b24oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IGNoaWxkO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBhZGRBY3Rpb25JdGVtKHBhcmVudCwgY2hpbGQsIG5leHQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQudGl0bGVWaWV3ID0gY2hpbGQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZUNoaWxkOiAocGFyZW50LCBjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoaXNJbnZpc2libGVOb2RlKGNoaWxkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTmF2aWdhdGlvbkJ1dHRvbihjaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQubmF2aWdhdGlvbkJ1dHRvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FjdGlvbkl0ZW0oY2hpbGQpKSB7XG4gICAgICAgICAgICBwYXJlbnQuYWN0aW9uSXRlbXMucmVtb3ZlSXRlbShjaGlsZCk7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZpZXcoY2hpbGQpICYmIHBhcmVudC50aXRsZVZpZXcgJiYgcGFyZW50LnRpdGxlVmlldyA9PT0gY2hpbGQpIHtcbiAgICAgICAgICAgIHBhcmVudC50aXRsZVZpZXcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkJhcicsICgpID0+IEFjdGlvbkJhciwgYWN0aW9uQmFyTWV0YSk7XG5yZWdpc3RlckVsZW1lbnQoJ0FjdGlvbkl0ZW0nLCAoKSA9PiBBY3Rpb25JdGVtKTtcbnJlZ2lzdGVyRWxlbWVudCgnTmF2aWdhdGlvbkJ1dHRvbicsICgpID0+IE5hdmlnYXRpb25CdXR0b24pO1xuY29uc3QgYWRkQWN0aW9uSXRlbSA9IChiYXIsIGl0ZW0sIG5leHQpID0+IHtcbiAgICBpZiAobmV4dCkge1xuICAgICAgICBpbnNlcnRBY3Rpb25JdGVtQmVmb3JlKGJhciwgaXRlbSwgbmV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcHBlbmRBY3Rpb25JdGVtKGJhciwgaXRlbSk7XG4gICAgfVxufTtcbmNvbnN0IGluc2VydEFjdGlvbkl0ZW1CZWZvcmUgPSAoYmFyLCBpdGVtLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgYWN0aW9uSXRlbXMgPSBiYXIuYWN0aW9uSXRlbXM7XG4gICAgY29uc3QgYWN0aW9uSXRlbXNDb2xsZWN0aW9uID0gYWN0aW9uSXRlbXMuZ2V0SXRlbXMoKTtcbiAgICBjb25zdCBpbmRleFRvSW5zZXJ0ID0gYWN0aW9uSXRlbXNDb2xsZWN0aW9uLmluZGV4T2YobmV4dCk7XG4gICAgYWN0aW9uSXRlbXNDb2xsZWN0aW9uLnNwbGljZShpbmRleFRvSW5zZXJ0LCAwLCBpdGVtKTtcbiAgICBhY3Rpb25JdGVtcy5zZXRJdGVtcyhhY3Rpb25JdGVtc0NvbGxlY3Rpb24pO1xufTtcbmNvbnN0IGFwcGVuZEFjdGlvbkl0ZW0gPSAoYmFyLCBpdGVtKSA9PiB7XG4gICAgYmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbSk7XG59O1xuY2xhc3MgQWN0aW9uQmFyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBwYWdlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG4gICAgICAgIGlmICghdGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFBhZ2UgZm91bmQgaW4gQWN0aW9uQmFyQ29tcG9uZW50LlxcbicgKyAnT25seSBhIFBhZ2UgY2FuIGNvbnRhaW4gYW4gQWN0aW9uQmFyLCBzbyBwbGVhc2UgZW5zdXJlIEFjdGlvbkJhciBpcyBvbmx5IHVzZWQgaW5zaWRlIGEgQ29tcG9uZW50IHRoYXQgaXMgcm91dGVkIHZpYSBwYWdlLXJvdXRlci1vdXRsZXQgb3IgaXMgY29udGFpbmVkIGluIGEgUGFnZS5cXG4nICsgJ0V4YW1wbGUgZm9yIHJvb3QgYWN0aW9uIGJhcnMgaW4gQXBwQ29tcG9uZW50OiA8RnJhbWU+PFBhZ2U+PEFjdGlvbkJhcj4uLi4uPC9BY3Rpb25CYXI+PC9QYWdlPjwvRnJhbWU+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5wYWdlLmFjdGlvbkJhckhpZGRlbikpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXJIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIudXBkYXRlKCk7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyQ29tcG9uZW50LCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IEFjdGlvbkJhckNvbXBvbmVudCwgc2VsZWN0b3I6IFwiQWN0aW9uQmFyXCIsIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JywgaXNJbmxpbmU6IHRydWUgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25CYXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkJhcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PicsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogaTEuUGFnZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XSB9KTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuY2xhc3MgQWN0aW9uQmFyU2NvcGUge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLWxpbmU6Y29tcG9uZW50LWNsYXNzLXN1ZmZpeFxuICAgIGNvbnN0cnVjdG9yKHBhZ2UpIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICAgICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5zaWRlIEFjdGlvbkJhckV4dGVuc2lvbiBidXQgbm8gQWN0aW9uQmFyIGZvdW5kIHRvIGV4dGVuZC4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk5hdkJ1dHRvbkluaXQobmF2QnRuKSB7XG4gICAgICAgIHRoaXMucGFnZS5hY3Rpb25CYXIubmF2aWdhdGlvbkJ1dHRvbiA9IG5hdkJ0bi5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG9uTmF2QnV0dG9uRGVzdHJveShuYXZCdG4pIHtcbiAgICAgICAgY29uc3QgbmF2ID0gbmF2QnRuLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKG5hdiAmJiB0aGlzLnBhZ2UuYWN0aW9uQmFyLm5hdmlnYXRpb25CdXR0b24gPT09IG5hdikge1xuICAgICAgICAgICAgdGhpcy5wYWdlLmFjdGlvbkJhci5uYXZpZ2F0aW9uQnV0dG9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkFjdGlvbkluaXQoaXRlbSkge1xuICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLmFkZEl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICBvbkFjdGlvbkRlc3Ryb3koaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWN0aW9uQmFyKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFyLmFjdGlvbkl0ZW1zLnJlbW92ZUl0ZW0oaXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlLCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IEFjdGlvbkJhclNjb3BlLCBzZWxlY3RvcjogXCJBY3Rpb25CYXJFeHRlbnNpb25cIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogJycsIGlzSW5saW5lOiB0cnVlIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQWN0aW9uQmFyU2NvcGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkJhckV4dGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkxLlBhZ2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfV0gfSk7XG5jbGFzcyBBY3Rpb25JdGVtRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvd25lclNjb3BlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3duZXJTY29wZSA9IG93bmVyU2NvcGU7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkluaXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm93bmVyU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMub3duZXJTY29wZS5vbkFjdGlvbkRlc3Ryb3kodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBBY3Rpb25JdGVtRGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBBY3Rpb25CYXJTY29wZSwgb3B0aW9uYWw6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBBY3Rpb25JdGVtRGlyZWN0aXZlLCBzZWxlY3RvcjogXCJBY3Rpb25JdGVtXCIsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEFjdGlvbkl0ZW1EaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ0FjdGlvbkl0ZW0nLCAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1zZWxlY3RvclxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IEFjdGlvbkJhclNjb3BlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dIH0pO1xuY2xhc3MgTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3duZXJTY29wZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm93bmVyU2NvcGUgPSBvd25lclNjb3BlO1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25Jbml0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5vd25lclNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLm93bmVyU2NvcGUub25OYXZCdXR0b25EZXN0cm95KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfSwgeyB0b2tlbjogQWN0aW9uQmFyU2NvcGUsIG9wdGlvbmFsOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogTmF2aWdhdGlvbkJ1dHRvbkRpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiTmF2aWdhdGlvbkJ1dHRvblwiLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdOYXZpZ2F0aW9uQnV0dG9uJywgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBBY3Rpb25CYXJTY29wZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XSB9KTtcblxuLyoqXG4gKiBVdGlsaXR5IG1ldGhvZCB0byBlbnN1cmUgYSBOZ01vZHVsZSBpcyBvbmx5IGltcG9ydGVkIG9uY2UgaW4gYSBjb2RlYmFzZSwgb3RoZXJ3aXNlIHdpbGwgdGhyb3cgdG8gaGVscCBwcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlIGltcG9ydGluZ1xuICogQHBhcmFtIHBhcmVudE1vZHVsZSBQYXJlbnQgbW9kdWxlIG5hbWVcbiAqIEBwYXJhbSBtb2R1bGVOYW1lIFRoZSBtb2R1bGUgbmFtZVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQWxyZWFkeUxvYWRlZChwYXJlbnRNb2R1bGUsIG1vZHVsZU5hbWUpIHtcbiAgICBpZiAocGFyZW50TW9kdWxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHttb2R1bGVOYW1lfSBoYXMgYWxyZWFkeSBiZWVuIGxvYWRlZC4gSW1wb3J0ICR7bW9kdWxlTmFtZX0gaW4gdGhlIEFwcE1vZHVsZSBvbmx5LmApO1xuICAgIH1cbn1cbi8qKlxuICogVXRpbGl0eSBtZXRob2Qgd2hpY2ggd2lsbCBvbmx5IGZpcmUgdGhlIGNhbGxiYWNrIG9uY2UgZXZlclxuICogQHBhcmFtIGZuIGNhbGxiYWNrIHRvIGNhbGwgb25seSBvbmNlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHdhc0NhbGxlZCA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICBpZiAod2FzQ2FsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FzQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWQsIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5mdW5jdGlvbiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKSB7XG4gICAgaWYgKCFpc0pzT2JqZWN0KG9iaikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopIHx8XG4gICAgICAgICghKG9iaiBpbnN0YW5jZW9mIE1hcCkgJiYgLy8gSlMgTWFwIGFyZSBpdGVyYWJsZXMgYnV0IHJldHVybiBlbnRyaWVzIGFzIFtrLCB2XVxuICAgICAgICAgICAgU3ltYm9sLml0ZXJhdG9yIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuZnVuY3Rpb24gaXNKc09iamVjdChvKSB7XG4gICAgcmV0dXJuIG8gIT09IG51bGwgJiYgKHR5cGVvZiBvID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBvID09PSAnb2JqZWN0Jyk7XG59XG5cbmNvbnN0IE5HX1ZJRVcgPSAnX25nVmlld1JlZic7XG5jb25zdCBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5UID0gbmV3IEluamVjdGlvblRva2VuKCdUZW1wbGF0ZWRJdGVtc0NvbXBvbmVudCcpO1xuY2xhc3MgSXRlbUNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKCRpbXBsaWNpdCwgaXRlbSwgaW5kZXgsIGV2ZW4sIG9kZCkge1xuICAgICAgICB0aGlzLiRpbXBsaWNpdCA9ICRpbXBsaWNpdDtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLmV2ZW4gPSBldmVuO1xuICAgICAgICB0aGlzLm9kZCA9IG9kZDtcbiAgICB9XG59XG5jbGFzcyBOc1RlbXBsYXRlZEl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBsb2NhdGlvbiwgb25DcmVhdGUpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIHRoaXMub25DcmVhdGUgPSBvbkNyZWF0ZTtcbiAgICB9XG4gICAgY3JlYXRlKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMubG9jYXRpb24uY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMudGVtcGxhdGUsIGNvbnRleHQgPyB0aGlzLnNldHVwSXRlbUNvbnRleHQoY29udGV4dCkgOiBuZXcgSXRlbUNvbnRleHQoKSk7XG4gICAgICAgIHZpZXdSZWYuZGV0YWNoKCk7IC8vIGNyZWF0ZSBkZXRhY2hlZCwganVzdCBiZXdhcmUgdGhpcyBkb2Vzbid0IGFsd2F5cyB3b3JrIGFuZCB0aGUgdmlldyBtaWdodCBydW4gdGhlIGZpcnN0IENEIGFueXdheS5cbiAgICAgICAgY29uc3QgcmVzdWx0VmlldyA9IGdldEl0ZW1WaWV3Um9vdCh2aWV3UmVmKTtcbiAgICAgICAgcmVzdWx0Vmlld1tOR19WSUVXXSA9IHZpZXdSZWY7XG4gICAgICAgIGlmICh0aGlzLm9uQ3JlYXRlKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ3JlYXRlKHJlc3VsdFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRWaWV3O1xuICAgIH1cbiAgICB1cGRhdGUodmlldywgY29udGV4dCkge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHRoaXMuc2V0dXBJdGVtQ29udGV4dChjb250ZXh0LCB2aWV3UmVmKTtcbiAgICAgICAgdmlld1JlZj8uZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBhdHRhY2godmlldykge1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgICAgIHZpZXdSZWY/LnJlYXR0YWNoKCk7XG4gICAgICAgIHZpZXdSZWY/LmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgZGV0YWNoKHZpZXcpIHtcbiAgICAgICAgY29uc3Qgdmlld1JlZiA9IHRoaXMuZ2V0RW1iZWRkZWRWaWV3UmVmKHZpZXcpO1xuICAgICAgICB2aWV3UmVmPy5kZXRhY2goKTtcbiAgICB9XG4gICAgZGlzcG9zZSh2aWV3KSB7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSB0aGlzLmdldEVtYmVkZGVkVmlld1JlZih2aWV3KTtcbiAgICAgICAgdmlld1JlZj8uZGVzdHJveSgpO1xuICAgIH1cbiAgICBnZXRFbWJlZGRlZFZpZXdSZWYodmlldykge1xuICAgICAgICBsZXQgdmlld1JlZiA9IHZpZXdbTkdfVklFV107XG4gICAgICAgIC8vIEdldHRpbmcgYW5ndWxhciB2aWV3IGZyb20gb3JpZ2luYWwgZWxlbWVudCAoaW4gY2FzZXMgd2hlbiBQcm94eVZpZXdDb250YWluZXJcbiAgICAgICAgLy8gaXMgdXNlZCBOYXRpdmVTY3JpcHQgaW50ZXJuYWxseSB3cmFwcyBpdCBpbiBhIFN0YWNrTGF5b3V0KVxuICAgICAgICBpZiAoIXZpZXdSZWYgJiYgdmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgdmlldy5nZXRDaGlsZHJlbkNvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICB2aWV3UmVmID0gdmlldy5nZXRDaGlsZEF0KDApW05HX1ZJRVddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH1cbiAgICBpc1ZhbGlkKHZpZXcpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRFbWJlZGRlZFZpZXdSZWYodmlldyk7XG4gICAgfVxuICAgIHNldHVwSXRlbUNvbnRleHQoeyBpbmRleCwgZGF0YSB9LCBvbGRWaWV3KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBvbGRWaWV3ID8gb2xkVmlldy5jb250ZXh0IDogbmV3IEl0ZW1Db250ZXh0KCk7XG4gICAgICAgIGNvbnRleHQuJGltcGxpY2l0ID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pdGVtID0gZGF0YTtcbiAgICAgICAgY29udGV4dC5pbmRleCA9IGluZGV4O1xuICAgICAgICBjb250ZXh0LmV2ZW4gPSBpbmRleCAlIDIgPT09IDA7XG4gICAgICAgIGNvbnRleHQub2RkID0gIWNvbnRleHQuZXZlbjtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxufVxuY2xhc3MgTGlzdFZpZXdDb21wb25lbnQge1xuICAgIGdldCBuYXRpdmVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXc7XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zO1xuICAgIH1cbiAgICBzZXQgaXRlbXModmFsdWUpIHtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB2YWx1ZTtcbiAgICAgICAgbGV0IG5lZWREaWZmZXIgPSB0cnVlO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBPYnNlcnZhYmxlQXJyYXkpIHtcbiAgICAgICAgICAgIG5lZWREaWZmZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVlZERpZmZlciAmJiAhdGhpcy5fZGlmZmVyICYmIGlzTGlzdExpa2VJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RpZmZlciA9IHRoaXMuX2l0ZXJhYmxlRGlmZmVycy5maW5kKHRoaXMuX2l0ZW1zKS5jcmVhdGUoKF9pbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcuaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICB9XG4gICAgLy8gdGhpcyBlbGVtZW50UmVmIGlzIG9ubHkgaGVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICAgIGNvbnN0cnVjdG9yKF9lbGVtZW50UmVmKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlRGlmZmVycyA9IGluamVjdChJdGVyYWJsZURpZmZlcnMpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZiA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBpbmplY3QoRWxlbWVudFJlZik7XG4gICAgICAgIC8vIEkgYmVsaWV2ZSB0aGlzIG9ubHkgZXhpc3RzIHNvIHRoaXMgY2FuIGJlIGluaGVyaXRlZCBhbmQgcGVvcGxlIGNhbiBvdmVycmlkZSBpdC5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSB0aGlzLl9lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3ZpZXdUb1RlbXBsYXRlID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5zZXR1cEl0ZW1WaWV3ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICBpZiAoX2VsZW1lbnRSZWYpIHtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVkSXRlbXNWaWV3ID0gX2VsZW1lbnRSZWYubmF0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdMb2coJ1RlbXBsYXRlZEl0ZW1zVmlldy5uZ0FmdGVyQ29udGVudEluaXQoKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SXRlbVRlbXBsYXRlcygpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGVtcGxhdGVNYXApIHtcbiAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SXRlbVRlbXBsYXRlcygpIHtcbiAgICAgICAgLy8gVGhlIGl0ZW1UZW1wbGF0ZVF1ZXJ5IG1heSBiZSBjaGFuZ2VkIGFmdGVyIGxpc3QgaXRlbXMgYXJlIGFkZGVkIHRoYXQgY29udGFpbiA8dGVtcGxhdGU+IGluc2lkZSxcbiAgICAgICAgLy8gc28gY2FjaGUgYW5kIHVzZSBvbmx5IHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0byBhdm9pZCBlcnJvcnMuXG4gICAgICAgIHRoaXMuZmFsbGJhY2tJdGVtVGVtcGxhdGUgPSB0aGlzLml0ZW1UZW1wbGF0ZVF1ZXJ5O1xuICAgICAgICBpZiAodGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSAmJiAhdGhpcy5fdGVtcGxhdGVNYXA/LmhhcygnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAvLyBhcHBhcmVudGx5IHlvdSBjYW4gY3JlYXRlIGEgQ29yZSBMaXN0VmlldyB3aXRob3V0IGEgdGVtcGxhdGUuLi5cbiAgICAgICAgICAgIC8vIHdlIGFsc28gYWRkIGEgZmFsbGJhY2sgZGVmYXVsdCBmb3Igd2hlbiB0aGUgdXNlciBzZXRzIG11bHRpcGxlIHRlbXBsYXRlcyBidXQgbm8gdGVtcGxhdGVTZWxlY3RvclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlclRlbXBsYXRlKCdkZWZhdWx0JywgdGhpcy5mYWxsYmFja0l0ZW1UZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICAvLyBzb21ldGltZXMgdGVtcGxhdGVzIGFyZSByZWdpc3RlcmVkIGJlZm9yZSBsb2FkZXIgaXMgcmVhZHksIHNvIHdlIHVwZGF0ZSBoZXJlXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5mb3JFYWNoKCh0KSA9PiAodC5sb2NhdGlvbiA9IHRoaXMubG9hZGVyKSk7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnU2V0dGluZyB0ZW1wbGF0ZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVmlldzogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlZEl0ZW1zVmlldy5pdGVtVGVtcGxhdGVzID0gdGVtcGxhdGVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyVGVtcGxhdGUoa2V5LCB0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGByZWdpc3RlclRlbXBsYXRlIGZvciBrZXk6ICR7a2V5fSwgJHt0aGlzLmxvYWRlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZW1wbGF0ZU1hcC5zZXQoa2V5LCBuZXcgTnNUZW1wbGF0ZWRJdGVtKHRlbXBsYXRlLCB0aGlzLmxvYWRlciwgKHYpID0+IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLnNldCh2LCBrZXkpKSk7XG4gICAgfVxuICAgIG9uSXRlbUxvYWRpbmcoYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuX3RlbXBsYXRlTWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBhcmdzLmluZGV4O1xuICAgICAgICBjb25zdCBsdmlldyA9IGFyZ3Mub2JqZWN0O1xuICAgICAgICBjb25zdCBpdGVtcyA9IGx2aWV3Lml0ZW1zO1xuICAgICAgICBjb25zdCBjdXJyZW50SXRlbSA9ICdnZXRJdGVtJyBpbiBpdGVtcyAmJiB0eXBlb2YgaXRlbXMuZ2V0SXRlbSA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZW1zLmdldEl0ZW0oaW5kZXgpIDogaXRlbXNbaW5kZXhdO1xuICAgICAgICBsZXQgdGVtcGxhdGU7XG4gICAgICAgIGlmIChhcmdzLnZpZXcpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKGBvbkl0ZW1Mb2FkaW5nOiAke2luZGV4fSAtIFJldXNpbmcgZXhpc3Rpbmcgdmlld2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlS2V5ID0gdGhpcy5fdmlld1RvVGVtcGxhdGUuZ2V0KGFyZ3Mudmlldyk7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5ICYmIGFyZ3MudmlldyBpbnN0YW5jZW9mIExheW91dEJhc2UgJiYgYXJncy52aWV3LmdldENoaWxkcmVuQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZUtleSA9IHRoaXMuX3ZpZXdUb1RlbXBsYXRlLmdldChhcmdzLnZpZXcuZ2V0Q2hpbGRBdCgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlS2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyB0ZW1wbGF0ZSB3YXMgbm90IGNyZWF0ZWQgYnkgdXNcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVmlld1JlZmVyZW5jZSBub3QgZm91bmQgZm9yIGl0ZW0gJHtpbmRleH0uIFZpZXcgcmVjeWNsaW5nIGlzIG5vdCB3b3JraW5nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIHRlbXBsYXRlLnVwZGF0ZShhcmdzLnZpZXcsIHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgbmV2ZXIgZW50ZXIgaWYgaXQgY3JlYXRlcyB0aGUgdmlld1xuICAgICAgICAgICAgY29uc3QgdGVtcGxhdGVLZXkgPSB0eXBlb2YgbHZpZXcuaXRlbVRlbXBsYXRlU2VsZWN0b3IgPT09ICdmdW5jdGlvbicgPyBsdmlldy5pdGVtVGVtcGxhdGVTZWxlY3RvcihjdXJyZW50SXRlbSwgaW5kZXgsIGl0ZW1zKSA6ICdkZWZhdWx0JztcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVNYXAuZ2V0KHRlbXBsYXRlS2V5KTtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcubGlzdFZpZXdFcnJvcihgVGVtcGxhdGUgZm9yIGtleSAnJHt0ZW1wbGF0ZUtleX0nIG5vdCBmb3VuZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy52aWV3ID0gdGVtcGxhdGUuY3JlYXRlKHsgaW5kZXgsIGRhdGE6IGN1cnJlbnRJdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBWaWV3UmVmKHRlbXBsYXRlLmdldEVtYmVkZGVkVmlld1JlZihhcmdzLnZpZXcpLCBjdXJyZW50SXRlbSwgaW5kZXgsIGFyZ3Mudmlldyk7XG4gICAgICAgIHRlbXBsYXRlLmF0dGFjaChhcmdzLnZpZXcpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuICAgIHNldHVwVmlld1JlZih2aWV3UmVmLCBkYXRhLCBpbmRleCwgbmF0aXZlRWxlbWVudCkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdmlld1JlZi5jb250ZXh0O1xuICAgICAgICB0aGlzLnNldHVwSXRlbVZpZXcubmV4dCh7IHZpZXc6IHZpZXdSZWYsIG5hdGl2ZUVsZW1lbnQsIGRhdGE6IGRhdGEsIGluZGV4OiBpbmRleCwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICB9XG4gICAgbmdEb0NoZWNrKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlmZmVyKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5saXN0Vmlld0xvZygnbmdEb0NoZWNrKCkgLSBleGVjdXRlIGRpZmZlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHRoaXMuX2RpZmZlci5kaWZmKHRoaXMuX2l0ZW1zKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmxpc3RWaWV3TG9nKCduZ0RvQ2hlY2soKSAtIHJlZnJlc2gnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZWRJdGVtc1ZpZXcucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMC5FbGVtZW50UmVmIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogTGlzdFZpZXdDb21wb25lbnQsIHNlbGVjdG9yOiBcIkxpc3RWaWV3XCIsIGlucHV0czogeyBpdGVtczogXCJpdGVtc1wiIH0sIG91dHB1dHM6IHsgc2V0dXBJdGVtVmlldzogXCJzZXR1cEl0ZW1WaWV3XCIgfSwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJpdGVtTG9hZGluZ1wiOiBcIm9uSXRlbUxvYWRpbmcoJGV2ZW50KVwiIH0gfSwgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Vmlld0NvbXBvbmVudCkgfV0sIHF1ZXJpZXM6IFt7IHByb3BlcnR5TmFtZTogXCJpdGVtVGVtcGxhdGVRdWVyeVwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBUZW1wbGF0ZVJlZiwgZGVzY2VuZGFudHM6IHRydWUsIHJlYWQ6IFRlbXBsYXRlUmVmIH1dLCB2aWV3UXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxvYWRlclwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBbXCJsb2FkZXJcIl0sIGRlc2NlbmRhbnRzOiB0cnVlLCByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV0sIG5nSW1wb3J0OiBpMCwgdGVtcGxhdGU6IGA8RGV0YWNoZWRDb250YWluZXI+XG4gICAgPG5nLWNvbnRhaW5lciAjbG9hZGVyPjwvbmctY29udGFpbmVyPlxuICA8L0RldGFjaGVkQ29udGFpbmVyPmAsIGlzSW5saW5lOiB0cnVlLCBjaGFuZ2VEZXRlY3Rpb246IGkwLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCB9KTsgfVxufVxuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbT2JqZWN0XSksXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjpyZXR1cm50eXBlXCIsIHZvaWQgMClcbl0sIExpc3RWaWV3Q29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkl0ZW1Mb2FkaW5nXCIsIG51bGwpO1xuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IExpc3RWaWV3Q29tcG9uZW50LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogQ29tcG9uZW50LFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdMaXN0VmlldycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPERldGFjaGVkQ29udGFpbmVyPlxuICAgIDxuZy1jb250YWluZXIgI2xvYWRlcj48L25nLWNvbnRhaW5lcj5cbiAgPC9EZXRhY2hlZENvbnRhaW5lcj5gLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBURU1QTEFURURfSVRFTVNfQ09NUE9ORU5ULCB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBMaXN0Vmlld0NvbXBvbmVudCkgfV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dLCBwcm9wRGVjb3JhdG9yczogeyBsb2FkZXI6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogVmlld0NoaWxkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbG9hZGVyJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmLCBzdGF0aWM6IHRydWUgfV1cbiAgICAgICAgICAgIH1dLCBzZXR1cEl0ZW1WaWV3OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IE91dHB1dFxuICAgICAgICAgICAgfV0sIGl0ZW1UZW1wbGF0ZVF1ZXJ5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbnRlbnRDaGlsZCxcbiAgICAgICAgICAgICAgICBhcmdzOiBbVGVtcGxhdGVSZWYsIHsgcmVhZDogVGVtcGxhdGVSZWYsIHN0YXRpYzogZmFsc2UgfV1cbiAgICAgICAgICAgIH1dLCBpdGVtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG9uSXRlbUxvYWRpbmc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSG9zdExpc3RlbmVyLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnaXRlbUxvYWRpbmcnLCBbJyRldmVudCddXVxuICAgICAgICAgICAgfV0gfSB9KTtcbmZ1bmN0aW9uIGdldEl0ZW1WaWV3Um9vdCh2aWV3UmVmLCByb290TG9jYXRvciA9IGV4dHJhY3RTaW5nbGVWaWV3UmVjdXJzaXZlKSB7XG4gICAgY29uc3Qgcm9vdFZpZXcgPSByb290TG9jYXRvcih2aWV3UmVmLnJvb3ROb2RlcywgMCk7XG4gICAgcmV0dXJuIHJvb3RWaWV3O1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbmNsYXNzIFRlbXBsYXRlS2V5RGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZVJlZiwgY29tcCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlUmVmID0gdGVtcGxhdGVSZWY7XG4gICAgICAgIHRoaXMuY29tcCA9IGNvbXA7XG4gICAgfVxuICAgIHNldCBuc1RlbXBsYXRlS2V5KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXAgJiYgdGhpcy50ZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgdGhpcy5jb21wLnJlZ2lzdGVyVGVtcGxhdGUodmFsdWUsIHRoaXMudGVtcGxhdGVSZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBuc1RlbXBsYXRlS2V5cyh2YWx1ZXMpIHtcbiAgICAgICAgLy8gc2luZ2xlIHRlbXBsYXRlIHdpdGggbXVsdGlwbGUga2V5c1xuICAgICAgICBpZiAodGhpcy5jb21wICYmIHRoaXMudGVtcGxhdGVSZWYgJiYgdmFsdWVzKSB7XG4gICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCgodmFsdWUpID0+IHRoaXMuY29tcC5yZWdpc3RlclRlbXBsYXRlKHZhbHVlLCB0aGlzLnRlbXBsYXRlUmVmKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIGhvc3Q6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW25zVGVtcGxhdGVLZXldLFtuc1RlbXBsYXRlS2V5c11cIiwgaW5wdXRzOiB7IG5zVGVtcGxhdGVLZXk6IFwibnNUZW1wbGF0ZUtleVwiLCBuc1RlbXBsYXRlS2V5czogXCJuc1RlbXBsYXRlS2V5c1wiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRlbXBsYXRlS2V5RGlyZWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdbbnNUZW1wbGF0ZUtleV0sW25zVGVtcGxhdGVLZXlzXScgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5UZW1wbGF0ZVJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSG9zdFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbVEVNUExBVEVEX0lURU1TX0NPTVBPTkVOVF1cbiAgICAgICAgICAgICAgICB9XSB9XSwgcHJvcERlY29yYXRvcnM6IHsgbnNUZW1wbGF0ZUtleTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIG5zVGVtcGxhdGVLZXlzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG5jbGFzcyBGcmFtZVNlcnZpY2Uge1xuICAgIC8vIFRPRE86IEFkZCBhbnkgbWV0aG9kcyB0aGF0IGFyZSBuZWVkZWQgdG8gaGFuZGxlIGZyYW1lL3BhZ2UgbmF2aWdhdGlvblxuICAgIGdldEZyYW1lKCkge1xuICAgICAgICByZXR1cm4gRnJhbWUudG9wbW9zdCgpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEZyYW1lU2VydmljZSwgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogRnJhbWVTZXJ2aWNlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSB9KTtcblxuY2xhc3MgT3V0bGV0IHtcbiAgICBnZXQgaXNQYWdlTmF2aWdhdGlvbkJhY2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDA7XG4gICAgfVxuICAgIHNldCBpc1BhZ2VOYXZpZ2F0aW9uQmFjayhpc0JhY2spIHtcbiAgICAgICAgaWYgKCFpc0JhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uYXZpZ2F0aW5nQmFja091dGxldHMuZGVsZXRlKHRoaXMuX25hdmlnYXRpbmdCYWNrT3V0bGV0cy52YWx1ZXMoKS5uZXh0KCkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5vdXRsZXRLZXlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG91dGxldEtleSwgcGF0aCwgcGF0aEJ5T3V0bGV0cywgbW9kYWxOYXZpZ2F0aW9uRGVwdGgpIHtcbiAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzID0gbmV3IFNldCgpO1xuICAgICAgICAvLyBNb3JlIHRoYW4gb25lIGZyYW1lIGF2YWlsYWJsZSB3aGVuIHVzaW5nIE5TRW1wdHlPdXRsZXRDb21wb25lbnQgY29tcG9uZW50XG4gICAgICAgIC8vIGluIG1vZHVsZSB0aGF0IGxhenkgbG9hZHMgY2hpbGRyZW4gKGxvYWRDaGlsZHJlbikgYW5kIGhhcyBvdXRsZXQgbmFtZS5cbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcbiAgICAgICAgLy8gVXNlZCBpbiByZXVzZS1zdHJhdGVneSBieSBpdHMgY2hpbGRyZW4gdG8gZGV0ZXJtaW5lIGlmIHRoZXkgc2hvdWxkIGJlIGRldGFjaGVkIHRvby5cbiAgICAgICAgdGhpcy5zaG91bGREZXRhY2ggPSB0cnVlO1xuICAgICAgICB0aGlzLm91dGxldEtleXMgPSBbb3V0bGV0S2V5XTtcbiAgICAgICAgdGhpcy5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNob3dpbmdNb2RhbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGFsTmF2aWdhdGlvbkRlcHRoID0gbW9kYWxOYXZpZ2F0aW9uRGVwdGggfHwgMDtcbiAgICAgICAgdGhpcy5wYXRoQnlPdXRsZXRzID0gcGF0aEJ5T3V0bGV0cztcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB9XG4gICAgc2V0T3V0bGV0S2V5TmF2aWdhdGluZ0JhY2soa2V5KSB7XG4gICAgICAgIGNvbnN0IG5lc3RzID0ga2V5LnNwbGl0KCcvJyk7XG4gICAgICAgIHRoaXMub3V0bGV0S2V5c1xuICAgICAgICAgICAgLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpXG4gICAgICAgICAgICAuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbmF2aWdhdGluZ0JhY2tPdXRsZXRzLmFkZChrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnRhaW5zRnJhbWUoZnJhbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJhbWVzLmluZGV4T2YoZnJhbWUpID4gLTE7XG4gICAgfVxuICAgIHBlZWtTdGF0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlc1t0aGlzLnN0YXRlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29udGFpbnNUb3BTdGF0ZShzdGF0ZVVybCkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSB0aGlzLnBlZWtTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gbGFzdFN0YXRlICYmIGxhc3RTdGF0ZS5zZWdtZW50R3JvdXAudG9TdHJpbmcoKSA9PT0gc3RhdGVVcmw7XG4gICAgfVxuICAgIC8vIFNlYXJjaCBmb3IgZnJhbWUgdGhhdCBjYW4gZ28gYmFjay5cbiAgICAvLyBOZXN0ZWQgJ3ByaW1hcnknIG91dGxldHMgY291bGQgcmVzdWx0IGluIE91dGxldCB3aXRoIG11bHRpcGxlIG5hdmlnYXRhYmxlIGZyYW1lcy5cbiAgICBnZXRGcmFtZVRvQmFjaygpIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdGhpcy5mcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghdGhpcy5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5mcmFtZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRGcmFtZSA9IHRoaXMuZnJhbWVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZyYW1lLmNhbkdvQmFjaygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lID0gY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbn1cbmNvbnN0IGRlZmF1bHROYXZPcHRpb25zID0ge1xuICAgIGNsZWFySGlzdG9yeTogZmFsc2UsXG4gICAgYW5pbWF0ZWQ6IHRydWUsXG59O1xuXG5jbGFzcyBOU0xvY2F0aW9uU3RyYXRlZ3kgZXh0ZW5kcyBMb2NhdGlvblN0cmF0ZWd5IHtcbiAgICBjb25zdHJ1Y3RvcihmcmFtZVNlcnZpY2UsIHN0YXJ0UGF0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmZyYW1lU2VydmljZSA9IGZyYW1lU2VydmljZTtcbiAgICAgICAgdGhpcy5zdGFydFBhdGggPSBzdGFydFBhdGg7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoID0gMDtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5jb25zdHJ1Y3RvcigpJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgIH1cbiAgICBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudFVybFRyZWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UGF0aCB8fCAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLmN1cnJlbnRPdXRsZXQgJiYgdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWUgPSB0aGlzLmN1cnJlbnRVcmxUcmVlO1xuICAgICAgICBjb25zdCBjaGFuZ2VkT3V0bGV0ID0gdGhpcy5nZXRTZWdtZW50R3JvdXBCeU91dGxldCh0aGlzLmN1cnJlbnRPdXRsZXQpO1xuICAgICAgICAvLyBIYW5kbGUgY2FzZSB3aGVyZSB0aGUgdXNlciBkZWNsYXJlcyBhIGNvbXBvbmVudCBhdCBwYXRoIFwiL1wiLlxuICAgICAgICAvLyBUaGUgdXJsIHNlcmlhbGl6ZXIgZG9lc24ndCBwYXJzZSB0aGlzIHVybCBhcyBoYXZpbmcgYSBwcmltYXJ5IG91dGxldC5cbiAgICAgICAgaWYgKHN0YXRlLmlzUm9vdFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgdHJlZS5yb290ID0gc3RhdGUuc2VnbWVudEdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmxTZXJpYWxpemVyID0gbmV3IERlZmF1bHRVcmxTZXJpYWxpemVyKCk7XG4gICAgICAgIHRyZWUucXVlcnlQYXJhbXMgPSBzdGF0ZS5xdWVyeVBhcmFtcztcbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodHJlZSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kucGF0aCgpOiAnICsgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICBwcmVwYXJlRXh0ZXJuYWxVcmwoaW50ZXJuYWwpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wcmVwYXJlRXh0ZXJuYWxVcmwoKSBpbnRlcm5hbDogJyArIGludGVybmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50ZXJuYWw7XG4gICAgfVxuICAgIHB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5wdXNoU3RhdGUgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zKTtcbiAgICB9XG4gICAgcHVzaFN0YXRlSW50ZXJuYWwoc3RhdGUsIHRpdGxlLCB1cmwsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdXJsU2VyaWFsaXplciA9IG5ldyBEZWZhdWx0VXJsU2VyaWFsaXplcigpO1xuICAgICAgICB0aGlzLmN1cnJlbnRVcmxUcmVlID0gdXJsU2VyaWFsaXplci5wYXJzZSh1cmwpO1xuICAgICAgICBjb25zdCB1cmxUcmVlUm9vdCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgdGhlIHVzZXIgZGVjbGFyZXMgYSBjb21wb25lbnQgYXQgcGF0aCBcIi9cIi5cbiAgICAgICAgLy8gVGhlIHVybCBzZXJpYWxpemVyIGRvZXNuJ3QgcGFyc2UgdGhpcyB1cmwgYXMgaGF2aW5nIGEgcHJpbWFyeSBvdXRsZXQuXG4gICAgICAgIGlmICghT2JqZWN0LmtleXModXJsVHJlZVJvb3QuY2hpbGRyZW4pLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudEdyb3VwID0gdGhpcy5jdXJyZW50VXJsVHJlZSAmJiB0aGlzLmN1cnJlbnRVcmxUcmVlLnJvb3Q7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleSh0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKHNlZ21lbnRHcm91cCksICdwcmltYXJ5Jyk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQgJiYgdGhpcy51cGRhdGVTdGF0ZXMob3V0bGV0LCBzZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0OyAvLyBJZiBzdGF0ZXMgdXBkYXRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgICAgICBjb25zdCByb290T3V0bGV0ID0gdGhpcy5jcmVhdGVPdXRsZXQoJ3ByaW1hcnknLCBudWxsLCBzZWdtZW50R3JvdXAsIG51bGwsIG51bGwsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHJvb3RPdXRsZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCkuaXNSb290U2VnbWVudEdyb3VwID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudFRyZWUgPSB1cmxUcmVlUm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRUcmVlKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjdXJyZW50VHJlZS5jaGlsZHJlbikuZm9yRWFjaCgob3V0bGV0TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZWdtZW50R3JvdXAgPSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2VnbWVudEdyb3VwLm91dGxldCA9IG91dGxldE5hbWU7XG4gICAgICAgICAgICAgICAgY3VycmVudFNlZ21lbnRHcm91cC5yb290ID0gdXJsVHJlZVJvb3Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0bGV0UGF0aCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoY3VycmVudFRyZWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMuZ2V0T3V0bGV0S2V5KG91dGxldFBhdGgsIG91dGxldE5hbWUpO1xuICAgICAgICAgICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXQob3V0bGV0S2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRPdXRsZXROYW1lID0gY3VycmVudFRyZWUub3V0bGV0IHx8ICcnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudE91dGxldFBhdGggPSB0aGlzLmdldFNlZ21lbnRHcm91cEZ1bGxQYXRoKGN1cnJlbnRUcmVlLnBhcmVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5nZXRPdXRsZXRLZXkocGFyZW50T3V0bGV0UGF0aCwgcGFyZW50T3V0bGV0TmFtZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbnNMYXN0U3RhdGUgPSBvdXRsZXQgJiYgb3V0bGV0LmNvbnRhaW5zVG9wU3RhdGUoY3VycmVudFNlZ21lbnRHcm91cC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIG91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgY3VycmVudFNlZ21lbnRHcm91cCwgcGFyZW50T3V0bGV0LCB0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCwgdGhpcy5jdXJyZW50VXJsVHJlZS5xdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IG91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwICYmIG91dGxldC5zaG93aW5nTW9kYWwgJiYgIWNvbnRhaW5zTGFzdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRpb24gaW5zaWRlIG1vZGFsIHZpZXcuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBzZXJ0TW9kYWxPdXRsZXQob3V0bGV0LCBjdXJyZW50U2VnbWVudEdyb3VwLCB0aGlzLmN1cnJlbnRVcmxUcmVlLnF1ZXJ5UGFyYW1zLCByZXBsYWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dGxldC5wYXJlbnQgPSBwYXJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAsIHRoaXMuY3VycmVudFVybFRyZWUucXVlcnlQYXJhbXMsIHJlcGxhY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7IC8vIElmIHN0YXRlcyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChjdXJyZW50U2VnbWVudEdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0ICYmIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXM7XG4gICAgICAgIGlmIChzdGF0ZXMgJiYgc3RhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LnJlcGxhY2VTdGF0ZSBjaGFuZ2luZyBleGlzdGluZyBzdGF0ZTogJyArIGAke3N0YXRlfSwgdGl0bGU6ICR7dGl0bGV9LCB1cmw6ICR7dXJsfSwgcXVlcnlQYXJhbXM6ICR7cXVlcnlQYXJhbXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZUludGVybmFsKHN0YXRlLCB0aXRsZSwgdXJsLCBxdWVyeVBhcmFtcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5yZXBsYWNlU3RhdGUgcHVzaGluZyBuZXcgc3RhdGU6ICcgKyBgJHtzdGF0ZX0sIHRpdGxlOiAke3RpdGxlfSwgdXJsOiAke3VybH0sIHF1ZXJ5UGFyYW1zOiAke3F1ZXJ5UGFyYW1zfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGVJbnRlcm5hbChzdGF0ZSwgdGl0bGUsIHVybCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcndhcmQoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTlNMb2NhdGlvblN0cmF0ZWd5LmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKG91dGxldCwgZnJhbWUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gb3V0bGV0IHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gdGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcztcbiAgICAgICAgICAgIC8vIFdlIGFyZSBuYXZpZ2F0aW5nIHRvIHRoZSBwcmV2aW91cyBwYWdlXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgc3RhY2sgdW50aWwgd2UgZ2V0IHRvIGEgcGFnZSBuYXZpZ2F0aW9uIHN0YXRlXG4gICAgICAgICAgICBsZXQgc3RhdGUgPSBzdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAxO1xuICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHN0YXRlLmZyYW1lICYmIHN0YXRlLmZyYW1lICE9PSBmcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoIXN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5hdmlnYXRpbmcgYmFjay4gU3RhdGVzIHBvcHBlZDogJHtjb3VudH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbFBvcFN0YXRlKHN0YXRlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLmlzUGFnZU5hdmlnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdhcyBhIHBhZ2UgbmF2aWdhdGlvbiAtIHNvIG5hdmlnYXRlIHRocm91Z2ggZnJhbWUuXG4gICAgICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmJhY2soKSB3aGlsZSBub3QgbmF2aWdhdGluZyBiYWNrIGJ1dCB0b3AnICsgJyBzdGF0ZSBpcyBwYWdlIC0gd2lsbCBjYWxsIGZyYW1lLmdvQmFjaygpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvcG1vc3RGcmFtZSA9IHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZSh0b3Btb3N0RnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVUb0JhY2sgPSB0aGlzLmN1cnJlbnRPdXRsZXQuZ2V0RnJhbWVUb0JhY2soKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVUb0JhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUb0JhY2suZ29CYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTmVzdGVkIG5hdmlnYXRpb24gLSBqdXN0IHBvcCB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuYmFjaygpIHdoaWxlIG5vdCBuYXZpZ2F0aW5nIGJhY2sgYnV0IHRvcCcgKyAnIHN0YXRlIGlzIG5vdCBwYWdlIC0ganVzdCBwb3AnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUodGhpcy5jdXJyZW50T3V0bGV0LnN0YXRlcy5wb3AoKSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuR29CYWNrKG91dGxldCkge1xuICAgICAgICBvdXRsZXQgPSBvdXRsZXQgfHwgdGhpcy5jdXJyZW50T3V0bGV0O1xuICAgICAgICByZXR1cm4gb3V0bGV0LnN0YXRlcy5sZW5ndGggPiAxO1xuICAgIH1cbiAgICBvblBvcFN0YXRlKGZuKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kub25Qb3BTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9wU3RhdGVDYWxsYmFja3MucHVzaChmbik7XG4gICAgfVxuICAgIGdldEJhc2VIcmVmKCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmdldEJhc2VIcmVmKCknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNhbGxQb3BTdGF0ZShzdGF0ZSwgcG9wID0gdHJ1ZSwgb3V0bGV0KSB7XG4gICAgICAgIG91dGxldCA9IG91dGxldCB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIGNvbnN0IHVybFNlcmlhbGl6ZXIgPSBuZXcgRGVmYXVsdFVybFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZE91dGxldCA9IHRoaXMuZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KTtcbiAgICAgICAgaWYgKHN0YXRlICYmIGNoYW5nZWRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgc3RhdGUuc2VnbWVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VkT3V0bGV0KSB7XG4gICAgICAgICAgICAvLyB3aGVuIGNsb3NpbmcgbW9kYWwgdmlldyB0aGVyZSBhcmUgc2NlbmFyaW9zIChlLmcuIHJvb3Qgdmlld0NvbnRhaW5lclJlZikgd2hlbiB3ZSBuZWVkXG4gICAgICAgICAgICAvLyB0byBjbGVhbiB1cCB0aGUgbmFtZWQgcGFnZSByb3V0ZXIgb3V0bGV0IHRvIG1ha2Ugc3VyZSB3ZSB3aWxsIG9wZW4gdGhlIG1vZGFsIHByb3Blcmx5IGFnYWluIGlmIG5lZWRlZC5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VnbWVudEdyb3VwKHRoaXMuY3VycmVudFVybFRyZWUucm9vdCwgY2hhbmdlZE91dGxldCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXJsID0gdXJsU2VyaWFsaXplci5zZXJpYWxpemUodGhpcy5jdXJyZW50VXJsVHJlZSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IHsgc3RhdGUsIHR5cGU6ICdwb3BzdGF0ZScgfTtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiB0aGlzLnBvcFN0YXRlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBmbihjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIHRoaXMub3V0bGV0cy5mb3JFYWNoKChvdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFN0YXRlcyA9IG91dGxldC5zdGF0ZXM7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRMb2cgPSBvdXRsZXRTdGF0ZXNcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgLm1hcCgodiwgaSkgPT4gYCR7b3V0bGV0Lm91dGxldEtleXN9LiR7aX0uWyR7di5pc1BhZ2VOYXZpZ2F0aW9uID8gJ1BBR0UnIDogJ0lOVEVSTkFMJ31dLlske291dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA/ICdNT0RBTCcgOiAnQkFTRSd9XSBcIiR7di5zZWdtZW50R3JvdXAudG9TdHJpbmcoKX1cImApXG4gICAgICAgICAgICAgICAgLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQob3V0bGV0TG9nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignXFxuJyk7XG4gICAgfVxuICAgIC8vIE1ldGhvZHMgZm9yIHN5bmNpbmcgd2l0aCBwYWdlIG5hdmlnYXRpb24gaW4gUGFnZVJvdXRlck91dGxldFxuICAgIF9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbihmcmFtZSwgb3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSk7XG4gICAgICAgIGlmICghb3V0bGV0IHx8IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2suJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05TTG9jYXRpb25TdHJhdGVneS5zdGFydEdvQmFjaygpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LnNldE91dGxldEtleU5hdmlnYXRpbmdCYWNrKG91dGxldEtleSk7XG4gICAgICAgIC8vIG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA9IHRydWU7XG4gICAgICAgIC8vIHdlIGZpbmQgYWxsIHRoZSBjaGlsZHJlbiBhbmQgYWxzbyBzZXQgdGhlaXIgaXNQYWdlTmF2aWdhdGlvbkJhY2tcbiAgICAgICAgdGhpcy5vdXRsZXRzXG4gICAgICAgICAgICAuZmlsdGVyKChvKSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gby5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gb3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goKG8pID0+IChvLmlzUGFnZU5hdmlnYXRpb25CYWNrID0gdHJ1ZSkpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIF9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24oZnJhbWUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKTtcbiAgICAgICAgaWYgKCFvdXRsZXQgfHwgIW91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIGVuZEdvQmFjayB3aGlsZSBub3QgZ29pbmcgYmFjay4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5LmZpbmlzaEJhY2tQYWdlTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrID0gZmFsc2U7XG4gICAgfVxuICAgIF9iZWdpbk1vZGFsTmF2aWdhdGlvbihmcmFtZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbk1vZGFsTmF2aWdhdGlvbigpJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50T3V0bGV0ID0gdGhpcy5nZXRPdXRsZXRCeUZyYW1lKGZyYW1lKSB8fCB0aGlzLmN1cnJlbnRPdXRsZXQ7XG4gICAgICAgIC8vIEl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgZnJhbWUsIGJ1dCBub3QgY29ycmVzcG9uZGluZyBPdXRsZXQsIGlmXG4gICAgICAgIC8vIHNob3dpbmcgbW9kYWwgZGlhbG9nIG9uIGFwcC5jb21wb25lbnQudHMgbmdPbkluaXQoKSBlLmcuIEluIHRoYXQgY2FzZVxuICAgICAgICAvLyB0aGUgbW9kYWwgaXMgdHJlYXRlZCBhcyBub25lIG1vZGFsIG5hdmlnYXRpb24uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRPdXRsZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zaG93aW5nTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvc2VNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuY2xvc2VNb2RhbE5hdmlnYXRpb24oKScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU2hvd2luZ01vZGFsID0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAwO1xuICAgICAgICBpZiAoaXNTaG93aW5nTW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX21vZGFsTmF2aWdhdGlvbkRlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3VycmVudE91dGxldCBzaG91bGQgYmUgdGhlIG9uZSB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB0b3Btb3N0IGZyYW1lXG4gICAgICAgIGNvbnN0IHRvcG1vc3RPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUodGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKSk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIGlzU2hvd2luZ01vZGFsKSB8fCB0b3Btb3N0T3V0bGV0O1xuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQuc2hvd2luZ01vZGFsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGxQb3BTdGF0ZSh0aGlzLmN1cnJlbnRPdXRsZXQucGVla1N0YXRlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgYW5ndWxhciBkb2VzIGEgc2V0VGltZW91dCBvbiBvblBvcFN0YXRlLCBzbyBpZiB3ZSBkb24ndCBkbyB0aGlzIHdlIG1pZ2h0IGVuZCB1cCB3aXRoIGluY29uc2lzdGVudCBzdGF0ZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYmVnaW5QYWdlTmF2aWdhdGlvbihmcmFtZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnTlNMb2NhdGlvblN0cmF0ZWd5Ll9iZWdpblBhZ2VOYXZpZ2F0aW9uKCknKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSB0aGlzLmdldE91dGxldEJ5RnJhbWUoZnJhbWUpIHx8IHRoaXMuY3VycmVudE91dGxldDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gdGhpcy5jdXJyZW50T3V0bGV0LnBlZWtTdGF0ZSgpO1xuICAgICAgICBpZiAobGFzdFN0YXRlKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuaXNQYWdlTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2T3B0aW9ucyA9IG9wdGlvbnMgfHwgZGVmYXVsdE5hdk9wdGlvbnM7XG4gICAgICAgIGlmIChuYXZPcHRpb25zLmNsZWFySGlzdG9yeSkge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24gY2xlYXJpbmcgc3RhdGVzIGhpc3RvcnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldC5zdGF0ZXMgPSBbbGFzdFN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmF2T3B0aW9ucztcbiAgICB9XG4gICAgX2dldE91dGxldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHM7XG4gICAgfVxuICAgIHVwZGF0ZU91dGxldEZyYW1lKG91dGxldCwgZnJhbWUsIGlzRW1wdHlPdXRsZXRGcmFtZSkge1xuICAgICAgICBjb25zdCBsYXN0U3RhdGUgPSBvdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgIGlmIChsYXN0U3RhdGUgJiYgIWxhc3RTdGF0ZS5mcmFtZSAmJiAhaXNFbXB0eU91dGxldEZyYW1lKSB7XG4gICAgICAgICAgICBsYXN0U3RhdGUuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgb3V0bGV0LmZyYW1lcy5wdXNoKGZyYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBvdXRsZXQ7XG4gICAgfVxuICAgIGNsZWFyT3V0bGV0KGZyYW1lKSB7XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IHRoaXMub3V0bGV0cy5maWx0ZXIoKGN1cnJlbnRPdXRsZXQpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0VxdWFsVG9DdXJyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudE91dGxldCkge1xuICAgICAgICAgICAgICAgIGlzRXF1YWxUb0N1cnJlbnQgPSBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHRoaXMuY3VycmVudE91dGxldC5wYXRoQnlPdXRsZXRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVtb3ZlIG91dGxldCBmcm9tIHRoZSB1cmwgdHJlZS5cbiAgICAgICAgICAgIGlmIChjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpICYmICFpc0VxdWFsVG9DdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsUG9wU3RhdGUobnVsbCwgdHJ1ZSwgY3VycmVudE91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTa2lwIGZyYW1lcyBmaWx0ZXJpbmcgc2luY2UgY3VycmVudE91dGxldCBpcyA8cm91dGVyLW91dGxldD4gd2hlbiBubyBmcmFtZXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPdXRsZXQuZnJhbWVzLmxlbmd0aCAmJiAhY3VycmVudE91dGxldC5pc05TRW1wdHlPdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50T3V0bGV0LmZyYW1lcyA9IGN1cnJlbnRPdXRsZXQuZnJhbWVzLmZpbHRlcigoY3VycmVudEZyYW1lKSA9PiBjdXJyZW50RnJhbWUgIT09IGZyYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE91dGxldC5mcmFtZXMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICFjdXJyZW50T3V0bGV0LmNvbnRhaW5zRnJhbWUoZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwRnVsbFBhdGgoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBmdWxsUGF0aCA9ICcnO1xuICAgICAgICB3aGlsZSAoc2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBzZWdtZW50R3JvdXAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChmdWxsUGF0aCkge1xuICAgICAgICAgICAgICAgIGZ1bGxQYXRoID0gKHVybCA/IHVybCArICcvJyA6ICcnKSArIGZ1bGxQYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBzZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aDtcbiAgICB9XG4gICAgZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGUpIHtcbiAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9IGN1cnJlbnRSb3V0ZS5vdXRsZXQ7XG4gICAgICAgIGxldCBmdWxsUGF0aDtcbiAgICAgICAgY3VycmVudFJvdXRlID0gY3VycmVudFJvdXRlLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY29uc3QgdXJscyA9IGN1cnJlbnRSb3V0ZS51cmwudmFsdWUgfHwgY3VycmVudFJvdXRlLnVybDtcbiAgICAgICAgICAgIGxldCB1cmwgPSB1cmxzO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXJscykpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuam9pbignLycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVsbFBhdGggPSBmdWxsUGF0aCA/ICh1cmwgPyB1cmwgKyAnLycgOiB1cmwpICsgZnVsbFBhdGggOiB1cmw7XG4gICAgICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsUGF0aCA/IGZ1bGxQYXRoICsgJy0nICsgb3V0bGV0TmFtZSA6IG91dGxldE5hbWU7XG4gICAgfVxuICAgIGdldFBhdGhCeU91dGxldHModXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGlmICghdXJsU2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgbGV0IGxhc3RQYXRoID0gdXJsU2VnbWVudEdyb3VwLm91dGxldCB8fCAncHJpbWFyeSc7XG4gICAgICAgIGxldCBwYXJlbnQgPSB1cmxTZWdtZW50R3JvdXAucGFyZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50ICYmIHVybFNlZ21lbnRHcm91cC5yb290ICE9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50Lm91dGxldCAhPT0gbGFzdFBhdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFBhdGggPT09ICdwcmltYXJ5Jykge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UGF0aCA9IHBhcmVudC5vdXRsZXQ7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhUb091dGxldCA9IGxhc3RQYXRoICsgJy0nICsgKHBhdGhUb091dGxldCB8fCB1cmxTZWdtZW50R3JvdXAub3V0bGV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoVG9PdXRsZXQgfHwgbGFzdFBhdGg7XG4gICAgfVxuICAgIGZpbmRPdXRsZXQob3V0bGV0S2V5LCBhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KSB7XG4gICAgICAgIGxldCBvdXRsZXQgPSB0aGlzLm91dGxldHMuZmluZCgoY3VycmVudE91dGxldCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxNb2RhbERlcHRoICYmIGN1cnJlbnRPdXRsZXQub3V0bGV0S2V5cy5pbmRleE9mKG91dGxldEtleSkgPiAtMTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vIE91dGxldCB3aXRoIHRoZSBnaXZlbiBvdXRsZXRLZXkgY291bGQgaGFwcGVuIHdoZW4gdXNpbmcgbmVzdGVkIHVubmFtZWQgcC1yLW9cbiAgICAgICAgLy8gcHJpbWFyeSAtPiBwcmltYXJ5IC0+IHByeW1hcnlcbiAgICAgICAgaWYgKCFvdXRsZXQgJiYgYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICAgICAgY29uc3QgcGF0aEJ5T3V0bGV0cyA9IHRoaXMuZ2V0UGF0aEJ5T3V0bGV0cyhhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMub3V0bGV0cy5maW5kKChjdXJyZW50T3V0bGV0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXF1YWxNb2RhbERlcHRoID0gY3VycmVudE91dGxldC5tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFsTW9kYWxEZXB0aCAmJiBjdXJyZW50T3V0bGV0LnBhdGhCeU91dGxldHMgPT09IHBhdGhCeU91dGxldHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBmaW5kT3V0bGV0QnlNb2RhbChtb2RhbE5hdmlnYXRpb24sIGlzU2hvd2luZ01vZGFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91dGxldHMuZmluZCgob3V0bGV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcXVhbE1vZGFsRGVwdGggPSBvdXRsZXQubW9kYWxOYXZpZ2F0aW9uRGVwdGggPT09IG1vZGFsTmF2aWdhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBpc1Nob3dpbmdNb2RhbCA/IGVxdWFsTW9kYWxEZXB0aCAmJiBvdXRsZXQuc2hvd2luZ01vZGFsIDogZXF1YWxNb2RhbERlcHRoO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0T3V0bGV0QnlGcmFtZShmcmFtZSkge1xuICAgICAgICBsZXQgb3V0bGV0O1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5vdXRsZXRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE91dGxldCA9IHRoaXMub3V0bGV0c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoY3VycmVudE91dGxldC5jb250YWluc0ZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgICAgIG91dGxldCA9IGN1cnJlbnRPdXRsZXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGVzKG91dGxldCwgY3VycmVudFNlZ21lbnRHcm91cCwgcXVlcnlQYXJhbXMsIHJlcGxhY2UgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBpc05ld1BhZ2UgPSBvdXRsZXQuc3RhdGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgY29uc3QgbGFzdFN0YXRlID0gb3V0bGV0LnN0YXRlc1tvdXRsZXQuc3RhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBlcXVhbFN0YXRlVXJscyA9IG91dGxldC5jb250YWluc1RvcFN0YXRlKGN1cnJlbnRTZWdtZW50R3JvdXAudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IGN1cnJlbnRTZWdtZW50R3JvdXAsXG4gICAgICAgICAgICBpc1Jvb3RTZWdtZW50R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgaXNQYWdlTmF2aWdhdGlvbjogaXNOZXdQYWdlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHsgLi4ucXVlcnlQYXJhbXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFsYXN0U3RhdGUgfHwgIWVxdWFsU3RhdGVVcmxzKSB7XG4gICAgICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgICAgIG91dGxldC5zdGF0ZXMucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXQuc3RhdGVzLnB1c2gobG9jYXRpb25TdGF0ZSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgbGFzdCBzdGF0ZSBzZWdtZW50R3JvdXAgb2YgcGFyZW50IE91dGxldC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhb3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFyZW50c1N0YXRlcyhvdXRsZXQsIGN1cnJlbnRTZWdtZW50R3JvdXAucGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAmJiBlcXVhbFN0YXRlVXJscykge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBxdWVyeSBwYXJhbXMgZm9yIGxhc3Qgc3RhdGVcbiAgICAgICAgICAgICAgICBsYXN0U3RhdGUucXVlcnlQYXJhbXMgPSB7IC4uLnF1ZXJ5UGFyYW1zIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1cGRhdGVQYXJlbnRzU3RhdGVzKG91dGxldCwgbmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgIGxldCBwYXJlbnRPdXRsZXQgPSBvdXRsZXQucGFyZW50O1xuICAgICAgICAvLyBVcGRhdGUgcGFyZW50cyBsYXN0U3RhdGUgc2VnbWVudEdyb3Vwc1xuICAgICAgICB3aGlsZSAocGFyZW50T3V0bGV0ICYmIG5ld1NlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCk7XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZWdtZW50R3JvdXAgPSBuZXdTZWdtZW50R3JvdXA7XG4gICAgICAgICAgICAgICAgbmV3U2VnbWVudEdyb3VwID0gbmV3U2VnbWVudEdyb3VwLnBhcmVudDtcbiAgICAgICAgICAgICAgICBwYXJlbnRPdXRsZXQgPSBwYXJlbnRPdXRsZXQucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBjcmVhdGVPdXRsZXQob3V0bGV0S2V5LCBwYXRoLCBzZWdtZW50R3JvdXAsIHBhcmVudCwgbW9kYWxOYXZpZ2F0aW9uLCBxdWVyeVBhcmFtcyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHBhdGhCeU91dGxldHMgPSB0aGlzLmdldFBhdGhCeU91dGxldHMoc2VnbWVudEdyb3VwKTtcbiAgICAgICAgY29uc3QgbmV3T3V0bGV0ID0gbmV3IE91dGxldChvdXRsZXRLZXksIHBhdGgsIHBhdGhCeU91dGxldHMsIG1vZGFsTmF2aWdhdGlvbik7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uU3RhdGUgPSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXA6IHNlZ21lbnRHcm91cCxcbiAgICAgICAgICAgIGlzUm9vdFNlZ21lbnRHcm91cDogZmFsc2UsXG4gICAgICAgICAgICBpc1BhZ2VOYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHsgLi4ucXVlcnlQYXJhbXMgfSxcbiAgICAgICAgfTtcbiAgICAgICAgbmV3T3V0bGV0LnN0YXRlcyA9IFtsb2NhdGlvblN0YXRlXTtcbiAgICAgICAgbmV3T3V0bGV0LnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vdXRsZXRzLnB1c2gobmV3T3V0bGV0KTtcbiAgICAgICAgLy8gVXBkYXRlIGxhc3Qgc3RhdGUgc2VnbWVudEdyb3VwIG9mIHBhcmVudCBPdXRsZXQuXG4gICAgICAgIGlmICh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCA9PT0gMCAmJiAhbmV3T3V0bGV0LnNob3dpbmdNb2RhbCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXJlbnRzU3RhdGVzKG5ld091dGxldCwgc2VnbWVudEdyb3VwLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld091dGxldDtcbiAgICB9XG4gICAgZ2V0U2VnbWVudEdyb3VwQnlPdXRsZXQob3V0bGV0KSB7XG4gICAgICAgIGNvbnN0IHBhdGhMaXN0ID0gb3V0bGV0LnBhdGhCeU91dGxldHMuc3BsaXQoJy0nKTtcbiAgICAgICAgbGV0IHNlZ21lbnRHcm91cCA9IHRoaXMuY3VycmVudFVybFRyZWUucm9vdDtcbiAgICAgICAgbGV0IHBhdGhUb091dGxldDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHBhdGhMaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSBwYXRoTGlzdFtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbkNvdW50ID0gT2JqZWN0LmtleXMoc2VnbWVudEdyb3VwLmNoaWxkcmVuKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5Db3VudCAmJiBzZWdtZW50R3JvdXAuY2hpbGRyZW5bY3VycmVudFBhdGhdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcGF0aFRvT3V0bGV0ID0gcGF0aFRvT3V0bGV0ID8gcGF0aFRvT3V0bGV0ICsgJy8nICsgdXJsIDogdXJsO1xuICAgICAgICAgICAgICAgIHNlZ21lbnRHcm91cCA9IHNlZ21lbnRHcm91cC5jaGlsZHJlbltjdXJyZW50UGF0aF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBjaGlsZCBvdXRsZXQgZm91bmQgd2l0aCB0aGUgZ2l2ZW4gbmFtZSAtIGZvcmdldCBhYm91dCBhbGwgcHJldmlvdXNseSBmb3VuZCBvdXRsZXRzLlxuICAgICAgICAgICAgICAgIC8vIGV4YW1wbGU6IHNlYWNoaW5nIGZvciAncHJpbWFyeS1zZWNvbmQtcHJpbWFyeScgc2hvdWxkbid0IHJldHVybiAncHJpbWFyeS1zZWNvbmQnXG4gICAgICAgICAgICAgICAgLy8gaWYgbm8gJ3ByaW1hcnknIGNoaWxkIGF2YWlsYWJsZSBvbiAnc2Vjb25kJy5cbiAgICAgICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBhdGhzIHNob3VsZCBhbHNvIG1hdGNoIHNpbmNlIHRoZXJlIGNvdWxkIGJlIGFub3RoZXIgT3V0bGV0XG4gICAgICAgIC8vIHdpdGggdGhlIHNhbWUgcGF0aEJ5T3V0bGV0cyBidXQgZGlmZmVyZW50IHVybCBwYXRoLlxuICAgICAgICBpZiAoc2VnbWVudEdyb3VwICYmIG91dGxldC5wYXRoICYmIHBhdGhUb091dGxldCAmJiBvdXRsZXQucGF0aCAhPT0gcGF0aFRvT3V0bGV0KSB7XG4gICAgICAgICAgICBzZWdtZW50R3JvdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWdtZW50R3JvdXA7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNhbCBhbmQgcmVwbGFjZW1lbnQgb2Ygc2VnbWVudEdyb3VwLlxuICAgIHVwZGF0ZVNlZ21lbnRHcm91cChyb290Tm9kZSwgb2xkU2VnbWVudEdyb3VwLCBuZXdTZWdtZW50R3JvdXApIHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGN1cnJlbnRUcmVlID0gcm9vdE5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50VHJlZSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY3VycmVudFRyZWUuY2hpbGRyZW4pLmZvckVhY2goKG91dGxldE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRyZWUuY2hpbGRyZW5bb3V0bGV0TmFtZV0gPT09IG9sZFNlZ21lbnRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2VnbWVudEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXSA9IG5ld1NlZ21lbnRHcm91cDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJyZW50VHJlZS5jaGlsZHJlbltvdXRsZXROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGN1cnJlbnRUcmVlLmNoaWxkcmVuW291dGxldE5hbWVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudFRyZWUgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwc2VydE1vZGFsT3V0bGV0KHBhcmVudE91dGxldCwgc2VnbWVudGVkR3JvdXAsIHF1ZXJ5UGFyYW1zLCByZXBsYWNlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuZmluZE91dGxldEJ5TW9kYWwodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgpO1xuICAgICAgICAvLyBXZSB3YW50IHRvIHRyZWF0IGV2ZXJ5IHAtci1vIGFzIGEgc3RhbmRhbG9uZSBPdXRsZXQuXG4gICAgICAgIGlmICghY3VycmVudE1vZGFsT3V0bGV0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGggPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHBhcmVudCBvZiB0aGUgY3VycmVudCBPdXRsZXQgc2hvdWxkIGJlIHRoZSBwcmV2aW91cyBvcGVuZWQgbW9kYWwgKGlmIGFueSkuXG4gICAgICAgICAgICAgICAgcGFyZW50T3V0bGV0ID0gdGhpcy5maW5kT3V0bGV0QnlNb2RhbCh0aGlzLl9tb2RhbE5hdmlnYXRpb25EZXB0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8gY3VycmVudE1vZGFsT3V0bGV0IGF2YWlsYWJsZSB3aGVuIG9wZW5pbmcgJ3ByaW1hcnknIHAtci1vLlxuICAgICAgICAgICAgY29uc3Qgb3V0bGV0TmFtZSA9ICdwcmltYXJ5JztcbiAgICAgICAgICAgIGNvbnN0IG91dGxldFBhdGggPSBwYXJlbnRPdXRsZXQucGVla1N0YXRlKCkuc2VnbWVudEdyb3VwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmdldE91dGxldEtleShvdXRsZXRQYXRoLCBvdXRsZXROYW1lKTtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICAgICAgICAgIGN1cnJlbnRNb2RhbE91dGxldCA9IHRoaXMuY3JlYXRlT3V0bGV0KG91dGxldEtleSwgb3V0bGV0UGF0aCwgc2VnbWVudGVkR3JvdXAsIHBhcmVudE91dGxldCwgdGhpcy5fbW9kYWxOYXZpZ2F0aW9uRGVwdGgsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnVwZGF0ZVN0YXRlcyhjdXJyZW50TW9kYWxPdXRsZXQsIHNlZ21lbnRlZEdyb3VwLCBxdWVyeVBhcmFtcywgcmVwbGFjZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE91dGxldCA9IGN1cnJlbnRNb2RhbE91dGxldDsgLy8gSWYgc3RhdGVzIHVwZGF0ZWRcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRPdXRsZXRLZXkocGF0aCwgb3V0bGV0TmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aCA/IHBhdGggKyAnLScgKyBvdXRsZXROYW1lIDogb3V0bGV0TmFtZTtcbiAgICB9XG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdOU0xvY2F0aW9uU3RyYXRlZ3kubmdPbkRlc3Ryb3koKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0bGV0cyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdXRsZXQgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSwgZGVwczogW3sgdG9rZW46IEZyYW1lU2VydmljZSB9LCB7IHRva2VuOiBTVEFSVF9QQVRILCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0xvY2F0aW9uU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogRnJhbWVTZXJ2aWNlIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtTVEFSVF9QQVRIXVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9XSB9XSB9KTtcblxuY2xhc3MgTW9kYWxEaWFsb2dQYXJhbXMge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQgPSB7fSwgY2xvc2VDYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmNsb3NlQ2FsbGJhY2sgPSBjbG9zZUNhbGxiYWNrO1xuICAgIH1cbn1cbmNsYXNzIE1vZGFsRGlhbG9nU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb24sIHpvbmUsIGFwcFJlZiwgZGVmYXVsdEluamVjdG9yKSB7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgICAgdGhpcy5hcHBSZWYgPSBhcHBSZWY7XG4gICAgICAgIHRoaXMuZGVmYXVsdEluamVjdG9yID0gZGVmYXVsdEluamVjdG9yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbnl0aW1lIGEgbW9kYWwgaXMgY2xvc2VkIHdpdGggdGhlIE1vZGFsRGlhbG9nUGFyYW1zIHdoaWNoIHdlcmUgaW5qZWN0ZWQgaW50byB0aGUgY29tcG9uZW50IHdoaWNoIGlzIG5vdyBjbG9zaW5nLlxuICAgICAqIEZvciBleGFtcGxlLCBjYW4gYmUgdXNlZCB0byB3aXJlIHVwIFJ4IGZsb3dzIG91dHNpZGUgdGhlIHNjb3BlIG9mIGp1c3QgdGhlIGNvbXBvbmVudCBiZWluZyBoYW5kbGVkLlxuICAgICAqL1xuICAgIGdldCBjbG9zZWQkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Nsb3NlZCQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlZCQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jbG9zZWQkO1xuICAgIH1cbiAgICBzaG93TW9kYWwodHlwZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8vIGlmICghb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdObyB2aWV3Q29udGFpbmVyUmVmOiAnICsgJ01ha2Ugc3VyZSB5b3UgcGFzcyB2aWV3Q29udGFpbmVyUmVmIGluIE1vZGFsRGlhbG9nT3B0aW9ucy4nKTtcbiAgICAgICAgLy8gfVxuICAgICAgICBsZXQgcGFyZW50VmlldyA9IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZj8uZWxlbWVudC5uYXRpdmVFbGVtZW50IHx8IEFwcGxpY2F0aW9uLmdldFJvb3RWaWV3KCk7XG4gICAgICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgocGFyZW50VmlldyBpbnN0YW5jZW9mIEFwcEhvc3RWaWV3IHx8IHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0QXN5bmNWaWV3KSAmJiBwYXJlbnRWaWV3Lm5nQXBwUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcubmdBcHBSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIF9uZ0RpYWxvZ1Jvb3QgaXMgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBwcmV2aW91c2x5IGRldGFjaGVkIHByb3h5LlxuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSAndmlld0NvbnRyb2xsZXInIChpT1MpIG9yICdfZGlhbG9nRnJhZ21lbnQnIChBbmRyb2lkKSBhdmFpbGFibGUgZm9yXG4gICAgICAgIC8vIHByZXNlbnRpbmcgZnV0dXJlIG1vZGFsIHZpZXdzLlxuICAgICAgICBpZiAocGFyZW50Vmlldy5fbmdEaWFsb2dSb290KSB7XG4gICAgICAgICAgICBwYXJlbnRWaWV3ID0gcGFyZW50Vmlldy5fbmdEaWFsb2dSb290O1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc29sdmUgZnJvbSBwYXJ0aWN1bGFyIG1vZHVsZSAobW9kdWxlUmVmKVxuICAgICAgICAvLyBvciBmcm9tIHNhbWUgbW9kdWxlIGFzIHBhcmVudFZpZXcgKHZpZXdDb250YWluZXJSZWYpXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEluamVjdG9yID0gb3B0aW9ucy5tb2R1bGVSZWY/LmluamVjdG9yIHx8IG9wdGlvbnMudmlld0NvbnRhaW5lclJlZj8uaW5qZWN0b3IgfHwgdGhpcy5kZWZhdWx0SW5qZWN0b3I7XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gY29tcG9uZW50SW5qZWN0b3IuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgICAgIGxldCBmcmFtZSA9IHBhcmVudFZpZXc7XG4gICAgICAgIGlmICghKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBGcmFtZSkpIHtcbiAgICAgICAgICAgIGZyYW1lID0gKHBhcmVudFZpZXcucGFnZSAmJiBwYXJlbnRWaWV3LnBhZ2UuZnJhbWUpIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvY2F0aW9uPy5fYmVnaW5Nb2RhbE5hdmlnYXRpb24oZnJhbWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd0RpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmVmOiBvcHRpb25zLnZpZXdDb250YWluZXJSZWYsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmplY3RvcjogY29tcG9uZW50SW5qZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBvcHRpb25zLmNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lQ2FsbGJhY2s6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRWaWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfc2hvd0RpYWxvZyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBjb21wb25lbnRWaWV3UmVmO1xuICAgICAgICBsZXQgZGV0YWNoZWRMb2FkZXJSZWY7XG4gICAgICAgIGxldCBwb3J0YWxPdXRsZXQ7XG4gICAgICAgIGNvbnN0IGNsb3NlQ2FsbGJhY2sgPSBvbmNlKGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICBvcHRpb25zLmRvbmVDYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZpZXdSZWYpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMub3BlbmVkTW9kYWxQYXJhbXMucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Nsb3NlZCQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VkJC5uZXh0KHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYXRpb24uX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaGVkTG9hZGVyUmVmIHx8IHBvcnRhbE91dGxldCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRhbE91dGxldD8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWY/Lmluc3RhbmNlLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmPy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vZGFsUGFyYW1zID0gbmV3IE1vZGFsRGlhbG9nUGFyYW1zKG9wdGlvbnMuY29udGV4dCwgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgIGlmICghdGhpcy5vcGVuZWRNb2RhbFBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5vcGVuZWRNb2RhbFBhcmFtcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3BlbmVkTW9kYWxQYXJhbXMucHVzaChtb2RhbFBhcmFtcyk7XG4gICAgICAgIGNvbnN0IGNoaWxkSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoe1xuICAgICAgICAgICAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBNb2RhbERpYWxvZ1BhcmFtcywgdXNlVmFsdWU6IG1vZGFsUGFyYW1zIH1dLFxuICAgICAgICAgICAgcGFyZW50OiBvcHRpb25zLmluamVjdG9yLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy56b25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBldmVyIHN1cHBvcnQgdGVtcGxhdGVzIGluIHRoZSBvbGQgQVBJXG4gICAgICAgICAgICAvLyBpZihvcHRpb25zLnRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgZGV0YWNoZWRGYWN0b3J5ID0gb3B0aW9ucy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgICAgICAvLyAgICAgaWYob3B0aW9ucy5hdHRhY2hUb0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgLy8gICAgICAgICBkZXRhY2hlZExvYWRlclJlZiA9IG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYuY3JlYXRlQ29tcG9uZW50KGRldGFjaGVkRmFjdG9yeSwgMCwgY2hpbGRJbmplY3RvciwgbnVsbCk7XG4gICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBkZXRhY2hlZEZhY3RvcnkuY3JlYXRlKGNoaWxkSW5qZWN0b3IpOyAvLyB0aGlzIERldGFjaGVkTG9hZGVyIGlzICoqY29tcGxldGVseSoqIGRldGFjaGVkXG4gICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpOyAvLyB3ZSBhdHRhY2ggaXQgdG8gdGhlIGFwcGxpY2F0aW9uUmVmLCBzbyBpdCBiZWNvbWVzIGEgXCJyb290XCIgdmlldyBpbiBhbmd1bGFyJ3MgaGllcmFyY2h5XG4gICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTsgLy8gZm9yY2UgYSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICAgICAgICAvLyAgICAgZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UuY3JlYXRlVGVtcGxhdGVQb3J0YWwob3B0aW9ucy50ZW1wbGF0ZVJlZik7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgICAgICBjb25zdCBwb3J0YWwgPSBuZXcgQ29tcG9uZW50UG9ydGFsKG9wdGlvbnMudHlwZSk7XG4gICAgICAgICAgICBwb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHRhcmdldFZpZXcsIG9wdGlvbnMucmVzb2x2ZXIsIHRoaXMuYXBwUmVmLCBjaGlsZEluamVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmID0gbmV3IE5nVmlld1JlZihjb21wb25lbnRSZWYpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ29udGV4dEFzQ29tcG9uZW50UHJvcHMgJiYgb3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucy5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFZpZXdSZWYucmVmLmluc3RhbmNlW2tleV0gPSBvcHRpb25zLmNvbnRleHRba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Vmlld1JlZiAhPT0gY29tcG9uZW50UmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudC5fbmdEaWFsb2dSb290ID0gY29tcG9uZW50Vmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgICAgICBjb21wb25lbnRWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgICAgICBvcHRpb25zLnBhcmVudFZpZXcuc2hvd01vZGFsKGNvbXBvbmVudFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywgeyAuLi5vcHRpb25zLCBjbG9zZUNhbGxiYWNrIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogaTAuTmdab25lIH0sIHsgdG9rZW46IGkwLkFwcGxpY2F0aW9uUmVmIH0sIHsgdG9rZW46IGkwLkluamVjdG9yIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBNb2RhbERpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTAuQXBwbGljYXRpb25SZWYgfSwgeyB0eXBlOiBpMC5JbmplY3RvciB9XSB9KTtcblxuLyoqXG4gKiBUaGlzIGRlY29yYXRvciBkZWxheXMgYSBwb3RlbnRpYWxseSB1bnNhZmUgZXZlbnQgKGxpa2UgbG9hZGVkL3VubG9hZGVkIHRoYXQgd2lsbCBzb21ldGltZXMgYmUgY2FsbGVkIGJlZm9yZSBuZ09uSW5pdCkgdG8gYmUgaGFuZGxlZCBzYWZlbHkgYnkgZW5zdXJpbmcgaXQncyBjYWxsZWQgYWZ0ZXIgYSBsaWZlY3ljbGUgaG9vay5cbiAqIEBwYXJhbSBydW5BZnRlckV2ZW50IGV2ZW50L2Z1bmN0aW9uIGNhbGwgdG8gd2FpdCB1bnRpbCB0aGUgZXZlbnQgY2FuIGJlIGZpcmVkICgnbmdPbkluaXQnLCAnbmdBZnRlclZpZXdJbml0JywgLi4uKVxuICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgZXZlbnQgaGFuZGxpbmcgcGFyYW1zXG4gKiBAcmV0dXJucyBkZWNvcmF0b3JcbiAqL1xuZnVuY3Rpb24gTmF0aXZlU2NyaXB0TmdTYWZlRXZlbnQocnVuQWZ0ZXJFdmVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZXZlbnQgPSBydW5BZnRlckV2ZW50O1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICBmdW5jdGlvbiBnZXROZ1NhZmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0WydfX25nX3NhZmVfXyddO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0WydfX25nX3NhZmVfXyddKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0TmdTYWZlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50czoge30sXG4gICAgICAgICAgICAgICAgcnVuQmVmb3JlOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXJnZXRbJ19fbmdfc2FmZV9fJ10gPSBkZWZhdWx0TmdTYWZlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSkge1xuICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XSA9IHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBidWZmZXI6IFtdLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRGVsZWdhdGU6IHRhcmdldFtldmVudF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFyZ2V0W2V2ZW50XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0ub3JpZ2luYWxEZWxlZ2F0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuYWx3YXlzUnVuQmVmb3JlKSB7XG4gICAgICAgICAgICBnZXROZ1NhZmUoKS5ydW5CZWZvcmVbcHJvcGVydHlLZXldID0gdGFyZ2V0W29wdGlvbnMuYWx3YXlzUnVuQmVmb3JlXTtcbiAgICAgICAgICAgIHRhcmdldFtgJHtvcHRpb25zLmFsd2F5c1J1bkJlZm9yZX1gXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgZ2V0TmdTYWZlKClcbiAgICAgICAgICAgICAgICAgICAgLmV2ZW50c1tldmVudF0uYnVmZmVyLmZpbHRlcigodikgPT4gdi5rZXkgPT09IHByb3BlcnR5S2V5KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgoZm4pID0+IGZuLmZuKCkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyID0gZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXIuZmlsdGVyKCh2KSA9PiB2LmtleSAhPT0gcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV07XG4gICAgICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE5nU2FmZSgpLnJ1bkJlZm9yZVtwcm9wZXJ0eUtleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRGbiA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgaWYgKGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzaG91bGRQdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm9ubHlGaXJzdCB8fCBvcHRpb25zLm9ubHlMYXN0KSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TmdTYWZlKCkuZXZlbnRzW2V2ZW50XS5idWZmZXJbaV0ua2V5ID09PSBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25seUxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXROZ1NhZmUoKS5ldmVudHNbZXZlbnRdLmJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHVzaCkge1xuICAgICAgICAgICAgICAgIGdldE5nU2FmZSgpLmV2ZW50c1tldmVudF0uYnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHByb3BlcnR5S2V5LFxuICAgICAgICAgICAgICAgICAgICBmbjogb2xkRm4uYmluZCh0aGlzLCBhcmdzKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG5jbGFzcyBUYWJWaWV3RGlyZWN0aXZlIHtcbiAgICBnZXQgc2VsZWN0ZWRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgfVxuICAgIHNldCBzZWxlY3RlZEluZGV4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMudmlld0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnRhYlZpZXcgPSBlbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy52aWV3SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJlbmRlcmVyTG9nKCd0aGlzLl9zZWxlY3RlZEluZGV4OiAnICsgdGhpcy5fc2VsZWN0ZWRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0JsYW5rKHRoaXMuX3NlbGVjdGVkSW5kZXgpKSB7XG4gICAgICAgICAgICB0aGlzLnRhYlZpZXcuc2VsZWN0ZWRJbmRleCA9IHRoaXMuX3NlbGVjdGVkSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIlRhYlZpZXdcIiwgaW5wdXRzOiB7IHNlbGVjdGVkSW5kZXg6IFwic2VsZWN0ZWRJbmRleFwiIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRhYlZpZXdEaXJlY3RpdmUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1RhYlZpZXcnLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV0sIHByb3BEZWNvcmF0b3JzOiB7IHNlbGVjdGVkSW5kZXg6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5jbGFzcyBUYWJWaWV3SXRlbURpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Iob3duZXIsIHRlbXBsYXRlUmVmLCB2aWV3Q29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVJlZiA9IHRlbXBsYXRlUmVmO1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXIgPSB2aWV3Q29udGFpbmVyO1xuICAgIH1cbiAgICBzZXQgY29uZmlnKGNvbmZpZykge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZyB8fCB0aGlzLl9jb25maWcuaWNvblNvdXJjZSAhPT0gY29uZmlnLmljb25Tb3VyY2UgfHwgdGhpcy5fY29uZmlnLnRpdGxlICE9PSBjb25maWcudGl0bGUgfHwgdGhpcy5fY29uZmlnLnRleHRUcmFuc2Zvcm0gIT09IGNvbmZpZy50ZXh0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgICAgICB0aGlzLmFwcGx5Q29uZmlnKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1pbnB1dC1yZW5hbWVcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZyB8fCB7fTtcbiAgICB9XG4gICAgc2V0IHRpdGxlKHRpdGxlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZywgeyB0aXRsZSB9KTtcbiAgICB9XG4gICAgZ2V0IHRpdGxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudGl0bGU7XG4gICAgfVxuICAgIHNldCBpY29uU291cmNlKGljb25Tb3VyY2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnLCB7IGljb25Tb3VyY2UgfSk7XG4gICAgfVxuICAgIGdldCBpY29uU291cmNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaWNvblNvdXJjZTtcbiAgICB9XG4gICAgc2V0IHRleHRUcmFuc2Zvcm0odGV4dFRyYW5zZm9ybSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsIHsgdGV4dFRyYW5zZm9ybSB9KTtcbiAgICB9XG4gICAgZ2V0IHRleHRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50ZXh0VHJhbnNmb3JtO1xuICAgIH1cbiAgICBlbnN1cmVJdGVtKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtID0gbmV3IFRhYlZpZXdJdGVtKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXBwbHlDb25maWcoKSB7XG4gICAgICAgIHRoaXMuZW5zdXJlSXRlbSgpO1xuICAgICAgICBpZiAodGhpcy5jb25maWcudGl0bGUpIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50aXRsZSA9IHRoaXMuY29uZmlnLnRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5pY29uU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0uaWNvblNvdXJjZSA9IHRoaXMuY29uZmlnLmljb25Tb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIFRhYlZpZXdJdGVtIHRleHRUcmFuc2Zvcm0gaGFzIGEgZGVmYXVsdCB2YWx1ZSBmb3IgQW5kcm9pZCB0aGF0IGtpY2sgaW5cbiAgICAgICAgLy8gb25seSBpZiBubyB2YWx1ZSAoZXZlbiBhIG51bGwgdmFsdWUpIGlzIHNldC5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnRleHRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbS50ZXh0VHJhbnNmb3JtID0gdGhpcy5jb25maWcudGV4dFRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5hcHBseUNvbmZpZygpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUVtYmVkZGVkVmlldyh0aGlzLnRlbXBsYXRlUmVmKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCB0ZXh0IG5vZGVzIGFuZCBjb21tZW50c1xuICAgICAgICBjb25zdCByZWFsVmlld3MgPSB2aWV3UmVmLnJvb3ROb2Rlcy5maWx0ZXIoKG5vZGUpID0+ICEobm9kZSBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUpKTtcbiAgICAgICAgaWYgKHJlYWxWaWV3cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW0udmlldyA9IHJlYWxWaWV3c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0l0ZW1zID0gKHRoaXMub3duZXIudGFiVmlldy5pdGVtcyB8fCBbXSkuY29uY2F0KFt0aGlzLml0ZW1dKTtcbiAgICAgICAgICAgIHRoaXMub3duZXIudGFiVmlldy5pdGVtcyA9IG5ld0l0ZW1zO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogVGFiVmlld0l0ZW1EaXJlY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdG9rZW46IGkwLlRlbXBsYXRlUmVmIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgc2VsZWN0b3I6IFwiW3RhYkl0ZW1dXCIsIGlucHV0czogeyBjb25maWc6IFtcInRhYkl0ZW1cIiwgXCJjb25maWdcIl0sIHRpdGxlOiBcInRpdGxlXCIsIGljb25Tb3VyY2U6IFwiaWNvblNvdXJjZVwiLCB0ZXh0VHJhbnNmb3JtOiBcInRleHRUcmFuc2Zvcm1cIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUYWJWaWV3SXRlbURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW3RhYkl0ZW1dJywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBUYWJWaWV3RGlyZWN0aXZlIH0sIHsgdHlwZTogaTAuVGVtcGxhdGVSZWYgfSwgeyB0eXBlOiBpMC5WaWV3Q29udGFpbmVyUmVmIH1dLCBwcm9wRGVjb3JhdG9yczogeyBjb25maWc6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXQsXG4gICAgICAgICAgICAgICAgYXJnczogWyd0YWJJdGVtJ11cbiAgICAgICAgICAgIH1dLCB0aXRsZTogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIGljb25Tb3VyY2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCB0ZXh0VHJhbnNmb3JtOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSB9IH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAYW5ndWxhci1lc2xpbnQvY29tcG9uZW50LXNlbGVjdG9yICovXG5jbGFzcyBBbmRyb2lkRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmFuZHJvaWQ7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcImFuZHJvaWRcIiwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBpMSQxLk5nSWYsIHNlbGVjdG9yOiBcIltuZ0lmXVwiLCBpbnB1dHM6IFtcIm5nSWZcIiwgXCJuZ0lmVGhlblwiLCBcIm5nSWZFbHNlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnYW5kcm9pZCcsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RFVklDRV1cbiAgICAgICAgICAgICAgICB9XSB9XSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvciAqL1xuY2xhc3MgSU9TRmlsdGVyQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5zaG93ID0gZGV2aWNlLm9zID09PSBwbGF0Zm9ybU5hbWVzLmlvcztcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBERVZJQ0UgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuQ29tcG9uZW50IH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWNtcCA9IGkwLsm1ybVuZ0RlY2xhcmVDb21wb25lbnQoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIHNlbGVjdG9yOiBcImlvc1wiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJT1NGaWx0ZXJDb21wb25lbnQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ2lvcycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RFVklDRV1cbiAgICAgICAgICAgICAgICB9XSB9XSB9KTtcblxuLyogZXNsaW50LWRpc2FibGUgQGFuZ3VsYXItZXNsaW50L2NvbXBvbmVudC1zZWxlY3RvciAqL1xuY2xhc3MgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICAvLyBOb3RlOiBjYXN0aW5nIGFueSB0byBiZSBiYWNrd2FyZHMgY29tcGF0aWJsZVxuICAgICAgICAvLyBBdmFpbGFibGUgaW4gOC42KyBvbmx5XG4gICAgICAgIHRoaXMuc2hvdyA9IGRldmljZS5vcyA9PT0gcGxhdGZvcm1OYW1lcy52aXNpb25vcztcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgZGVwczogW3sgdG9rZW46IERFVklDRSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5Db21wb25lbnQgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1Y21wID0gaTAuybXJtW5nRGVjbGFyZUNvbXBvbmVudCh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBzZWxlY3RvcjogXCJ2aXNpb25vc1wiLCBuZ0ltcG9ydDogaTAsIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQgKm5nSWY9XCJzaG93XCI+PC9uZy1jb250ZW50PmAsIGlzSW5saW5lOiB0cnVlLCBkZXBlbmRlbmNpZXM6IFt7IGtpbmQ6IFwiZGlyZWN0aXZlXCIsIHR5cGU6IGkxJDEuTmdJZiwgc2VsZWN0b3I6IFwiW25nSWZdXCIsIGlucHV0czogW1wibmdJZlwiLCBcIm5nSWZUaGVuXCIsIFwibmdJZkVsc2VcIl0gfV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBWaXNpb25PU0ZpbHRlckNvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAndmlzaW9ub3MnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50ICpuZ0lmPVwic2hvd1wiPjwvbmctY29udGVudD5gLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtERVZJQ0VdXG4gICAgICAgICAgICAgICAgfV0gfV0gfSk7XG5cbmNvbnN0IENES19DT01QT05FTlRTID0gW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdO1xucmVnaXN0ZXJOYXRpdmVTY3JpcHRWaWV3Q29tcG9uZW50cygpO1xuY2xhc3MgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIGRlY2xhcmF0aW9uczogW0FjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGVdLCBleHBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIEFjdGlvbkJhckNvbXBvbmVudCwgQWN0aW9uQmFyU2NvcGUsIEFjdGlvbkl0ZW1EaXJlY3RpdmUsIE5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUsIExpc3RWaWV3Q29tcG9uZW50LCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGFiVmlld0RpcmVjdGl2ZSwgVGFiVmlld0l0ZW1EaXJlY3RpdmUsIEFuZHJvaWRGaWx0ZXJDb21wb25lbnQsIElPU0ZpbHRlckNvbXBvbmVudCwgVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRdIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWluaiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3Rvcih7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBwcm92aWRlcnM6IFtNb2RhbERpYWxvZ1NlcnZpY2VdLCBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIENvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0NvbW1vbk1vZHVsZSwgRnJhbWVQYWdlTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbLi4uQ0RLX0NPTVBPTkVOVFNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQ29tbW9uTW9kdWxlLCBGcmFtZVBhZ2VNb2R1bGUsIC4uLkNES19DT01QT05FTlRTXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbTW9kYWxEaWFsb2dTZXJ2aWNlXSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUZhbGxiYWNrUm9vdFZpZXcocGFyZW50Um9vdFZpZXcpIHtcbiAgICBpZiAocGFyZW50Um9vdFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudFJvb3RWaWV3O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcignd2hpdGUnKSk7XG59XG5mdW5jdGlvbiBlcnJvckhhbmRsZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvckhhbmRsZXIoKTtcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKSB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9YCArICdfJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KTtcbn1cbmNvbnN0IE5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUyA9IFtcbiAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlRmFsbGJhY2tSb290VmlldywgZGVwczogW1tuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCksIEFQUF9ST09UX1ZJRVddXSB9LFxuICAgIHsgcHJvdmlkZTogybVJTkpFQ1RPUl9TQ09QRSwgdXNlVmFsdWU6ICdyb290JyB9LFxuICAgIHsgcHJvdmlkZTogRXJyb3JIYW5kbGVyLCB1c2VGYWN0b3J5OiBlcnJvckhhbmRsZXIsIGRlcHM6IFtdIH0sXG4gICAgeyBwcm92aWRlOiBWaWV3VXRpbCwgdXNlQ2xhc3M6IFZpZXdVdGlsLCBkZXBzOiBbTkFNRVNQQUNFX0ZJTFRFUlMsIFtuZXcgT3B0aW9uYWwoKSwgRU5BQkxFX1JFVVNBQkVfVklFV1NdXSB9LFxuICAgIHtcbiAgICAgICAgcHJvdmlkZTogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICB1c2VDbGFzczogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICBkZXBzOiBbQVBQX1JPT1RfVklFVywgTkFNRVNQQUNFX0ZJTFRFUlMsIE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCwgW25ldyBPcHRpb25hbCgpLCBFTkFCTEVfUkVVU0FCRV9WSUVXU11dLFxuICAgIH0sXG4gICAgeyBwcm92aWRlOiBOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUmFuZG9tSWQgfSxcbiAgICB7IHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsIHVzZUV4aXN0aW5nOiBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkgfSxcbiAgICB7IHByb3ZpZGU6IE5BTUVTUEFDRV9GSUxURVJTLCB1c2VDbGFzczogUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIsIGRlcHM6IFtERVZJQ0VdLCBtdWx0aTogdHJ1ZSB9LFxuICAgIHsgcHJvdmlkZTogREVWSUNFLCB1c2VWYWx1ZTogRGV2aWNlIH0sXG4gICAgeyBwcm92aWRlOiBYaHJGYWN0b3J5LCB1c2VDbGFzczogTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSwgZGVwczogW10gfSxcbl07XG5jb25zdCBOQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSUyA9IFt7IHByb3ZpZGU6IFZpZXdwb3J0U2Nyb2xsZXIsIHVzZUNsYXNzOiDJtU51bGxWaWV3cG9ydFNjcm9sbGVyIH1dO1xuY2xhc3MgTmF0aXZlU2NyaXB0TW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgaWYgKHBhcmVudE1vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOYXRpdmVTY3JpcHRNb2R1bGUgaGFzIGFscmVhZHkgYmVlbiBsb2FkZWQuIElmIHlvdSBuZWVkIGFjY2VzcyB0byBjb21tb24gZGlyZWN0aXZlcyBzdWNoIGFzIE5nSWYgYW5kIE5nRm9yIGZyb20gYSBsYXp5IGxvYWRlZCBtb2R1bGUsIGltcG9ydCBDb21tb25Nb2R1bGUgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZVNjcmlwdE1vZHVsZSwgb3B0aW9uYWw6IHRydWUsIHNraXBTZWxmOiB0cnVlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0TW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSwgZXhwb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBEZXRhY2hlZExvYWRlciwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgcHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9TVEFUSUNfUFJPVklERVJTLCAuLi5OQVRJVkVTQ1JJUFRfTU9EVUxFX1BST1ZJREVSU10sIGltcG9ydHM6IFtBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBBcHBsaWNhdGlvbk1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdE1vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0FwcGxpY2F0aW9uTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtEZXRhY2hlZExvYWRlcl0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogWy4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlNdLFxuICAgICAgICAgICAgICAgICAgICBleHBvcnRzOiBbQXBwbGljYXRpb25Nb2R1bGUsIERldGFjaGVkTG9hZGVyLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVdLFxuICAgICAgICAgICAgICAgICAgICBzY2hlbWFzOiBbTk9fRVJST1JTX1NDSEVNQV0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBOYXRpdmVTY3JpcHRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogSW5qZWN0LFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbTmF0aXZlU2NyaXB0TW9kdWxlXVxuICAgICAgICAgICAgICAgIH1dIH1dIH0pO1xuXG5mdW5jdGlvbiBkaXNhYmxlUm9vdFZpZXdIYW5kaW5nKHZpZXcpIHtcbiAgICB2aWV3Ll9fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmcgPSB0cnVlO1xufVxuY29uc3QgcHJlQW5ndWxhckRpc3Bvc2FsJCA9IG5ldyBTdWJqZWN0KCk7XG5jb25zdCBwb3N0QW5ndWxhckJvb3RzdHJhcCQgPSBuZXcgU3ViamVjdCgpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkJlZm9yZUxpdmVzeW5jID0gcHJlQW5ndWxhckRpc3Bvc2FsJC5waXBlKGZpbHRlcigodikgPT4gdi5tb2R1bGVUeXBlID09PSAnbWFpbicgJiYgdi5yZWFzb24gPT09ICdob3RyZWxvYWQnKSwgbWFwKCh2KSA9PiB2LnJlZmVyZW5jZSkpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5jb25zdCBvbkFmdGVyTGl2ZXN5bmMgPSBwb3N0QW5ndWxhckJvb3RzdHJhcCQucGlwZShmaWx0ZXIoKHYpID0+IHYubW9kdWxlVHlwZSA9PT0gJ21haW4nKSwgbWFwKCh2KSA9PiAoeyBtb2R1bGVSZWY6IHYucmVmZXJlbmNlIH0pKSk7XG5pZiAoaW1wb3J0Lm1ldGFbJ3dlYnBhY2tIb3QnXSkge1xuICAgIGltcG9ydC5tZXRhWyd3ZWJwYWNrSG90J10uZGVjbGluZSgpO1xuICAgIGdsb2JhbC5fX29uTGl2ZVN5bmNDb3JlID0gKCkgPT4ge1xuICAgICAgICBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpPy5fb25Dc3NTdGF0ZUNoYW5nZSgpO1xuICAgICAgICAvLyBhbGwgb3RoZXIgY2hhbmdlcyBhcmUgYXBwbGllZCBieSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGVtaXRNb2R1bGVCb290c3RyYXBFdmVudChyZWYsIG5hbWUsIHJlYXNvbikge1xuICAgIHBvc3RBbmd1bGFyQm9vdHN0cmFwJC5uZXh0KHtcbiAgICAgICAgbW9kdWxlVHlwZTogbmFtZSxcbiAgICAgICAgcmVmZXJlbmNlOiByZWYsXG4gICAgICAgIHJlYXNvbixcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lSZWYocmVmLCBuYW1lLCByZWFzb24pIHtcbiAgICBpZiAocmVmKSB7XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBQbGF0Zm9ybVJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiAncGxhdGZvcm0nLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogbmFtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBOZ01vZHVsZVJlZiB8fCByZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZikge1xuICAgICAgICAgICAgcHJlQW5ndWxhckRpc3Bvc2FsJC5uZXh0KHtcbiAgICAgICAgICAgICAgICBtb2R1bGVUeXBlOiBuYW1lLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZTogcmVmLFxuICAgICAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcnVuWm9uZVN5bmNUYXNrKGZuKSB7XG4gICAgaWYgKHR5cGVvZiBab25lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ3N5bmNfZnVuY3Rpb24nLCBmbiwge30sICgpID0+IHtcbiAgICAgICAgLy9cbiAgICB9LCAoKSA9PiB7XG4gICAgICAgIC8vXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgICAgIHRhc2suaW52b2tlKCk7XG4gICAgICAgIC8vIHpvbmUucnVuVGFzayh0YXNrKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2codGFzay5zdGF0ZSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgfVxufVxuZnVuY3Rpb24gWm9uZUNhbldvcmtTeW5jKCkge1xuICAgIGxldCBjYW5SdW5TeW5jID0gZmFsc2U7XG4gICAgcnVuWm9uZVN5bmNUYXNrKCgpID0+IHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiAoY2FuUnVuU3luYyA9IHRydWUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogVGVzdHMgaWYgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSBjYW4gYmUgdXNlZCB0byBkcmFpbiBtaWNyb3Rhc2tzXG4gKiBCZWNhdXNlIG9mIFpvbmUuanMsIGV2ZW4gdGhvdWdoIHRoZSBuYXRpdmUgcXVldWUgbWlnaHQgYmUgZHJhaW5lZCwgem9uZSBtaWNyb3Rhc2tzIG1pZ2h0IG5vdCBiZVxuICogQHBhcmFtIG1ha2VUZXN0RHJhaW4gc2hvdWxkIGl0IGRyYWluIHRoZSBjdXJyZW50IG1pY3JvdGFzayBxdWV1ZSB0byBlbnN1cmUgdGhlIHF1ZXVlIGNhbiBiZSBkcmFpbmVkXG4gKiBAcmV0dXJucyBpZiBnbG9iYWwuX19kcmFpbk1pY3JvdGFza1F1ZXVlIGNhbiBiZSBjYWxsZWRcbiAqL1xuZnVuY3Rpb24gbmF0aXZlUXVldWVDYW5CZURyYWluZWQobWFrZVRlc3REcmFpbikge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghbWFrZVRlc3REcmFpbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGNhblJ1blN5bmMgPSBmYWxzZTtcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IChjYW5SdW5TeW5jID0gdHJ1ZSkpO1xuICAgIGdsb2JhbC5fX2RyYWluTWljcm90YXNrUXVldWUoKTtcbiAgICByZXR1cm4gY2FuUnVuU3luYztcbn1cbi8qKlxuICogUnVucyBhIGZ1bmN0aW9uIGluIHRoZSBtb3N0IHN5bmNocm9ub3VzIHdheSBwb3NzaWJsZVxuICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIHJ1blxuICogQHBhcmFtIGRvbmUgZnVuY3Rpb24gdG8gY2hhaW4gYWZ0ZXIgZG9uZVxuICovXG5mdW5jdGlvbiBydW5TeW5jaHJvbm91c2x5KGZuLCBkb25lKSB7XG4gICAgaWYgKHR5cGVvZiBab25lICE9PSAndW5kZWZpbmVkJyAmJiBab25lQ2FuV29ya1N5bmMoKSkge1xuICAgICAgICBydW5ab25lU3luY1Rhc2soZm4pO1xuICAgICAgICBkb25lPy4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmF0aXZlUXVldWVDYW5CZURyYWluZWQodHJ1ZSkpIHtcbiAgICAgICAgZm4oKTtcbiAgICAgICAgZ2xvYmFsLl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSgpO1xuICAgICAgICBkb25lPy4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbigpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICAgIFV0aWxzLnF1ZXVlTWFjcm90YXNrKGRvbmUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3ZpZGVyc0NvbmZpZyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBwUHJvdmlkZXJzOiBbLi4uTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMsIC4uLk5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgLi4uKG9wdGlvbnM/LnByb3ZpZGVycyA/PyBbXSldLFxuICAgICAgICAvLyBwbGF0Zm9ybVByb3ZpZGVyczogSU5URVJOQUxfQlJPV1NFUl9QTEFURk9STV9QUk9WSURFUlNcbiAgICB9O1xufVxuZnVuY3Rpb24gYm9vdHN0cmFwQXBwbGljYXRpb24ocm9vdENvbXBvbmVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiDJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24oeyByb290Q29tcG9uZW50LCAuLi5jcmVhdGVQcm92aWRlcnNDb25maWcob3B0aW9ucykgfSk7XG59XG5mdW5jdGlvbiBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKG9wdGlvbnMpIHtcbiAgICBsZXQgbWFpbk1vZHVsZVJlZiA9IG51bGw7XG4gICAgbGV0IGxvYWRpbmdNb2R1bGVSZWY7XG4gICAgbGV0IHBsYXRmb3JtUmVmID0gbnVsbDtcbiAgICBsZXQgYm9vdHN0cmFwSWQgPSAtMTtcbiAgICBjb25zdCB1cGRhdGVQbGF0Zm9ybVJlZiA9IChtb2R1bGVSZWYsIHJlYXNvbikgPT4ge1xuICAgICAgICBjb25zdCBuZXdQbGF0Zm9ybVJlZiA9IG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoUGxhdGZvcm1SZWYpO1xuICAgICAgICBpZiAobmV3UGxhdGZvcm1SZWYgPT09IHBsYXRmb3JtUmVmKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveVJlZihwbGF0Zm9ybVJlZiwgcmVhc29uKTtcbiAgICAgICAgcGxhdGZvcm1SZWYgPSBuZXdQbGF0Zm9ybVJlZjtcbiAgICAgICAgcGxhdGZvcm1SZWYub25EZXN0cm95KCgpID0+IChwbGF0Zm9ybVJlZiA9IHBsYXRmb3JtUmVmID09PSBuZXdQbGF0Zm9ybVJlZiA/IG51bGwgOiBwbGF0Zm9ybVJlZikpO1xuICAgIH07XG4gICAgbGV0IGxhdW5jaEV2ZW50RG9uZSA9IHRydWU7XG4gICAgbGV0IHRhcmdldFJvb3RWaWV3ID0gbnVsbDtcbiAgICBjb25zdCBzZXRSb290VmlldyA9IChyZWYpID0+IHtcbiAgICAgICAgaWYgKGJvb3RzdHJhcElkID09PSAtMSkge1xuICAgICAgICAgICAgLy8gdHJlYXQgZWRnZSBjYXNlc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBOZ01vZHVsZVJlZiB8fCByZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZikge1xuICAgICAgICAgICAgaWYgKHJlZi5pbmplY3Rvci5nZXQoRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZWZbJ19fZGlzYWJsZV9yb290X3ZpZXdfaGFuZGxpbmcnXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpPy5fY2xvc2VBbGxNb2RhbFZpZXdzSW50ZXJuYWwoKTsgLy8gY2xlYW51cCBvbGQgcm9vdHZpZXdcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYm9vdHN0cmFwTG9nKGBTZXR0aW5nIFJvb3RWaWV3ICR7bGF1bmNoRXZlbnREb25lID8gJ291dHNpZGUgb2YnIDogJ2R1cmluZyd9IGxhdW5jaCBldmVudGApO1xuICAgICAgICAvLyBUT0RPOiBjaGVjayBmb3IgbGVha3Mgd2hlbiByb290IHZpZXcgaXNuJ3QgcHJvcGVybHkgZGVzdHJveWVkXG4gICAgICAgIGlmIChyZWYgaW5zdGFuY2VvZiBWaWV3KSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5ib290c3RyYXBMb2coYFNldHRpbmcgUm9vdFZpZXcgdG8gJHtyZWZ9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWJlZGRlZCkge1xuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGF1bmNoRXZlbnREb25lKSB7XG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcmVmIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0Um9vdFZpZXcgPSByZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHJlZi5pbmplY3Rvci5nZXQoQVBQX1JPT1RfVklFVyk7XG4gICAgICAgIGNvbnN0IG5ld1Jvb3QgPSB2aWV3IGluc3RhbmNlb2YgQXBwSG9zdFZpZXcgPyB2aWV3LmNvbnRlbnQgOiB2aWV3O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZyhgU2V0dGluZyBSb290VmlldyB0byAke25ld1Jvb3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuZW1iZWRkZWQpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bih7IGNyZWF0ZTogKCkgPT4gbmV3Um9vdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYXVuY2hFdmVudERvbmUpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJlc2V0Um9vdFZpZXcoeyBjcmVhdGU6ICgpID0+IG5ld1Jvb3QgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRSb290VmlldyA9IG5ld1Jvb3Q7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNob3dFcnJvclVJID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlICsgJ1xcblxcbicgKyBlcnJvci5zdGFjaztcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0Qm94ID0gbmV3IFRleHRWaWV3KCk7XG4gICAgICAgIGVycm9yVGV4dEJveC50ZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgZXJyb3JUZXh0Qm94LmNvbG9yID0gbmV3IENvbG9yKCdyZWQnKTtcbiAgICAgICAgc2V0Um9vdFZpZXcoZXJyb3JUZXh0Qm94KTtcbiAgICB9O1xuICAgIGNvbnN0IGJvb3RzdHJhcFJvb3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBib290c3RyYXBJZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Qm9vdHN0cmFwSWQgPSBib290c3RyYXBJZDtcbiAgICAgICAgICAgIGxldCBib290c3RyYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBvbk1haW5Cb290c3RyYXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcnVuU3luY2hyb25vdXNseSgoKSA9PiBvcHRpb25zLmFwcE1vZHVsZUJvb3RzdHJhcChyZWFzb24pLnRoZW4oKHJlZikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Qm9vdHN0cmFwSWQgIT09IGJvb3RzdHJhcElkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbW9kdWxlIGlzIG9sZCBhbmQgbm90IG5lZWRlZCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWF5IGhhcHBlbiB3aGVuIGRldmVsb3BlciB1c2VzIGFzeW5jIGFwcCBpbml0aWFsaXplciBhbmQgdGhlIHVzZXIgZXhpdHMgdGhlIGFwcCBiZWZvcmUgdGhpcyBib290c3RyYXBzXG4gICAgICAgICAgICAgICAgICAgIHJlZi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFpbk1vZHVsZVJlZiA9IHJlZjtcbiAgICAgICAgICAgICAgICAocmVmIGluc3RhbmNlb2YgQXBwbGljYXRpb25SZWYgPyByZWYuY29tcG9uZW50c1swXSA6IHJlZikub25EZXN0cm95KCgpID0+IChtYWluTW9kdWxlUmVmID0gbWFpbk1vZHVsZVJlZiA9PT0gcmVmID8gbnVsbCA6IG1haW5Nb2R1bGVSZWYpKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQbGF0Zm9ybVJlZihyZWYsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVUYWcgPSByZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgKHJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gcmVmLmNvbXBvbmVudHNbMF0gOiByZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJvb3RzdHJhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwKCk7XG4gICAgICAgICAgICAgICAgZW1pdE1vZHVsZUJvb3RzdHJhcEV2ZW50KHJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIC8vIGJvb3RzdHJhcHBlZCBjb21wb25lbnQ6IChyZWYgYXMgYW55KS5fYm9vdHN0cmFwQ29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBib290c3RyYXBwZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGFwcCBtb2R1bGU6XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgICAgICAgICBzaG93RXJyb3JVSShlcnIpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRCb290c3RyYXBJZCAhPT0gYm9vdHN0cmFwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWJvb3RzdHJhcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sb2FkaW5nTW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5TeW5jaHJvbm91c2x5KCgpID0+IG9wdGlvbnMubG9hZGluZ01vZHVsZShyZWFzb24pLnRoZW4oKGxvYWRpbmdSZWYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEJvb3RzdHJhcElkICE9PSBib290c3RyYXBJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1vZHVsZSBpcyBvbGQgYW5kIG5vdCBuZWVkZWQgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1heSBoYXBwZW4gd2hlbiBkZXZlbG9wZXIgdXNlcyBhc3luYyBhcHAgaW5pdGlhbGl6ZXIgYW5kIHRoZSB1c2VyIGV4aXRzIHRoZSBhcHAgYmVmb3JlIHRoaXMgYm9vdHN0cmFwc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nUmVmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ1JlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobG9hZGluZ01vZHVsZVJlZiBpbnN0YW5jZW9mIEFwcGxpY2F0aW9uUmVmID8gbG9hZGluZ01vZHVsZVJlZi5jb21wb25lbnRzWzBdIDogbG9hZGluZ01vZHVsZVJlZikub25EZXN0cm95KCgpID0+IChsb2FkaW5nTW9kdWxlUmVmID0gbG9hZGluZ01vZHVsZVJlZiA9PT0gbG9hZGluZ1JlZiA/IG51bGwgOiBsb2FkaW5nTW9kdWxlUmVmKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGxhdGZvcm1SZWYobG9hZGluZ1JlZiwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHlsZVRhZyA9IGxvYWRpbmdNb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KE5BVElWRVNDUklQVF9ST09UX01PRFVMRV9JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGxvYWRpbmdNb2R1bGVSZWYgaW5zdGFuY2VvZiBBcHBsaWNhdGlvblJlZiA/IGxvYWRpbmdNb2R1bGVSZWYuY29tcG9uZW50c1swXSA6IGxvYWRpbmdNb2R1bGVSZWYpLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRhZ2dlZEFkZGl0aW9uYWxDU1Moc3R5bGVUYWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KGxvYWRpbmdSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTWFpbkJvb3RzdHJhcCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVsYXkgc2hvd2luZyB0aGUgbmV3IHJvb3R2aWV3IHRvIGF2b2lkIGZsYXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ1NlcnZpY2UgPSBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nTW9kdWxlUmVmLmluamVjdG9yLmdldChOZ1pvbmUpLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ1NlcnZpY2UuX25vdGlmeU1haW5Nb2R1bGVSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nU2VydmljZS5yZWFkeVRvRGVzdHJveSRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSksIHRha2UoMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveVJlZihsb2FkaW5nTW9kdWxlUmVmLCAnbG9hZGluZycsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobWFpbk1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQobG9hZGluZ01vZHVsZVJlZiwgJ2xvYWRpbmcnLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBib290c3RyYXBwaW5nIGxvYWRpbmcgbW9kdWxlOlxcbiR7ZXJyLm1lc3NhZ2V9XFxuXFxuJHtlcnIuc3RhY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yVUkoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5sYXVuY2hWaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGF1bmNoVmlldyA9IG9wdGlvbnMubGF1bmNoVmlldyhyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Um9vdFZpZXcobGF1bmNoVmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgbGF1bmNoIGFuaW1hdGlvbiBpcyBleGVjdXRlZCBhZnRlciBsYXVuY2hWaWV3IGFkZGVkIHRvIHZpZXcgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF1bmNoVmlldy5zdGFydEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25NYWluQm9vdHN0cmFwID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlbGF5IHNob3dpbmcgdGhlIG5ldyByb290dmlldyB0byBhdm9pZCBmbGFzaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMucXVldWVNYWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF1bmNoVmlldy5jbGVhbnVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsZWFudXAoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdW5jaFZpZXcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXVuY2hWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJvb3RWaWV3KG1haW5Nb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdBcHAgaXMgYm9vdHN0cmFwcGluZyBhc3luY2hyb25vdXNseSAobGlrZWx5IEFQUF9JTklUSUFMSVpFUikgYnV0IGRpZCBub3QgcHJvdmlkZSBhIGxhdW5jaFZpZXcgb3IgTG9hZGluZ01vZHVsZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmJvb3RzdHJhcExvZ0Vycm9yKGBFcnJvciBpbiBCb290c3RyYXAgRnVuY3Rpb246XFxuJHtlcnIubWVzc2FnZX1cXG5cXG4ke2Vyci5zdGFja31gKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZGlzcG9zZVBsYXRmb3JtID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBkZXN0cm95UmVmKHBsYXRmb3JtUmVmLCByZWFzb24pO1xuICAgICAgICBwbGF0Zm9ybVJlZiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCBkaXNwb3NlTGFzdE1vZHVsZXMgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIC8vIHJlc2V0IGJvb3RzdHJhcCBJRCB0byBtYWtlIHN1cmUgYW55IG1vZHVsZXMgYm9vdHN0cmFwcGVkIGFmdGVyIHRoaXMgYXJlIGRpc2NhcmRlZFxuICAgICAgICBib290c3RyYXBJZCA9IC0xO1xuICAgICAgICBkZXN0cm95UmVmKGxvYWRpbmdNb2R1bGVSZWYsICdsb2FkaW5nJywgcmVhc29uKTtcbiAgICAgICAgbG9hZGluZ01vZHVsZVJlZiA9IG51bGw7XG4gICAgICAgIGRlc3Ryb3lSZWYobWFpbk1vZHVsZVJlZiwgJ21haW4nLCByZWFzb24pO1xuICAgICAgICBtYWluTW9kdWxlUmVmID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGxhdW5jaENhbGxiYWNrID0gcHJvZmlsZSgnQG5hdGl2ZXNjcmlwdC9hbmd1bGFyL3BsYXRmb3JtLWNvbW1vbi5sYXVuY2hDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGxhdW5jaEV2ZW50RG9uZSA9IGZhbHNlO1xuICAgICAgICBib290c3RyYXBSb290KCdhcHBsYXVuY2gnKTtcbiAgICAgICAgbGF1bmNoRXZlbnREb25lID0gdHJ1ZTtcbiAgICAgICAgYXJncy5yb290ID0gdGFyZ2V0Um9vdFZpZXcgfHwgbnVsbDtcbiAgICB9KTtcbiAgICBjb25zdCBleGl0Q2FsbGJhY2sgPSBwcm9maWxlKCdAbmF0aXZlc2NyaXB0L2FuZ3VsYXIvcGxhdGZvcm0tY29tbW9uLmV4aXRDYWxsYmFjaycsIChhcmdzKSA9PiB7XG4gICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnYXBwZXhpdCcpO1xuICAgIH0pO1xuICAgIGxldCBvbGRBZGRFdmVudExpc3RlbmVyO1xuICAgIGlmICh0eXBlb2YgWm9uZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHM/LmV2ZW50cz8uW1pvbmUuX19zeW1ib2xfXygnYWRkRXZlbnRMaXN0ZW5lcicpXSkge1xuICAgICAgICBvbGRBZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzLmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgIGdsb2JhbC5OYXRpdmVTY3JpcHRHbG9iYWxzLmV2ZW50cy5hZGRFdmVudExpc3RlbmVyID0gZ2xvYmFsLk5hdGl2ZVNjcmlwdEdsb2JhbHMuZXZlbnRzW1pvbmUuX19zeW1ib2xfXygnYWRkRXZlbnRMaXN0ZW5lcicpXTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgfVxuICAgIEFwcGxpY2F0aW9uLm9uKEFwcGxpY2F0aW9uLmV4aXRFdmVudCwgZXhpdENhbGxiYWNrKTtcbiAgICBpZiAob2xkQWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBnbG9iYWwuTmF0aXZlU2NyaXB0R2xvYmFscy5ldmVudHMuYWRkRXZlbnRMaXN0ZW5lciA9IG9sZEFkZEV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICAgIGlmIChpbXBvcnQubWV0YVsnd2VicGFja0hvdCddKSB7XG4gICAgICAgIC8vIGhhbmRsZSBITVIgQXBwbGljYXRpb24ucnVuXG4gICAgICAgIGdsb2JhbFsnX19kaXNwb3NlX2FwcF9uZ19wbGF0Zm9ybV9fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlUGxhdGZvcm0oJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fZGlzcG9zZV9hcHBfbmdfbW9kdWxlc19fJ10gPSAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NlTGFzdE1vZHVsZXMoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fYm9vdHN0cmFwX2FwcF9uZ19tb2R1bGVzX18nXSA9ICgpID0+IHtcbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBnbG9iYWxbJ19fY2xlYW51cF9uZ19ob3RfXyddID0gKCkgPT4ge1xuICAgICAgICAgICAgQXBwbGljYXRpb24ub2ZmKEFwcGxpY2F0aW9uLmxhdW5jaEV2ZW50LCBsYXVuY2hDYWxsYmFjayk7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5vZmYoQXBwbGljYXRpb24uZXhpdEV2ZW50LCBleGl0Q2FsbGJhY2spO1xuICAgICAgICAgICAgZGlzcG9zZUxhc3RNb2R1bGVzKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIGRpc3Bvc2VQbGF0Zm9ybSgnaG90cmVsb2FkJyk7XG4gICAgICAgIH07XG4gICAgICAgIGdsb2JhbFsnX19yZWJvb3RfbmdfbW9kdWxlc19fJ10gPSAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtID0gZmFsc2UpID0+IHtcbiAgICAgICAgICAgIGRpc3Bvc2VMYXN0TW9kdWxlcygnaG90cmVsb2FkJyk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkRGlzcG9zZVBsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZVBsYXRmb3JtKCdob3RyZWxvYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uLmhhc0xhdW5jaGVkKCkpIHtcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uLnJ1bigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2hvdHJlbG9hZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmVtYmVkZGVkKSB7XG4gICAgICAgIGJvb3RzdHJhcFJvb3QoJ2FwcGxhdW5jaCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgQXBwbGljYXRpb24ucnVuKCk7XG4gICAgfVxufVxuXG5jbGFzcyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IGV4dGVuZHMgUGxhdGZvcm1SZWYge1xuICAgIGNvbnN0cnVjdG9yKHBsYXRmb3JtLCBsYXVuY2hWaWV3KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybTtcbiAgICAgICAgdGhpcy5sYXVuY2hWaWV3ID0gbGF1bmNoVmlldztcbiAgICB9XG4gICAgYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShtb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnkpLFxuICAgICAgICAgICAgbGF1bmNoVmlldzogKCkgPT4gdGhpcy5sYXVuY2hWaWV3LFxuICAgICAgICB9O1xuICAgICAgICBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFwcE1vZHVsZUJvb3RzdHJhcDogKCkgPT4gdGhpcy5wbGF0Zm9ybS5ib290c3RyYXBNb2R1bGUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgb25EZXN0cm95KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMucGxhdGZvcm0ub25EZXN0cm95KGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZ2V0IGluamVjdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wbGF0Zm9ybS5pbmplY3RvcjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldCBkZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsYXRmb3JtLmRlc3Ryb3llZDtcbiAgICB9XG59XG5cbmNvbnN0IGRlZmF1bHRQYWdlRmFjdG9yeVByb3ZpZGVyID0geyBwcm92aWRlOiBQQUdFX0ZBQ1RPUlksIHVzZVZhbHVlOiBkZWZhdWx0UGFnZUZhY3RvcnkgfTtcbmNsYXNzIE5hdGl2ZVNjcmlwdFNhbml0aXplciBleHRlbmRzIFNhbml0aXplciB7XG4gICAgc2FuaXRpemUoX2NvbnRleHQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4vLyBUT0RPOiB3aGVuIGFuZ3VsYXIgZmluYWxseSBleHBvcnRzIHRoZWlyIHNjaGVkdWxlciB0b2tlbiBmb3IgaXZ5IENELCBwcm92aWRlIG91ciBvd24gd2l0aCBxdWV1ZU1hY3JvVGFza1xuLy8gZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlckZhY3RvcnkoKSB7XG4vLyAgIHJldHVybiAoZm46IGFueSkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKCdTQ0hFRFVMRVInKTtcbi8vICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbi8vICAgfTtcbi8vIH1cbmNsYXNzIE5hdGl2ZVNjcmlwdERvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gUmVxdWlyZWQgYnkgdGhlIEFuaW1hdGlvbkRyaXZlclxuICAgICAgICB0aGlzLmJvZHkgPSB7XG4gICAgICAgICAgICBpc092ZXJyaWRlOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjcmVhdGVFbGVtZW50KHRhZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05hdGl2ZVNjcmlwdERvY3VtZW50IGlzIG5vdCBET00gRG9jdW1lbnQuIFRoZXJlIGlzIG5vIGNyZWF0ZUVsZW1lbnQoKSBtZXRob2QuJyk7XG4gICAgfVxufVxuY29uc3QgQ09NTU9OX1BST1ZJREVSUyA9IFtkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgeyBwcm92aWRlOiBTYW5pdGl6ZXIsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHRTYW5pdGl6ZXIsIGRlcHM6IFtdIH0sIHsgcHJvdmlkZTogRE9DVU1FTlQsIHVzZUNsYXNzOiBOYXRpdmVTY3JpcHREb2N1bWVudCwgZGVwczogW10gfV07XG5jb25zdCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdCA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwbGF0Zm9ybUNvcmUsICduYXRpdmVzY3JpcHREeW5hbWljJywgQ09NTU9OX1BST1ZJREVSUyk7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBydW5OYXRpdmVTY3JpcHRBbmd1bGFyQXBwIGluc3RlYWRcbiAqL1xuY29uc3QgcGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljID0gZnVuY3Rpb24gKG9wdGlvbnMsIGV4dHJhUHJvdmlkZXJzKSB7XG4gICAgY29uc29sZS5sb2coJ3BsYXRmb3JtTmF0aXZlU2NyaXB0RHluYW1pYyBpcyBkZXByZWNhdGVkLCB1c2UgcnVuTmF0aXZlU2NyaXB0QW5ndWxhckFwcCBpbnN0ZWFkJyk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgZXh0cmFQcm92aWRlcnMgPSBleHRyYVByb3ZpZGVycyB8fCBbXTtcbiAgICBjb25zdCBuZ1Jvb3RWaWV3ID0gbmV3IEFwcEhvc3RWaWV3KG5ldyBDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvciB8fCAnd2hpdGUnKSk7XG4gICAgbGV0IGxhdW5jaFZpZXcgPSBvcHRpb25zLmxhdW5jaFZpZXc7XG4gICAgaWYgKCFsYXVuY2hWaWV3ICYmIG9wdGlvbnMuYXN5bmMpIHtcbiAgICAgICAgbGF1bmNoVmlldyA9IG5ldyBHcmlkTGF5b3V0KCk7XG4gICAgICAgIGxhdW5jaFZpZXcuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgJ3doaXRlJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5KHBsYXRmb3JtTmF0aXZlU2NyaXB0KFsuLi5leHRyYVByb3ZpZGVyc10pLCBsYXVuY2hWaWV3KTtcbn07XG5cbmNsYXNzIFJvb3RWaWV3UHJveHkgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50Um9vdExheW91dCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQgPSBwYXJlbnRSb290TGF5b3V0O1xuICAgIH1cbiAgICBfYWRkVmlldyh2aWV3LCBhdEluZGV4KSB7XG4gICAgICAgIHN1cGVyLl9hZGRWaWV3KHZpZXcsIGF0SW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRSb290TGF5b3V0LmdldENoaWxkSW5kZXgodGhpcykgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudFJvb3RMYXlvdXQuaW5zZXJ0Q2hpbGQodGhpcywgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3JlbW92ZVZpZXcodmlldykge1xuICAgICAgICBzdXBlci5fcmVtb3ZlVmlldyh2aWV3KTtcbiAgICAgICAgdGhpcy5wYXJlbnRSb290TGF5b3V0LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBnZW5lcmF0ZXMgYSBSb290TGF5b3V0IGFuZCByZXR1cm5zIGEgUm9vdFZpZXdQcm94eS5cbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50IHdpbGwgYWRkIHRoZSB2aWV3IHRvIHRoZSBib3R0b20gb2YgdGhlIFJvb3RMYXlvdXRcbiAqIFNldHRpbmcgUm9vdFZpZXdQcm94eS5jb250ZW50ID0gbnVsbCB3aWxsIHJlbW92ZSB0aGUgdmlldyBmcm9tIHRoZSBSb290TGF5b3V0XG4gKiBAcmV0dXJucyBSb290Vmlld1Byb3h5IHRoYXQgd2lsbCBpbnNlcnQgY29udGVudCBpbnRvIHRoZSBzdGFydCBvZiB0aGUgUm9vdExheW91dFxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJvb3RMYXlvdXRBbmRQcm94eSgpIHtcbiAgICBsZXQgcm9vdFZpZXcgPSBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgIGlmICghcm9vdFZpZXcgfHwgIShyb290VmlldyBpbnN0YW5jZW9mIFJvb3RMYXlvdXQpKSB7XG4gICAgICAgIHJvb3RWaWV3ID0gbmV3IFJvb3RMYXlvdXQoKTtcbiAgICAgICAgQXBwbGljYXRpb24ucmVzZXRSb290Vmlldyh7IGNyZWF0ZTogKCkgPT4gcm9vdFZpZXcgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdQcm94eSA9IG5ldyBSb290Vmlld1Byb3h5KHJvb3RWaWV3KTtcbiAgICAvLyAocm9vdFZpZXcgYXMgUm9vdExheW91dCkuaW5zZXJ0Q2hpbGQodmlld1Byb3h5LCAwKTtcbiAgICByZXR1cm4gdmlld1Byb3h5O1xufVxuY2xhc3MgUm9vdENvbXBvc2l0ZU1vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvb3RDb21wb3NpdGVNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgICAgIF0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb290Q29tcG9zaXRlTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIHVzZVZhbHVlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IEFQUF9ST09UX1ZJRVcsIHVzZUZhY3Rvcnk6IGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5IH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0gfSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBvcGVuaW5nIGEgbW9kYWwgZGlhbG9nIHdpdGggdGhlIE1hdERpYWxvZyBzZXJ2aWNlLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dDb25maWcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKiogV2hldGhlciB0aGUgZGlhbG9nIGhhcyBhIGJhY2tkcm9wLiAqL1xuICAgICAgICB0aGlzLmhhc0JhY2tkcm9wID0gdHJ1ZTtcbiAgICAgICAgLyoqIFdoZXRoZXIgdGhlIHVzZXIgY2FuIHVzZSBlc2NhcGUgb3IgY2xpY2tpbmcgb24gdGhlIGJhY2tkcm9wIHRvIGNsb3NlIHRoZSBtb2RhbC4gKi9cbiAgICAgICAgdGhpcy5kaXNhYmxlQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgLyoqIERhdGEgYmVpbmcgaW5qZWN0ZWQgaW50byB0aGUgY2hpbGQgY29tcG9uZW50LiAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgZGlhbG9nIHNob3VsZCBjbG9zZSB3aGVuIHRoZSB1c2VyIGdvZXMgYmFja3dhcmRzL2ZvcndhcmRzIGluIGhpc3RvcnkuXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGlzIHVzdWFsbHkgZG9lc24ndCBpbmNsdWRlIGNsaWNraW5nIG9uIGxpbmtzICh1bmxlc3MgdGhlIHVzZXIgaXMgdXNpbmdcbiAgICAgICAgICogdGhlIGBIYXNoTG9jYXRpb25TdHJhdGVneWApLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZU9uTmF2aWdhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMubmF0aXZlT3B0aW9ucyA9IHt9O1xuICAgICAgICAvLyBUT0RPKGplbGJvdXJuKTogYWRkIGNvbmZpZ3VyYXRpb24gZm9yIGxpZmVjeWNsZSBob29rcywgQVJJQSBsYWJlbGxpbmcuXG4gICAgfVxufVxuXG4vLyBDb3VudGVyIGZvciB1bmlxdWUgZGlhbG9nIGlkcy5cbmxldCB1bmlxdWVJZCA9IDA7XG5jbGFzcyBOYXRpdmVEaWFsb2dSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9uYXRpdmVNb2RhbFJlZiwgaWQgPSBgbmF0aXZlLWRpYWxvZy0ke3VuaXF1ZUlkKyt9YCkge1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZiA9IF9uYXRpdmVNb2RhbFJlZjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgb3BlbmluZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgZmluaXNoZWQgY2xvc2luZy4gKi9cbiAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogU3ViamVjdCBmb3Igbm90aWZ5aW5nIHRoZSB1c2VyIHRoYXQgdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLiAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICAvKiogQ3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nLiAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IDAgLyogTmF0aXZlRGlhbG9nU3RhdGUuT1BFTiAqLztcbiAgICAgICAgLy8gUGFzcyB0aGUgaWQgYWxvbmcgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgX25hdGl2ZU1vZGFsUmVmLl9pZCA9IGlkO1xuICAgICAgICAvLyBFbWl0IHdoZW4gb3BlbmluZyBhbmltYXRpb24gY29tcGxldGVzXG4gICAgICAgIF9uYXRpdmVNb2RhbFJlZi5zdGF0ZUNoYW5nZWRcbiAgICAgICAgICAgIC5waXBlKGZpbHRlcigoZXZlbnQpID0+IGV2ZW50LnN0YXRlID09PSAnb3BlbmVkJyksIHRha2UoMSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLm5leHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyT3BlbmVkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEaXNwb3NlIG92ZXJsYXkgd2hlbiBjbG9zaW5nIGFuaW1hdGlvbiBpcyBjb21wbGV0ZVxuICAgICAgICBfbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NlZCcpLCB0YWtlKDEpKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fY2xvc2VGYWxsYmFja1RpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLm5leHQodGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICAgIHRoaXMuX2FmdGVyQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfbmF0aXZlTW9kYWxSZWYub25EaXNtaXNzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dCh0aGlzLl9yZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBfbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2UgdGhlIGRpYWxvZy5cbiAgICAgKiBAcGFyYW0gZGlhbG9nUmVzdWx0IE9wdGlvbmFsIHJlc3VsdCB0byByZXR1cm4gdG8gdGhlIGRpYWxvZyBvcGVuZXIuXG4gICAgICovXG4gICAgY2xvc2UoZGlhbG9nUmVzdWx0KSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IGRpYWxvZ1Jlc3VsdDtcbiAgICAgICAgLy8gVHJhbnNpdGlvbiB0aGUgYmFja2Ryb3AgaW4gcGFyYWxsZWwgdG8gdGhlIGRpYWxvZy5cbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuc3RhdGVDaGFuZ2VkXG4gICAgICAgICAgICAucGlwZShmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC5zdGF0ZSA9PT0gJ2Nsb3NpbmcnKSwgdGFrZSgxKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVDbG9zZWQubmV4dChkaWFsb2dSZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5fYmVmb3JlQ2xvc2VkLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5kaXNwb3NlKCk7XG4gICAgICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmRldGFjaEJhY2tkcm9wKCk7XG4gICAgICAgICAgICAvLyBUaGUgbG9naWMgdGhhdCBkaXNwb3NlcyBvZiB0aGUgb3ZlcmxheSBkZXBlbmRzIG9uIHRoZSBleGl0IGFuaW1hdGlvbiBjb21wbGV0aW5nLCBob3dldmVyXG4gICAgICAgICAgICAvLyBpdCBpc24ndCBndWFyYW50ZWVkIGlmIHRoZSBwYXJlbnQgdmlldyBpcyBkZXN0cm95ZWQgd2hpbGUgaXQncyBydW5uaW5nLiBBZGQgYSBmYWxsYmFja1xuICAgICAgICAgICAgLy8gdGltZW91dCB3aGljaCB3aWxsIGNsZWFuIGV2ZXJ5dGhpbmcgdXAgaWYgdGhlIGFuaW1hdGlvbiBoYXNuJ3QgZmlyZWQgd2l0aGluIHRoZSBzcGVjaWZpZWRcbiAgICAgICAgICAgIC8vIGFtb3VudCBvZiB0aW1lIHBsdXMgMTAwbXMuIFdlIGRvbid0IG5lZWQgdG8gcnVuIHRoaXMgb3V0c2lkZSB0aGUgTmdab25lLCBiZWNhdXNlIGZvciB0aGVcbiAgICAgICAgICAgIC8vIHZhc3QgbWFqb3JpdHkgb2YgY2FzZXMgdGhlIHRpbWVvdXQgd2lsbCBoYXZlIGJlZW4gY2xlYXJlZCBiZWZvcmUgaXQgaGFzIHRoZSBjaGFuY2UgdG8gZmlyZS5cbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlRmFsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluaXNoRGlhbG9nQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZnRlckNsb3NlZC5uZXh0KHRoaXMuX3Jlc3VsdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWZ0ZXJDbG9zZWQuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgLy9ldmVudC50b3RhbFRpbWUgKyAxMDApO1xuICAgICAgICAgICAgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gMSAvKiBOYXRpdmVEaWFsb2dTdGF0ZS5DTE9TSU5HICovO1xuICAgICAgICB0aGlzLl9uYXRpdmVNb2RhbFJlZi5fc3RhcnRFeGl0QW5pbWF0aW9uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBvcGVuaW5nLlxuICAgICAqL1xuICAgIGFmdGVyT3BlbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJPcGVuZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBpcyBmaW5pc2hlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGFmdGVyQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWZ0ZXJDbG9zZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2JzZXJ2YWJsZSB0aGF0IGlzIG5vdGlmaWVkIHdoZW4gdGhlIGRpYWxvZyBoYXMgc3RhcnRlZCBjbG9zaW5nLlxuICAgICAqL1xuICAgIGJlZm9yZUNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JlZm9yZUNsb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBvYnNlcnZhYmxlIHRoYXQgZW1pdHMgd2hlbiB0aGUgb3ZlcmxheSdzIGJhY2tkcm9wIGhhcyBiZWVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgYmFja2Ryb3BDbGljaygpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIC8qKiBBZGQgYSBDU1MgY2xhc3Mgb3IgYW4gYXJyYXkgb2YgY2xhc3NlcyB0byB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIGFkZFBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLmFkZFBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogUmVtb3ZlIGEgQ1NTIGNsYXNzIG9yIGFuIGFycmF5IG9mIGNsYXNzZXMgZnJvbSB0aGUgb3ZlcmxheSBwYW5lLiAqL1xuICAgIHJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcykge1xuICAgICAgICAvLyB0aGlzLl9vdmVybGF5UmVmLnJlbW92ZVBhbmVsQ2xhc3MoY2xhc3Nlcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogR2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZGlhbG9nJ3MgbGlmZWN5Y2xlLiAqL1xuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBkaWFsb2cgY2xvc2UgYnkgdXBkYXRpbmcgdGhlIHN0YXRlIG9mIHRoZSBkaWFsb2dcbiAgICAgKiBhbmQgZGlzcG9zaW5nIHRoZSBvdmVybGF5LlxuICAgICAqL1xuICAgIF9maW5pc2hEaWFsb2dDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAyIC8qIE5hdGl2ZURpYWxvZ1N0YXRlLkNMT1NFRCAqLztcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxSZWYuZGlzcG9zZSgpO1xuICAgIH1cbn1cblxubGV0IE5hdGl2ZU1vZGFsUmVmID0gY2xhc3MgTmF0aXZlTW9kYWxSZWYge1xuICAgIGNvbnN0cnVjdG9yKF9jb25maWcsIF9pbmplY3RvciwgbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gX2NvbmZpZztcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLm9uRGlzbWlzcyA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIHRoaXMuX2lzRGlzbWlzc2VkID0gZmFsc2U7XG4gICAgICAgIGxldCBwYXJlbnRWaWV3ID0gdGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWY/LmVsZW1lbnQubmF0aXZlRWxlbWVudCB8fCBBcHBsaWNhdGlvbi5nZXRSb290VmlldygpO1xuICAgICAgICBpZiAoKHBhcmVudFZpZXcgaW5zdGFuY2VvZiBBcHBIb3N0VmlldyB8fCBwYXJlbnRWaWV3IGluc3RhbmNlb2YgQXBwSG9zdEFzeW5jVmlldykgJiYgcGFyZW50Vmlldy5uZ0FwcFJvb3QpIHtcbiAgICAgICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3Lm5nQXBwUm9vdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBfbmdEaWFsb2dSb290IGlzIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgcHJldmlvdXNseSBkZXRhY2hlZCBwcm94eS5cbiAgICAgICAgLy8gSXQgc2hvdWxkIGhhdmUgJ3ZpZXdDb250cm9sbGVyJyAoaU9TKSBvciAnX2RpYWxvZ0ZyYWdtZW50JyAoQW5kcm9pZCkgYXZhaWxhYmxlIGZvclxuICAgICAgICAvLyBwcmVzZW50aW5nIGZ1dHVyZSBtb2RhbCB2aWV3cy5cbiAgICAgICAgd2hpbGUgKHBhcmVudFZpZXcuX21vZGFsIHx8IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdCkge1xuICAgICAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXcuX21vZGFsIHx8IHBhcmVudFZpZXcuX25nRGlhbG9nUm9vdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcmVudFZpZXcgPSBwYXJlbnRWaWV3O1xuICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrID0gb25jZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZC5uZXh0KHsgc3RhdGU6ICdjbG9zaW5nJyB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNEaXNtaXNzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3Py5jbG9zZU1vZGFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2F0aW9uPy5fY2xvc2VNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZGV0YWNoZWRMb2FkZXJSZWY/LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGFsVmlld1JlZj8uZmlyc3ROYXRpdmVMaWtlVmlldy5pc0xvYWRlZCkge1xuICAgICAgICAgICAgICAgIGZyb21FdmVudCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCAndW5sb2FkZWQnKVxuICAgICAgICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuc3RhdGVDaGFuZ2VkLm5leHQoeyBzdGF0ZTogJ2Nsb3NlZCcgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQubmV4dCh7IHN0YXRlOiAnY2xvc2VkJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZW5lcmF0ZURldGFjaGVkQ29udGFpbmVyKHZjUmVmKSB7XG4gICAgICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9ICh0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpKS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShEZXRhY2hlZExvYWRlcik7XG4gICAgICAgIGlmICh2Y1JlZikge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IHZjUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUodGhpcy5fY29uZmlnLnZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IHRoaXMuX2luamVjdG9yKTtcbiAgICAgICAgICAgIHRoaXMuX2luamVjdG9yLmdldChBcHBsaWNhdGlvblJlZikuYXR0YWNoVmlldyh0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyUmVmLmNoYW5nZURldGVjdG9yUmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICB9XG4gICAgYXR0YWNoVGVtcGxhdGVQb3J0YWwocG9ydGFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRNb2RhbE5hdmlnYXRpb24oKTtcbiAgICAgICAgY29uc3QgdmNSZWYgPSBwb3J0YWwudmlld0NvbnRhaW5lclJlZiB8fCB0aGlzLl9jb25maWcudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lcih2Y1JlZik7XG4gICAgICAgIHBvcnRhbC52aWV3Q29udGFpbmVyUmVmID0gdGhpcy5kZXRhY2hlZExvYWRlclJlZi5pbnN0YW5jZS52YztcbiAgICAgICAgY29uc3QgdGFyZ2V0VmlldyA9IG5ldyBDb250ZW50VmlldygpO1xuICAgICAgICB0aGlzLnBvcnRhbE91dGxldCA9IG5ldyBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQodGFyZ2V0VmlldywgdGhpcy5fY29uZmlnLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB8fCB0aGlzLl9pbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKSwgdGhpcy5faW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKSwgdGhpcy5faW5qZWN0b3IpO1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZVJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYodGVtcGxhdGVSZWYpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3WydfX25nX21vZGFsX2lkX18nXSA9IHRoaXMuX2lkO1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCBkZXRhY2ggdGhlIHZpZXcgZnJvbSBpdHMgcGFyZW50LCBpb3MgZ2V0cyBtYWRcbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICAgICAgY29uc3QgdXNlck9wdGlvbnMgPSB0aGlzLl9jb25maWcubmF0aXZlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5wYXJlbnRWaWV3LnNob3dNb2RhbCh0aGlzLm1vZGFsVmlld1JlZi5maXJzdE5hdGl2ZUxpa2VWaWV3LCB7XG4gICAgICAgICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgLi4udXNlck9wdGlvbnMsXG4gICAgICAgICAgICBjbG9zZUNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5sb2NhdGlvbj8uX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyAgIGlmICh0aGlzLm1vZGFsVmlldyAhPT0gdGVtcGxhdGVSZWYucm9vdE5vZGVzWzBdKSB7XG4gICAgICAgIC8vICAgICBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudC5fbmdEaWFsb2dSb290ID0gdGhpcy5tb2RhbFZpZXc7XG4gICAgICAgIC8vICAgfVxuICAgICAgICByZXR1cm4gdGVtcGxhdGVSZWY7XG4gICAgfVxuICAgIGF0dGFjaENvbXBvbmVudFBvcnRhbChwb3J0YWwpIHtcbiAgICAgICAgdGhpcy5zdGFydE1vZGFsTmF2aWdhdGlvbigpO1xuICAgICAgICBjb25zdCB0YXJnZXRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0ID0gbmV3IE5hdGl2ZVNjcmlwdERvbVBvcnRhbE91dGxldCh0YXJnZXRWaWV3LCB0aGlzLl9jb25maWcuY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIHx8IHRoaXMuX2luamVjdG9yLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpLCB0aGlzLl9pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCB0aGlzLl9pbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHRoaXMucG9ydGFsT3V0bGV0LmF0dGFjaChwb3J0YWwpO1xuICAgICAgICBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB0aGlzLm1vZGFsVmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50UmVmKTtcbiAgICAgICAgaWYgKHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXcgIT09IHRoaXMubW9kYWxWaWV3UmVmLnZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLnZpZXcuX25nRGlhbG9nUm9vdCA9IHRoaXMubW9kYWxWaWV3UmVmLmZpcnN0TmF0aXZlTGlrZVZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlld1snX19uZ19tb2RhbF9pZF9fJ10gPSB0aGlzLl9pZDtcbiAgICAgICAgLy8gaWYgd2UgZG9uJ3QgZGV0YWNoIHRoZSB2aWV3IGZyb20gaXRzIHBhcmVudCwgaW9zIGdldHMgbWFkXG4gICAgICAgIHRoaXMubW9kYWxWaWV3UmVmLmRldGFjaE5hdGl2ZUxpa2VWaWV3KCk7XG4gICAgICAgIGNvbnN0IHVzZXJPcHRpb25zID0gdGhpcy5fY29uZmlnLm5hdGl2ZU9wdGlvbnMgfHwge307XG4gICAgICAgIHRoaXMucGFyZW50Vmlldy5zaG93TW9kYWwodGhpcy5tb2RhbFZpZXdSZWYuZmlyc3ROYXRpdmVMaWtlVmlldywge1xuICAgICAgICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgICAgICAgIC4uLnVzZXJPcHRpb25zLFxuICAgICAgICAgICAgY2xvc2VDYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzRGlzbWlzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7IC8vIGNsb3NlIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlLCBzbyB3ZSBjYWxsIGl0IGhlcmUgdG8gc2V0dXAgdGhlIGV4aXQgZXZlbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc21pc3MubmV4dCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNtaXNzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogIXRoaXMuX2NvbmZpZy5kaXNhYmxlQ2xvc2UsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICAgIH1cbiAgICBfc3RhcnRFeGl0QW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLl9jbG9zZUNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMucG9ydGFsT3V0bGV0LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgc3RhcnRNb2RhbE5hdmlnYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5wYXJlbnRWaWV3IGluc3RhbmNlb2YgRnJhbWUgPyB0aGlzLnBhcmVudFZpZXcgOiB0aGlzLnBhcmVudFZpZXc/LnBhZ2U/LmZyYW1lIHx8IEZyYW1lLnRvcG1vc3QoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvbj8uX2JlZ2luTW9kYWxOYXZpZ2F0aW9uKGZyYW1lKTtcbiAgICB9XG59O1xuTmF0aXZlTW9kYWxSZWYgPSBfX2RlY29yYXRlKFtcbiAgICBfX3BhcmFtKDIsIE9wdGlvbmFsKCkpLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbTmF0aXZlRGlhbG9nQ29uZmlnLCBJbmplY3RvciwgTlNMb2NhdGlvblN0cmF0ZWd5XSlcbl0sIE5hdGl2ZU1vZGFsUmVmKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogSW5qZWN0aW9uIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBkYXRhIHRoYXQgd2FzIHBhc3NlZCBpbiB0byBhIGRpYWxvZy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREFUQSA9IG5ldyBJbmplY3Rpb25Ub2tlbignTmF0aXZlRGlhbG9nRGF0YScpO1xuLyoqIEluamVjdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgZGVmYXVsdCBkaWFsb2cgb3B0aW9ucy4gKi9cbmNvbnN0IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TID0gbmV3IEluamVjdGlvblRva2VuKCduYXRpdmUtZGlhbG9nLWRlZmF1bHQtb3B0aW9ucycpO1xuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBkaWFsb2cgc2VydmljZXMuIFRoZSBiYXNlIGRpYWxvZyBzZXJ2aWNlIGFsbG93c1xuICogZm9yIGFyYml0cmFyeSBkaWFsb2cgcmVmcyBhbmQgZGlhbG9nIGNvbnRhaW5lciBjb21wb25lbnRzLlxuICovXG5jbGFzcyBfTmF0aXZlRGlhbG9nQmFzZSB7XG4gICAgLyoqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50bHktb3BlbiBkaWFsb2dzLiAqL1xuICAgIGdldCBvcGVuRGlhbG9ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudERpYWxvZyA/IHRoaXMuX3BhcmVudERpYWxvZy5vcGVuRGlhbG9ncyA6IHRoaXMuX29wZW5EaWFsb2dzQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIC8qKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGEgZGlhbG9nIGhhcyBiZWVuIG9wZW5lZC4gKi9cbiAgICBnZXQgYWZ0ZXJPcGVuZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnREaWFsb2cgPyB0aGlzLl9wYXJlbnREaWFsb2cuYWZ0ZXJPcGVuZWQgOiB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsO1xuICAgIH1cbiAgICBfZ2V0QWZ0ZXJBbGxDbG9zZWQoKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3BhcmVudERpYWxvZztcbiAgICAgICAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKSA6IHRoaXMuX2FmdGVyQWxsQ2xvc2VkQXRUaGlzTGV2ZWw7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKF9pbmplY3RvciwgX2RlZmF1bHRPcHRpb25zLCBfcGFyZW50RGlhbG9nLCBfZGlhbG9nUmVmQ29uc3RydWN0b3IsIF9uYXRpdmVNb2RhbFR5cGUsIF9kaWFsb2dEYXRhVG9rZW4sIGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRPcHRpb25zID0gX2RlZmF1bHRPcHRpb25zO1xuICAgICAgICB0aGlzLl9wYXJlbnREaWFsb2cgPSBfcGFyZW50RGlhbG9nO1xuICAgICAgICB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvciA9IF9kaWFsb2dSZWZDb25zdHJ1Y3RvcjtcbiAgICAgICAgdGhpcy5fbmF0aXZlTW9kYWxUeXBlID0gX25hdGl2ZU1vZGFsVHlwZTtcbiAgICAgICAgdGhpcy5fZGlhbG9nRGF0YVRva2VuID0gX2RpYWxvZ0RhdGFUb2tlbjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5fb3BlbkRpYWxvZ3NBdFRoaXNMZXZlbCA9IFtdO1xuICAgICAgICB0aGlzLl9hZnRlckFsbENsb3NlZEF0VGhpc0xldmVsID0gbmV3IFN1YmplY3QoKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJPcGVuZWRBdFRoaXNMZXZlbCA9IG5ldyBTdWJqZWN0KCk7XG4gICAgICAgIC8vIFRPRE8gKGplbGJvdXJuKTogdGlnaHRlbiB0aGUgdHlwaW5nIHJpZ2h0LWhhbmQgc2lkZSBvZiB0aGlzIGV4cHJlc3Npb24uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGFsbCBvcGVuIGRpYWxvZyBoYXZlIGZpbmlzaGVkIGNsb3NpbmcuXG4gICAgICAgICAqIFdpbGwgZW1pdCBvbiBzdWJzY3JpYmUgaWYgdGhlcmUgYXJlIG5vIG9wZW4gZGlhbG9ncyB0byBiZWdpbiB3aXRoLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZnRlckFsbENsb3NlZCA9IGRlZmVyKCgpID0+ICh0aGlzLm9wZW5EaWFsb2dzLmxlbmd0aCA/IHRoaXMuX2dldEFmdGVyQWxsQ2xvc2VkKCkgOiB0aGlzLl9nZXRBZnRlckFsbENsb3NlZCgpLnBpcGUoc3RhcnRXaXRoKHVuZGVmaW5lZCkpKSk7XG4gICAgfVxuICAgIG9wZW4oY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IF9hcHBseUNvbmZpZ0RlZmF1bHRzKGNvbmZpZywgdGhpcy5fZGVmYXVsdE9wdGlvbnMgfHwgbmV3IE5hdGl2ZURpYWxvZ0NvbmZpZygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pZCAmJiB0aGlzLmdldERpYWxvZ0J5SWQoY29uZmlnLmlkKSAmJiAodHlwZW9mIGdsb2JhbC5uZ0Rldk1vZGUgPT09ICd1bmRlZmluZWQnIHx8IGdsb2JhbC5uZ0Rldk1vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgRGlhbG9nIHdpdGggaWQgXCIke2NvbmZpZy5pZH1cIiBleGlzdHMgYWxyZWFkeS4gVGhlIGRpYWxvZyBpZCBtdXN0IGJlIHVuaXF1ZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLl9hdHRhY2hEaWFsb2dDb250ZW50KGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMub3BlbkRpYWxvZ3MucHVzaChkaWFsb2dSZWYpO1xuICAgICAgICBkaWFsb2dSZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKCkgPT4gdGhpcy5fcmVtb3ZlT3BlbkRpYWxvZyhkaWFsb2dSZWYpKTtcbiAgICAgICAgdGhpcy5hZnRlck9wZW5lZC5uZXh0KGRpYWxvZ1JlZik7XG4gICAgICAgIC8vIE5vdGlmeSB0aGUgZGlhbG9nIGNvbnRhaW5lciB0aGF0IHRoZSBjb250ZW50IGhhcyBiZWVuIGF0dGFjaGVkLlxuICAgICAgICAvLyBkaWFsb2dDb250YWluZXIuX2luaXRpYWxpemVXaXRoQXR0YWNoZWRDb250ZW50KCk7XG4gICAgICAgIHJldHVybiBkaWFsb2dSZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyBhbGwgb2YgdGhlIGN1cnJlbnRseS1vcGVuIGRpYWxvZ3MuXG4gICAgICovXG4gICAgY2xvc2VBbGwoKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlRGlhbG9ncyh0aGlzLm9wZW5EaWFsb2dzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgYW4gb3BlbiBkaWFsb2cgYnkgaXRzIGlkLlxuICAgICAqIEBwYXJhbSBpZCBJRCB0byB1c2Ugd2hlbiBsb29raW5nIHVwIHRoZSBkaWFsb2cuXG4gICAgICovXG4gICAgZ2V0RGlhbG9nQnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuRGlhbG9ncy5maW5kKChkaWFsb2cpID0+IGRpYWxvZy5pZCA9PT0gaWQpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgLy8gT25seSBjbG9zZSB0aGUgZGlhbG9ncyBhdCB0aGlzIGxldmVsIG9uIGRlc3Ryb3lcbiAgICAgICAgLy8gc2luY2UgdGhlIHBhcmVudCBzZXJ2aWNlIG1heSBzdGlsbCBiZSBhY3RpdmUuXG4gICAgICAgIHRoaXMuX2Nsb3NlRGlhbG9ncyh0aGlzLl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsKTtcbiAgICAgICAgdGhpcy5fYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbC5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLl9hZnRlck9wZW5lZEF0VGhpc0xldmVsLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSB1c2VyLXByb3ZpZGVkIGNvbXBvbmVudCB0byB0aGUgYWxyZWFkeS1jcmVhdGVkIGRpYWxvZyBjb250YWluZXIuXG4gICAgICogQHBhcmFtIGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgVGhlIHR5cGUgb2YgY29tcG9uZW50IGJlaW5nIGxvYWRlZCBpbnRvIHRoZSBkaWFsb2csXG4gICAgICogICAgIG9yIGEgVGVtcGxhdGVSZWYgdG8gaW5zdGFudGlhdGUgYXMgdGhlIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIGRpYWxvZ0NvbnRhaW5lciBSZWZlcmVuY2UgdG8gdGhlIHdyYXBwaW5nIGRpYWxvZyBjb250YWluZXIuXG4gICAgICogQHBhcmFtIG92ZXJsYXlSZWYgUmVmZXJlbmNlIHRvIHRoZSBvdmVybGF5IGluIHdoaWNoIHRoZSBkaWFsb2cgcmVzaWRlcy5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRoZSBkaWFsb2cgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgcmVzb2x2aW5nIHRvIHRoZSBNYXREaWFsb2dSZWYgdGhhdCBzaG91bGQgYmUgcmV0dXJuZWQgdG8gdGhlIHVzZXIuXG4gICAgICovXG4gICAgX2F0dGFjaERpYWxvZ0NvbnRlbnQoY29tcG9uZW50T3JUZW1wbGF0ZVJlZiwgY29uZmlnKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIHJlZmVyZW5jZSB0byB0aGUgZGlhbG9nIHdlJ3JlIGNyZWF0aW5nIGluIG9yZGVyIHRvIGdpdmUgdGhlIHVzZXIgYSBoYW5kbGVcbiAgICAgICAgLy8gdG8gbW9kaWZ5IGFuZCBjbG9zZSBpdC5cbiAgICAgICAgY29uc3QgbmF0aXZlTW9kYWxSZWYgPSBuZXcgdGhpcy5fbmF0aXZlTW9kYWxUeXBlKGNvbmZpZywgdGhpcy5faW5qZWN0b3IsIHRoaXMubG9jYXRpb25TdHJhdGVneSk7XG4gICAgICAgIGNvbnN0IGRpYWxvZ1JlZiA9IG5ldyB0aGlzLl9kaWFsb2dSZWZDb25zdHJ1Y3RvcihuYXRpdmVNb2RhbFJlZiwgY29uZmlnLmlkKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikge1xuICAgICAgICAgICAgLy8gICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IG9wdGlvbnMucmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGV0YWNoZWRMb2FkZXIpO1xuICAgICAgICAgICAgLy8gICAgIGlmKG9wdGlvbnMuYXR0YWNoVG9Db250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBvcHRpb25zLmF0dGFjaFRvQ29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnksIDAsIGNoaWxkSW5qZWN0b3IsIG51bGwpO1xuICAgICAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGRldGFjaGVkTG9hZGVyUmVmID0gZGV0YWNoZWRGYWN0b3J5LmNyZWF0ZShjaGlsZEluamVjdG9yKTsgLy8gdGhpcyBEZXRhY2hlZExvYWRlciBpcyAqKmNvbXBsZXRlbHkqKiBkZXRhY2hlZFxuICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmFwcFJlZi5hdHRhY2hWaWV3KGRldGFjaGVkTG9hZGVyUmVmLmhvc3RWaWV3KTsgLy8gd2UgYXR0YWNoIGl0IHRvIHRoZSBhcHBsaWNhdGlvblJlZiwgc28gaXQgYmVjb21lcyBhIFwicm9vdFwiIHZpZXcgaW4gYW5ndWxhcidzIGhpZXJhcmNoeVxuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7IC8vIGZvcmNlIGEgY2hhbmdlIGRldGVjdGlvblxuICAgICAgICAgICAgLy8gICAgIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLmNyZWF0ZVRlbXBsYXRlUG9ydGFsKG9wdGlvbnMudGVtcGxhdGVSZWYpO1xuICAgICAgICAgICAgbmF0aXZlTW9kYWxSZWYuYXR0YWNoVGVtcGxhdGVQb3J0YWwoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgbmV3IFRlbXBsYXRlUG9ydGFsKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIG51bGwsIHsgJGltcGxpY2l0OiBjb25maWcuZGF0YSwgZGlhbG9nUmVmIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluamVjdG9yID0gdGhpcy5fY3JlYXRlSW5qZWN0b3IoY29uZmlnLCBkaWFsb2dSZWYpO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFJlZiA9IG5hdGl2ZU1vZGFsUmVmLmF0dGFjaENvbXBvbmVudFBvcnRhbChuZXcgQ29tcG9uZW50UG9ydGFsKGNvbXBvbmVudE9yVGVtcGxhdGVSZWYsIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmLCBpbmplY3RvcikpO1xuICAgICAgICAgICAgZGlhbG9nUmVmLmNvbXBvbmVudEluc3RhbmNlID0gY29udGVudFJlZi5pbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlhbG9nUmVmO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIGluamVjdG9yIHRvIGJlIHVzZWQgaW5zaWRlIHRoZSBkaWFsb2cuIFRoaXMgYWxsb3dzIGEgY29tcG9uZW50IGxvYWRlZCBpbnNpZGVcbiAgICAgKiBvZiBhIGRpYWxvZyB0byBjbG9zZSBpdHNlbGYgYW5kLCBvcHRpb25hbGx5LCB0byByZXR1cm4gYSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gY29uZmlnIENvbmZpZyBvYmplY3QgdGhhdCBpcyB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgZGlhbG9nLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZWYgUmVmZXJlbmNlIHRvIHRoZSBkaWFsb2cuXG4gICAgICogQHBhcmFtIGRpYWxvZ0NvbnRhaW5lciBEaWFsb2cgY29udGFpbmVyIGVsZW1lbnQgdGhhdCB3cmFwcyBhbGwgb2YgdGhlIGNvbnRlbnRzLlxuICAgICAqIEByZXR1cm5zIFRoZSBjdXN0b20gaW5qZWN0b3IgdGhhdCBjYW4gYmUgdXNlZCBpbnNpZGUgdGhlIGRpYWxvZy5cbiAgICAgKi9cbiAgICBfY3JlYXRlSW5qZWN0b3IoY29uZmlnLCBkaWFsb2dSZWYpIHtcbiAgICAgICAgY29uc3QgdXNlckluamVjdG9yID0gY29uZmlnICYmIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmICYmIGNvbmZpZy52aWV3Q29udGFpbmVyUmVmLmluamVjdG9yO1xuICAgICAgICAvLyBUaGUgZGlhbG9nIGNvbnRhaW5lciBzaG91bGQgYmUgcHJvdmlkZWQgYXMgdGhlIGRpYWxvZyBjb250YWluZXIgYW5kIHRoZSBkaWFsb2cnc1xuICAgICAgICAvLyBjb250ZW50IGFyZSBjcmVhdGVkIG91dCBvZiB0aGUgc2FtZSBgVmlld0NvbnRhaW5lclJlZmAgYW5kIGFzIHN1Y2gsIGFyZSBzaWJsaW5nc1xuICAgICAgICAvLyBmb3IgaW5qZWN0b3IgcHVycG9zZXMuIFRvIGFsbG93IHRoZSBoaWVyYXJjaHkgdGhhdCBpcyBleHBlY3RlZCwgdGhlIGRpYWxvZ1xuICAgICAgICAvLyBjb250YWluZXIgaXMgZXhwbGljaXRseSBwcm92aWRlZCBpbiB0aGUgaW5qZWN0b3IuXG4gICAgICAgIGNvbnN0IHByb3ZpZGVycyA9IFtcbiAgICAgICAgICAgIHsgcHJvdmlkZTogdGhpcy5fZGlhbG9nRGF0YVRva2VuLCB1c2VWYWx1ZTogY29uZmlnLmRhdGEgfSxcbiAgICAgICAgICAgIHsgcHJvdmlkZTogdGhpcy5fZGlhbG9nUmVmQ29uc3RydWN0b3IsIHVzZVZhbHVlOiBkaWFsb2dSZWYgfSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIEluamVjdG9yLmNyZWF0ZSh7IHBhcmVudDogdXNlckluamVjdG9yIHx8IHRoaXMuX2luamVjdG9yLCBwcm92aWRlcnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBkaWFsb2cgZnJvbSB0aGUgYXJyYXkgb2Ygb3BlbiBkaWFsb2dzLlxuICAgICAqIEBwYXJhbSBkaWFsb2dSZWYgRGlhbG9nIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgX3JlbW92ZU9wZW5EaWFsb2coZGlhbG9nUmVmKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vcGVuRGlhbG9ncy5pbmRleE9mKGRpYWxvZ1JlZik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5EaWFsb2dzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAvLyBJZiBhbGwgdGhlIGRpYWxvZ3Mgd2VyZSBjbG9zZWQsIHJlbW92ZS9yZXN0b3JlIHRoZSBgYXJpYS1oaWRkZW5gXG4gICAgICAgICAgICAvLyB0byBhIHRoZSBzaWJsaW5ncyBhbmQgZW1pdCB0byB0aGUgYGFmdGVyQWxsQ2xvc2VkYCBzdHJlYW0uXG4gICAgICAgICAgICBpZiAoIXRoaXMub3BlbkRpYWxvZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0QWZ0ZXJBbGxDbG9zZWQoKS5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIENsb3NlcyBhbGwgb2YgdGhlIGRpYWxvZ3MgaW4gYW4gYXJyYXkuICovXG4gICAgX2Nsb3NlRGlhbG9ncyhkaWFsb2dzKSB7XG4gICAgICAgIGxldCBpID0gZGlhbG9ncy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIC8vIFRoZSBgX29wZW5EaWFsb2dzYCBwcm9wZXJ0eSBpc24ndCB1cGRhdGVkIGFmdGVyIGNsb3NlIHVudGlsIHRoZSByeGpzIHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgLy8gcnVucyBvbiB0aGUgbmV4dCBtaWNyb3Rhc2ssIGluIGFkZGl0aW9uIHRvIG1vZGlmeWluZyB0aGUgYXJyYXkgYXMgd2UncmUgZ29pbmdcbiAgICAgICAgICAgIC8vIHRocm91Z2ggaXQuIFdlIGxvb3AgdGhyb3VnaCBhbGwgb2YgdGhlbSBhbmQgY2FsbCBjbG9zZSB3aXRob3V0IGFzc3VtaW5nIHRoYXRcbiAgICAgICAgICAgIC8vIHRoZXknbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IGluc3RhbnRhbmVvdXNseS5cbiAgICAgICAgICAgIGRpYWxvZ3NbaV0uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBkZXBzOiBcImludmFsaWRcIiwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IF9OYXRpdmVEaWFsb2dCYXNlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBfTmF0aXZlRGlhbG9nQmFzZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkluamVjdG9yIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogdW5kZWZpbmVkIH0sIHsgdHlwZTogaTAuVHlwZSB9LCB7IHR5cGU6IGkwLlR5cGUgfSwgeyB0eXBlOiBpMC5JbmplY3Rpb25Ub2tlbiB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XSB9KTtcbi8qKlxuICogU2VydmljZSB0byBvcGVuIE1hdGVyaWFsIERlc2lnbiBtb2RhbCBkaWFsb2dzLlxuICovXG5jbGFzcyBOYXRpdmVEaWFsb2dTZXJ2aWNlIGV4dGVuZHMgX05hdGl2ZURpYWxvZ0Jhc2Uge1xuICAgIGNvbnN0cnVjdG9yKGluamVjdG9yLCBkZWZhdWx0T3B0aW9ucywgcGFyZW50RGlhbG9nLCBsb2NhdGlvbikge1xuICAgICAgICBzdXBlcihpbmplY3RvciwgZGVmYXVsdE9wdGlvbnMsIHBhcmVudERpYWxvZywgTmF0aXZlRGlhbG9nUmVmLCBOYXRpdmVNb2RhbFJlZiwgTkFUSVZFX0RJQUxPR19EQVRBLCBsb2NhdGlvbik7XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSwgZGVwczogW3sgdG9rZW46IGkwLkluamVjdG9yIH0sIHsgdG9rZW46IE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TLCBvcHRpb25hbDogdHJ1ZSB9LCB7IHRva2VuOiBOYXRpdmVEaWFsb2dTZXJ2aWNlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5LCBvcHRpb25hbDogdHJ1ZSB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5JbmplY3RhYmxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtXByb3YgPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0YWJsZSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogaTAuSW5qZWN0b3IgfSwgeyB0eXBlOiBOYXRpdmVEaWFsb2dDb25maWcsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtOQVRJVkVfRElBTE9HX0RFRkFVTFRfT1BUSU9OU11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5hdGl2ZURpYWxvZ1NlcnZpY2UsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBTa2lwU2VsZlxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBPcHRpb25hbFxuICAgICAgICAgICAgICAgIH1dIH1dIH0pO1xuLyoqXG4gKiBBcHBsaWVzIGRlZmF1bHQgb3B0aW9ucyB0byB0aGUgZGlhbG9nIGNvbmZpZy5cbiAqIEBwYXJhbSBjb25maWcgQ29uZmlnIHRvIGJlIG1vZGlmaWVkLlxuICogQHBhcmFtIGRlZmF1bHRPcHRpb25zIERlZmF1bHQgb3B0aW9ucyBwcm92aWRlZC5cbiAqIEByZXR1cm5zIFRoZSBuZXcgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIF9hcHBseUNvbmZpZ0RlZmF1bHRzKGNvbmZpZywgZGVmYXVsdE9wdGlvbnMpIHtcbiAgICByZXR1cm4geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4uY29uZmlnIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCdXR0b24gdGhhdCB3aWxsIGNsb3NlIHRoZSBjdXJyZW50IGRpYWxvZy5cbiAqL1xuY2xhc3MgTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoZSBkaWFsb2cgdGl0bGUgZGlyZWN0aXZlIGlzIGFsd2F5cyB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggYSBgTWF0RGlhbG9nUmVmYC5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IGxpZ2h0d2VpZ2h0LXRva2Vuc1xuICAgIGRpYWxvZ1JlZiwgX2VsZW1lbnRSZWYsIF9kaWFsb2cpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dSZWYgPSBkaWFsb2dSZWY7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRSZWYgPSBfZWxlbWVudFJlZjtcbiAgICAgICAgdGhpcy5fZGlhbG9nID0gX2RpYWxvZztcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5kaWFsb2dSZWYpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgaW5jbHVkZWQgaW4gYSBkaWFsb2cgdmlhIFRlbXBsYXRlUmVmIChyYXRoZXIgdGhhbiBiZWluZ1xuICAgICAgICAgICAgLy8gaW4gYSBDb21wb25lbnQpLCB0aGUgRGlhbG9nUmVmIGlzbid0IGF2YWlsYWJsZSB2aWEgaW5qZWN0aW9uIGJlY2F1c2UgZW1iZWRkZWRcbiAgICAgICAgICAgIC8vIHZpZXdzIGNhbm5vdCBiZSBnaXZlbiBhIGN1c3RvbSBpbmplY3Rvci4gSW5zdGVhZCwgd2UgbG9vayB1cCB0aGUgRGlhbG9nUmVmIGJ5XG4gICAgICAgICAgICAvLyBJRC4gVGhpcyBtdXN0IG9jY3VyIGluIGBvbkluaXRgLCBhcyB0aGUgSUQgYmluZGluZyBmb3IgdGhlIGRpYWxvZyBjb250YWluZXIgd29uJ3RcbiAgICAgICAgICAgIC8vIGJlIHJlc29sdmVkIGF0IGNvbnN0cnVjdG9yIHRpbWUuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgdGhpcy5kaWFsb2dSZWYgPSBnZXRDbG9zZXN0RGlhbG9nKHRoaXMuX2VsZW1lbnRSZWYsIHRoaXMuX2RpYWxvZy5vcGVuRGlhbG9ncyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xuICAgICAgICBjb25zdCBwcm94aWVkQ2hhbmdlID0gY2hhbmdlc1snX21hdERpYWxvZ0Nsb3NlJ10gfHwgY2hhbmdlc1snX21hdERpYWxvZ0Nsb3NlUmVzdWx0J107XG4gICAgICAgIGlmIChwcm94aWVkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZ1Jlc3VsdCA9IHByb3hpZWRDaGFuZ2UuY3VycmVudFZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbkJ1dHRvbkNsaWNrKCkge1xuICAgICAgICAvLyBEZXRlcm1pbmF0ZSB0aGUgZm9jdXMgb3JpZ2luIHVzaW5nIHRoZSBjbGljayBldmVudCwgYmVjYXVzZSB1c2luZyB0aGUgRm9jdXNNb25pdG9yIHdpbGxcbiAgICAgICAgLy8gcmVzdWx0IGluIGluY29ycmVjdCBvcmlnaW5zLiBNb3N0IG9mIHRoZSB0aW1lLCBjbG9zZSBidXR0b25zIHdpbGwgYmUgYXV0byBmb2N1c2VkIGluIHRoZVxuICAgICAgICAvLyBkaWFsb2csIGFuZCB0aGVyZWZvcmUgY2xpY2tpbmcgdGhlIGJ1dHRvbiB3b24ndCByZXN1bHQgaW4gYSBmb2N1cyBjaGFuZ2UuIFRoaXMgbWVhbnMgdGhhdFxuICAgICAgICAvLyB0aGUgRm9jdXNNb25pdG9yIHdvbid0IGRldGVjdCBhbnkgb3JpZ2luIGNoYW5nZSwgYW5kIHdpbGwgYWx3YXlzIG91dHB1dCBgcHJvZ3JhbWAuXG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMuZGlhbG9nUmVzdWx0KTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgZGVwczogW3sgdG9rZW46IE5hdGl2ZURpYWxvZ1JlZiwgb3B0aW9uYWw6IHRydWUgfSwgeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9LCB7IHRva2VuOiBOYXRpdmVEaWFsb2dTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkRpcmVjdGl2ZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVkaXIgPSBpMC7Jtcm1bmdEZWNsYXJlRGlyZWN0aXZlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUsIHNlbGVjdG9yOiBcIltuYXRpdmUtZGlhbG9nLWNsb3NlXSwgW25hdGl2ZURpYWxvZ0Nsb3NlXVwiLCBpbnB1dHM6IHsgZGlhbG9nUmVzdWx0OiBbXCJuYXRpdmUtZGlhbG9nLWNsb3NlXCIsIFwiZGlhbG9nUmVzdWx0XCJdLCBfbWF0RGlhbG9nQ2xvc2U6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCIsIFwiX21hdERpYWxvZ0Nsb3NlXCJdIH0sIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidGFwXCI6IFwiX29uQnV0dG9uQ2xpY2soKVwiIH0gfSwgZXhwb3J0QXM6IFtcIm5hdGl2ZURpYWxvZ0Nsb3NlXCJdLCB1c2VzT25DaGFuZ2VzOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvZGlyZWN0aXZlLXNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnW25hdGl2ZS1kaWFsb2ctY2xvc2VdLCBbbmF0aXZlRGlhbG9nQ2xvc2VdJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0QXM6ICduYXRpdmVEaWFsb2dDbG9zZScsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBOYXRpdmVEaWFsb2dSZWYsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IE9wdGlvbmFsXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBpMC5FbGVtZW50UmVmIH0sIHsgdHlwZTogTmF0aXZlRGlhbG9nU2VydmljZSB9XSwgcHJvcERlY29yYXRvcnM6IHsgZGlhbG9nUmVzdWx0OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmF0aXZlLWRpYWxvZy1jbG9zZSddXG4gICAgICAgICAgICB9XSwgX21hdERpYWxvZ0Nsb3NlOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbmF0aXZlRGlhbG9nQ2xvc2UnXVxuICAgICAgICAgICAgfV0sIF9vbkJ1dHRvbkNsaWNrOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IEhvc3RMaXN0ZW5lcixcbiAgICAgICAgICAgICAgICBhcmdzOiBbJ3RhcCddXG4gICAgICAgICAgICB9XSB9IH0pO1xuLyoqXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBNYXREaWFsb2dSZWYgdG8gYW4gZWxlbWVudCBieSBsb29raW5nIGF0IHRoZSBET00uXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IHJlbGF0aXZlIHRvIHdoaWNoIHRvIGxvb2sgZm9yIGEgZGlhbG9nLlxuICogQHBhcmFtIG9wZW5EaWFsb2dzIFJlZmVyZW5jZXMgdG8gdGhlIGN1cnJlbnRseS1vcGVuIGRpYWxvZ3MuXG4gKi9cbmZ1bmN0aW9uIGdldENsb3Nlc3REaWFsb2coZWxlbWVudCwgb3BlbkRpYWxvZ3MpIHtcbiAgICBsZXQgdmlldyA9IGVsZW1lbnQubmF0aXZlRWxlbWVudC5wYXJlbnQ7XG4gICAgd2hpbGUgKHZpZXcgJiYgIU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZpZXcsICdfX25nX21vZGFsX2lkX18nKSkge1xuICAgICAgICB2aWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiB2aWV3ID8gb3BlbkRpYWxvZ3MuZmluZCgoZGlhbG9nKSA9PiBkaWFsb2cuaWQgPT09IHZpZXdbJ19fbmdfbW9kYWxfaWRfXyddKSA6IG51bGw7XG59XG5cbmNsYXNzIE5hdGl2ZURpYWxvZ01vZHVsZSB7XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sIGV4cG9ydHM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVEaWFsb2dNb2R1bGUsIHByb3ZpZGVyczogW05hdGl2ZURpYWxvZ1NlcnZpY2VdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlRGlhbG9nTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV0sXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05hdGl2ZURpYWxvZ1NlcnZpY2VdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vLyBBbGxvd3MgZ3JlYXRlciBmbGV4aWJpbGl0eSB3aXRoIGBmaWxlLXN5c3RlbWAgYW5kIEFuZ3VsYXJcbi8vIEFsc28gcHJvdmlkZXMgYSB3YXkgZm9yIGBmaWxlLXN5c3RlbWAgdG8gYmUgbW9ja2VkIGZvciB0ZXN0aW5nXG5jbGFzcyBOU0ZpbGVTeXN0ZW0ge1xuICAgIGN1cnJlbnRBcHAoKSB7XG4gICAgICAgIHJldHVybiBrbm93bkZvbGRlcnMuY3VycmVudEFwcCgpO1xuICAgIH1cbiAgICBmaWxlRnJvbVBhdGgocGF0aCkge1xuICAgICAgICByZXR1cm4gRmlsZS5mcm9tUGF0aChwYXRoKTtcbiAgICB9XG4gICAgZmlsZUV4aXN0cyhwYXRoKSB7XG4gICAgICAgIHJldHVybiBGaWxlLmV4aXN0cyhwYXRoKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU0ZpbGVTeXN0ZW0sIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIGNyZWF0ZXMgYSBEZXRhY2hlZExvYWRlciBlaXRoZXIgbGlua2VkIHRvIHRoZSBWaWV3Q29udGFpbmVyUmVmIG9yIHRoZSBBcHBsaWNhdGlvblJlZiBpZiBWaWV3Q29udGFpbmVyUmVmIGlzIG5vdCBkZWZpbmVkXG4gKiBAcGFyYW0gcmVzb2x2ZXIgY29tcG9uZW50IGZhY3RvcnkgcmVzb2x2ZXJcbiAqIEBwYXJhbSBpbmplY3RvciBkZWZhdWx0IGluamVjdG9yLCB1bnVzZWQgaWYgdmlld0NvbnRhaW5lclJlZiBpcyBzZXRcbiAqIEBwYXJhbSB2aWV3Q29udGFpbmVyUmVmIHdoZXJlIHRoZSB2aWV3IHNob3VsZCBsaXZlIGluIHRoZSBhbmd1bGFyIHRyZWVcbiAqIEByZXR1cm5zIHJlZmVyZW5jZSB0byB0aGUgRGV0YWNoZWRMb2FkZXJcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVEZXRhY2hlZExvYWRlcihyZXNvbHZlciwgaW5qZWN0b3IsIHZpZXdDb250YWluZXJSZWYpIHtcbiAgICBpbmplY3RvciA9IHZpZXdDb250YWluZXJSZWY/LmluamVjdG9yIHx8IGluamVjdG9yO1xuICAgIGNvbnN0IGRldGFjaGVkRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICBjb25zdCBkZXRhY2hlZExvYWRlclJlZiA9IHZpZXdDb250YWluZXJSZWY/LmNyZWF0ZUNvbXBvbmVudChkZXRhY2hlZEZhY3RvcnkpIHx8IGRldGFjaGVkRmFjdG9yeS5jcmVhdGUoaW5qZWN0b3IpO1xuICAgIGlmICghdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLmF0dGFjaFZpZXcoZGV0YWNoZWRMb2FkZXJSZWYuaG9zdFZpZXcpO1xuICAgIH1cbiAgICBkZXRhY2hlZExvYWRlclJlZi5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgcmV0dXJuIGRldGFjaGVkTG9hZGVyUmVmO1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBOZ1ZpZXdSZWYgZnJvbSBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZS4gQHNlZSBOZ1ZpZXdSZWZcbiAqIFBhc3Mga2VlcE5hdGl2ZVZpZXdBdHRhY2hlZCBhcyBgdHJ1ZWAgaWYgeW91IGRvbid0IHdhbnQgdGhlIGZpcnN0IG5hdGl2ZSB2aWV3IHRvIGJlIGRldGFjaGVkIGZyb20gaXRzIHBhcmVudC5cbiAqIEZvciBvcGVuaW5nIG1vZGFscyBhbmQgb3RoZXJzLCB0aGUgZmlyc3ROYXRpdmVMaWtlVmlldyBzaG91bGQgYmUgZGV0YWNoZWQuXG4gKiBAcGFyYW0gdHlwZU9yVGVtcGxhdGUgQ29tcG9uZW50VHlwZSBvciBUZW1wbGF0ZVJlZiB0aGF0IHNob3VsZCBiZSBpbnN0YW5jZWRcbiAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSB2aWV3XG4gKiBAcmV0dXJucyBOZ1ZpZXdSZWZcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3KHR5cGVPclRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgbGV0IGRldGFjaGVkTG9hZGVyUmVmID0gb3B0aW9ucy5kZXRhY2hlZExvYWRlclJlZjtcbiAgICBjb25zdCByZXVzaW5nRGV0YWNoZWRMb2FkZXIgPSAhIWRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmIChyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmID0gZGV0YWNoZWRMb2FkZXJSZWYuaW5zdGFuY2UudmM7XG4gICAgfVxuICAgIGNvbnN0IGluamVjdG9yID0gb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmPy5pbmplY3RvciB8fCBvcHRpb25zLmluamVjdG9yO1xuICAgIGNvbnN0IHJlc29sdmVyID0gb3B0aW9ucy5yZXNvbHZlciB8fCBpbmplY3Rvci5nZXQoQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKTtcbiAgICBpZiAoIWRldGFjaGVkTG9hZGVyUmVmICYmIChvcHRpb25zLnZpZXdDb250YWluZXJSZWYgfHwgdHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikpIHtcbiAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYgPSBnZW5lcmF0ZURldGFjaGVkTG9hZGVyKHJlc29sdmVyLCBpbmplY3Rvciwgb3B0aW9ucy52aWV3Q29udGFpbmVyUmVmKTtcbiAgICB9XG4gICAgbGV0IHBvcnRhbDtcbiAgICBpZiAodHlwZU9yVGVtcGxhdGUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlZikge1xuICAgICAgICBwb3J0YWwgPSBuZXcgVGVtcGxhdGVQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmLmluc3RhbmNlLnZjKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwodHlwZU9yVGVtcGxhdGUsIGRldGFjaGVkTG9hZGVyUmVmPy5pbnN0YW5jZS52Yyk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFZpZXcgPSBuZXcgQ29udGVudFZpZXcoKTtcbiAgICBjb25zdCBwb3J0YWxPdXRsZXQgPSBuZXcgTmF0aXZlU2NyaXB0RG9tUG9ydGFsT3V0bGV0KHBhcmVudFZpZXcsIHJlc29sdmVyLCBpbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpLCBpbmplY3Rvcik7XG4gICAgY29uc3QgY29tcG9uZW50T3JUZW1wbGF0ZVJlZiA9IHBvcnRhbE91dGxldC5hdHRhY2gocG9ydGFsKTtcbiAgICBjb21wb25lbnRPclRlbXBsYXRlUmVmLm9uRGVzdHJveSgoKSA9PiB7XG4gICAgICAgIHBvcnRhbE91dGxldC5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgaWYgKGRldGFjaGVkTG9hZGVyUmVmICYmICFyZXVzaW5nRGV0YWNoZWRMb2FkZXIpIHtcbiAgICAgICAgY29tcG9uZW50T3JUZW1wbGF0ZVJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICAgICAgZGV0YWNoZWRMb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qgdmlld1JlZiA9IG5ldyBOZ1ZpZXdSZWYoY29tcG9uZW50T3JUZW1wbGF0ZVJlZik7XG4gICAgdmlld1JlZi5kZXRhY2hlZExvYWRlclJlZiA9IGRldGFjaGVkTG9hZGVyUmVmO1xuICAgIGlmICghb3B0aW9ucy5rZWVwTmF0aXZlVmlld0F0dGFjaGVkKSB7XG4gICAgICAgIHZpZXdSZWYuZGV0YWNoTmF0aXZlTGlrZVZpZXcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdSZWY7XG59XG5cbmNsYXNzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMub25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAvL1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVG91Y2hlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm4pIHtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IChhcmcpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGFuZ2VOb3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoYW5nZU5vdGlmaWNhdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgZm4oYXJnKTtcbiAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm4pIHtcbiAgICAgICAgdGhpcy5vblRvdWNoZWQgPSBmbjtcbiAgICB9XG4gICAgc2V0RGlzYWJsZWRTdGF0ZShpc0Rpc2FibGVkKSB7XG4gICAgICAgIHRoaXMudmlldy5pc0VuYWJsZWQgPSAhaXNEaXNhYmxlZDtcbiAgICB9XG4gICAgd3JpdGVWYWx1ZShfKSB7XG4gICAgICAgIC8vXG4gICAgfVxuICAgIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0JsYW5rKHZhbHVlKSA/IHVuc2V0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG59XG5cbmNvbnN0IFRFWFRfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gVGV4dFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciB3cml0aW5nIGEgdGV4dCBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFRleHRGaWVsZCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgVGV4dFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSA/IGAke3ZhbHVlfWAgOiB2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy50ZXh0ID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBUZXh0VmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiVGV4dEZpZWxkW25nTW9kZWxdLFRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLFRleHRGaWVsZFtmb3JtQ29udHJvbF0sdGV4dEZpZWxkW25nTW9kZWxdLHRleHRGaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRGaWVsZFtmb3JtQ29udHJvbF0sdGV4dGZpZWxkW25nTW9kZWxdLHRleHRmaWVsZFtmb3JtQ29udHJvbE5hbWVdLHRleHRmaWVsZFtmb3JtQ29udHJvbF0sdGV4dC1maWVsZFtuZ01vZGVsXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dC1maWVsZFtmb3JtQ29udHJvbF0sVGV4dFZpZXdbbmdNb2RlbF0sVGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUZXh0Vmlld1tmb3JtQ29udHJvbF0sdGV4dFZpZXdbbmdNb2RlbF0sdGV4dFZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0Vmlld1tmb3JtQ29udHJvbF0sdGV4dHZpZXdbbmdNb2RlbF0sdGV4dHZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0dmlld1tmb3JtQ29udHJvbF0sdGV4dC12aWV3W25nTW9kZWxdLHRleHQtdmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHQtdmlld1tmb3JtQ29udHJvbF0sU2VhcmNoQmFyW25nTW9kZWxdLFNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLFNlYXJjaEJhcltmb3JtQ29udHJvbF0sc2VhcmNoQmFyW25nTW9kZWxdLHNlYXJjaEJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaEJhcltmb3JtQ29udHJvbF0sc2VhcmNoYmFyW25nTW9kZWxdLHNlYXJjaGJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaGJhcltmb3JtQ29udHJvbF0sc2VhcmNoLWJhcltuZ01vZGVsXSwgc2VhcmNoLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlYXJjaC1iYXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwiYmx1clwiOiBcIm9uVG91Y2hlZCgpXCIsIFwidGV4dENoYW5nZVwiOiBcIm9uQ2hhbmdlKCRldmVudC52YWx1ZSlcIiB9IH0sIHByb3ZpZGVyczogW1RFWFRfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRleHRWYWx1ZUFjY2Vzc29yLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdUZXh0RmllbGRbbmdNb2RlbF0sVGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sVGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0RmllbGRbbmdNb2RlbF0sdGV4dEZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dEZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0ZmllbGRbbmdNb2RlbF0sdGV4dGZpZWxkW2Zvcm1Db250cm9sTmFtZV0sdGV4dGZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWZpZWxkW25nTW9kZWxdLHRleHQtZmllbGRbZm9ybUNvbnRyb2xOYW1lXSx0ZXh0LWZpZWxkW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUZXh0Vmlld1tuZ01vZGVsXSxUZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLFRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0Vmlld1tuZ01vZGVsXSx0ZXh0Vmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHRWaWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0dmlld1tuZ01vZGVsXSx0ZXh0dmlld1tmb3JtQ29udHJvbE5hbWVdLHRleHR2aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LXZpZXdbbmdNb2RlbF0sdGV4dC12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGV4dC12aWV3W2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWFyY2hCYXJbbmdNb2RlbF0sU2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hCYXJbbmdNb2RlbF0sc2VhcmNoQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoQmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2hiYXJbbmdNb2RlbF0sc2VhcmNoYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoYmFyW2Zvcm1Db250cm9sXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZWFyY2gtYmFyW25nTW9kZWxdLCBzZWFyY2gtYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VhcmNoLWJhcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtURVhUX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoYmx1ciknOiAnb25Ub3VjaGVkKCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyh0ZXh0Q2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV0gfSk7XG5cbmNvbnN0IENIRUNLRURfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gQ2hlY2tlZFZhbHVlQWNjZXNzb3IpLFxuICAgIG11bHRpOiB0cnVlLFxufTtcbi8qKlxuICogVGhlIGFjY2Vzc29yIGZvciBzZXR0aW5nIGEgY2hlY2tlZCBwcm9wZXJ0eSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9IGRpcmVjdGl2ZXMuXG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFN3aXRjaCBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgQ2hlY2tlZFZhbHVlQWNjZXNzb3IgZXh0ZW5kcyBCYXNlVmFsdWVBY2Nlc3NvciB7XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmlldy5jaGVja2VkID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3NvciwgZGVwczogW3sgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBDaGVja2VkVmFsdWVBY2Nlc3Nvciwgc2VsZWN0b3I6IFwiU3dpdGNoW25nTW9kZWxdLFN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLFN3aXRjaFtmb3JtQ29udHJvbF0sc3dpdGNoW25nTW9kZWxdLHN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLHN3aXRjaFtmb3JtQ29udHJvbF1cIiwgaG9zdDogeyBsaXN0ZW5lcnM6IHsgXCJjaGVja2VkQ2hhbmdlXCI6IFwib25DaGFuZ2UoJGV2ZW50LnZhbHVlKVwiIH0gfSwgcHJvdmlkZXJzOiBbQ0hFQ0tFRF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1N3aXRjaFtuZ01vZGVsXSxTd2l0Y2hbZm9ybUNvbnRyb2xOYW1lXSxTd2l0Y2hbZm9ybUNvbnRyb2xdLCcgKyAnc3dpdGNoW25nTW9kZWxdLHN3aXRjaFtmb3JtQ29udHJvbE5hbWVdLHN3aXRjaFtmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoY2hlY2tlZENoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dIH0pO1xuXG5jb25zdCBEQVRFX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IERhdGVWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIGRhdGUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxEYXRlUGlja2VyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBEYXRlVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LmRhdGUgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IERhdGVWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJEYXRlUGlja2VyW25nTW9kZWxdLERhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSxkYXRlUGlja2VyW25nTW9kZWxdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlUGlja2VyW2Zvcm1Db250cm9sXSxkYXRlLXBpY2tlcltuZ01vZGVsXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGUtcGlja2VyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcImRhdGVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBEYXRlVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnRGF0ZVBpY2tlcltuZ01vZGVsXSxEYXRlUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sRGF0ZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICdkYXRlcGlja2VyW25nTW9kZWxdLGRhdGVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ2RhdGVQaWNrZXJbbmdNb2RlbF0sZGF0ZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGRhdGVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAnZGF0ZS1waWNrZXJbbmdNb2RlbF0sZGF0ZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxkYXRlLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtEQVRFX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoZGF0ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dIH0pO1xuXG5jb25zdCBUSU1FX1ZBTFVFX0FDQ0VTU09SID0ge1xuICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVWYWx1ZUFjY2Vzc29yKSxcbiAgICBtdWx0aTogdHJ1ZSxcbn07XG4vKipcbiAqIFRoZSBhY2Nlc3NvciBmb3Igc2V0dGluZyBhIHRpbWUgYW5kIGxpc3RlbmluZyB0byBjaGFuZ2VzIHRoYXQgaXMgdXNlZCBieSB0aGVcbiAqIHtAbGluayBOZ01vZGVsfSBkaXJlY3RpdmVzLlxuICpcbiAqICAjIyMgRXhhbXBsZVxuICogIGBgYFxuICogIDxUaW1lUGlja2VyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBUaW1lVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnRpbWUgPSBub3JtYWxpemVkO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IFRpbWVWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJUaW1lUGlja2VyW25nTW9kZWxdLFRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sXSx0aW1lcGlja2VyW25nTW9kZWxdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sXSx0aW1lUGlja2VyW25nTW9kZWxdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lUGlja2VyW2Zvcm1Db250cm9sXSx0aW1lLXBpY2tlcltuZ01vZGVsXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWUtcGlja2VyW2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInRpbWVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtUSU1FX1ZBTFVFX0FDQ0VTU09SXSwgdXNlc0luaGVyaXRhbmNlOiB0cnVlLCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBUaW1lVmFsdWVBY2Nlc3NvciwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnVGltZVBpY2tlcltuZ01vZGVsXSxUaW1lUGlja2VyW2Zvcm1Db250cm9sTmFtZV0sVGltZVBpY2tlcltmb3JtQ29udHJvbF0sJyArICd0aW1lcGlja2VyW25nTW9kZWxdLHRpbWVwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lcGlja2VyW2Zvcm1Db250cm9sXSwnICsgJ3RpbWVQaWNrZXJbbmdNb2RlbF0sdGltZVBpY2tlcltmb3JtQ29udHJvbE5hbWVdLHRpbWVQaWNrZXJbZm9ybUNvbnRyb2xdLCcgKyAndGltZS1waWNrZXJbbmdNb2RlbF0sdGltZS1waWNrZXJbZm9ybUNvbnRyb2xOYW1lXSx0aW1lLXBpY2tlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtUSU1FX1ZBTFVFX0FDQ0VTU09SXSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1ob3N0LW1ldGFkYXRhLXByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICcodGltZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dIH0pO1xuXG5jb25zdCBOVU1CRVJfVkFMVUVfQUNDRVNTT1IgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTnVtYmVyVmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSB2YWx1ZSBhbmQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgdGhhdCBpcyB1c2VkIGJ5IHRoZVxuICoge0BsaW5rIE5nTW9kZWx9XG4gKlxuICogICMjIyBFeGFtcGxlXG4gKiAgYGBgXG4gKiAgPFNsaWRlciBbKG5nTW9kZWwpXT1cIm1vZGVsLnRlc3RcIj5cbiAqICBgYGBcbiAqL1xuY2xhc3MgTnVtYmVyVmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOmRpcmVjdGl2ZS1jbGFzcy1zdWZmaXhcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50UmVmKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCk7XG4gICAgfVxuICAgIHdyaXRlVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHN1cGVyLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy52aWV3LnZhbHVlID0gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOdW1iZXJWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIHNlbGVjdG9yOiBcIlNsaWRlcltuZ01vZGVsXSxTbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxTbGlkZXJbZm9ybUNvbnRyb2xdLHNsaWRlcltuZ01vZGVsXSxzbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxzbGlkZXJbZm9ybUNvbnRyb2xdXCIsIGhvc3Q6IHsgbGlzdGVuZXJzOiB7IFwidmFsdWVDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtOVU1CRVJfVkFMVUVfQUNDRVNTT1JdLCB1c2VzSW5oZXJpdGFuY2U6IHRydWUsIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE51bWJlclZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1NsaWRlcltuZ01vZGVsXSxTbGlkZXJbZm9ybUNvbnRyb2xOYW1lXSxTbGlkZXJbZm9ybUNvbnRyb2xdLCcgKyAnc2xpZGVyW25nTW9kZWxdLHNsaWRlcltmb3JtQ29udHJvbE5hbWVdLHNsaWRlcltmb3JtQ29udHJvbF0nLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IFtOVU1CRVJfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyh2YWx1ZUNoYW5nZSknOiAnb25DaGFuZ2UoJGV2ZW50LnZhbHVlKScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMC5FbGVtZW50UmVmIH1dIH0pO1xuXG5jb25zdCBTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUiA9IHtcbiAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciksXG4gICAgbXVsdGk6IHRydWUsXG59O1xuLyoqXG4gKiBUaGUgYWNjZXNzb3IgZm9yIHNldHRpbmcgYSBzZWxlY3RlZEluZGV4IGFuZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0aGF0IGlzIHVzZWQgYnkgdGhlXG4gKiB7QGxpbmsgTmdNb2RlbH0gZGlyZWN0aXZlcy5cbiAqXG4gKiAgIyMjIEV4YW1wbGVcbiAqICBgYGBcbiAqICA8U2VnbWVudGVkQmFyIFsobmdNb2RlbCldPVwibW9kZWwudGVzdFwiPlxuICogIGBgYFxuICovXG5jbGFzcyBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciBleHRlbmRzIEJhc2VWYWx1ZUFjY2Vzc29yIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm1heC1saW5lLWxlbmd0aCBkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgY29uc3RydWN0b3IoZWxlbWVudFJlZikge1xuICAgICAgICBzdXBlcihlbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpO1xuICAgIH1cbiAgICB3cml0ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBzdXBlci5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMudmFsdWUgPSBub3JtYWxpemVkO1xuICAgICAgICBpZiAodGhpcy52aWV3SW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zZWxlY3RlZEluZGV4ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudmlld0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aWV3LnNlbGVjdGVkSW5kZXggPSB0aGlzLnZhbHVlO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBkZXBzOiBbeyB0b2tlbjogaTAuRWxlbWVudFJlZiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBzZWxlY3RvcjogXCJTZWdtZW50ZWRCYXJbbmdNb2RlbF0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sU2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRCYXJbbmdNb2RlbF0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkQmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWRiYXJbbmdNb2RlbF0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sTmFtZV0sc2VnbWVudGVkYmFyW2Zvcm1Db250cm9sXSxzZWdtZW50ZWQtYmFyW25nTW9kZWxdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWQtYmFyW2Zvcm1Db250cm9sXSxMaXN0UGlja2VyW25nTW9kZWxdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxMaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0UGlja2VyW25nTW9kZWxdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0UGlja2VyW2Zvcm1Db250cm9sXSxsaXN0cGlja2VyW25nTW9kZWxdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xOYW1lXSxsaXN0cGlja2VyW2Zvcm1Db250cm9sXSxsaXN0LXBpY2tlcltuZ01vZGVsXSxsaXN0LXBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sXSxUYWJWaWV3W25nTW9kZWxdLFRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSxUYWJWaWV3W2Zvcm1Db250cm9sXSx0YWJWaWV3W25nTW9kZWxdLHRhYlZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJWaWV3W2Zvcm1Db250cm9sXSx0YWJ2aWV3W25nTW9kZWxdLHRhYnZpZXdbZm9ybUNvbnRyb2xOYW1lXSx0YWJ2aWV3W2Zvcm1Db250cm9sXSx0YWItdmlld1tuZ01vZGVsXSx0YWItdmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYi12aWV3W2Zvcm1Db250cm9sXVwiLCBob3N0OiB7IGxpc3RlbmVyczogeyBcInNlbGVjdGVkSW5kZXhDaGFuZ2VcIjogXCJvbkNoYW5nZSgkZXZlbnQudmFsdWUpXCIgfSB9LCBwcm92aWRlcnM6IFtTRUxFQ1RFRF9JTkRFWF9WQUxVRV9BQ0NFU1NPUl0sIHVzZXNJbmhlcml0YW5jZTogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBEaXJlY3RpdmUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogJ1NlZ21lbnRlZEJhcltuZ01vZGVsXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxTZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZEJhcltuZ01vZGVsXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRCYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZGJhcltuZ01vZGVsXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xOYW1lXSxzZWdtZW50ZWRiYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlZ21lbnRlZC1iYXJbbmdNb2RlbF0sc2VnbWVudGVkLWJhcltmb3JtQ29udHJvbE5hbWVdLHNlZ21lbnRlZC1iYXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0xpc3RQaWNrZXJbbmdNb2RlbF0sTGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLExpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3RQaWNrZXJbbmdNb2RlbF0sbGlzdFBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RQaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3RwaWNrZXJbbmdNb2RlbF0sbGlzdHBpY2tlcltmb3JtQ29udHJvbE5hbWVdLGxpc3RwaWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpc3QtcGlja2VyW25nTW9kZWxdLGxpc3QtcGlja2VyW2Zvcm1Db250cm9sTmFtZV0sbGlzdC1waWNrZXJbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1RhYlZpZXdbbmdNb2RlbF0sVGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLFRhYlZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYlZpZXdbbmdNb2RlbF0sdGFiVmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYlZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYnZpZXdbbmdNb2RlbF0sdGFidmlld1tmb3JtQ29udHJvbE5hbWVdLHRhYnZpZXdbZm9ybUNvbnRyb2xdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RhYi12aWV3W25nTW9kZWxdLHRhYi12aWV3W2Zvcm1Db250cm9sTmFtZV0sdGFiLXZpZXdbZm9ybUNvbnRyb2xdJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbU0VMRUNURURfSU5ERVhfVkFMVUVfQUNDRVNTT1JdLFxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQGFuZ3VsYXItZXNsaW50L25vLWhvc3QtbWV0YWRhdGEtcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgaG9zdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJyhzZWxlY3RlZEluZGV4Q2hhbmdlKSc6ICdvbkNoYW5nZSgkZXZlbnQudmFsdWUpJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV0gfSk7XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlIHtcbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZXBzOiBbXSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5OZ01vZHVsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVtb2QgPSBpMC7Jtcm1bmdEZWNsYXJlTmdNb2R1bGUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLCBpbXBvcnRzOiBbRm9ybXNNb2R1bGVdLCBleHBvcnRzOiBbRm9ybXNNb2R1bGUsIFRleHRWYWx1ZUFjY2Vzc29yLCBDaGVja2VkVmFsdWVBY2Nlc3NvciwgRGF0ZVZhbHVlQWNjZXNzb3IsIFRpbWVWYWx1ZUFjY2Vzc29yLCBTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3NvciwgTnVtYmVyVmFsdWVBY2Nlc3Nvcl0gfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1aW5qID0gaTAuybXJtW5nRGVjbGFyZUluamVjdG9yKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgaW1wb3J0czogW0Zvcm1zTW9kdWxlLCBGb3Jtc01vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IE5nTW9kdWxlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBbVGV4dFZhbHVlQWNjZXNzb3IsIENoZWNrZWRWYWx1ZUFjY2Vzc29yLCBEYXRlVmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFNlbGVjdGVkSW5kZXhWYWx1ZUFjY2Vzc29yLCBOdW1iZXJWYWx1ZUFjY2Vzc29yXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0czogW0Zvcm1zTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0Zvcm1zTW9kdWxlLCBUZXh0VmFsdWVBY2Nlc3NvciwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIERhdGVWYWx1ZUFjY2Vzc29yLCBUaW1lVmFsdWVBY2Nlc3NvciwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIE51bWJlclZhbHVlQWNjZXNzb3JdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG5jb25zdCBEQVNIX0NBU0VfUkVHRVhQID0gLy0rKFthLXowLTldKS9nO1xuZnVuY3Rpb24gZGFzaENhc2VUb0NhbWVsQ2FzZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKERBU0hfQ0FTRV9SRUdFWFAsICguLi5tKSA9PiBtWzFdLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlS2V5ZnJhbWVBbmltYXRpb24oc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgIGNvbnN0IGluZm8gPSBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8oc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZyk7XG4gICAgcmV0dXJuIEtleWZyYW1lQW5pbWF0aW9uLmtleWZyYW1lQW5pbWF0aW9uRnJvbUluZm8oaW5mbyk7XG59XG5jb25zdCBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8gPSAoc3R5bGVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykgPT4gKHtcbiAgICBpc0ZvcndhcmRzOiB0cnVlLFxuICAgIGR1cmF0aW9uOiBkdXJhdGlvbiB8fCAwLjAxLFxuICAgIGRlbGF5LFxuICAgIGN1cnZlOiBnZXRDdXJ2ZShlYXNpbmcpLFxuICAgIGtleWZyYW1lczogc3R5bGVzLm1hcChwYXJzZUFuaW1hdGlvbktleWZyYW1lKSxcbn0pO1xuY29uc3QgZ2V0Q3VydmUgPSAodmFsdWUpID0+IGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyKHZhbHVlKTtcbmNvbnN0IHBhcnNlQW5pbWF0aW9uS2V5ZnJhbWUgPSAoc3R5bGVzKSA9PiAoe1xuICAgIGR1cmF0aW9uOiBnZXRLZXlmcmFtZUR1cmF0aW9uKHN0eWxlcyksXG4gICAgZGVjbGFyYXRpb25zOiBnZXREZWNsYXJhdGlvbnMoc3R5bGVzKSxcbn0pO1xuY29uc3QgZ2V0S2V5ZnJhbWVEdXJhdGlvbiA9IChzdHlsZXMpID0+IHN0eWxlcy5vZmZzZXQ7XG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbnMoc3R5bGVzKSB7XG4gICAgY29uc3Qga2V5cyA9IEFycmF5LmZyb20oc3R5bGVzLmtleXMoKSk7XG4gICAgY29uc3QgdW5wYXJzZWREZWNsYXJhdGlvbnMgPSBrZXlzLm1hcCgocHJvcGVydHkpID0+ICh7IHByb3BlcnR5LCB2YWx1ZTogc3R5bGVzLmdldChwcm9wZXJ0eSkgfSkpO1xuICAgIHJldHVybiBwYXJzZUtleWZyYW1lRGVjbGFyYXRpb25zKHVucGFyc2VkRGVjbGFyYXRpb25zKTtcbn1cblxuY2xhc3MgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICB0aGlzLnBhcmVudFBsYXllciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXJ0U3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdEtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpO1xuICAgIH1cbiAgICBnZXQgdG90YWxUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxheSArIHRoaXMuZHVyYXRpb247XG4gICAgfVxuICAgIGluaXQoKSB7IH1cbiAgICBoYXNTdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRlZDtcbiAgICB9XG4gICAgb25TdGFydChmbikge1xuICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMucHVzaChmbik7XG4gICAgfVxuICAgIG9uRG9uZShmbikge1xuICAgICAgICB0aGlzLl9kb25lU3Vic2NyaXB0aW9ucy5wdXNoKGZuKTtcbiAgICB9XG4gICAgb25EZXN0cm95KGZuKSB7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLnB1c2goZm4pO1xuICAgIH1cbiAgICBwbGF5KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5wbGF5YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fc3RhcnRlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zdGFydFN1YnNjcmlwdGlvbnMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRTdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGlzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9OYXRpdmVTY3JpcHQvTmF0aXZlU2NyaXB0L2lzc3Vlcy83OTg0IGlzIGZpeGVzIGluIEBuYXRpdmVzY3JpcHQvY29yZVxuICAgICAgICAvLyB3ZSBjYW4gY2hhbmdlIHRoaXMgZml4IGFuZCBhcHBseSB0aGUgb25lIHRoYXQgaXMgcmVjb21tZW5kZWQgaW4gdGhhdCBpc3N1ZS5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0LmlzTG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm9uKFZpZXcubG9hZGVkRXZlbnQsIHRoaXMub25UYXJnZXRMb2FkZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25UYXJnZXRMb2FkZWQoYXJncykge1xuICAgICAgICB0aGlzLnRhcmdldC5vZmYoVmlldy5sb2FkZWRFdmVudCwgdGhpcy5vblRhcmdldExvYWRlZCk7XG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBwbGF5QW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvblxuICAgICAgICAgICAgLnBsYXkodGhpcy50YXJnZXQpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLm9uRmluaXNoKCkpXG4gICAgICAgICAgICAuY2F0Y2goKF9lKSA9PiB7IH0pO1xuICAgIH1cbiAgICBwYXVzZSgpIHsgfVxuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgdGhpcy5vbkZpbmlzaCgpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIucmVzZXRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hbmltYXRpb24gJiYgdGhpcy5hbmltYXRpb24uaXNQbGF5aW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN0YXJ0KCkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllci5yZXN0YXJ0YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIuZGVzdHJveWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gICAgc2V0UG9zaXRpb24oX3ApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltYXRpb25QbGF5ZXIuc2V0UG9zaXRpb24gbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaW5pdEtleWZyYW1lQW5pbWF0aW9uKGtleWZyYW1lcywgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25QbGF5ZXIuaW5pdEtleWZyYW1lQW5pbWF0aW9uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbihrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgb25GaW5pc2goKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLm9uRmluaXNoYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RvbmVTdWJzY3JpcHRpb25zLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICAgICAgdGhpcy5fZG9uZVN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB9XG59XG5cbmNsYXNzIFNlbGVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihyYXdTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnBhcnNlKHJhd1NlbGVjdG9yKTtcbiAgICB9XG4gICAgbWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uc1NlbGVjdG9yTWF0Y2goZWxlbWVudCkgfHwgdGhpcy5jbGFzc1NlbGVjdG9yc01hdGNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICBwYXJzZShyYXdTZWxlY3Rvcikge1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSByYXdTZWxlY3Rvci5zcGxpdCgnLCcpLm1hcCgocykgPT4gcy50cmltKCkpO1xuICAgICAgICB0aGlzLm5zU2VsZWN0b3JzID0gc2VsZWN0b3JzLm1hcChDU1NIZWxwZXIuY3JlYXRlU2VsZWN0b3IpO1xuICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3JzID0gc2VsZWN0b3JzLmZpbHRlcigocykgPT4gcy5zdGFydHNXaXRoKCcuJykpLm1hcCgocykgPT4gcy5zdWJzdHJpbmcoMSkpO1xuICAgIH1cbiAgICBuc1NlbGVjdG9yTWF0Y2goZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uc1NlbGVjdG9ycy5zb21lKChzKSA9PiBzLm1hdGNoKGVsZW1lbnQpKTtcbiAgICB9XG4gICAgY2xhc3NTZWxlY3RvcnNNYXRjaChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYXNzU2VsZWN0b3JzLnNvbWUoKHMpID0+IHRoaXMuaGFzQ2xhc3MoZWxlbWVudCwgcykpO1xuICAgIH1cbiAgICAvLyB3ZSdyZSB1c2luZyB0aGF0IGluc3RlYWQgb2YgbWF0Y2ggZm9yIGNsYXNzZXNcbiAgICAvLyB0aGF0IGFyZSBkeW5hbWljYWxseSBhZGRlZCBieSB0aGUgYW5pbWF0aW9uIGVuZ2luZVxuICAgIC8vIHN1Y2ggYXMgLm5nLXRyaWdnZXIsIHRoYXQncyBhZGRlZCBmb3IgZXZlcnkgOmVudGVyIHZpZXdcbiAgICBoYXNDbGFzcyhlbGVtZW50LCBjbHMpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgZWxlbWVudFsnJCRjbGFzc2VzJ10gJiYgZWxlbWVudFsnJCRjbGFzc2VzJ11bY2xzXTtcbiAgICB9XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIge1xuICAgIHN0YXRpYyB7IHRoaXMudmFsaWRQcm9wZXJ0aWVzID0gWy4uLkNzc0FuaW1hdGlvblByb3BlcnR5Ll9nZXRQcm9wZXJ0eU5hbWVzKCksICd0cmFuc2Zvcm0nXTsgfVxuICAgIGdldFBhcmVudEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudD8ucGFyZW50O1xuICAgIH1cbiAgICB2YWxpZGF0ZVN0eWxlUHJvcGVydHkocHJvcGVydHkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgQ3NzQW5pbWF0aW9uUHJvcGVydHkudmFsaWRhdGVTdHlsZVByb3BlcnR5OiAke3Byb3BlcnR5fWApO1xuICAgICAgICByZXR1cm4gTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnZhbGlkUHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSAhPT0gLTE7XG4gICAgfVxuICAgIG1hdGNoZXNFbGVtZW50KGVsZW1lbnQsIHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLmFuaW1hdGlvbnNMb2coYE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlci5tYXRjaGVzRWxlbWVudCBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIHNlbGVjdG9yOiAke3Jhd1NlbGVjdG9yfWApO1xuICAgICAgICBjb25zdCBzZWxlY3RvciA9IHRoaXMubWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9yLm1hdGNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICBjb250YWluc0VsZW1lbnQoZWxtMSwgZWxtMikge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29udGFpbnNFbGVtZW50IGAgKyBgZWxlbWVudDE6ICR7ZWxtMX0sIGVsZW1lbnQyOiAke2VsbTJ9YCk7XG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBwYXJlbnQgaXMgb3VyIGZha2UgYm9keSBvYmplY3RcbiAgICAgICAgaWYgKGVsbTFbJ2lzT3ZlcnJpZGUnXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBvcmlnaW5hbFZpZXc6IGVsbTIgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy52aXNpdERlc2NlbmRhbnRzKGVsbTEsIHZpZXdNYXRjaGVzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmZvdW5kO1xuICAgIH1cbiAgICBxdWVyeShlbGVtZW50LCByYXdTZWxlY3RvciwgbXVsdGkpIHtcbiAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcuYW5pbWF0aW9uc0xvZyhgTmF0aXZlU2NyaXB0QW5pbWF0aW9uRHJpdmVyLnF1ZXJ5IGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgc2VsZWN0b3I6ICR7cmF3U2VsZWN0b3J9IGAgKyBgbXVsdGk6ICR7bXVsdGl9YCk7XG4gICAgICAgIGNvbnN0IHNlbGVjdG9yID0gdGhpcy5tYWtlU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IHNlbGVjdG9yLCBtdWx0aSB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnZpc2l0RGVzY2VuZGFudHMoZWxlbWVudCwgcXVlcnlEZXNjZW5kYW50cywgcGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5tYXRjaGVzIHx8IFtdO1xuICAgIH1cbiAgICBjb21wdXRlU3R5bGUoZWxlbWVudCwgcHJvcCkge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuY29tcHV0ZVN0eWxlIGAgKyBgZWxlbWVudDogJHtlbGVtZW50fSwgcHJvcDogJHtwcm9wfWApO1xuICAgICAgICBjb25zdCBjYW1lbENhc2VQcm9wID0gZGFzaENhc2VUb0NhbWVsQ2FzZShwcm9wKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbY2FtZWxDYXNlUHJvcF07XG4gICAgfVxuICAgIGFuaW1hdGUoZWxlbWVudCwga2V5ZnJhbWVzLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZykge1xuICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5hbmltYXRpb25zTG9nKGBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIuYW5pbWF0ZSBgICsgYGVsZW1lbnQ6ICR7ZWxlbWVudH0sIGtleWZyYW1lczogJHtrZXlmcmFtZXN9IGAgKyBgZHVyYXRpb246ICR7ZHVyYXRpb259LCBkZWxheTogJHtkZWxheX0gYCArIGBlYXNpbmc6ICR7ZWFzaW5nfWApO1xuICAgICAgICByZXR1cm4gbmV3IE5hdGl2ZVNjcmlwdEFuaW1hdGlvblBsYXllcihlbGVtZW50LCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nKTtcbiAgICB9XG4gICAgbWFrZVNlbGVjdG9yKHJhd1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0b3IocmF3U2VsZWN0b3IpO1xuICAgIH1cbiAgICB2aXNpdERlc2NlbmRhbnRzKGVsZW1lbnQsIGNiLCBjYlBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgLy8gZmlsbCB0aGUgcmVzdWx0IG9iaiB3aXRoIHRoZSByZXN1bHQgZnJvbSB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgZWFjaERlc2NlbmRhbnQoZWxlbWVudCwgKGNoaWxkKSA9PiBjYihjaGlsZCwgcmVzdWx0LCBjYlBhcmFtcykpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZpZXdNYXRjaGVzKGVsZW1lbnQsIHJlc3VsdCwgcGFyYW1zKSB7XG4gICAgaWYgKGVsZW1lbnQgPT09IHBhcmFtcy5vcmlnaW5hbFZpZXcpIHtcbiAgICAgICAgcmVzdWx0LmZvdW5kID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICFyZXN1bHQuZm91bmQ7XG59XG5mdW5jdGlvbiBxdWVyeURlc2NlbmRhbnRzKGVsZW1lbnQsIHJlc3VsdCwgcGFyYW1zKSB7XG4gICAgaWYgKCFyZXN1bHQubWF0Y2hlcykge1xuICAgICAgICByZXN1bHQubWF0Y2hlcyA9IFtdO1xuICAgIH1cbiAgICBjb25zdCB7IHNlbGVjdG9yLCBtdWx0aSB9ID0gcGFyYW1zO1xuICAgIC8vIHNraXAgY29tbWVudCBhbmQgdGV4dCBub2Rlc1xuICAgIC8vIGJlY2F1c2UgdGhleSBhcmUgbm90IGFjdHVhbCBWaWV3c1xuICAgIC8vIGFuZCBjYW5ub3QgYmUgYW5pbWF0ZWRcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEludmlzaWJsZU5vZGUgfHwgIXNlbGVjdG9yLm1hdGNoKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFByb3h5Vmlld0NvbnRhaW5lcikge1xuICAgICAgICBlbGVtZW50LmVhY2hDaGlsZCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXRjaGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0Lm1hdGNoZXMucHVzaChlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG11bHRpO1xufVxuXG5jbGFzcyBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIGV4dGVuZHMgybVBbmltYXRpb25FbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKGRvYywgZHJpdmVyLCBub3JtYWxpemVyKSB7XG4gICAgICAgIHN1cGVyKGRvYy5ib2R5LCBkcml2ZXIsIG5vcm1hbGl6ZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IEluamVjdGFibGVBbmltYXRpb25FbmdpbmUsIGRlcHM6IFt7IHRva2VuOiBET0NVTUVOVCB9LCB7IHRva2VuOiBpMSQyLkFuaW1hdGlvbkRyaXZlciB9LCB7IHRva2VuOiBpMSQyLsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEluamVjdCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogW0RPQ1VNRU5UXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogaTEkMi5BbmltYXRpb25Ecml2ZXIgfSwgeyB0eXBlOiBpMSQyLsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIH1dIH0pO1xuZnVuY3Rpb24gaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVTY3JpcHRBbmltYXRpb25Ecml2ZXIoKTtcbn1cbi8vIGV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeShyZW5kZXJlcjogTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCBlbmdpbmU6IEFuaW1hdGlvbkVuZ2luZSwgem9uZTogTmdab25lKSB7XG4vLyAgIHJldHVybiBuZXcgQW5pbWF0aW9uUmVuZGVyZXJGYWN0b3J5KHJlbmRlcmVyLCBlbmdpbmUsIHpvbmUpO1xuLy8gfVxuZnVuY3Rpb24gaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyKCkge1xuICAgIHJldHVybiBuZXcgybVXZWJBbmltYXRpb25zU3R5bGVOb3JtYWxpemVyKCk7XG59XG5jbGFzcyBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRNb2R1bGUpIHtcbiAgICAgICAgLy8gUHJldmVudHMgTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSBmcm9tIGdldHRpbmcgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgdGhyb3dJZkFscmVhZHlMb2FkZWQocGFyZW50TW9kdWxlLCAnTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZScpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIGRlcHM6IFt7IHRva2VuOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBvcHRpb25hbDogdHJ1ZSwgc2tpcFNlbGY6IHRydWUgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUsIHByb3ZpZGVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB7IHByb3ZpZGU6IEFuaW1hdGlvbkJ1aWxkZXIsIHVzZUNsYXNzOiBCcm93c2VyQW5pbWF0aW9uQnVpbGRlciB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IMm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHByb3ZpZGU6IMm1QW5pbWF0aW9uRW5naW5lLCB1c2VDbGFzczogSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSB9LFxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICBwcm92aWRlOiBSZW5kZXJlckZhY3RvcnkyLFxuICAgICAgICAgICAgLy8gICB1c2VGYWN0b3J5OiBpbnN0YW50aWF0ZVJlbmRlcmVyRmFjdG9yeSxcbiAgICAgICAgICAgIC8vICAgZGVwczogW05hdGl2ZVNjcmlwdFJlbmRlcmVyRmFjdG9yeSwgQW5pbWF0aW9uRW5naW5lLCBOZ1pvbmVdLFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgXSwgaW1wb3J0czogW05hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlU3VwcG9ydGVkQW5pbWF0aW9uRHJpdmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsgcHJvdmlkZTogQW5pbWF0aW9uQnVpbGRlciwgdXNlQ2xhc3M6IEJyb3dzZXJBbmltYXRpb25CdWlsZGVyIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogybVBbmltYXRpb25TdHlsZU5vcm1hbGl6ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogaW5zdGFudGlhdGVEZWZhdWx0U3R5bGVOb3JtYWxpemVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogybVBbmltYXRpb25FbmdpbmUsIHVzZUNsYXNzOiBJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHByb3ZpZGU6IFJlbmRlcmVyRmFjdG9yeTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHVzZUZhY3Rvcnk6IGluc3RhbnRpYXRlUmVuZGVyZXJGYWN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBkZXBzOiBbTmF0aXZlU2NyaXB0UmVuZGVyZXJGYWN0b3J5LCBBbmltYXRpb25FbmdpbmUsIE5nWm9uZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogTmF0aXZlU2NyaXB0QW5pbWF0aW9uc01vZHVsZSwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogT3B0aW9uYWxcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFNraXBTZWxmXG4gICAgICAgICAgICAgICAgfV0gfV0gfSk7XG5cbmZ1bmN0aW9uIGlzTG9jYWxSZXF1ZXN0KHVybCkge1xuICAgIHJldHVybiB1cmwuaW5kZXhPZignficpID09PSAwIHx8IHVybC5pbmRleE9mKCcvJykgPT09IDA7XG59XG5mdW5jdGlvbiBnZXRBYnNvbHV0ZVBhdGgodXJsLCBuc0ZpbGVTeXN0ZW0pIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgnficsICcnKS5yZXBsYWNlKCcvJywgJycpO1xuICAgIHVybCA9IHBhdGguam9pbihuc0ZpbGVTeXN0ZW0uY3VycmVudEFwcCgpLnBhdGgsIHVybCk7XG4gICAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0KHVybCwgbnNGaWxlU3lzdGVtLCBzdWNjZXNzUmVzcG9uc2UsIGVycm9yUmVzcG9uc2UpIHtcbiAgICB1cmwgPSBnZXRBYnNvbHV0ZVBhdGgodXJsLCBuc0ZpbGVTeXN0ZW0pO1xuICAgIC8vIHJlcXVlc3QgZnJvbSBsb2NhbCBhcHAgcmVzb3VyY2VzXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlJDEoKG9ic2VydmVyKSA9PiB7XG4gICAgICAgIGlmIChuc0ZpbGVTeXN0ZW0uZmlsZUV4aXN0cyh1cmwpKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhbEZpbGUgPSBuc0ZpbGVTeXN0ZW0uZmlsZUZyb21QYXRoKHVybCk7XG4gICAgICAgICAgICBsb2NhbEZpbGUucmVhZFRleHQoKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoc3VjY2Vzc1Jlc3BvbnNlKHVybCwganNvbiwgMjAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB0aGUgcmVzcG9uc2Ugc3RhdHVzIHdhcyAyeHgsIHRoaXMgaXMgc3RpbGwgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwYXJzZSBlcnJvciBjb250YWlucyB0aGUgdGV4dCBvZiB0aGUgYm9keSB0aGF0IGZhaWxlZCB0byBwYXJzZS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JSZXN1bHQgPSB7IGVycm9yLCB0ZXh0OiBkYXRhIH07XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCBlcnJvclJlc3VsdCwgMjAwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yUmVzcG9uc2UodXJsLCBlcnIsIDQwMCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvclJlc3BvbnNlKHVybCwgJ05vdCBGb3VuZCcsIDQwNCkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNsYXNzIE5zSHR0cEJhY2tFbmQgZXh0ZW5kcyBIdHRwWGhyQmFja2VuZCB7XG4gICAgY29uc3RydWN0b3IoeGhyRmFjdG9yeSwgbnNGaWxlU3lzdGVtKSB7XG4gICAgICAgIHN1cGVyKHhockZhY3RvcnkpO1xuICAgICAgICB0aGlzLm5zRmlsZVN5c3RlbSA9IG5zRmlsZVN5c3RlbTtcbiAgICB9XG4gICAgaGFuZGxlKHJlcSkge1xuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICBpZiAoaXNMb2NhbFJlcXVlc3QocmVxLnVybCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuaGFuZGxlTG9jYWxGaWxlUmVxdWVzdChyZXEudXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN1cGVyLmhhbmRsZShyZXEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGhhbmRsZUxvY2FsRmlsZVJlcXVlc3QodXJsKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzTG9jYWxGaWxlUmVxdWVzdCh1cmwsIHRoaXMubnNGaWxlU3lzdGVtLCBjcmVhdGVTdWNjZXNzUmVzcG9uc2UsIGNyZWF0ZUVycm9yUmVzcG9uc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5zSHR0cEJhY2tFbmQsIGRlcHM6IFt7IHRva2VuOiBpMSQxLlhockZhY3RvcnkgfSwgeyB0b2tlbjogTlNGaWxlU3lzdGVtIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOc0h0dHBCYWNrRW5kIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTnNIdHRwQmFja0VuZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IEluamVjdGFibGVcbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMSQxLlhockZhY3RvcnkgfSwgeyB0eXBlOiBOU0ZpbGVTeXN0ZW0gfV0gfSk7XG5mdW5jdGlvbiBjcmVhdGVTdWNjZXNzUmVzcG9uc2UodXJsLCBib2R5LCBzdGF0dXMpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBSZXNwb25zZSh7XG4gICAgICAgIHVybCxcbiAgICAgICAgYm9keSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiAnT0snLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRXJyb3JSZXNwb25zZSh1cmwsIGJvZHksIHN0YXR1cykge1xuICAgIHJldHVybiBuZXcgSHR0cEVycm9yUmVzcG9uc2Uoe1xuICAgICAgICB1cmwsXG4gICAgICAgIGVycm9yOiBib2R5LFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdFUlJPUicsXG4gICAgfSk7XG59XG5cbmNsYXNzIE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUge1xuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZSwgZGVwczogW10sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuTmdNb2R1bGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1bW9kID0gaTAuybXJtW5nRGVjbGFyZU5nTW9kdWxlKHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBpbXBvcnRzOiBbSHR0cENsaWVudE1vZHVsZV0sIGV4cG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIHByb3ZpZGVyczogW05TRmlsZVN5c3RlbSwgTnNIdHRwQmFja0VuZCwgeyBwcm92aWRlOiBIdHRwQmFja2VuZCwgdXNlRXhpc3Rpbmc6IE5zSHR0cEJhY2tFbmQgfV0sIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlLCBIdHRwQ2xpZW50TW9kdWxlXSB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdEh0dHBDbGllbnRNb2R1bGUsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBOZ01vZHVsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW05TRmlsZVN5c3RlbSwgTnNIdHRwQmFja0VuZCwgeyBwcm92aWRlOiBIdHRwQmFja2VuZCwgdXNlRXhpc3Rpbmc6IE5zSHR0cEJhY2tFbmQgfV0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtIdHRwQ2xpZW50TW9kdWxlXSxcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0czogW0h0dHBDbGllbnRNb2R1bGVdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSBtdWx0aXBsZSBhY3RpdmF0ZWRSb3V0ZSBub2RlcyBzaG91bGQgYmUgYXNzb2NpYXRlZC9oYW5kbGVkIGJ5IHRoZSBzYW1lIFBhZ2VSb3V0ZXJPdXRsZXQuXG4gKiBXZSBjYW4gZ2F0IGFkZGl0aW9uYWwgQWN0aXZhdGVkUm91dGVzIG5vZGVzIHdoZW4gdGhlcmUgaXM6XG4gKiAgLSBMYXp5IGxvYWRpbmcgLSB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlIG5vZGUgZm9yIHRoZSBSb3V0ZUNvbmZpZyB3aXRoIHRoZSBgbG9hZENoaWxkcmVuYCBzZXR1cFxuICogIC0gQ29tcG9uZW50bGVzcyByb3V0ZXMgLSB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIEFjdGl2YXRlZFJvdXRlIG5vZGUgZm9yIHRoZSBjb21wb25lbnRsZXNzIFJvdXRlQ29uZmlnXG4gKlxuICogRXhhbXBsZTpcbiAqICAgUiAgPC0tIHJvb3RcbiAqICAgfFxuICogZmVhdHVyZSAobGF6eSBtb2R1bGUpIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcImxhenlcIiwgbG9hZENoaWxkcmVuOiBcIi4vZmVhdHVyZS9mZWF0dXJlLm1vZHVsZSNGZWF0dXJlTW9kdWxlXCIgfVxuICogICB8XG4gKiBtb2R1bGUgKGNvbXBvbmVudGxlc3Mgcm91dGUpIDwtLSBSb3V0ZUNvbmZpZzogeyBwYXRoOiBcIm1vZHVsZVwiLCBjaGlsZHJlbjogWy4uLl0gfSAvLyBOb3RlOiBObyAnY29tcG9uZW50J1xuICogICB8XG4gKiAgaG9tZSA8LS0gUm91dGVDb25maWc6IHsgcGF0aDogXCJtb2R1bGVcIiwgY29tcG9uZW50OiBNeUNvbXBvbmVudCB9IC0gdGhpcyBpcyB3aGF0IHdlIGdldCBhcyBhY3RpdmF0ZWRSb3V0ZSBwYXJhbVxuICpcbiAqICBJbiB0aGVzZSBjYXNlcyB3ZSB3aWxsIG1hcmsgdGhlIHRvcC1tb3N0IG5vZGUgKGZlYXR1cmUpLiBOU1JvdXRlUmV1c2VTdHJhdGVneSB3aWxsIGRldGFjaCB0aGUgdHJlZSB0aGVyZSBhbmRcbiAqICB1c2UgdGhpcyBBY3RpdmF0ZVJvdXRlIGFzIGEga2F5IGZvciBjYWNoaW5nLlxuICovXG5mdW5jdGlvbiBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgLy8gVE9ETzogdGVzdCB0aGlzIGFuZCBmaWd1cmUgaXQgb3V0IGlmIGl0J3MgcmVhbGx5IG5vIGxvbmdlciBuZWVkZWRcbiAgICByZXR1cm4gYWN0aXZhdGVkUm91dGU7XG4gICAgLy8gbGV0IG91dGxldEFjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgLy8gd2hpbGUgKG91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudCAmJiBvdXRsZXRBY3RpdmF0ZWRSb3V0ZS5wYXJlbnQucm91dGVDb25maWcgJiYgIW91dGxldEFjdGl2YXRlZFJvdXRlLnBhcmVudC5yb3V0ZUNvbmZpZy5jb21wb25lbnQpIHtcbiAgICAvLyAgIG91dGxldEFjdGl2YXRlZFJvdXRlID0gb3V0bGV0QWN0aXZhdGVkUm91dGUucGFyZW50O1xuICAgIC8vIH1cbiAgICAvLyByZXR1cm4gb3V0bGV0QWN0aXZhdGVkUm91dGU7XG59XG5jb25zdCBwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sID0gU3ltYm9sKCdwYWdlLXJvdXRlci1hY3RpdmF0ZWQnKTtcbmNvbnN0IGxvYWRlclJlZlN5bWJvbCA9IFN5bWJvbCgnbG9hZGVyLXJlZicpO1xuZnVuY3Rpb24gZGVzdHJveUNvbXBvbmVudFJlZihjb21wb25lbnRSZWYpIHtcbiAgICBpZiAoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIGNvbnN0IGxvYWRlclJlZiA9IGNvbXBvbmVudFJlZltsb2FkZXJSZWZTeW1ib2xdO1xuICAgICAgICBpZiAobG9hZGVyUmVmKSB7XG4gICAgICAgICAgICBsb2FkZXJSZWYuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudFJlZi5kZXN0cm95KCk7XG4gICAgfVxufVxuXG5jb25zdCBnZXRTbmFwc2hvdEtleSA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuICAgIHJldHVybiBzbmFwc2hvdC5wYXRoRnJvbVJvb3Quam9pbignLT4nKTtcbn07XG4vKipcbiAqIERldGFjaGVkIHN0YXRlIGNhY2hlXG4gKi9cbmNsYXNzIERldGFjaGVkU3RhdGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgQXJyYXkoKTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RoO1xuICAgIH1cbiAgICBwdXNoKGNhY2hlSXRlbSkge1xuICAgICAgICB0aGlzLmNhY2hlLnB1c2goY2FjaGVJdGVtKTtcbiAgICB9XG4gICAgcG9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5wb3AoKTtcbiAgICB9XG4gICAgcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVbdGhpcy5jYWNoZS5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBEZXRhY2hlZFN0YXRlQ2FjaGUuY2xlYXIoKSAke3RoaXMuY2FjaGUubGVuZ3RofSBpdGVtcyB3aWxsIGJlIGRlc3Ryb3llZGApO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0aGlzLmNhY2hlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5jYWNoZS5wb3AoKS5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghc3RhdGUuY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVzdHJveUNvbXBvbmVudFJlZihzdGF0ZS5jb21wb25lbnRSZWYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDdXJyZW50Rm9yQ2xlYXIoKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmNhY2hlKSB7XG4gICAgICAgICAgICBpdGVtLm1hcmtlZEZvckRlbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1hcmtlZCgpIHtcbiAgICAgICAgLy8gdHJ5IHRvIHByZXNlcnZlIHNhbWUgb3JkZXIgYXMgLmNsZWFyKClcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuY2FjaGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMuY2FjaGVbaV07XG4gICAgICAgICAgICBpZiAoY2FjaGVJdGVtLm1hcmtlZEZvckRlbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSBjYWNoZUl0ZW0uc3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5jb21wb25lbnRSZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBjb21wb25lbnRSZWYgZm91bmQgaW4gRGV0YWNoZWRSb3V0ZUhhbmRsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHN0YXRlLmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNb2RhbENhY2hlKCkge1xuICAgICAgICBsZXQgcmVtb3ZlZEl0ZW1zQ291bnQgPSAwO1xuICAgICAgICBjb25zdCBoYXNNb2RhbFBhZ2VzID0gdGhpcy5jYWNoZS5zb21lKChjYWNoZUl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZUl0ZW0uaXNNb2RhbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChoYXNNb2RhbFBhZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbW9kYWxDYWNoZUNsZWFyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlICghbW9kYWxDYWNoZUNsZWFyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGNhY2hlSXRlbS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbXBvbmVudFJlZiBmb3VuZCBpbiBEZXRhY2hlZFJvdXRlSGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGUuY29tcG9uZW50UmVmKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVJdGVtLmlzTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxDYWNoZUNsZWFyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRJdGVtc0NvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYERldGFjaGVkU3RhdGVDYWNoZS5jbGVhck1vZGFsQ2FjaGUoKSAke3JlbW92ZWRJdGVtc0NvdW50fSBpdGVtcyB3aWxsIGJlIGRlc3Ryb3llZGApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBEZXRhY2hlcyBzdWJ0cmVlcyBsb2FkZWQgaW5zaWRlIFBhZ2VSb3V0ZXJPdXRsZXQgaW4gZm9yd2FyZCBuYXZpZ2F0aW9uXG4gKiBhbmQgcmVhdHRhY2hlcyB0aGVtIG9uIGJhY2suXG4gKiBSZXVzZXMgcm91dGVzIGFzIGxvbmcgYXMgdGhlaXIgcm91dGUgY29uZmlnIGlzIHRoZSBzYW1lLlxuICovXG5jbGFzcyBOU1JvdXRlUmV1c2VTdHJhdGVneSB7XG4gICAgY29uc3RydWN0b3IobG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmNhY2hlQnlPdXRsZXQgPSB7fTtcbiAgICB9XG4gICAgc2hvdWxkRGV0YWNoKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0IH0gPSB0aGlzLmZpbmRWYWxpZE91dGxldEFuZEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgbGV0IGlzUGFnZUFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdG1wID0gcm91dGU7XG4gICAgICAgIHdoaWxlICghKGlzUGFnZUFjdGl2YXRlZCA9IHRtcFtwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSkgJiYgdG1wLnBhcmVudCkge1xuICAgICAgICAgICAgdG1wID0gdG1wLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0JhY2sgPSBvdXRsZXQgPyBvdXRsZXQuaXNQYWdlTmF2aWdhdGlvbkJhY2sgOiBmYWxzZTtcbiAgICAgICAgbGV0IHNob3VsZERldGFjaCA9IG91dGxldCAmJiAhaXNCYWNrICYmIGlzUGFnZUFjdGl2YXRlZDtcbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgaWYgKG91dGxldC5wYXJlbnQgJiYgIW91dGxldC5wYXJlbnQuc2hvdWxkRGV0YWNoKSB7XG4gICAgICAgICAgICAgICAgc2hvdWxkRGV0YWNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXQuc2hvdWxkRGV0YWNoID0gc2hvdWxkRGV0YWNoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGREZXRhY2ggaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gcmVzdWx0OiAke3Nob3VsZERldGFjaH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkRGV0YWNoO1xuICAgIH1cbiAgICBmaW5kVmFsaWRPdXRsZXRBbmRLZXkodGFyZ2V0Um91dGUpIHtcbiAgICAgICAgbGV0IHJvdXRlID0gdGFyZ2V0Um91dGU7XG4gICAgICAgIGNvbnN0IHJvdXRlT3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgbGV0IG91dGxldEtleSA9IHJvdXRlT3V0bGV0S2V5O1xuICAgICAgICBsZXQgb3V0bGV0ID0gdGhpcy5sb2NhdGlvbi5maW5kT3V0bGV0KG91dGxldEtleSwgcm91dGUpO1xuICAgICAgICB3aGlsZSAoIW91dGxldCkge1xuICAgICAgICAgICAgaWYgKCFyb3V0ZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBvdXRsZXQ6IG51bGwsIG91dGxldEtleTogcm91dGVPdXRsZXRLZXkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdXRlID0gcm91dGUucGFyZW50O1xuICAgICAgICAgICAgb3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvbi5nZXRSb3V0ZUZ1bGxQYXRoKHJvdXRlKTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMubG9jYXRpb24uZmluZE91dGxldChvdXRsZXRLZXksIHJvdXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3V0bGV0KSB7XG4gICAgICAgICAgICB3aGlsZSAoIW91dGxldC5vdXRsZXRLZXlzLmluY2x1ZGVzKG91dGxldEtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJvdXRlLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYENvdWxkIG5vdCBmaW5kIHZhbGlkIG91dGxldCBrZXkgZm9yIHJvdXRlOiAke3RhcmdldFJvdXRlfS5gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgb3V0bGV0LCBvdXRsZXRLZXk6IHJvdXRlT3V0bGV0S2V5IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvdXRlID0gcm91dGUucGFyZW50O1xuICAgICAgICAgICAgICAgIG91dGxldEtleSA9IHRoaXMubG9jYXRpb24uZ2V0Um91dGVGdWxsUGF0aChyb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgb3V0bGV0LCBvdXRsZXRLZXkgfTtcbiAgICB9XG4gICAgc2hvdWxkQXR0YWNoKHJvdXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IHsgb3V0bGV0LCBvdXRsZXRLZXkgfSA9IHRoaXMuZmluZFZhbGlkT3V0bGV0QW5kS2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKCFjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgY29uc3QgaXNCYWNrID0gb3V0bGV0ID8gb3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrIDogZmFsc2U7XG4gICAgICAgIGNvbnN0IHNob3VsZEF0dGFjaCA9IGlzQmFjayAmJiBjYWNoZS5wZWVrKCk/LmtleSA9PT0ga2V5O1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlUmV1c2VTdHJhdGVneUxvZyhgc2hvdWxkQXR0YWNoIGlzQmFjazogJHtpc0JhY2t9IGtleTogJHtrZXl9IHJlc3VsdDogJHtzaG91bGRBdHRhY2h9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGxldCkge1xuICAgICAgICAgICAgb3V0bGV0LnNob3VsZERldGFjaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZEF0dGFjaDtcbiAgICB9XG4gICAgc3RvcmUocm91dGUsIHN0YXRlKSB7XG4gICAgICAgIHJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldFNuYXBzaG90S2V5KHJvdXRlKTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZVJldXNlU3RyYXRlZ3lMb2coYHN0b3JlIGtleTogJHtrZXl9LCBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIGNvbnN0IGNhY2hlID0gKHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV0gfHwgbmV3IERldGFjaGVkU3RhdGVDYWNoZSgpKTtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBsZXQgaXNNb2RhbCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9jYXRpb24uX21vZGFsTmF2aWdhdGlvbkRlcHRoID4gMCkge1xuICAgICAgICAgICAgICAgIGlzTW9kYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FjaGUucHVzaCh7IGtleSwgc3RhdGUsIGlzTW9kYWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0b3BJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKHRvcEl0ZW0ua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZS5wb3AoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJ5aW5nIHRvIHBvcCBmcm9tIERldGFjaGVkU3RhdGVDYWNoZSBidXQga2V5cyBkb24ndCBtYXRjaC4gXCIgKyBgZXhwZWN0ZWQ6ICR7dG9wSXRlbS5rZXl9IGFjdHVhbDogJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0cmlldmUocm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBmaW5kVG9wQWN0aXZhdGVkUm91dGVOb2RlRm9yT3V0bGV0KHJvdXRlKTtcbiAgICAgICAgY29uc3QgeyBvdXRsZXQsIG91dGxldEtleSB9ID0gdGhpcy5maW5kVmFsaWRPdXRsZXRBbmRLZXkocm91dGUpO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoIWNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSBnZXRTbmFwc2hvdEtleShyb3V0ZSk7XG4gICAgICAgIGNvbnN0IGlzQmFjayA9IG91dGxldCA/IG91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjayA6IGZhbHNlO1xuICAgICAgICBjb25zdCBjYWNoZWRJdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICBsZXQgc3RhdGUgPSBudWxsO1xuICAgICAgICBpZiAoaXNCYWNrICYmIGNhY2hlZEl0ZW0gJiYgY2FjaGVkSXRlbS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgc3RhdGUgPSBjYWNoZWRJdGVtLnN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGByZXRyaWV2ZWQgaXNCYWNrOiAke2lzQmFja30ga2V5OiAke2tleX0gc3RhdGU6ICR7c3RhdGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBzaG91bGRSZXVzZVJvdXRlKGZ1dHVyZSwgY3Vycikge1xuICAgICAgICBjb25zdCBzaG91bGRSZXVzZSA9IGZ1dHVyZS5yb3V0ZUNvbmZpZyA9PT0gY3Vyci5yb3V0ZUNvbmZpZztcbiAgICAgICAgaWYgKHNob3VsZFJldXNlICYmIGN1cnIgJiYgY3VycltwYWdlUm91dGVyQWN0aXZhdGVkU3ltYm9sXSkge1xuICAgICAgICAgICAgLy8gV2hlbiByZXVzaW5nIHJvdXRlIC0gY29weSB0aGUgcGFnZVJvdXRlckFjdGl2YXRlZCB0byB0aGUgbmV3IHNuYXBzaG90XG4gICAgICAgICAgICAvLyBJdCdzIG5lZWRlZCBpbiBzaG91bGREZXRhY2ggdG8gZGV0ZXJtaW5lIGlmIHRoZSByb3V0ZSBzaG91bGQgYmUgZGV0YWNoZWQuXG4gICAgICAgICAgICBmdXR1cmVbcGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbF0gPSBjdXJyW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVSZXVzZVN0cmF0ZWd5TG9nKGBzaG91bGRSZXVzZVJvdXRlIHJlc3VsdDogJHtzaG91bGRSZXVzZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvdWxkUmV1c2U7XG4gICAgfVxuICAgIGNsZWFyQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXJrQ2FjaGVGb3JDbGVhcihvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZS5tYXJrQ3VycmVudEZvckNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wQ2FjaGUob3V0bGV0S2V5KSB7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5jYWNoZUJ5T3V0bGV0W291dGxldEtleV07XG4gICAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICAgICAgaWYgKGNhY2hlLnBlZWsoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gY2FjaGUucG9wKCk/LnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZT8uY29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3lDb21wb25lbnRSZWYoc3RhdGU/LmNvbXBvbmVudFJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1hcmtDYWNoZUZvclBvcChvdXRsZXRLZXkpIHtcbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmNhY2hlQnlPdXRsZXRbb3V0bGV0S2V5XTtcbiAgICAgICAgaWYgKGNhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gY2FjaGUucGVlaygpO1xuICAgICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLm1hcmtlZEZvckRlbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhck1hcmtlZENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTWFya2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXJNb2RhbENhY2hlKG91dGxldEtleSkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuY2FjaGVCeU91dGxldFtvdXRsZXRLZXldO1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlLmNsZWFyTW9kYWxDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVmYWMgPSBpMC7Jtcm1bmdEZWNsYXJlRmFjdG9yeSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICB0eXBlOiBJbmplY3RhYmxlXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH1dIH0pO1xuXG5jbGFzcyBSb3V0ZXJFeHRlbnNpb25zIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGxvY2F0aW9uU3RyYXRlZ3ksIGZyYW1lU2VydmljZSkge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgdGhpcy5mcmFtZVNlcnZpY2UgPSBmcmFtZVNlcnZpY2U7XG4gICAgfVxuICAgIG5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm91dGVyLm5hdmlnYXRlKGNvbW1hbmRzLCBleHRyYXMpO1xuICAgIH1cbiAgICBuYXZpZ2F0ZUJ5VXJsKHVybCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZXIubmF2aWdhdGVCeVVybCh1cmwsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBiYWNrKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucykge1xuICAgICAgICBpZiAoYmFja05hdmlnYXRpb25PcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tPdXRsZXRzKGJhY2tOYXZpZ2F0aW9uT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbkdvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGNhbkdvQmFjayA9IHRydWU7XG4gICAgICAgIGlmIChiYWNrTmF2aWdhdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3V0bGV0c1RvQmFjaywgb3V0bGV0cyB9ID0gdGhpcy5maW5kT3V0bGV0c1RvQmFjayhiYWNrTmF2aWdhdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG91dGxldHNUb0JhY2subGVuZ3RoICE9PSBvdXRsZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2sob3V0bGV0VG9CYWNrKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuR29CYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbkdvQmFjayA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5jYW5Hb0JhY2soKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FuR29CYWNrO1xuICAgIH1cbiAgICBiYWNrVG9QcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgIHRoaXMuZnJhbWVTZXJ2aWNlLmdldEZyYW1lKCkuZ29CYWNrKCk7XG4gICAgfVxuICAgIGNhbkdvQmFja1RvUHJldmlvdXNQYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZVNlcnZpY2UuZ2V0RnJhbWUoKS5jYW5Hb0JhY2soKTtcbiAgICB9XG4gICAgYmFja091dGxldHMob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IG91dGxldHNUb0JhY2ssIG91dGxldHMgfSA9IHRoaXMuZmluZE91dGxldHNUb0JhY2sob3B0aW9ucyk7XG4gICAgICAgIGlmIChvdXRsZXRzVG9CYWNrLmxlbmd0aCAhPT0gb3V0bGV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLmZvckVhY2goKG91dGxldFRvQmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvdXRsZXRUb0JhY2suaXNQYWdlTmF2aWdhdGlvbkJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyRXJyb3IoJ0F0dGVtcHRlZCB0byBjYWxsIHN0YXJ0R29CYWNrIHdoaWxlIGdvaW5nIGJhY2s6Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjayhvdXRsZXRUb0JhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcbiAgICBmaW5kT3V0bGV0c1RvQmFjayhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJvb3RSb3V0ZSA9IHRoaXMucm91dGVyLnJvdXRlclN0YXRlLnJvb3Q7XG4gICAgICAgIGxldCBvdXRsZXRzID0gb3B0aW9ucy5vdXRsZXRzO1xuICAgICAgICBsZXQgcmVsYXRpdmVSb3V0ZSA9IG9wdGlvbnMucmVsYXRpdmVUbyB8fCByb290Um91dGU7XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlUm91dGVPdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJlbGF0aXZlUm91dGUpO1xuICAgICAgICBjb25zdCBpc05TRW1wdHlPdXRsZXQgPSByZWxhdGl2ZVJvdXRlT3V0bGV0ICYmIHJlbGF0aXZlUm91dGVPdXRsZXQuaXNOU0VtcHR5T3V0bGV0O1xuICAgICAgICAvLyBMYXp5IG5hbWVkIG91dGxldCBoYXMgYWRkZWQgJ3ByaW1hcnknIGlubmVyIE5TRW1wdHlPdXRsZXQgY2hpbGQuXG4gICAgICAgIC8vIFRha2UgcGFyZW50IHJvdXRlIHdoZW4gYHJlbGF0aXZlVG9gIG9wdGlvbiBwb2ludHMgdG8gdGhlIG91dGVyIG5hbWVkIG91dGxldC5cbiAgICAgICAgaWYgKGlzTlNFbXB0eU91dGxldCAmJiByZWxhdGl2ZVJvdXRlLm91dGxldCAhPT0gJ3ByaW1hcnknKSB7XG4gICAgICAgICAgICByZWxhdGl2ZVJvdXRlID0gcmVsYXRpdmVSb3V0ZS5wYXJlbnQgfHwgcmVsYXRpdmVSb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBvdXRsZXRzID0gb3V0bGV0cyB8fCBbcmVsYXRpdmVSb3V0ZS5vdXRsZXRdO1xuICAgICAgICBjb25zdCBvdXRsZXRzVG9CYWNrID0gdGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShbLi4ub3V0bGV0c10sIHJlbGF0aXZlUm91dGUpO1xuICAgICAgICByZXR1cm4geyBvdXRsZXRzVG9CYWNrOiBvdXRsZXRzVG9CYWNrLCBvdXRsZXRzOiBvdXRsZXRzIH07XG4gICAgfVxuICAgIC8vIHdhcm5pbmcsIG91dGxldHMgaXMgbXV0YWJsZSFcbiAgICBmaW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCByb3V0ZSkge1xuICAgICAgICBpZiAoIXJvdXRlIHx8IG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3V0bGV0c1RvQmFjayA9IFtdO1xuICAgICAgICBpZiAob3V0bGV0cy5zb21lKChjdXJyZW50T3V0bGV0KSA9PiBjdXJyZW50T3V0bGV0ID09PSByb3V0ZS5vdXRsZXQpKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRsZXQgPSB0aGlzLmZpbmRPdXRsZXRCeVJvdXRlKHJvdXRlKTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXRzLnNwbGljZShvdXRsZXRzLmluZGV4T2Yocm91dGUub3V0bGV0KSwgMSk7XG4gICAgICAgICAgICAgICAgb3V0bGV0c1RvQmFjay5wdXNoKG91dGxldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIG91dGxldHNUb0JhY2s7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHJvdXRlLmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKG91dGxldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Um91dGUgPSByb3V0ZS5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBvdXRsZXRzVG9CYWNrLnB1c2goLi4udGhpcy5maW5kT3V0bGV0c1JlY3Vyc2l2ZShvdXRsZXRzLCBjdXJyZW50Um91dGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0bGV0c1RvQmFjaztcbiAgICB9XG4gICAgZmluZE91dGxldEJ5Um91dGUoY3VycmVudFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZVNuYXBzaG9wID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldChjdXJyZW50Um91dGUuc25hcHNob3QpO1xuICAgICAgICBjb25zdCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aChjdXJyZW50Um91dGVTbmFwc2hvcCk7XG4gICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgY3VycmVudFJvdXRlU25hcHNob3ApO1xuICAgICAgICByZXR1cm4gb3V0bGV0O1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IFJvdXRlckV4dGVuc2lvbnMsIGRlcHM6IFt7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSwgeyB0b2tlbjogRnJhbWVTZXJ2aWNlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkluamVjdGFibGUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1cHJvdiA9IGkwLsm1ybVuZ0RlY2xhcmVJbmplY3RhYmxlKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBwcm92aWRlZEluOiAncm9vdCcgfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdHlwZTogRnJhbWVTZXJ2aWNlIH1dIH0pO1xuXG4vKipcbiAqIFRoZSBuc1JvdXRlckxpbmsgZGlyZWN0aXZlIGxldHMgeW91IGxpbmsgdG8gc3BlY2lmaWMgcGFydHMgb2YgeW91ciBhcHAuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyByb3V0ZSBjb25maWd1cmF0aW9uOlxuICogYGBgXG4gKiBbeyBwYXRoOiBcIi91c2VyXCIsIGNvbXBvbmVudDogVXNlckNtcCB9XVxuICogYGBgXG4gKlxuICogV2hlbiBsaW5raW5nIHRvIHRoaXMgYFVzZXJgIHJvdXRlLCB5b3UgY2FuIHdyaXRlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCJbXCIvdXNlclwiXVwiPmxpbmsgdG8gdXNlciBjb21wb25lbnQ8L2E+XG4gKiBgYGBcbiAqXG4gKiBOU1JvdXRlckxpbmsgZXhwZWN0cyB0aGUgdmFsdWUgdG8gYmUgYW4gYXJyYXkgb2YgcGF0aCBzZWdtZW50cywgZm9sbG93ZWQgYnkgdGhlIHBhcmFtc1xuICogZm9yIHRoYXQgbGV2ZWwgb2Ygcm91dGluZy4gRm9yIGluc3RhbmNlIGBbXCIvdGVhbVwiLCB7dGVhbUlkOiAxfSwgXCJ1c2VyXCIsIHt1c2VySWQ6IDJ9XWBcbiAqIG1lYW5zIHRoYXQgd2Ugd2FudCB0byBnZW5lcmF0ZSBhIGxpbmsgdG8gYC90ZWFtO3RlYW1JZD0xL3VzZXI7dXNlcklkPTJgLlxuICpcbiAqIFRoZSBmaXJzdCBzZWdtZW50IG5hbWUgY2FuIGJlIHByZXBlbmRlZCB3aXRoIGAvYCwgYC4vYCwgb3IgYC4uL2AuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgL2AsIHRoZSByb3V0ZXIgd2lsbCBsb29rIHVwIHRoZSByb3V0ZSBmcm9tIHRoZSByb290IG9mIHRoZSBhcHAuXG4gKiBJZiB0aGUgc2VnbWVudCBiZWdpbnMgd2l0aCBgLi9gLCBvciBkb2VzblwidCBiZWdpbiB3aXRoIGEgc2xhc2gsIHRoZSByb3V0ZXIgd2lsbFxuICogaW5zdGVhZCBsb29rIGluIHRoZSBjdXJyZW50IGNvbXBvbmVudFwicyBjaGlsZHJlbiBmb3IgdGhlIHJvdXRlLlxuICogQW5kIGlmIHRoZSBzZWdtZW50IGJlZ2lucyB3aXRoIGAuLi9gLCB0aGUgcm91dGVyIHdpbGwgZ28gdXAgb25lIGxldmVsLlxuICovXG5jbGFzcyBOU1JvdXRlckxpbmsge1xuICAgIGNvbnN0cnVjdG9yKG5nWm9uZSwgcm91dGVyLCBuYXZpZ2F0b3IsIHJvdXRlLCBlbCkge1xuICAgICAgICB0aGlzLm5nWm9uZSA9IG5nWm9uZTtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMubmF2aWdhdG9yID0gbmF2aWdhdG9yO1xuICAgICAgICB0aGlzLnJvdXRlID0gcm91dGU7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy5wYWdlVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29tbWFuZHMgPSBbXTtcbiAgICB9XG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub24oJ3RhcCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRhcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXQgcGFyYW1zKGRhdGEpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IFtkYXRhXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblRhcCgpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluay50YXBwZWQ6ICR7dGhpcy5jb21tYW5kc30gYCArIGBjbGVhcjogJHt0aGlzLmNsZWFySGlzdG9yeX0gYCArIGB0cmFuc2l0aW9uOiAke0pTT04uc3RyaW5naWZ5KHRoaXMucGFnZVRyYW5zaXRpb24pfSBgICsgYGR1cmF0aW9uOiAke3RoaXMucGFnZVRyYW5zaXRpb25EdXJhdGlvbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleHRyYXMgPSB0aGlzLmdldEV4dHJhcygpO1xuICAgICAgICAvLyB0aGlzLm5hdmlnYXRvci5uYXZpZ2F0ZUJ5VXJsKHRoaXMudXJsVHJlZSwgZXh0cmFzKTtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IubmF2aWdhdGUodGhpcy5jb21tYW5kcywge1xuICAgICAgICAgICAgLi4uZXh0cmFzLFxuICAgICAgICAgICAgcmVsYXRpdmVUbzogdGhpcy5yb3V0ZSxcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiB0aGlzLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgZnJhZ21lbnQ6IHRoaXMuZnJhZ21lbnQsXG4gICAgICAgICAgICBxdWVyeVBhcmFtc0hhbmRsaW5nOiB0aGlzLnF1ZXJ5UGFyYW1zSGFuZGxpbmcsXG4gICAgICAgICAgICBwcmVzZXJ2ZUZyYWdtZW50OiBhdHRyQm9vbFZhbHVlKHRoaXMucHJlc2VydmVGcmFnbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRFeHRyYXMoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmdldFRyYW5zaXRpb24oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNraXBMb2NhdGlvbkNoYW5nZTogYXR0ckJvb2xWYWx1ZSh0aGlzLnNraXBMb2NhdGlvbkNoYW5nZSksXG4gICAgICAgICAgICByZXBsYWNlVXJsOiBhdHRyQm9vbFZhbHVlKHRoaXMucmVwbGFjZVVybCksXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IHRoaXMuY29udmVydENsZWFySGlzdG9yeSh0aGlzLmNsZWFySGlzdG9yeSksXG4gICAgICAgICAgICBhbmltYXRlZDogdHJhbnNpdGlvbi5hbmltYXRlZCxcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24udHJhbnNpdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHVybFRyZWUoKSB7XG4gICAgICAgIGNvbnN0IHVybFRyZWUgPSB0aGlzLnJvdXRlci5jcmVhdGVVcmxUcmVlKHRoaXMuY29tbWFuZHMsIHtcbiAgICAgICAgICAgIHJlbGF0aXZlVG86IHRoaXMucm91dGUsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogdGhpcy5xdWVyeVBhcmFtcyxcbiAgICAgICAgICAgIGZyYWdtZW50OiB0aGlzLmZyYWdtZW50LFxuICAgICAgICAgICAgcXVlcnlQYXJhbXNIYW5kbGluZzogdGhpcy5xdWVyeVBhcmFtc0hhbmRsaW5nLFxuICAgICAgICAgICAgcHJlc2VydmVGcmFnbWVudDogYXR0ckJvb2xWYWx1ZSh0aGlzLnByZXNlcnZlRnJhZ21lbnQpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYG5zUm91dGVyTGluayB1cmxUcmVlIGNyZWF0ZWQ6ICR7dXJsVHJlZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsVHJlZTtcbiAgICB9XG4gICAgY29udmVydENsZWFySGlzdG9yeSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJztcbiAgICB9XG4gICAgZ2V0VHJhbnNpdGlvbigpIHtcbiAgICAgICAgbGV0IHRyYW5zaXRpb247XG4gICAgICAgIGxldCBhbmltYXRlZDtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFuaW1hdGVkID0gdGhpcy5wYWdlVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VUcmFuc2l0aW9uID09PSAnbm9uZScgfHwgdGhpcy5wYWdlVHJhbnNpdGlvbiA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYWdlVHJhbnNpdGlvbixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRoaXMucGFnZVRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSArdGhpcy5wYWdlVHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgICAgICBpZiAoIWlzTmFOKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gfHwge307XG4gICAgICAgICAgICB0cmFuc2l0aW9uLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgYW5pbWF0ZWQsIHRyYW5zaXRpb24gfTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmssIGRlcHM6IFt7IHRva2VuOiBpMC5OZ1pvbmUgfSwgeyB0b2tlbjogaTEkMy5Sb3V0ZXIgfSwgeyB0b2tlbjogUm91dGVyRXh0ZW5zaW9ucyB9LCB7IHRva2VuOiBpMSQzLkFjdGl2YXRlZFJvdXRlIH0sIHsgdG9rZW46IGkwLkVsZW1lbnRSZWYgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBOU1JvdXRlckxpbmssIHNlbGVjdG9yOiBcIltuc1JvdXRlckxpbmtdXCIsIGlucHV0czogeyB0YXJnZXQ6IFwidGFyZ2V0XCIsIHF1ZXJ5UGFyYW1zOiBcInF1ZXJ5UGFyYW1zXCIsIGZyYWdtZW50OiBcImZyYWdtZW50XCIsIHF1ZXJ5UGFyYW1zSGFuZGxpbmc6IFwicXVlcnlQYXJhbXNIYW5kbGluZ1wiLCBwcmVzZXJ2ZVF1ZXJ5UGFyYW1zOiBcInByZXNlcnZlUXVlcnlQYXJhbXNcIiwgcHJlc2VydmVGcmFnbWVudDogXCJwcmVzZXJ2ZUZyYWdtZW50XCIsIHNraXBMb2NhdGlvbkNoYW5nZTogXCJza2lwTG9jYXRpb25DaGFuZ2VcIiwgcmVwbGFjZVVybDogXCJyZXBsYWNlVXJsXCIsIGNsZWFySGlzdG9yeTogXCJjbGVhckhpc3RvcnlcIiwgcGFnZVRyYW5zaXRpb246IFwicGFnZVRyYW5zaXRpb25cIiwgcGFnZVRyYW5zaXRpb25EdXJhdGlvbjogXCJwYWdlVHJhbnNpdGlvbkR1cmF0aW9uXCIsIHBhcmFtczogW1wibnNSb3V0ZXJMaW5rXCIsIFwicGFyYW1zXCJdIH0sIG5nSW1wb3J0OiBpMCB9KTsgfVxufVxuaTAuybXJtW5nRGVjbGFyZUNsYXNzTWV0YWRhdGEoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TUm91dGVyTGluaywgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IERpcmVjdGl2ZSxcbiAgICAgICAgICAgIGFyZ3M6IFt7IHNlbGVjdG9yOiAnW25zUm91dGVyTGlua10nIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogaTAuTmdab25lIH0sIHsgdHlwZTogaTEkMy5Sb3V0ZXIgfSwgeyB0eXBlOiBSb3V0ZXJFeHRlbnNpb25zIH0sIHsgdHlwZTogaTEkMy5BY3RpdmF0ZWRSb3V0ZSB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfV0sIHByb3BEZWNvcmF0b3JzOiB7IHRhcmdldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHF1ZXJ5UGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgZnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBxdWVyeVBhcmFtc0hhbmRsaW5nOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcHJlc2VydmVRdWVyeVBhcmFtczogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBJbnB1dFxuICAgICAgICAgICAgfV0sIHByZXNlcnZlRnJhZ21lbnQ6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBza2lwTG9jYXRpb25DaGFuZ2U6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCByZXBsYWNlVXJsOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgY2xlYXJIaXN0b3J5OiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFnZVRyYW5zaXRpb246IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBwYWdlVHJhbnNpdGlvbkR1cmF0aW9uOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0XG4gICAgICAgICAgICB9XSwgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IElucHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnbnNSb3V0ZXJMaW5rJ11cbiAgICAgICAgICAgIH1dIH0gfSk7XG5mdW5jdGlvbiBhdHRyQm9vbFZhbHVlKHMpIHtcbiAgICByZXR1cm4gcyA9PT0gJycgfHwgISFzO1xufVxuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpmb3JpbiAqL1xuLy8gQ29waWVkIHVuZXhwb3J0ZWQgZnVuY3Rpb25zIGZyb20gQGFuZ3VsYXIvcm91dGVyL3NyYy91cmxfdHJlZVxuZnVuY3Rpb24gY29udGFpbnNUcmVlKGNvbnRhaW5lciwgY29udGFpbmVlLCBleGFjdCkge1xuICAgIGlmIChleGFjdCkge1xuICAgICAgICByZXR1cm4gZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5yb290LCBjb250YWluZWUucm9vdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLnJvb3QsIGNvbnRhaW5lZS5yb290KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFNlZ21lbnRHcm91cHMoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICBpZiAoIWVxdWFsUGF0aChjb250YWluZXIuc2VnbWVudHMsIGNvbnRhaW5lZS5zZWdtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY29udGFpbmVyLm51bWJlck9mQ2hpbGRyZW4gIT09IGNvbnRhaW5lZS5udW1iZXJPZkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjIGluIGNvbnRhaW5lZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZXF1YWxTZWdtZW50R3JvdXBzKGNvbnRhaW5lci5jaGlsZHJlbltjXSwgY29udGFpbmVlLmNoaWxkcmVuW2NdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLCBjb250YWluZWUpIHtcbiAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLCBjb250YWluZWUsIGNvbnRhaW5lZS5zZWdtZW50cyk7XG59XG5mdW5jdGlvbiBjb250YWluc1NlZ21lbnRHcm91cEhlbHBlcihjb250YWluZXIsIGNvbnRhaW5lZSwgY29udGFpbmVlUGF0aHMpIHtcbiAgICBpZiAoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCA+IGNvbnRhaW5lZVBhdGhzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gY29udGFpbmVyLnNlZ21lbnRzLnNsaWNlKDAsIGNvbnRhaW5lZVBhdGhzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGN1cnJlbnQsIGNvbnRhaW5lZVBhdGhzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZWUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250YWluZXIuc2VnbWVudHMubGVuZ3RoID09PSBjb250YWluZWVQYXRocy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFlcXVhbFBhdGgoY29udGFpbmVyLnNlZ21lbnRzLCBjb250YWluZWVQYXRocykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGMgaW4gY29udGFpbmVlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltjXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGFpbnNTZWdtZW50R3JvdXAoY29udGFpbmVyLmNoaWxkcmVuW2NdLCBjb250YWluZWUuY2hpbGRyZW5bY10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IGNvbnRhaW5lZVBhdGhzLnNsaWNlKDAsIGNvbnRhaW5lci5zZWdtZW50cy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBuZXh0ID0gY29udGFpbmVlUGF0aHMuc2xpY2UoY29udGFpbmVyLnNlZ21lbnRzLmxlbmd0aCk7XG4gICAgICAgIGlmICghZXF1YWxQYXRoKGNvbnRhaW5lci5zZWdtZW50cywgY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRhaW5lci5jaGlsZHJlbltQUklNQVJZX09VVExFVF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGFpbnNTZWdtZW50R3JvdXBIZWxwZXIoY29udGFpbmVyLmNoaWxkcmVuW1BSSU1BUllfT1VUTEVUXSwgY29udGFpbmVlLCBuZXh0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBlcXVhbFBhdGgoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0ucGF0aCAhPT0gYltpXS5wYXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVGhlIE5TUm91dGVyTGlua0FjdGl2ZSBkaXJlY3RpdmUgbGV0cyB5b3UgYWRkIGEgQ1NTIGNsYXNzIHRvIGFuIGVsZW1lbnQgd2hlbiB0aGUgbGlua1wicyByb3V0ZVxuICogYmVjb21lcyBhY3RpdmUuXG4gKlxuICogQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBleGFtcGxlOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyXCIgb3IgXCIvdXNlci9ib2JcIiwgdGhlIGFjdGl2ZS1saW5rIGNsYXNzIHdpbGxcbiAqIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnQuIElmIHRoZSB1cmwgY2hhbmdlcywgdGhlIGNsYXNzIHdpbGwgYmUgcmVtb3ZlZC5cbiAqXG4gKiBZb3UgY2FuIHNldCBtb3JlIHRoYW4gb25lIGNsYXNzLCBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImNsYXNzMSBjbGFzczJcIj5Cb2I8L2E+XG4gKiA8YSBbbnNSb3V0ZXJMaW5rXT1cIi91c2VyL2JvYlwiIFtuc1JvdXRlckxpbmtBY3RpdmVdPVwiW1wiY2xhc3MxXCIsIFwiY2xhc3MyXCJdXCI+Qm9iPC9hPlxuICogYGBgXG4gKlxuICogWW91IGNhbiBjb25maWd1cmUgTlNSb3V0ZXJMaW5rQWN0aXZlIGJ5IHBhc3NpbmcgYGV4YWN0OiB0cnVlYC4gVGhpcyB3aWxsIGFkZCB0aGVcbiAqIGNsYXNzZXMgb25seSB3aGVuIHRoZSB1cmwgbWF0Y2hlcyB0aGUgbGluayBleGFjdGx5LlxuICpcbiAqIGBgYFxuICogPGEgW25zUm91dGVyTGlua109XCIvdXNlci9ib2JcIiBbbnNSb3V0ZXJMaW5rQWN0aXZlXT1cImFjdGl2ZS1saW5rXCJcbiAqIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5Cb2I8L2E+XG4gKiBgYGBcbiAqXG4gKiBGaW5hbGx5LCB5b3UgY2FuIGFwcGx5IHRoZSBOU1JvdXRlckxpbmtBY3RpdmUgZGlyZWN0aXZlIHRvIGFuIGFuY2VzdG9yIG9mIGEgUm91dGVyTGluay5cbiAqXG4gKiBgYGBcbiAqIDxkaXYgW25zUm91dGVyTGlua0FjdGl2ZV09XCJhY3RpdmUtbGlua1wiIFtuc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zXT1cIntleGFjdDogdHJ1ZX1cIj5cbiAqICAgPGEgW25zUm91dGVyTGlua109XCIvdXNlci9qaW1cIj5KaW08L2E+XG4gKiAgIDxhIFtuc1JvdXRlckxpbmtdPVwiL3VzZXIvYm9iXCI+Qm9iPC9hPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIHdpbGwgc2V0IHRoZSBhY3RpdmUtbGluayBjbGFzcyBvbiB0aGUgZGl2IHRhZyBpZiB0aGUgdXJsIGlzIGVpdGhlciBcIi91c2VyL2ppbVwiIG9yXG4gKiBcIi91c2VyL2JvYlwiLlxuICpcbiAqIEBzdGFibGVcbiAqL1xuY2xhc3MgTlNSb3V0ZXJMaW5rQWN0aXZlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGVsZW1lbnQsIHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnMgPSB7IGV4YWN0OiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHJvdXRlci5ldmVudHMuc3Vic2NyaWJlKChzKSA9PiB7XG4gICAgICAgICAgICBpZiAocyBpbnN0YW5jZW9mIE5hdmlnYXRpb25FbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hY3RpdmU7XG4gICAgfVxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgdGhpcy5saW5rcy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB0aGlzLnVwZGF0ZSgpKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgc2V0IG5zUm91dGVyTGlua0FjdGl2ZShkYXRhKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzID0gZGF0YS5zcGxpdCgnICcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25DaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMubGlua3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNBY3RpdmVMaW5rcyA9IHRoaXMuaGFzQWN0aXZlTGlua3MoKTtcbiAgICAgICAgLy8gcmVhY3Qgb25seSB3aGVuIHN0YXR1cyBoYXMgY2hhbmdlZCB0byBwcmV2ZW50IHVubmVjZXNzYXJ5IGRvbSB1cGRhdGVzXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSAhPT0gaGFzQWN0aXZlTGlua3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVcmxUcmVlID0gdGhpcy5yb3V0ZXIucGFyc2VVcmwodGhpcy5yb3V0ZXIudXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlTGlua3MgPSB0aGlzLnJlZHVjZUxpc3QoY3VycmVudFVybFRyZWUsIHRoaXMubGlua3MpO1xuICAgICAgICAgICAgdGhpcy5jbGFzc2VzLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmVMaW5rcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZENsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIGMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2UucmVzb2x2ZShoYXNBY3RpdmVMaW5rcykudGhlbigoYWN0aXZlKSA9PiAodGhpcy5hY3RpdmUgPSBhY3RpdmUpKTtcbiAgICB9XG4gICAgcmVkdWNlTGlzdChjdXJyZW50VXJsVHJlZSwgcSkge1xuICAgICAgICByZXR1cm4gcS5yZWR1Y2UoKHJlcywgbGluaykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyB8fCBjb250YWluc1RyZWUoY3VycmVudFVybFRyZWUsIGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgIH1cbiAgICBpc0xpbmtBY3RpdmUocm91dGVyKSB7XG4gICAgICAgIHJldHVybiAobGluaykgPT4gcm91dGVyLmlzQWN0aXZlKGxpbmsudXJsVHJlZSwgdGhpcy5uc1JvdXRlckxpbmtBY3RpdmVPcHRpb25zLmV4YWN0KTtcbiAgICB9XG4gICAgaGFzQWN0aXZlTGlua3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmtzLnNvbWUodGhpcy5pc0xpbmtBY3RpdmUodGhpcy5yb3V0ZXIpKTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOU1JvdXRlckxpbmtBY3RpdmUsIGRlcHM6IFt7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IGkwLlJlbmRlcmVyMiB9XSwgdGFyZ2V0OiBpMC7Jtcm1RmFjdG9yeVRhcmdldC5EaXJlY3RpdmUgfSk7IH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZGlyID0gaTAuybXJtW5nRGVjbGFyZURpcmVjdGl2ZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIHR5cGU6IE5TUm91dGVyTGlua0FjdGl2ZSwgc2VsZWN0b3I6IFwiW25zUm91dGVyTGlua0FjdGl2ZV1cIiwgaW5wdXRzOiB7IG5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnM6IFwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc1wiLCBuc1JvdXRlckxpbmtBY3RpdmU6IFwibnNSb3V0ZXJMaW5rQWN0aXZlXCIgfSwgcXVlcmllczogW3sgcHJvcGVydHlOYW1lOiBcImxpbmtzXCIsIHByZWRpY2F0ZTogTlNSb3V0ZXJMaW5rIH1dLCBleHBvcnRBczogW1wicm91dGVyTGlua0FjdGl2ZVwiXSwgdXNlc09uQ2hhbmdlczogdHJ1ZSwgbmdJbXBvcnQ6IGkwIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNSb3V0ZXJMaW5rQWN0aXZlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3tcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdbbnNSb3V0ZXJMaW5rQWN0aXZlXScsXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydEFzOiAncm91dGVyTGlua0FjdGl2ZScsXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfV0sIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiBbeyB0eXBlOiBpMSQzLlJvdXRlciB9LCB7IHR5cGU6IGkwLkVsZW1lbnRSZWYgfSwgeyB0eXBlOiBpMC5SZW5kZXJlcjIgfV0sIHByb3BEZWNvcmF0b3JzOiB7IGxpbmtzOiBbe1xuICAgICAgICAgICAgICAgIHR5cGU6IENvbnRlbnRDaGlsZHJlbixcbiAgICAgICAgICAgICAgICBhcmdzOiBbTlNSb3V0ZXJMaW5rXVxuICAgICAgICAgICAgfV0sIG5zUm91dGVyTGlua0FjdGl2ZU9wdGlvbnM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dLCBuc1JvdXRlckxpbmtBY3RpdmU6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogSW5wdXRcbiAgICAgICAgICAgIH1dIH0gfSk7XG5cbmNsYXNzIFBhZ2VSb3V0ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnRSb3V0ZSkge1xuICAgICAgICB0aGlzLmFjdGl2YXRlZFJvdXRlID0gbmV3IEJlaGF2aW9yU3ViamVjdChzdGFydFJvdXRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihpdGVtKSB7XG4gICAgcmV0dXJuICEhaXRlbS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeTtcbn1cbmZ1bmN0aW9uIGNhbGxhYmxlT25jZShmbikge1xuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBmbiguLi5hcmdzKTtcbiAgICB9O1xufVxuY2xhc3MgRGVzdHJ1Y3RpYmxlSW5qZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGRlc3RydWN0aWJsZVByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzID0gZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5yZWZzID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBnZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGNvbnN0IHJlZiA9IHRoaXMucGFyZW50LmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICAvLyBpZiB3ZSdyZSBza2lwcGluZyBvdXJzZWx2ZXMgdGhlbiBpdCdzIG5vdCBvdXIgcmVzcG9uc2liaWxpdHkgdG8gZGVzdHJveVxuICAgICAgICBpZiAodHlwZW9mIGZsYWdzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikgJiYgdGhpcy5kZXN0cnVjdGlibGVQcm92aWRlcnMuaGFzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcy5hZGQocmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZmxhZ3M/LnNraXBTZWxmICYmIHRoaXMuZGVzdHJ1Y3RpYmxlUHJvdmlkZXJzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnMuYWRkKHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZWZzLmZvckVhY2goKHJlZikgPT4ge1xuICAgICAgICAgICAgaWYgKHJlZi5uZ09uRGVzdHJveSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVmLm5nT25EZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlZnMuY2xlYXIoKTtcbiAgICB9XG59XG5jb25zdCByb3V0ZVRvU3RyaW5nID0gZnVuY3Rpb24gKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgcmV0dXJuIGFjdGl2YXRlZFJvdXRlLnBhdGhGcm9tUm9vdC5qb2luKCctPicpO1xufTtcbnJlZ2lzdGVyRWxlbWVudCgncGFnZS1yb3V0ZXItb3V0bGV0JywgKCkgPT4gRnJhbWUpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9kaXJlY3RpdmUtc2VsZWN0b3JcbmNsYXNzIFBhZ2VSb3V0ZXJPdXRsZXQge1xuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25JbmplY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24uaW5qZWN0b3I7XG4gICAgfVxuICAgIC8qKiBAZGVwcmVjYXRlZCBmcm9tIEFuZ3VsYXIgc2luY2UgdjQgKi9cbiAgICBnZXQgbG9jYXRpb25GYWN0b3J5UmVzb2x2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVyO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuYWN0aXZhdGVkO1xuICAgIH1cbiAgICBnZXQgY29tcG9uZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgIH1cbiAgICBnZXQgYWN0aXZhdGVkUm91dGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZygnT3V0bGV0IGlzIG5vdCBhY3RpdmF0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZhdGVkUm91dGU7XG4gICAgfVxuICAgIGdldCBhY3RpdmF0ZWRSb3V0ZURhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2YXRlZFJvdXRlLnNuYXBzaG90LmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRDb250ZXh0cywgbG9jYXRpb24sIG5hbWUsIGFjdGlvbkJhclZpc2liaWxpdHksIGlzRW1wdHlPdXRsZXQsIGxvY2F0aW9uU3RyYXRlZ3ksIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgcmVzb2x2ZXIsIGNoYW5nZURldGVjdG9yLCBwYWdlRmFjdG9yeSwgcm91dGVSZXVzZVN0cmF0ZWd5LCBuZ1pvbmUsIHJvdXRlciwgZWxSZWYsIHZpZXdVdGlsLCBlbnZpcm9ubWVudEluamVjdG9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMgPSBwYXJlbnRDb250ZXh0cztcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kgPSBsb2NhdGlvblN0cmF0ZWd5O1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5yZXNvbHZlciA9IHJlc29sdmVyO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yID0gY2hhbmdlRGV0ZWN0b3I7XG4gICAgICAgIHRoaXMucGFnZUZhY3RvcnkgPSBwYWdlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kgPSByb3V0ZVJldXNlU3RyYXRlZ3k7XG4gICAgICAgIHRoaXMubmdab25lID0gbmdab25lO1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudEluamVjdG9yID0gZW52aXJvbm1lbnRJbmplY3RvcjtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbGluZTpkaXJlY3RpdmUtY2xhc3Mtc3VmZml4XG4gICAgICAgIHRoaXMuYWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF0dGFjaEV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5kZXRhY2hFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAYW5ndWxhci1lc2xpbnQvbm8tb3V0cHV0LXJlbmFtZVxuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLW91dHB1dC1yZW5hbWVcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9uby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gdHNsaW50OmRpc2FibGUtbGluZTpuby1vdXRwdXQtcmVuYW1lXG4gICAgICAgIHRoaXMuaXNFbXB0eU91dGxldCA9IGlzRW1wdHlPdXRsZXQ7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBlbFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgICB0aGlzLnNldEFjdGlvbkJhclZpc2liaWxpdHkoYWN0aW9uQmFyVmlzaWJpbGl0eSk7XG4gICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKGBQYWdlUm91dGVyT3V0bGV0LmNvbnN0cnVjdG9yIGZyYW1lOiAke3RoaXMuZnJhbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSB8fCBQUklNQVJZX09VVExFVDtcbiAgICAgICAgcGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldENyZWF0ZWQodGhpcy5uYW1lLCB0aGlzKTtcbiAgICAgICAgdGhpcy52aWV3VXRpbCA9IHZpZXdVdGlsO1xuICAgICAgICB0aGlzLmRldGFjaGVkTG9hZGVyRmFjdG9yeSA9IHJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICB9XG4gICAgc2V0QWN0aW9uQmFyVmlzaWJpbGl0eShhY3Rpb25CYXJWaXNpYmlsaXR5KSB7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uQmFyVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgY2FzZSAnYWx3YXlzJzpcbiAgICAgICAgICAgIGNhc2UgJ25ldmVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmFjdGlvbkJhclZpc2liaWxpdHkgPSBhY3Rpb25CYXJWaXNpYmlsaXR5O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5ID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhhdCB0aGUgYHBhcmVudENvbnRleHRzYCBoYXMgY2hhbmdlZCB0aGUgb3V0bGV0XG4gICAgICAgIC8vIHZpYSB0aGUgY3JlYXRpb24gb2YgYW5vdGhlciBvdXRsZXQsIHRoZSBgb25DaGlsZE91dGxldERlc3Ryb3llZGBcbiAgICAgICAgLy8gd2lsbCBiZSBza2lwcGVkXG4gICAgICAgIGlmICh0aGlzLnBhcmVudENvbnRleHRzLmdldENvbnRleHQodGhpcy5uYW1lKT8ub3V0bGV0ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAvLyBDbGVhciBhY2N1bXVsYXRlZCBtb2RhbCB2aWV3IHBhZ2UgY2FjaGUgd2hlbiBwYWdlLXJvdXRlci1vdXRsZXRcbiAgICAgICAgICAgIC8vIGRlc3Ryb3llZCBvbiBtb2RhbCB2aWV3IGNsb3NpbmdcbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGV4dHMub25DaGlsZE91dGxldERlc3Ryb3llZCh0aGlzLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dGxldCkge1xuICAgICAgICAgICAgdGhpcy5vdXRsZXQub3V0bGV0S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1vZGFsQ2FjaGUoa2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmNsZWFyT3V0bGV0KHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdQYWdlUm91dGVyT3V0bGV0Lm5nT25EZXN0cm95OiBubyBvdXRsZXQgYXZhaWxhYmxlIGZvciBwYWdlLXJvdXRlci1vdXRsZXQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcuZGV0YWNoKCk7XG4gICAgICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHRoaXMuYWN0aXZhdGVkKTtcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KGMpO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlYWN0aXZhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXQgfHwgIXRoaXMub3V0bGV0LmlzUGFnZU5hdmlnYXRpb25CYWNrKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ0N1cnJlbnRseSBub3QgaW4gcGFnZSBiYWNrIG5hdmlnYXRpb24gLSBjb21wb25lbnQgc2hvdWxkIGJlIGRldGFjaGVkIGluc3RlYWQgb2YgZGVhY3RpdmF0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQuZGVhY3RpdmF0ZSgpIHdoaWxlIGdvaW5nIGJhY2sgLSBzaG91bGQgZGVzdHJveScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0FjdGl2YXRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uPy4oKTtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuYWN0aXZhdGVkLmluc3RhbmNlO1xuICAgICAgICBkZXN0cm95Q29tcG9uZW50UmVmKHRoaXMuYWN0aXZhdGVkKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZUV2ZW50cy5lbWl0KGMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYFJvdXRlUmV1c2VTdHJhdGVneWAgaW5zdHJ1Y3RzIHRvIGRldGFjaCB0aGUgc3VidHJlZVxuICAgICAqL1xuICAgIGRldGFjaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZhdGVkKSB7XG4gICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ091dGxldCBpcyBub3QgYWN0aXZhdGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuZGV0YWNoKCkgLSAke3JvdXRlVG9TdHJpbmcodGhpcy5fYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uPy4oKTtcbiAgICAgICAgLy8gRGV0YWNoIGZyb20gQ2hhbmdlRGV0ZWN0aW9uXG4gICAgICAgIHRoaXMuYWN0aXZhdGVkLmhvc3RWaWV3LmRldGFjaCgpO1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmFjdGl2YXRlZDtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZWRSb3V0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWNoRXZlbnRzLmVtaXQoY29tcG9uZW50Lmluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGBSb3V0ZVJldXNlU3RyYXRlZ3lgIGluc3RydWN0cyB0byByZS1hdHRhY2ggYSBwcmV2aW91c2x5IGRldGFjaGVkIHN1YnRyZWVcbiAgICAgKi9cbiAgICBhdHRhY2gocmVmLCBhY3RpdmF0ZWRSb3V0ZSkge1xuICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckxvZyhgUGFnZVJvdXRlck91dGxldC5hdHRhY2goKSAtICR7cm91dGVUb1N0cmluZyhhY3RpdmF0ZWRSb3V0ZSl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSByZWY7XG4gICAgICAgIC8vIHJlYXR0YWNoIHRvIENoYW5nZURldGVjdGlvblxuICAgICAgICB0aGlzLmFjdGl2YXRlZC5ob3N0Vmlldy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQuaG9zdFZpZXcucmVhdHRhY2goKTtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVkUm91dGUgPSBhY3RpdmF0ZWRSb3V0ZTtcbiAgICAgICAgdGhpcy5tYXJrQWN0aXZhdGVkUm91dGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyB3ZSBoYXZlIGEgY2hpbGQgd2l0aCB0aGUgc2FtZSBuYW1lLCBzbyB3ZSBkb24ndCBmaW5pc2ggdGhlIGJhY2sgbmF2XG4gICAgICAgIGlmICh0aGlzLmlzRmluYWxQYWdlUm91dGVyT3V0bGV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uKHRoaXMuZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0YWNoRXZlbnRzLmVtaXQocmVmLmluc3RhbmNlKTtcbiAgICB9XG4gICAgaXNGaW5hbFBhZ2VSb3V0ZXJPdXRsZXQoKSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMucGFyZW50Q29udGV4dHMuZ2V0Q29udGV4dCh0aGlzLm5hbWUpPy5jaGlsZHJlbjtcbiAgICAgICAgd2hpbGUgKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbnRleHQgPSBjaGlsZHJlbi5nZXRDb250ZXh0KHRoaXMubmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNoaWxkQ29udGV4dCB8fCAhY2hpbGRDb250ZXh0Lm91dGxldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkQ29udGV4dC5vdXRsZXQgaW5zdGFuY2VvZiBQYWdlUm91dGVyT3V0bGV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZENvbnRleHQuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSB0aGUgUm91dGVyIHRvIGluc3RhbnRpYXRlIGEgbmV3IGNvbXBvbmVudCBkdXJpbmcgdGhlIGNvbW1pdCBwaGFzZSBvZiBhIG5hdmlnYXRpb24uXG4gICAgICogVGhpcyBtZXRob2QgaW4gdHVybiBpcyByZXNwb25zaWJsZSBmb3IgY2FsbGluZyB0aGUgYHJvdXRlck9uQWN0aXZhdGVgIGhvb2sgb2YgaXRzIGNoaWxkLlxuICAgICAqL1xuICAgIGFjdGl2YXRlV2l0aChhY3RpdmF0ZWRSb3V0ZSwgcmVzb2x2ZXIpIHtcbiAgICAgICAgdGhpcy5vdXRsZXQgPSB0aGlzLm91dGxldCB8fCB0aGlzLmdldE91dGxldChhY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGlmICghdGhpcy5vdXRsZXQpIHtcbiAgICAgICAgICAgIGlmIChOYXRpdmVTY3JpcHREZWJ1Zy5pc0xvZ0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIE5hdGl2ZVNjcmlwdERlYnVnLnJvdXRlckVycm9yKCdObyBvdXRsZXQgZm91bmQgcmVsYXRpdmUgdG8gYWN0aXZhdGVkIHJvdXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vdXRsZXQuaXNOU0VtcHR5T3V0bGV0ID0gdGhpcy5pc0VtcHR5T3V0bGV0O1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kudXBkYXRlT3V0bGV0RnJhbWUodGhpcy5vdXRsZXQsIHRoaXMuZnJhbWUsIHRoaXMuaXNFbXB0eU91dGxldCk7XG4gICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLm91dGxldC5pc1BhZ2VOYXZpZ2F0aW9uQmFjaykge1xuICAgICAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdDdXJyZW50bHkgaW4gcGFnZSBiYWNrIG5hdmlnYXRpb24gLSBjb21wb25lbnQgc2hvdWxkIGJlIHJlYXR0YWNoZWQgaW5zdGVhZCBvZiBhY3RpdmF0ZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpbmFsUGFnZVJvdXRlck91dGxldCgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9maW5pc2hCYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coYFBhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGVXaXRoKCkgLSAke3JvdXRlVG9TdHJpbmcoYWN0aXZhdGVkUm91dGUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2YXRlZFJvdXRlID0gYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIHRoaXMubWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlciB8fCB0aGlzLmVudmlyb25tZW50SW5qZWN0b3IpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlRXZlbnRzLmVtaXQodGhpcy5hY3RpdmF0ZWQuaW5zdGFuY2UpO1xuICAgIH1cbiAgICBhY3RpdmF0ZU9uR29Gb3J3YXJkKGFjdGl2YXRlZFJvdXRlLCByZXNvbHZlck9ySW5qZWN0b3IpIHtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ1BhZ2VSb3V0ZXJPdXRsZXQuYWN0aXZhdGUoKSBmb3J3YXJkIG5hdmlnYXRpb24gLSAnICsgJ2NyZWF0ZSBkZXRhY2hlZCBsb2FkZXIgaW4gdGhlIGxvYWRlciBjb250YWluZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudFR5cGUoYWN0aXZhdGVkUm91dGUpO1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlRmFjdG9yeSh7XG4gICAgICAgICAgICBpc05hdmlnYXRpb246IHRydWUsXG4gICAgICAgICAgICBjb21wb25lbnRUeXBlOiBjb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMubG9jYXRpb247XG4gICAgICAgIGNvbnN0IGRlc3RydWN0aWJsZXMgPSBuZXcgU2V0KFtQYWdlU2VydmljZV0pO1xuICAgICAgICBjb25zdCBwYXJlbnRJbmplY3RvciA9IEluamVjdG9yLmNyZWF0ZSh7XG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2UsIHVzZVZhbHVlOiBwYWdlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBGcmFtZSwgdXNlVmFsdWU6IHRoaXMuZnJhbWUgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IFBhZ2VSb3V0ZSwgdXNlVmFsdWU6IG5ldyBQYWdlUm91dGUoYWN0aXZhdGVkUm91dGUpIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBBY3RpdmF0ZWRSb3V0ZSwgdXNlVmFsdWU6IGFjdGl2YXRlZFJvdXRlIH0sXG4gICAgICAgICAgICAgICAgeyBwcm92aWRlOiBDaGlsZHJlbk91dGxldENvbnRleHRzLCB1c2VWYWx1ZTogdGhpcy5wYXJlbnRDb250ZXh0cy5nZXRPckNyZWF0ZUNvbnRleHQodGhpcy5uYW1lKS5jaGlsZHJlbiB9LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGFnZVNlcnZpY2UsIHVzZUNsYXNzOiBQYWdlU2VydmljZSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHBhcmVudDogbG9jYXRpb24uaW5qZWN0b3IsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IG5ldyBEZXN0cnVjdGlibGVJbmplY3RvcihkZXN0cnVjdGlibGVzLCBwYXJlbnRJbmplY3Rvcik7XG4gICAgICAgIGxldCBsb2FkZXJSZWY7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihyZXNvbHZlck9ySW5qZWN0b3IpKSB7XG4gICAgICAgICAgICBjb25zdCBmYWN0b3J5ID0gcmVzb2x2ZXJPckluamVjdG9yLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KERldGFjaGVkTG9hZGVyKTtcbiAgICAgICAgICAgIGxvYWRlclJlZiA9IGxvY2F0aW9uLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5LCBsb2NhdGlvbi5sZW5ndGgsIGluamVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVudmlyb25tZW50SW5qZWN0b3IgPSByZXNvbHZlck9ySW5qZWN0b3I7XG4gICAgICAgICAgICBsb2FkZXJSZWYgPSBsb2NhdGlvbi5jcmVhdGVDb21wb25lbnQoRGV0YWNoZWRMb2FkZXIsIHsgaW5kZXg6IGxvY2F0aW9uLmxlbmd0aCwgaW5qZWN0b3IsIGVudmlyb25tZW50SW5qZWN0b3IgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyUmVmLm9uRGVzdHJveSgoKSA9PiBpbmplY3Rvci5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IGxvYWRlclJlZi5pbnN0YW5jZS5sb2FkQ29tcG9uZW50SW5Mb2NhdGlvbihjb21wb25lbnQpO1xuICAgICAgICB0aGlzLmFjdGl2YXRlZC5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIHRoaXMubG9hZENvbXBvbmVudEluUGFnZShwYWdlLCB0aGlzLmFjdGl2YXRlZCwgeyBhY3RpdmF0ZWRSb3V0ZSB9KTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWRbbG9hZGVyUmVmU3ltYm9sXSA9IGxvYWRlclJlZjtcbiAgICB9XG4gICAgbG9hZENvbXBvbmVudEluUGFnZShwYWdlLCBjb21wb25lbnRSZWYsIG5hdmlnYXRpb25Db250ZXh0KSB7XG4gICAgICAgIC8vIENvbXBvbmVudCBsb2FkZWQuIEZpbmQgaXRzIHJvb3QgbmF0aXZlIHZpZXcuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFZpZXcgPSBjb21wb25lbnRSZWYubG9jYXRpb24ubmF0aXZlRWxlbWVudDtcbiAgICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gb3JpZ2luYWwgbmF0aXZlIHBhcmVudC5cbiAgICAgICAgdGhpcy52aWV3VXRpbC5yZW1vdmVDaGlsZChjb21wb25lbnRWaWV3LnBhcmVudCwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgbmV3IHBhZ2VcbiAgICAgICAgdGhpcy52aWV3VXRpbC5hcHBlbmRDaGlsZChwYWdlLCBjb21wb25lbnRWaWV3KTtcbiAgICAgICAgbGV0IHRvcEFjdGl2YXRlZFJvdXRlID0gZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCh0aGlzLl9hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdCk7XG4gICAgICAgIGxldCBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIGNvbnN0IHRoaXNSb3V0ZUtleSA9IG91dGxldEtleTtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZmluZE91dGxldChvdXRsZXRLZXkpKSB7XG4gICAgICAgICAgICB0b3BBY3RpdmF0ZWRSb3V0ZSA9IHRvcEFjdGl2YXRlZFJvdXRlLnBhcmVudDtcbiAgICAgICAgICAgIGlmICghdG9wQWN0aXZhdGVkUm91dGUpIHtcbiAgICAgICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJFcnJvcignQ291bGQgbm90IGZpbmQgb3V0bGV0IGZvciByb3V0ZTogJyArIHRoaXNSb3V0ZUtleSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRsZXRLZXkgPSB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuZ2V0Um91dGVGdWxsUGF0aCh0b3BBY3RpdmF0ZWRSb3V0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmF2aWdhdGVkRnJvbUNhbGxiYWNrID0gZ2xvYmFsLlpvbmUuY3VycmVudC53cmFwKChhcmdzKSA9PiB7XG4gICAgICAgICAgICBpZiAoYXJncy5pc0JhY2tOYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Ll9iZWdpbkJhY2tQYWdlTmF2aWdhdGlvbih0aGlzLmZyYW1lLCBvdXRsZXRLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogZXhwZXJpbWVudCB3aXRoIHVzaW5nIE5nWm9uZSBpbnN0ZWFkIG9mIGdsb2JhbCBhYm92ZVxuICAgICAgICAvLyBjb25zdCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2sgPSAoYXJnczogTmF2aWdhdGVkRGF0YSkgPT4ge1xuICAgICAgICAvLyBcdGlmIChhcmdzLmlzQmFja05hdmlnYXRpb24pIHtcbiAgICAgICAgLy8gICAgIHRoaXMubmdab25lLnJ1bigoKSA9PiB7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5fYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSk7XG4gICAgICAgIC8vICAgICAgIHRoaXMubG9jYXRpb25TdHJhdGVneS5iYWNrKG51bGwsIHRoaXMuZnJhbWUpO1xuICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgIC8vIFx0fVxuICAgICAgICAvLyB9O1xuICAgICAgICBwYWdlLm9uKFBhZ2UubmF2aWdhdGVkRnJvbUV2ZW50LCBuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2spO1xuICAgICAgICBjb21wb25lbnRSZWYub25EZXN0cm95KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgICAgICAgcGFnZS5vZmYoUGFnZS5uYXZpZ2F0ZWRGcm9tRXZlbnQsIG5hdmlnYXRlZEZyb21DYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcGFnZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZPcHRpb25zID0geyAuLi5kZWZhdWx0TmF2T3B0aW9ucywgLi4uKHRoaXMucm91dGVyLmdldEN1cnJlbnROYXZpZ2F0aW9uKCkuZXh0cmFzIHx8IHt9KSB9O1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuX2JlZ2luUGFnZU5hdmlnYXRpb24odGhpcy5mcmFtZSwgbmF2T3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGlzUmVwbGFjZSA9IG5hdk9wdGlvbnMucmVwbGFjZVVybCAmJiAhbmF2T3B0aW9ucy5jbGVhckhpc3Rvcnk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHRoaXMuYWN0aXZhdGVkUm91dGU7XG4gICAgICAgIC8vIENsZWFyIHJlZkNhY2hlIGlmIG5hdmlnYXRpb24gd2l0aCBjbGVhckhpc3RvcnlcbiAgICAgICAgaWYgKG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kubWFya0NhY2hlRm9yQ2xlYXIoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCB3aXBlQ2FjaGUgPSBjYWxsYWJsZU9uY2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc3ROYXZGdW5jdGlvbiA9PT0gd2lwZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0bGV0ICYmIHRoaXMuYWN0aXZhdGVkUm91dGUgPT09IGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWwgYWx0ZXJuYXRpdmUgZml4IChvbmx5IGZpeCBjaGlsZHJlbiBvZiB0aGUgY3VycmVudCBvdXRsZXQpXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IG5lc3RzID0gb3V0bGV0S2V5LnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZmlsdGVyKChrKSA9PiBrLnNwbGl0KCcvJykubGVuZ3RoID49IG5lc3RzLmxlbmd0aCkuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhckNhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kuY2xlYXJNYXJrZWRDYWNoZShrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucG9zdE5hdkZ1bmN0aW9uID0gd2lwZUNhY2hlO1xuICAgICAgICAgICAgY29uc3QgY2xlYXJDYWxsYmFjayA9ICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdpcGVDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYXZPcHRpb25zLnJlcGxhY2VVcmwpIHtcbiAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5tYXJrQ2FjaGVGb3JQb3Aoa2V5KSk7XG4gICAgICAgICAgICBjb25zdCBwb3BDYWNoZSA9IGNhbGxhYmxlT25jZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zdE5hdkZ1bmN0aW9uID09PSBwb3BDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3ROYXZGdW5jdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dGxldCAmJiB0aGlzLmFjdGl2YXRlZFJvdXRlID09PSBjdXJyZW50Um91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG90ZW50aWFsIGFsdGVybmF0aXZlIGZpeCAob25seSBmaXggY2hpbGRyZW4gb2YgdGhlIGN1cnJlbnQgb3V0bGV0KVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBuZXN0cyA9IG91dGxldEtleS5zcGxpdCgnLycpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm91dGxldC5vdXRsZXRLZXlzLmZpbHRlcigoaykgPT4gay5zcGxpdCgnLycpLmxlbmd0aCA+PSBuZXN0cy5sZW5ndGgpLmZvckVhY2goKGtleSkgPT4gdGhpcy5yb3V0ZVJldXNlU3RyYXRlZ3kucG9wQ2FjaGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0bGV0Lm91dGxldEtleXMuZm9yRWFjaCgoa2V5KSA9PiB0aGlzLnJvdXRlUmV1c2VTdHJhdGVneS5jbGVhck1hcmtlZENhY2hlKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5wb3N0TmF2RnVuY3Rpb24gPSBwb3BDYWNoZTtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyQ2FsbGJhY2sgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3BDYWNoZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYWdlLm9uY2UoUGFnZS5uYXZpZ2F0ZWRUb0V2ZW50LCBjbGVhckNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRW50cnkgPSB7XG4gICAgICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udGV4dDogbmF2aWdhdGlvbkNvbnRleHQsXG4gICAgICAgICAgICBjbGVhckhpc3Rvcnk6IG5hdk9wdGlvbnMuY2xlYXJIaXN0b3J5LFxuICAgICAgICAgICAgYW5pbWF0ZWQ6IG5hdk9wdGlvbnMuYW5pbWF0ZWQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBuYXZPcHRpb25zLnRyYW5zaXRpb24sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc1JlcGxhY2UgJiYgdGhpcy5mcmFtZS5jdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5yZXBsYWNlUGFnZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5uYXZpZ2F0ZShuYXZpZ2F0aW9uRW50cnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbmQgYW5kIG1hcmsgdGhlIHRvcCBhY3RpdmF0ZWQgcm91dGUgYXMgYW4gYWN0aXZhdGVkIG9uZS5cbiAgICAvLyBJbiBucy1sb2NhdGlvbi1zdHJhdGVneSB3ZSBhcmUgcmV1c2luZyBjb21wb25lbnRzIG9ubHkgaWYgdGhlaXIgY29ycmVzcG9uaW5nIHJvdXRlc1xuICAgIC8vIGFyZSBtYXJrZWQgYXMgYWN0aXZhdGVkIGZyb20gdGhpcyBtZXRob2QuXG4gICAgbWFya0FjdGl2YXRlZFJvdXRlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgIHF1ZXVlLnB1c2goYWN0aXZhdGVkUm91dGUuc25hcHNob3QpO1xuICAgICAgICBsZXQgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZSkge1xuICAgICAgICAgICAgY3VycmVudFJvdXRlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkUm91dGUpID0+IHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkUm91dGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAgICAgaWYgKG91dGxldCAmJiBvdXRsZXQuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvcEFjdGl2YXRlZFJvdXRlW3BhZ2VSb3V0ZXJBY3RpdmF0ZWRTeW1ib2xdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoTmF0aXZlU2NyaXB0RGVidWcuaXNMb2dFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgTmF0aXZlU2NyaXB0RGVidWcucm91dGVyTG9nKCdBY3RpdmF0ZWQgcm91dGUgbWFya2VkIGFzIHBhZ2U6ICcgKyByb3V0ZVRvU3RyaW5nKHRvcEFjdGl2YXRlZFJvdXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFJvdXRlID0gcXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb21wb25lbnRUeXBlKGFjdGl2YXRlZFJvdXRlKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmF0ZWRSb3V0ZS5yb3V0ZUNvbmZpZy5jb21wb25lbnQgfHwgYWN0aXZhdGVkUm91dGUuY29tcG9uZW50O1xuICAgIH1cbiAgICBnZXRPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCkge1xuICAgICAgICBjb25zdCB0b3BBY3RpdmF0ZWRSb3V0ZSA9IGZpbmRUb3BBY3RpdmF0ZWRSb3V0ZU5vZGVGb3JPdXRsZXQoYWN0aXZhdGVkUm91dGVTbmFwc2hvdCk7XG4gICAgICAgIGNvbnN0IG91dGxldEtleSA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5nZXRSb3V0ZUZ1bGxQYXRoKHRvcEFjdGl2YXRlZFJvdXRlKTtcbiAgICAgICAgbGV0IG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KG91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUpO1xuICAgICAgICAvLyBOYW1lZCBsYXp5IGxvYWRlZCBvdXRsZXQuXG4gICAgICAgIGlmICghb3V0bGV0ICYmIHRoaXMuaXNFbXB0eU91dGxldCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50T3V0bGV0S2V5ID0gdGhpcy5sb2NhdGlvblN0cmF0ZWd5LmdldFJvdXRlRnVsbFBhdGgodG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIG91dGxldCA9IHRoaXMubG9jYXRpb25TdHJhdGVneS5maW5kT3V0bGV0KHBhcmVudE91dGxldEtleSwgdG9wQWN0aXZhdGVkUm91dGUucGFyZW50KTtcbiAgICAgICAgICAgIGlmIChvdXRsZXQpIHtcbiAgICAgICAgICAgICAgICBvdXRsZXQub3V0bGV0S2V5cy5wdXNoKG91dGxldEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dGxldDtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZXBzOiBbeyB0b2tlbjogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdG9rZW46IGkwLlZpZXdDb250YWluZXJSZWYgfSwgeyB0b2tlbjogJ25hbWUnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2FjdGlvbkJhclZpc2liaWxpdHknLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogJ2lzRW1wdHlPdXRsZXQnLCBhdHRyaWJ1dGU6IHRydWUgfSwgeyB0b2tlbjogTlNMb2NhdGlvblN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHRva2VuOiBpMC5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgfSwgeyB0b2tlbjogaTAuQ2hhbmdlRGV0ZWN0b3JSZWYgfSwgeyB0b2tlbjogUEFHRV9GQUNUT1JZIH0sIHsgdG9rZW46IE5TUm91dGVSZXVzZVN0cmF0ZWd5IH0sIHsgdG9rZW46IGkwLk5nWm9uZSB9LCB7IHRva2VuOiBpMSQzLlJvdXRlciB9LCB7IHRva2VuOiBpMC5FbGVtZW50UmVmIH0sIHsgdG9rZW46IFZpZXdVdGlsIH0sIHsgdG9rZW46IGkwLkVudmlyb25tZW50SW5qZWN0b3IgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuRGlyZWN0aXZlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWRpciA9IGkwLsm1ybVuZ0RlY2xhcmVEaXJlY3RpdmUoeyBtaW5WZXJzaW9uOiBcIjE0LjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBzZWxlY3RvcjogXCJwYWdlLXJvdXRlci1vdXRsZXRcIiwgb3V0cHV0czogeyBhY3RpdmF0ZUV2ZW50czogXCJhY3RpdmF0ZVwiLCBkZWFjdGl2YXRlRXZlbnRzOiBcImRlYWN0aXZhdGVcIiB9LCBuZ0ltcG9ydDogaTAgfSk7IH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb2ZpbGUsXG4gICAgX19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FjdGl2YXRlZFJvdXRlLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwiYWN0aXZhdGVXaXRoXCIsIG51bGwpO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvZmlsZSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbUGFnZSwgQ29tcG9uZW50UmVmLCBPYmplY3RdKSxcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnJldHVybnR5cGVcIiwgdm9pZCAwKVxuXSwgUGFnZVJvdXRlck91dGxldC5wcm90b3R5cGUsIFwibG9hZENvbXBvbmVudEluUGFnZVwiLCBudWxsKTtcbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogRGlyZWN0aXZlLFxuICAgICAgICAgICAgYXJnczogW3sgc2VsZWN0b3I6ICdwYWdlLXJvdXRlci1vdXRsZXQnIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogaTEkMy5DaGlsZHJlbk91dGxldENvbnRleHRzIH0sIHsgdHlwZTogaTAuVmlld0NvbnRhaW5lclJlZiB9LCB7IHR5cGU6IHVuZGVmaW5lZCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBbJ25hbWUnXVxuICAgICAgICAgICAgICAgIH1dIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBBdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aW9uQmFyVmlzaWJpbGl0eSddXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiB1bmRlZmluZWQsIGRlY29yYXRvcnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEF0dHJpYnV0ZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogWydpc0VtcHR5T3V0bGV0J11cbiAgICAgICAgICAgICAgICB9XSB9LCB7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciB9LCB7IHR5cGU6IGkwLkNoYW5nZURldGVjdG9yUmVmIH0sIHsgdHlwZTogdW5kZWZpbmVkLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBJbmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtQQUdFX0ZBQ1RPUlldXG4gICAgICAgICAgICAgICAgfV0gfSwgeyB0eXBlOiBOU1JvdXRlUmV1c2VTdHJhdGVneSB9LCB7IHR5cGU6IGkwLk5nWm9uZSB9LCB7IHR5cGU6IGkxJDMuUm91dGVyIH0sIHsgdHlwZTogaTAuRWxlbWVudFJlZiB9LCB7IHR5cGU6IFZpZXdVdGlsIH0sIHsgdHlwZTogaTAuRW52aXJvbm1lbnRJbmplY3RvciB9XSwgcHJvcERlY29yYXRvcnM6IHsgYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnYWN0aXZhdGUnXVxuICAgICAgICAgICAgfV0sIGRlYWN0aXZhdGVFdmVudHM6IFt7XG4gICAgICAgICAgICAgICAgdHlwZTogT3V0cHV0LFxuICAgICAgICAgICAgICAgIGFyZ3M6IFsnZGVhY3RpdmF0ZSddXG4gICAgICAgICAgICB9XSwgYWN0aXZhdGVXaXRoOiBbXSwgbG9hZENvbXBvbmVudEluUGFnZTogW10gfSB9KTtcblxuY2xhc3MgTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiBleHRlbmRzIFBsYXRmb3JtTG9jYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxvY2F0aW9uU3RyYXRlZ3kpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5ID0gbG9jYXRpb25TdHJhdGVneTtcbiAgICAgICAgaWYgKE5hdGl2ZVNjcmlwdERlYnVnLmlzTG9nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBOYXRpdmVTY3JpcHREZWJ1Zy5yb3V0ZXJMb2coJ05hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24uY29uc3RydWN0b3IoKScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXRCYXNlSHJlZkZyb21ET00oKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgfVxuICAgIG9uUG9wU3RhdGUoZm4pIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5Lm9uUG9wU3RhdGUoZm4pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgb25IYXNoQ2hhbmdlKF9mbikge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHNlYXJjaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgaGFzaCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBnZXQgcGF0aG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucGF0aCgpO1xuICAgIH1cbiAgICBzZXQgcGF0aG5hbWUoX25ld1BhdGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uIHNldCBwYXRobmFtZSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBwdXNoU3RhdGUoc3RhdGUsIHRpdGxlLCB1cmwpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvblN0cmF0ZWd5LnB1c2hTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCwgbnVsbCk7XG4gICAgfVxuICAgIHJlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kucmVwbGFjZVN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsLCBudWxsKTtcbiAgICB9XG4gICAgZm9yd2FyZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLmZvcndhcmQoKSAtIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBiYWNrKCkge1xuICAgICAgICB0aGlzLmxvY2F0aW9uU3RyYXRlZ3kuYmFjaygpO1xuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24sIGRlcHM6IFt7IHRva2VuOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfV0sIHRhcmdldDogaTAuybXJtUZhY3RvcnlUYXJnZXQuSW5qZWN0YWJsZSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVwcm92ID0gaTAuybXJtW5nRGVjbGFyZUluamVjdGFibGUoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gfSk7IH1cbn1cbmkwLsm1ybVuZ0RlY2xhcmVDbGFzc01ldGFkYXRhKHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogSW5qZWN0YWJsZVxuICAgICAgICB9XSwgY3RvclBhcmFtZXRlcnM6ICgpID0+IFt7IHR5cGU6IE5TTG9jYXRpb25TdHJhdGVneSB9XSB9KTtcblxuY2xhc3MgTlNFbXB0eU91dGxldENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocGFnZSkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgICAgICBpZiAodGhpcy5wYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UuYWN0aW9uQmFySGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbignbG9hZGVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VSb3V0ZXJPdXRsZXQgJiYgdGhpcy5wYWdlLmZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZVJvdXRlck91dGxldC5zZXRBY3Rpb25CYXJWaXNpYmlsaXR5KHRoaXMucGFnZS5mcmFtZS5hY3Rpb25CYXJWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgeyB0aGlzLsm1ZmFjID0gaTAuybXJtW5nRGVjbGFyZUZhY3RvcnkoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5TRW1wdHlPdXRsZXRDb21wb25lbnQsIGRlcHM6IFt7IHRva2VuOiBpMS5QYWdlIH1dLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0LkNvbXBvbmVudCB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVjbXAgPSBpMC7Jtcm1bmdEZWNsYXJlQ29tcG9uZW50KHsgbWluVmVyc2lvbjogXCIxNC4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgc2VsZWN0b3I6IFwibnMtZW1wdHktb3V0bGV0XCIsIHZpZXdRdWVyaWVzOiBbeyBwcm9wZXJ0eU5hbWU6IFwicGFnZVJvdXRlck91dGxldFwiLCBmaXJzdDogdHJ1ZSwgcHJlZGljYXRlOiBQYWdlUm91dGVyT3V0bGV0LCBkZXNjZW5kYW50czogdHJ1ZSwgcmVhZDogUGFnZVJvdXRlck91dGxldCB9XSwgbmdJbXBvcnQ6IGkwLCB0ZW1wbGF0ZTogXCI8cGFnZS1yb3V0ZXItb3V0bGV0IGlzRW1wdHlPdXRsZXQ9J3RydWUnPjwvcGFnZS1yb3V0ZXItb3V0bGV0PlwiLCBpc0lubGluZTogdHJ1ZSwgZGVwZW5kZW5jaWVzOiBbeyBraW5kOiBcImRpcmVjdGl2ZVwiLCB0eXBlOiBQYWdlUm91dGVyT3V0bGV0LCBzZWxlY3RvcjogXCJwYWdlLXJvdXRlci1vdXRsZXRcIiwgb3V0cHV0czogW1wiYWN0aXZhdGVcIiwgXCJkZWFjdGl2YXRlXCJdIH1dIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTlNFbXB0eU91dGxldENvbXBvbmVudCwgZGVjb3JhdG9yczogW3tcbiAgICAgICAgICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICAgICAgICAgIGFyZ3M6IFt7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpjb21wb25lbnQtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICducy1lbXB0eS1vdXRsZXQnLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8cGFnZS1yb3V0ZXItb3V0bGV0IGlzRW1wdHlPdXRsZXQ9J3RydWUnPjwvcGFnZS1yb3V0ZXItb3V0bGV0PlwiLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dLCBjdG9yUGFyYW1ldGVyczogKCkgPT4gW3sgdHlwZTogaTEuUGFnZSB9XSwgcHJvcERlY29yYXRvcnM6IHsgcGFnZVJvdXRlck91dGxldDogW3tcbiAgICAgICAgICAgICAgICB0eXBlOiBWaWV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgYXJnczogW1BhZ2VSb3V0ZXJPdXRsZXQsIHsgcmVhZDogUGFnZVJvdXRlck91dGxldCwgc3RhdGljOiBmYWxzZSB9XVxuICAgICAgICAgICAgfV0gfSB9KTtcblxuZnVuY3Rpb24gcHJvdmlkZUxvY2F0aW9uU3RyYXRlZ3kobG9jYXRpb25TdHJhdGVneSwgZnJhbWVTZXJ2aWNlLCBzdGFydFBhdGgpIHtcbiAgICByZXR1cm4gbG9jYXRpb25TdHJhdGVneSA/IGxvY2F0aW9uU3RyYXRlZ3kgOiBuZXcgTlNMb2NhdGlvblN0cmF0ZWd5KGZyYW1lU2VydmljZSwgc3RhcnRQYXRoKTtcbn1cbmNsYXNzIE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSB7XG4gICAgc3RhdGljIGZvclJvb3Qocm91dGVzLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsXG4gICAgICAgICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgICAgICAgICAuLi5Sb3V0ZXJNb2R1bGUuZm9yUm9vdChyb3V0ZXMsIGNvbmZpZykucHJvdmlkZXJzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZTogTlNMb2NhdGlvblN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBwcm92aWRlTG9jYXRpb25TdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1tOU0xvY2F0aW9uU3RyYXRlZ3ksIG5ldyBPcHRpb25hbCgpLCBuZXcgU2tpcFNlbGYoKV0sIEZyYW1lU2VydmljZSwgW25ldyBPcHRpb25hbCgpLCBTVEFSVF9QQVRIXV0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IHByb3ZpZGU6IExvY2F0aW9uU3RyYXRlZ3ksIHVzZUV4aXN0aW5nOiBOU0xvY2F0aW9uU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgICAgICBOYXRpdmVzY3JpcHRQbGF0Zm9ybUxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUGxhdGZvcm1Mb2NhdGlvbiwgdXNlRXhpc3Rpbmc6IE5hdGl2ZXNjcmlwdFBsYXRmb3JtTG9jYXRpb24gfSxcbiAgICAgICAgICAgICAgICBSb3V0ZXJFeHRlbnNpb25zLFxuICAgICAgICAgICAgICAgIE5TUm91dGVSZXVzZVN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogUm91dGVSZXVzZVN0cmF0ZWd5LCB1c2VFeGlzdGluZzogTlNSb3V0ZVJldXNlU3RyYXRlZ3kgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmb3JDaGlsZChyb3V0ZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgbmdNb2R1bGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgcHJvdmlkZXJzOiBSb3V0ZXJNb2R1bGUuZm9yQ2hpbGQocm91dGVzKS5wcm92aWRlcnMgfTtcbiAgICB9XG4gICAgc3RhdGljIHsgdGhpcy7JtWZhYyA9IGkwLsm1ybVuZ0RlY2xhcmVGYWN0b3J5KHsgbWluVmVyc2lvbjogXCIxMi4wLjBcIiwgdmVyc2lvbjogXCIxNy4wLjBcIiwgbmdJbXBvcnQ6IGkwLCB0eXBlOiBOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGUsIGRlcHM6IFtdLCB0YXJnZXQ6IGkwLsm1ybVGYWN0b3J5VGFyZ2V0Lk5nTW9kdWxlIH0pOyB9XG4gICAgc3RhdGljIHsgdGhpcy7JtW1vZCA9IGkwLsm1ybVuZ0RlY2xhcmVOZ01vZHVsZSh7IG1pblZlcnNpb246IFwiMTQuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSB9KTsgfVxuICAgIHN0YXRpYyB7IHRoaXMuybVpbmogPSBpMC7Jtcm1bmdEZWNsYXJlSW5qZWN0b3IoeyBtaW5WZXJzaW9uOiBcIjEyLjAuMFwiLCB2ZXJzaW9uOiBcIjE3LjAuMFwiLCBuZ0ltcG9ydDogaTAsIHR5cGU6IE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgaW1wb3J0czogW1JvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0Q29tbW9uTW9kdWxlLCBSb3V0ZXJNb2R1bGVdIH0pOyB9XG59XG5pMC7Jtcm1bmdEZWNsYXJlQ2xhc3NNZXRhZGF0YSh7IG1pblZlcnNpb246IFwiMTIuMC4wXCIsIHZlcnNpb246IFwiMTcuMC4wXCIsIG5nSW1wb3J0OiBpMCwgdHlwZTogTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlLCBkZWNvcmF0b3JzOiBbe1xuICAgICAgICAgICAgdHlwZTogTmdNb2R1bGUsXG4gICAgICAgICAgICBhcmdzOiBbe1xuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IFtOU1JvdXRlckxpbmssIE5TUm91dGVyTGlua0FjdGl2ZSwgUGFnZVJvdXRlck91dGxldCwgTlNFbXB0eU91dGxldENvbXBvbmVudF0sXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5hdGl2ZVNjcmlwdENvbW1vbk1vZHVsZV0sXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IFtSb3V0ZXJNb2R1bGUsIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBQYWdlUm91dGVyT3V0bGV0LCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50XSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hczogW05PX0VSUk9SU19TQ0hFTUFdLFxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgIH1dIH0pO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb24gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC90cmlwbGUtc2xhc2gtcmVmZXJlbmNlICovXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvbmUuanMvem9uZS5kLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG5hdGl2ZXNjcmlwdC9jb3JlL2dsb2JhbC10eXBlcy5kLnRzXCIgLz5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xubGV0IGN1cnJlbnRSYWZJZCA9IDE7XG5mdW5jdGlvbiBub29wKCkgeyB9XG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBOZ1pvbmV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ25nLXpvbmUtZGVtbycsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGgyPkRlbW86IE5nWm9uZTwvaDI+XG4gKlxuICogICAgIDxwPlByb2dyZXNzOiB7e3Byb2dyZXNzfX0lPC9wPlxuICogICAgIDxwICpuZ0lmPVwicHJvZ3Jlc3MgPj0gMTAwXCI+RG9uZSBwcm9jZXNzaW5nIHt7bGFiZWx9fSBvZiBBbmd1bGFyIHpvbmUhPC9wPlxuICpcbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgd2l0aGluIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyBvdXRzaWRlIG9mIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICBgLFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAgIC8vIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZGlzcGxheSBkb25lXG4gKiAgICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4geyBjb25zb2xlLmxvZygnT3V0c2lkZSBEb25lIScpOyB9KTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICBfaW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAqICAgICB0aGlzLnByb2dyZXNzICs9IDE7XG4gKiAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgcHJvZ3Jlc3M6ICR7dGhpcy5wcm9ncmVzc30lYCk7XG4gKlxuICogICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMTAwKSB7XG4gKiAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjayksIDEwKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgZG9uZUNhbGxiYWNrKCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmNsYXNzIE5hdGl2ZVNjcmlwdE5nWm9uZSB7XG4gICAgY29uc3RydWN0b3IoeyBlbmFibGVMb25nU3RhY2tUcmFjZSA9IGlzRGV2TW9kZSgpLCBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZSwgc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSB0cnVlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlZCBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluIHRoaXMgY29uZmlndXJhdGlvbiBBbmd1bGFyIHJlcXVpcmVzIFpvbmUuanNgKTtcbiAgICAgICAgfVxuICAgICAgICBab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9uZXN0aW5nID0gMDtcbiAgICAgICAgc2VsZi5fb3V0ZXIgPSBzZWxmLl9pbm5lciA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgaWYgKFpvbmVbJ1Rhc2tUcmFja2luZ1pvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhuZXcgWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlTG9uZ1N0YWNrVHJhY2UgJiYgWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsoWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLCBhbGwgdGFza3MgaW5jbHVkaW5nIGV2ZW50IHRhc2tzIHdpbGwgYmVcbiAgICAgICAgLy8gY29hbGVzY2VkLCBzbyBzaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uIG9wdGlvbiBpcyBub3QgbmVjZXNzYXJ5IGFuZCBjYW4gYmUgc2tpcHBlZC5cbiAgICAgICAgc2VsZi5zaG91bGRDb2FsZXNjZUV2ZW50Q2hhbmdlRGV0ZWN0aW9uID0gIXNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uICYmIHNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb247XG4gICAgICAgIHNlbGYuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gPSBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbjtcbiAgICAgICAgc2VsZi5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgc2VsZi5uYXRpdmVSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkID0gVXRpbHNbWm9uZS5fX3N5bWJvbF9fKCdkaXNwYXRjaFRvTWFpblRocmVhZCcpXSB8fCBVdGlscy5kaXNwYXRjaFRvTWFpblRocmVhZDtcbiAgICAgICAgICAgIG5hdGl2ZURpc3BhdGNoVG9NYWluVGhyZWFkKGNiKTtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50UmFmSWQrKztcbiAgICAgICAgfTtcbiAgICAgICAgZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioc2VsZik7XG4gICAgfVxuICAgIHN0YXRpYyBpc0luQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIHJldHVybiBab25lLmN1cnJlbnQuZ2V0KCdpc0FuZ3VsYXJab25lJykgPT09IHRydWU7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnRJbkFuZ3VsYXJab25lKCkge1xuICAgICAgICBpZiAoIU5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGFzc2VydE5vdEluQW5ndWxhclpvbmUoKSB7XG4gICAgICAgIGlmIChOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgcnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYXMgYSB0YXNrIGFuZCByZXR1cm5zIHZhbHVlXG4gICAgICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIHJ1blRhc2soZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IHpvbmUgPSB0aGlzLl9pbm5lcjtcbiAgICAgICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soJ05nWm9uZUV2ZW50OiAnICsgbmFtZSwgZm4sIEVNUFRZX1BBWUxPQUQsIG5vb3AsIG5vb3ApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHpvbmUucnVuVGFzayh0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB6b25lLmNhbmNlbFRhc2sodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKi9cbiAgICBydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5uZXIucnVuR3VhcmRlZChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbGxvd3MgeW91IHRvIGVzY2FwZSBBbmd1bGFyJ3Mgem9uZSBhbmQgZG9cbiAgICAgKiB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIHJ1bk91dHNpZGVBbmd1bGFyKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRlci5ydW4oZm4pO1xuICAgIH1cbn1cbmNvbnN0IEVNUFRZX1BBWUxPQUQgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrU3RhYmxlKHpvbmUpIHtcbiAgICAvLyBUT0RPOiBASmlhTGlQYXNzaW9uLCBzaG91bGQgY2hlY2sgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB0byBwcmV2ZW50XG4gICAgLy8gcmUtZW50cnkuIFRoZSBjYXNlIGlzOlxuICAgIC8vXG4gICAgLy8gQENvbXBvbmVudCh7Li4ufSlcbiAgICAvLyBleHBvcnQgY2xhc3MgQXBwQ29tcG9uZW50IHtcbiAgICAvLyBjb25zdHJ1Y3Rvcihwcml2YXRlIG5nWm9uZTogTmdab25lKSB7XG4gICAgLy8gICB0aGlzLm5nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgIC8vICAgICB0aGlzLm5nWm9uZS5ydW4oKCkgPT4gY29uc29sZS5sb2coJ3N0YWJsZScpOyk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBUaGUgb25TdGFibGUgc3Vic2NyaWJlciBydW4gYW5vdGhlciBmdW5jdGlvbiBpbnNpZGUgbmdab25lXG4gICAgLy8gd2hpY2ggY2F1c2VzIGBjaGVja1N0YWJsZSgpYCByZS1lbnRyeS5cbiAgICAvLyBCdXQgdGhpcyBmaXggY2F1c2VzIHNvbWUgaXNzdWVzIGluIGczLCBzbyB0aGlzIGZpeCB3aWxsIGJlXG4gICAgLy8gbGF1bmNoZWQgaW4gYW5vdGhlciBQUi5cbiAgICBpZiAoem9uZS5fbmVzdGluZyA9PSAwICYmICF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzICYmICF6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgICAgICAgICB6b25lLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICAgICAgICAgIGlmICghem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vblN0YWJsZS5lbWl0KG51bGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzKHpvbmUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBhbHNvIG5lZWQgdG8gY2hlY2sgX25lc3RpbmcgaGVyZVxuICAgICAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgY2FzZSB3aXRoIHNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uID0gdHJ1ZVxuICAgICAqXG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICogbmdab25lLnJ1bigoKSA9PiB7fSk7XG4gICAgICpcbiAgICAgKiBXZSB3YW50IHRoZSB0d28gYG5nWm9uZS5ydW4oKWAgb25seSB0cmlnZ2VyIG9uZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogd2hlbiBzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiBpcyB0cnVlLlxuICAgICAqIEFuZCBiZWNhdXNlIGluIHRoaXMgY2FzZSwgY2hhbmdlIGRldGVjdGlvbiBydW4gaW4gYXN5bmMgd2F5KHJlcXVlc3RBbmltYXRpb25GcmFtZSksXG4gICAgICogc28gd2UgYWxzbyBuZWVkIHRvIGNoZWNrIHRoZSBfbmVzdGluZyBoZXJlIHRvIHByZXZlbnQgbXVsdGlwbGVcbiAgICAgKiBjaGFuZ2UgZGV0ZWN0aW9ucy5cbiAgICAgKi9cbiAgICBpZiAoem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyB8fCB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB6b25lLmxhc3RSZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9IHpvbmUubmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lLmNhbGwoZ2xvYmFsLCAoKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzY4MzkuXG4gICAgICAgIC8vIFRoZSBjb3JlIGlzc3VlIGlzIHRoYXQgd2hlbiBldmVudCBjb2FsZXNjaW5nIGlzIGVuYWJsZWQgaXQgaXMgcG9zc2libGUgZm9yIG1pY3JvdGFza3NcbiAgICAgICAgLy8gdG8gZ2V0IGZsdXNoZWQgdG9vIGVhcmx5IChBcyBpcyB0aGUgY2FzZSB3aXRoIGBQcm9taXNlLnRoZW5gKSBiZXR3ZWVuIHRoZVxuICAgICAgICAvLyBjb2FsZXNjaW5nIGV2ZW50VGFza3MuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRvIHdvcmthcm91bmQgdGhpcyB3ZSBzY2hlZHVsZSBhIFwiZmFrZVwiIGV2ZW50VGFzayBiZWZvcmUgd2UgcHJvY2VzcyB0aGVcbiAgICAgICAgLy8gY29hbGVzY2luZyBldmVudFRhc2tzLiBUaGUgYmVuZWZpdCBvZiB0aGlzIGlzIHRoYXQgdGhlIFwiZmFrZVwiIGNvbnRhaW5lciBldmVudFRhc2tcbiAgICAgICAgLy8gIHdpbGwgcHJldmVudCB0aGUgbWljcm90YXNrcyBxdWV1ZSBmcm9tIGdldHRpbmcgZHJhaW5lZCBpbiBiZXR3ZWVuIHRoZSBjb2FsZXNjaW5nXG4gICAgICAgIC8vIGV2ZW50VGFzayBleGVjdXRpb24uXG4gICAgICAgIGlmICghem9uZS5mYWtlVG9wRXZlbnRUYXNrKSB7XG4gICAgICAgICAgICB6b25lLmZha2VUb3BFdmVudFRhc2sgPSBab25lLnJvb3Quc2NoZWR1bGVFdmVudFRhc2soJ2Zha2VUb3BFdmVudFRhc2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgem9uZS5sYXN0UmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSAtMTtcbiAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgem9uZS5pc0NoZWNrU3RhYmxlUnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCAoKSA9PiB7IH0sICgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgem9uZS5mYWtlVG9wRXZlbnRUYXNrLmludm9rZSgpO1xuICAgIH0pO1xuICAgIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKTtcbn1cbmZ1bmN0aW9uIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHpvbmUpIHtcbiAgICBjb25zdCBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlID0gKCkgPT4ge1xuICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50cyh6b25lKTtcbiAgICB9O1xuICAgIHpvbmUuX2lubmVyID0gem9uZS5faW5uZXIuZm9yayh7XG4gICAgICAgIG5hbWU6ICdhbmd1bGFyJyxcbiAgICAgICAgcHJvcGVydGllczogeyBpc0FuZ3VsYXJab25lOiB0cnVlIH0sXG4gICAgICAgIG9uSW52b2tlVGFzazogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoKHpvbmUuc2hvdWxkQ29hbGVzY2VFdmVudENoYW5nZURldGVjdGlvbiAmJiB0YXNrLnR5cGUgPT09ICdldmVudFRhc2snKSB8fCB6b25lLnNob3VsZENvYWxlc2NlUnVuQ2hhbmdlRGV0ZWN0aW9uIHx8ICFVdGlscy5pc01haW5UaHJlYWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW52b2tlOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb25FbnRlcih6b25lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuaW52b2tlKHRhcmdldCwgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKHpvbmUuc2hvdWxkQ29hbGVzY2VSdW5DaGFuZ2VEZXRlY3Rpb24gfHwgIVV0aWxzLmlzTWFpblRocmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5Q2hhbmdlRGV0ZWN0aW9uRm9yRXZlbnRzRGVsZWdhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYXNUYXNrOiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgaGFzVGFza1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYXNUYXNrKHRhcmdldCwgaGFzVGFza1N0YXRlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGhhc1Rhc2sgZXZlbnRzIHdoaWNoIG9yaWdpbmF0ZSBmcm9tIG91ciB6b25lXG4gICAgICAgICAgICAgICAgLy8gKEEgY2hpbGQgaGFzVGFzayBldmVudCBpcyBub3QgaW50ZXJlc3RpbmcgdG8gdXMpXG4gICAgICAgICAgICAgICAgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21pY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5faGFzUGVuZGluZ01pY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWljcm9UYXNrO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVNaWNyb1Rhc2tTdGF0dXMoem9uZSk7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU3RhYmxlKHpvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtYWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWFjcm9UYXNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25IYW5kbGVFcnJvcjogKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5oYW5kbGVFcnJvcih0YXJnZXQsIGVycm9yKTtcbiAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4gem9uZS5vbkVycm9yLmVtaXQoZXJyb3IpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZU1pY3JvVGFza1N0YXR1cyh6b25lKSB7XG4gICAgaWYgKHpvbmUuX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIHx8IHpvbmUubGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkICE9PSAtMSkge1xuICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkVudGVyKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgaWYgKHpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgem9uZS5pc1N0YWJsZSA9IGZhbHNlO1xuICAgICAgICB6b25lLm9uVW5zdGFibGUuZW1pdChudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBvbkxlYXZlKHpvbmUpIHtcbiAgICB6b25lLl9uZXN0aW5nLS07XG4gICAgY2hlY2tTdGFibGUoem9uZSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0IHsgQVBQX1JPT1RfVklFVywgQWN0aW9uQmFyQ29tcG9uZW50LCBBY3Rpb25CYXJTY29wZSwgQWN0aW9uSXRlbURpcmVjdGl2ZSwgQW5kcm9pZEZpbHRlckNvbXBvbmVudCwgQXBwSG9zdEFzeW5jVmlldywgQXBwSG9zdFZpZXcsIEJhc2VQb3J0YWxPdXRsZXQsIEJhc2VWYWx1ZUFjY2Vzc29yLCBDT01NT05fUFJPVklERVJTLCBDZGtQb3J0YWwsIENka1BvcnRhbE91dGxldCwgQ2hlY2tlZFZhbHVlQWNjZXNzb3IsIENvbW1lbnROb2RlLCBDb21wb25lbnRQb3J0YWwsIERFVklDRSwgRElTQUJMRV9ST09UX1ZJRVdfSEFORExJTkcsIERhdGVWYWx1ZUFjY2Vzc29yLCBEZXRhY2hlZExvYWRlciwgRG9tUG9ydGFsLCBFTkFCTEVfUkVVU0FCRV9WSUVXUywgRW11bGF0ZWRSZW5kZXJlciwgRnJhbWVEaXJlY3RpdmUsIEZyYW1lUGFnZUNvbXBvbmVudCwgRnJhbWVQYWdlTW9kdWxlLCBGcmFtZVNlcnZpY2UsIElPU0ZpbHRlckNvbXBvbmVudCwgSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSwgSW52aXNpYmxlTm9kZSwgSXRlbUNvbnRleHQsIExpc3RWaWV3Q29tcG9uZW50LCBNb2RhbERpYWxvZ1BhcmFtcywgTW9kYWxEaWFsb2dTZXJ2aWNlLCBOQU1FU1BBQ0VfRklMVEVSUywgTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMsIE5BVElWRVNDUklQVF9NT0RVTEVfU1RBVElDX1BST1ZJREVSUywgTkFUSVZFU0NSSVBUX1JPT1RfTU9EVUxFX0lELCBOQVRJVkVfRElBTE9HX0RBVEEsIE5BVElWRV9ESUFMT0dfREVGQVVMVF9PUFRJT05TLCBOU0VtcHR5T3V0bGV0Q29tcG9uZW50LCBOU0ZpbGVTeXN0ZW0sIE5TTG9jYXRpb25TdHJhdGVneSwgTlNSb3V0ZVJldXNlU3RyYXRlZ3ksIE5TUm91dGVyTGluaywgTlNSb3V0ZXJMaW5rQWN0aXZlLCBOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZSwgTmF0aXZlRGlhbG9nQ29uZmlnLCBOYXRpdmVEaWFsb2dNb2R1bGUsIE5hdGl2ZURpYWxvZ1JlZiwgTmF0aXZlRGlhbG9nU2VydmljZSwgTmF0aXZlTW9kYWxSZWYsIE5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciwgTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyLCBOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlLCBOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUsIE5hdGl2ZVNjcmlwdERvY3VtZW50LCBOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQsIE5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlLCBOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlLCBOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZSwgTmF0aXZlU2NyaXB0TW9kdWxlLCBOYXRpdmVTY3JpcHROZ1NhZmVFdmVudCwgTmF0aXZlU2NyaXB0Tmdab25lLCBOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnksIE5hdGl2ZVNjcmlwdFJvdXRlck1vZHVsZSwgTmF0aXZlU2NyaXB0U2FuaXRpemVyLCBOYXRpdmVzY3JpcHRYaHJGYWN0b3J5LCBOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlLCBOZ1ZpZXdSZWYsIE5zSHR0cEJhY2tFbmQsIE5zVGVtcGxhdGVkSXRlbSwgTnVtYmVyVmFsdWVBY2Nlc3NvciwgT3V0bGV0LCBQQUdFX0ZBQ1RPUlksIFBhZ2VEaXJlY3RpdmUsIFBhZ2VSb3V0ZSwgUGFnZVJvdXRlck91dGxldCwgUGFnZVNlcnZpY2UsIFBsYXRmb3JtTmFtZXNwYWNlRmlsdGVyLCBQb3J0YWwsIFBvcnRhbE1vZHVsZSwgUm9vdENvbXBvc2l0ZU1vZHVsZSwgUm9vdFZpZXdQcm94eSwgUm91dGVyRXh0ZW5zaW9ucywgU1RBUlRfUEFUSCwgU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IsIFRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQsIFRhYlZpZXdEaXJlY3RpdmUsIFRhYlZpZXdJdGVtRGlyZWN0aXZlLCBUZW1wbGF0ZUtleURpcmVjdGl2ZSwgVGVtcGxhdGVQb3J0YWwsIFRleHROb2RlLCBUZXh0VmFsdWVBY2Nlc3NvciwgVGltZVZhbHVlQWNjZXNzb3IsIFZpc2lvbk9TRmlsdGVyQ29tcG9uZW50LCBfTmF0aXZlRGlhbG9nQmFzZSwgYm9vdHN0cmFwQXBwbGljYXRpb24sIGNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uLCBjdXN0b21GcmFtZUNvbXBvbmVudEZhY3RvcnksIGN1c3RvbUZyYW1lRGlyZWN0aXZlRmFjdG9yeSwgY3VzdG9tUGFnZUZhY3RvcnksIGN1c3RvbVBhZ2VGYWN0b3J5RnJvbUZyYW1lLCBkYXNoQ2FzZVRvQ2FtZWxDYXNlLCBkZWZhdWx0TmF2T3B0aW9ucywgZGVmYXVsdFBhZ2VGYWN0b3J5LCBkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciwgZGV0YWNoVmlld0Zyb21QYXJlbnQsIGRpc2FibGVSb290Vmlld0hhbmRpbmcsIGVycm9ySGFuZGxlciwgZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUsIGZyYW1lTWV0YSwgZ2VuZXJhdGVEZXRhY2hlZExvYWRlciwgZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3LCBnZW5lcmF0ZU5hdGl2ZVNjcmlwdFZpZXcsIGdlbmVyYXRlUmFuZG9tSWQsIGdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5LCBnZXRGaXJzdE5hdGl2ZUxpa2VWaWV3LCBnZXRJdGVtVmlld1Jvb3QsIGdldFNpbmdsZVZpZXdSZWN1cnNpdmUsIGdldFZpZXdDbGFzcywgZ2V0Vmlld01ldGEsIGluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciwgaW5zdGFudGlhdGVTdXBwb3J0ZWRBbmltYXRpb25Ecml2ZXIsIGlzQmxhbmssIGlzQ29udGVudFZpZXcsIGlzRGV0YWNoZWRFbGVtZW50LCBpc0ludmlzaWJsZU5vZGUsIGlzSnNPYmplY3QsIGlzS25vd25WaWV3LCBpc0xheW91dCwgaXNMaXN0TGlrZUl0ZXJhYmxlLCBpc1ByZXNlbnQsIGlzVmlldywgb25BZnRlckxpdmVzeW5jLCBvbkJlZm9yZUxpdmVzeW5jLCBvbmNlLCBwbGF0Zm9ybU5hdGl2ZVNjcmlwdCwgcGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljLCBwb3N0QW5ndWxhckJvb3RzdHJhcCQsIHByZUFuZ3VsYXJEaXNwb3NhbCQsIHByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5LCByZWdpc3RlckVsZW1lbnQsIHJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMsIHJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAsIHRocm93SWZBbHJlYWR5TG9hZGVkLCB0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvciwgdGhyb3dOdWxsUG9ydGFsRXJyb3IsIHRocm93TnVsbFBvcnRhbE91dGxldEVycm9yLCB0aHJvd1BvcnRhbEFscmVhZHlBdHRhY2hlZEVycm9yLCB0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yLCB0aHJvd1Vua25vd25Qb3J0YWxUeXBlRXJyb3IsIENPTVBPTkVOVF9WQVJJQUJMRSBhcyDJtUNPTVBPTkVOVF9WQVJJQUJMRSwgQ09OVEVOVF9BVFRSIGFzIMm1Q09OVEVOVF9BVFRSLCBIT1NUX0FUVFIgYXMgybVIT1NUX0FUVFIsIE5hdGl2ZVNjcmlwdERlYnVnIGFzIMm1TmF0aXZlU2NyaXB0QW5ndWxhckRlYnVnLCB2aWV3VXRpbCBhcyDJtVZpZXdVdGlsLCBhY3Rpb25CYXJNZXRhIGFzIMm1YWN0aW9uQmFyTWV0YSwgZWxlbWVudE1hcCBhcyDJtWVsZW1lbnRNYXAsIGlzQWN0aW9uSXRlbSBhcyDJtWlzQWN0aW9uSXRlbSwgaXNOYXZpZ2F0aW9uQnV0dG9uIGFzIMm1aXNOYXZpZ2F0aW9uQnV0dG9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXRpdmVzY3JpcHQtYW5ndWxhci5tanMubWFwXG4iXSwibmFtZXMiOlsiaTEiLCJWaWV3IiwiTGF5b3V0QmFzZSIsIkNvbnRlbnRWaWV3IiwiUHJveHlWaWV3Q29udGFpbmVyIiwiUGFnZSIsInBsYXRmb3JtTmFtZXMiLCJHcmlkTGF5b3V0IiwiQXBwbGljYXRpb24iLCJUcmFjZSIsIkZvcm1hdHRlZFN0cmluZyIsIlNwYW4iLCJBYnNvbHV0ZUxheW91dCIsIkFjdGl2aXR5SW5kaWNhdG9yIiwiQnV0dG9uIiwiRGF0ZVBpY2tlciIsIkRvY2tMYXlvdXQiLCJGcmFtZSIsIkh0bWxWaWV3IiwiSW1hZ2UiLCJMYWJlbCIsIkxpc3RQaWNrZXIiLCJMaXN0VmlldyIsIlBsYWNlaG9sZGVyIiwiUHJvZ3Jlc3MiLCJSZXBlYXRlciIsIlJvb3RMYXlvdXQiLCJTY3JvbGxWaWV3IiwiU2VhcmNoQmFyIiwiU2VnbWVudGVkQmFyIiwiU2VnbWVudGVkQmFySXRlbSIsIlNsaWRlciIsIlN0YWNrTGF5b3V0IiwiRmxleGJveExheW91dCIsIlN3aXRjaCIsIlRhYlZpZXciLCJUZXh0RmllbGQiLCJUZXh0VmlldyIsIlRpbWVQaWNrZXIiLCJXZWJWaWV3IiwiV3JhcExheW91dCIsInVuc2V0VmFsdWUiLCJhZGRUYWdnZWRBZGRpdGlvbmFsQ1NTIiwicHJvZmlsZSIsImdldFZpZXdCeUlkIiwiT2JzZXJ2YWJsZSIsIkFjdGlvbkl0ZW0iLCJOYXZpZ2F0aW9uQnV0dG9uIiwiQWN0aW9uQmFyIiwiT2JzZXJ2YWJsZUFycmF5IiwiVGFiVmlld0l0ZW0iLCJDb2xvciIsIkRldmljZSIsIlV0aWxzIiwicmVtb3ZlVGFnZ2VkQWRkaXRpb25hbENTUyIsImtub3duRm9sZGVycyIsIkZpbGUiLCJLZXlmcmFtZUFuaW1hdGlvbiIsImFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uQ29udmVydGVyIiwicGFyc2VLZXlmcmFtZURlY2xhcmF0aW9ucyIsIkNTU0hlbHBlciIsIkNzc0FuaW1hdGlvblByb3BlcnR5IiwiZWFjaERlc2NlbmRhbnQiLCJwYXRoIiwiaTAiLCJJbmplY3Rpb25Ub2tlbiIsIkluamVjdCIsIkNvbXBvbmVudFJlZiIsIkluamVjdGFibGUiLCJWaWV3RW5jYXBzdWxhdGlvbiIsIk9wdGlvbmFsIiwiRWxlbWVudFJlZiIsIkRpcmVjdGl2ZSIsIkV2ZW50RW1pdHRlciIsIk91dHB1dCIsIk5nTW9kdWxlIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiQXBwbGljYXRpb25SZWYiLCJJbmplY3RvciIsIlZpZXdDb250YWluZXJSZWYiLCJDb21wb25lbnQiLCJWaWV3Q2hpbGQiLCJJbnB1dCIsIkl0ZXJhYmxlRGlmZmVycyIsImluamVjdCIsIkNoYW5nZURldGVjdG9yUmVmIiwiZm9yd2FyZFJlZiIsIlRlbXBsYXRlUmVmIiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJDb250ZW50Q2hpbGQiLCJIb3N0TGlzdGVuZXIiLCJIb3N0IiwiTk9fRVJST1JTX1NDSEVNQSIsIkVycm9ySGFuZGxlciIsIlNraXBTZWxmIiwiybVJTkpFQ1RPUl9TQ09QRSIsIlJlbmRlcmVyRmFjdG9yeTIiLCJBcHBsaWNhdGlvbk1vZHVsZSIsIlBsYXRmb3JtUmVmIiwiTmdNb2R1bGVSZWYiLCLJtWludGVybmFsQ3JlYXRlQXBwbGljYXRpb24iLCJOZ1pvbmUiLCJTYW5pdGl6ZXIiLCJwbGF0Zm9ybUNvcmUiLCJjcmVhdGVQbGF0Zm9ybUZhY3RvcnkiLCJDb250ZW50Q2hpbGRyZW4iLCJJbmplY3RGbGFncyIsIkF0dHJpYnV0ZSIsImlzRGV2TW9kZSIsIl9fcGFyYW0iLCJfX21ldGFkYXRhIiwiX19kZWNvcmF0ZSIsImkxJDEiLCJYaHJGYWN0b3J5IiwiTG9jYXRpb25TdHJhdGVneSIsIkNvbW1vbk1vZHVsZSIsIlZpZXdwb3J0U2Nyb2xsZXIiLCLJtU51bGxWaWV3cG9ydFNjcm9sbGVyIiwiRE9DVU1FTlQiLCJQbGF0Zm9ybUxvY2F0aW9uIiwiZmlsdGVyIiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJtYXAiLCJ0YWtlIiwic3RhcnRXaXRoIiwiQmVoYXZpb3JTdWJqZWN0IiwiU3ViamVjdCIsImZyb21FdmVudCIsImRlZmVyIiwiT2JzZXJ2YWJsZSQxIiwiaTEkMyIsIkRlZmF1bHRVcmxTZXJpYWxpemVyIiwiUFJJTUFSWV9PVVRMRVQiLCJOYXZpZ2F0aW9uRW5kIiwiQWN0aXZhdGVkUm91dGUiLCJDaGlsZHJlbk91dGxldENvbnRleHRzIiwiUm91dGVyTW9kdWxlIiwiUm91dGVSZXVzZVN0cmF0ZWd5IiwiTkdfVkFMVUVfQUNDRVNTT1IiLCJGb3Jtc01vZHVsZSIsImkxJDIiLCLJtUFuaW1hdGlvbkVuZ2luZSIsIsm1V2ViQW5pbWF0aW9uc1N0eWxlTm9ybWFsaXplciIsIkFuaW1hdGlvbkRyaXZlciIsIsm1QW5pbWF0aW9uU3R5bGVOb3JtYWxpemVyIiwiSHR0cFhockJhY2tlbmQiLCJIdHRwUmVzcG9uc2UiLCJIdHRwRXJyb3JSZXNwb25zZSIsIkh0dHBDbGllbnRNb2R1bGUiLCJIdHRwQmFja2VuZCIsIl9jMCIsIl9jMSIsIl9jMiIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfbmdfY29udGVudF8wX1RlbXBsYXRlIiwicmYiLCJjdHgiLCLJtcm1cHJvamVjdGlvbiIsIklPU0ZpbHRlckNvbXBvbmVudF9uZ19jb250ZW50XzBfVGVtcGxhdGUiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudF9uZ19jb250ZW50XzBfVGVtcGxhdGUiLCJnZXRDbGFzc05hbWUiLCJpbnN0YW5jZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsIkludmlzaWJsZU5vZGUiLCJub2RlVHlwZSIsIm5vZGVOYW1lIiwidG9TdHJpbmciLCJpZCIsIkNvbW1lbnROb2RlIiwidmFsdWUiLCJtZXRhIiwic2tpcEFkZFRvRG9tIiwiVGV4dE5vZGUiLCJ0ZXh0Q2hhbmdlRXZlbnQiLCJ0ZXh0IiwiX3RleHQiLCJ0Iiwibm90aWZ5IiwiZXZlbnROYW1lIiwib2JqZWN0IiwiY2FsbGJhY2tNYXAiLCJNYXAiLCJyZWdpc3RlclRleHRDaGFuZ2UiLCJjYWxsYmFjayIsImNiIiwiZXZ0IiwiY2JBcnIiLCJnZXQiLCJwdXNoIiwic2V0Iiwib24iLCJ1bnJlZ2lzdGVyVGV4dENoYW5nZSIsImZvckVhY2giLCJvZmYiLCJkZWxldGUiLCJpc0RldGFjaGVkRWxlbWVudCIsImVsZW1lbnQiLCJpc1ZpZXciLCJ2aWV3IiwiaXNJbnZpc2libGVOb2RlIiwiaXNMYXlvdXQiLCJpc0NvbnRlbnRWaWV3IiwiZ2V0Rmlyc3ROYXRpdmVMaWtlVmlldyIsImV4dHJhY3RGcm9tTlNQYXJlbnQiLCJnZXRDaGlsZHJlbkNvdW50IiwiZ2V0Q2hpbGRBdCIsIm5vZGUiLCJwYXJlbnROb2RlIiwiZGV0YWNoVmlld0Zyb21QYXJlbnQiLCJwYXJlbnQiLCJyZW1vdmVDaGlsZCIsImNvbnRlbnQiLCJfcmVtb3ZlVmlldyIsIkFQUF9ST09UX1ZJRVciLCJOQVRJVkVTQ1JJUFRfUk9PVF9NT0RVTEVfSUQiLCJTVEFSVF9QQVRIIiwiRU5BQkxFX1JFVVNBQkVfVklFV1MiLCJESVNBQkxFX1JPT1RfVklFV19IQU5ETElORyIsIkRFVklDRSIsIlBBR0VfRkFDVE9SWSIsImRlZmF1bHRQYWdlRmFjdG9yeSIsIl9vcHRzIiwiUGxhdGZvcm1OYW1lc3BhY2VGaWx0ZXIiLCJkZXZpY2UiLCJydW5zSW4iLCJuYW1lc3BhY2UiLCJuZXh0Iiwib3MiLCJhbmRyb2lkIiwiaW9zIiwiT2JqZWN0IiwiTkFNRVNQQUNFX0ZJTFRFUlMiLCJOZ1ZpZXdSZWYiLCJyZWYiLCJsb2NhdGlvbiIsIm5hdGl2ZUVsZW1lbnQiLCJyb290Tm9kZXMiLCJmaW5kIiwidiIsImZpcnN0TmF0aXZlTGlrZVZpZXciLCJkZXRhY2hOYXRpdmVMaWtlVmlldyIsIkFwcEhvc3RWaWV3IiwiYmFja2dyb3VuZENvbG9yIiwidGltZW91dCIsIm5nQXBwUm9vdCIsIl9uZ0FwcFJvb3QiLCJfY29udGVudCIsInVuZGVmaW5lZCIsImdyaWQiLCJhZGRDaGlsZCIsInNjaGVkdWxlUm9vdENoYW5nZSIsInNldFRpbWVvdXQiLCJyZXNldFJvb3RWaWV3IiwiY3JlYXRlIiwiQXBwSG9zdEFzeW5jVmlldyIsIk5hdGl2ZVNjcmlwdExvYWRpbmdTZXJ2aWNlIiwibWFpbk1vZHVsZVJlYWR5JCIsInJlYWR5VG9EZXN0cm95JCIsIm9uTWFpbk1vZHVsZVJlYWR5JCIsInBpcGUiLCJyZWFkeSIsIndhaXRVbnRpbE5vdGlmaWVkIiwibm90aWZ5UmVhZHlUb0Rlc3Ryb3kiLCJpc01haW5Nb2R1bGVSZWFkeSIsIm5nT25EZXN0cm95IiwiY29tcGxldGUiLCJfbm90aWZ5TWFpbk1vZHVsZVJlYWR5IiwiybVmYWMiLCJOYXRpdmVTY3JpcHRMb2FkaW5nU2VydmljZV9GYWN0b3J5IiwiybVwcm92IiwiybXJtWRlZmluZUluamVjdGFibGUiLCJ0b2tlbiIsImZhY3RvcnkiLCJwcm92aWRlZEluIiwibmdEZXZNb2RlIiwiybVzZXRDbGFzc01ldGFkYXRhIiwidHlwZSIsImFyZ3MiLCJOYXRpdmVTY3JpcHREZWJ1ZyIsImFuaW1hdGlvbnNUcmFjZUNhdGVnb3J5IiwicmVuZGVyZXJUcmFjZUNhdGVnb3J5Iiwidmlld1V0aWxDYXRlZ29yeSIsInJvdXRlclRyYWNlQ2F0ZWdvcnkiLCJyb3V0ZVJldXNlU3RyYXRlZ3lUcmFjZUNhdGVnb3J5IiwibGlzdFZpZXdUcmFjZUNhdGVnb3J5IiwiYm9vdHN0cmFwQ2F0ZWdvcnkiLCJlbmFibGVkIiwiaXNFbmFibGVkIiwiaXNMb2dFbmFibGVkIiwiYW5pbWF0aW9uc0xvZyIsIm1lc3NhZ2UiLCJ3cml0ZSIsInJlbmRlcmVyTG9nIiwibXNnIiwicmVuZGVyZXJFcnJvciIsIm1lc3NhZ2VUeXBlIiwiZXJyb3IiLCJ2aWV3VXRpbExvZyIsInJvdXRlckxvZyIsInJvdXRlckVycm9yIiwicm91dGVSZXVzZVN0cmF0ZWd5TG9nIiwic3R5bGVFcnJvciIsImNhdGVnb3JpZXMiLCJTdHlsZSIsImxpc3RWaWV3TG9nIiwibGlzdFZpZXdFcnJvciIsImJvb3RzdHJhcExvZyIsImJvb3RzdHJhcExvZ0Vycm9yIiwiTmF0aXZlc2NyaXB0WGhyRmFjdG9yeSIsImJ1aWxkIiwiWE1MSHR0cFJlcXVlc3QiLCLJtU5hdGl2ZXNjcmlwdFhockZhY3RvcnlfQmFzZUZhY3RvcnkiLCJOYXRpdmVzY3JpcHRYaHJGYWN0b3J5X0ZhY3RvcnkiLCLJtcm1Z2V0SW5oZXJpdGVkRmFjdG9yeSIsImZyYW1lTWV0YSIsImluc2VydENoaWxkIiwiY2hpbGQiLCJuYXZpZ2F0ZSIsIkVycm9yIiwiZm9ybWF0dGVkU3RyaW5nTWV0YSIsImluZGV4Iiwic3BhbnMiLCJpbmRleE9mIiwic3BsaWNlIiwidGV4dEJhc2VNZXRhIiwiZm9ybWF0dGVkVGV4dCIsImVsZW1lbnRNYXAiLCJjYW1lbENhc2VTcGxpdCIsImRlZmF1bHRWaWV3TWV0YSIsInJlZ2lzdGVyRWxlbWVudCIsImVsZW1lbnROYW1lIiwicmVzb2x2ZXIiLCJlbnRyeSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImdldFZpZXdDbGFzcyIsIlR5cGVFcnJvciIsImUiLCJnZXRWaWV3TWV0YSIsImlzS25vd25WaWV3IiwiaGFzIiwiZXh0cmFjdFNpbmdsZVZpZXdSZWN1cnNpdmUiLCJub2RlcyIsIm5lc3RMZXZlbCIsImFjdHVhbE5vZGVzIiwibGVuZ3RoIiwicm9vdExheW91dCIsImNoaWxkcmVuIiwicGFyZW50TGF5b3V0IiwiZ2V0U2luZ2xlVmlld1JlY3Vyc2l2ZSIsInJlZ2lzdGVyTmF0aXZlU2NyaXB0Vmlld0NvbXBvbmVudHMiLCJnbG9iYWwiLCJfX25nUmVnaXN0ZXJlZFZpZXdzIiwiaXNDc3NWYXJpYWJsZSIsInByb3BlcnR5IiwidGVzdCIsIkVMRU1FTlRfTk9ERV9UWVBFIiwiWE1MX0FUVFJJQlVURVMiLCJmcmVlemUiLCJ3aGl0ZVNwYWNlU3BsaXR0ZXIiLCJwcmludE5nVHJlZSIsImZpcnN0Q2hpbGQiLCJwcmludENoaWxkcmVuUmVjdXJzZSIsImdldENoaWxkcmVuU2libGluZ3MiLCJuZXh0U2libGluZ3MiLCJjb25zb2xlIiwibG9nIiwibGFzdENoaWxkIiwiYyIsInByZXZpb3VzU2libGluZ3MiLCJzaWJsaW5nIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJwcmludFNpYmxpbmdzVHJlZSIsInByb3BlcnR5TWFwcyIsIlZpZXdVdGlsIiwibmFtZXNwYWNlRmlsdGVycyIsInJldXNlVmlld3MiLCJwcmV2aW91cyIsImV4dGVuZGVkUGFyZW50IiwiZW5zdXJlTmdWaWV3RXh0ZW5zaW9ucyIsImV4dGVuZGVkQ2hpbGQiLCJpbnNlcnRJbkxpc3QiLCJuZXh0VmlzdWFsIiwiZmluZE5leHRWaXN1YWwiLCJhZGRUb1Zpc3VhbFRyZWUiLCJhZGRJbnZpc2libGVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwicmVmQ2hpbGQiLCJleHRlbmRlZFJlZiIsImluc2VydEFmdGVyIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRUb0xheW91dCIsIl9hZGRDaGlsZEZyb21CdWlsZGVyIiwiaW5zZXJ0SW52aXNpYmxlTm9kZSIsInJlbW92ZUxheW91dENoaWxkIiwiZ2V0Q2hpbGRJbmRleCIsInJlbW92ZUZyb21MaXN0IiwicmVtb3ZlRnJvbVZpc3VhbFRyZWUiLCJyZW1vdmVJbnZpc2libGVOb2RlIiwiZmluZFByZXZpb3VzRWxlbWVudCIsInByZXZpb3VzVmlzdWFsIiwiZ2V0UHJldmlvdXNWaXN1YWxFbGVtZW50IiwiZWxlbWVudEluZGV4IiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZVRleHQiLCJjcmVhdGVWaWV3Iiwib3JpZ2luYWxOYW1lIiwidmlld0NsYXNzIiwibmdWaWV3Iiwic2V0TmdWaWV3RXh0ZW5zaW9ucyIsInJldXNhYmxlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY3NzVHlwZSIsInR5cGVOYW1lIiwic2V0UHJvcGVydHkiLCJhdHRyaWJ1dGVOYW1lIiwicHJvcGVydGllcyIsInNwbGl0IiwicHJvcE1hcCIsImdldFByb3BlcnRpZXMiLCJpIiwicHJvcCIsInNldFByb3BlcnR5SW50ZXJuYWwiLCJwbGF0Zm9ybSIsInJ1bnMiLCJsYXN0IiwiY2hhaW4iLCJwIiwiY3VycmVudENoYWluIiwic2V0Q2xhc3NlcyIsInByb3BlcnR5TmFtZSIsIkFycmF5IiwiaXNBcnJheSIsInJlbW92ZVBhcmVudFJlZmVyZW5jZXNGcm9tSXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJwcm9wTmFtZSIsImNzc0NsYXNzZXMiLCJuZ0Nzc0NsYXNzZXMiLCJhZGRDbGFzcyIsImNsYXNzTmFtZSIsImV4dGVuZGVkVmlldyIsInN5bmNDbGFzc2VzIiwicmVtb3ZlQ2xhc3MiLCJjbGFzc2VzVmFsdWUiLCJjbGFzc2VzIiwiY2xlYXIiLCJjbGFzc1ZhbHVlIiwiZnJvbSIsImtleXMiLCJqb2luIiwic2V0U3R5bGUiLCJzdHlsZU5hbWUiLCJzdHlsZSIsInNldFVuc2NvcGVkQ3NzVmFyaWFibGUiLCJfb25Dc3NTdGF0ZUNoYW5nZSIsInJlbW92ZVN0eWxlIiwidW5zY29wZWRDc3NWYXJpYWJsZXMiLCJ2aWV3VXRpbCIsIl9fcHJvdG9fXyIsImFkZFN0eWxlVG9Dc3MiLCJ0YWciLCJhZGRDc3MiLCJydW5JblJvb3Rab25lIiwiZm4iLCJab25lIiwicm9vdCIsInJ1biIsImluUm9vdFpvbmUiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjcmlwdG9yIiwiY2hpbGRGdW5jdGlvbiIsImJpbmQiLCJOYXRpdmVTY3JpcHRSZW5kZXJlckZhY3RvcnkiLCJyb290VmlldyIsInJvb3RNb2R1bGVJRCIsImNvbXBvbmVudFJlbmRlcmVycyIsImRlZmF1bHRSZW5kZXJlciIsIk5hdGl2ZVNjcmlwdFJlbmRlcmVyIiwiY3JlYXRlUmVuZGVyZXIiLCJob3N0RWxlbWVudCIsImVuY2Fwc3VsYXRpb24iLCJyZW5kZXJlciIsIkVtdWxhdGVkUmVuZGVyZXIiLCJhcHBseVRvSG9zdCIsIk5vbmUiLCJzdHlsZXMiLCJzIiwid2hlblJlbmRlcmluZ0RvbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImludGVydmFsIiwic2NoZWR1bGVSZXNvbHZlIiwiZmlyZVdoZW5Mb2FkZWQiLCJyb290RmFjdG9yeSIsImlzTG9hZGVkIiwib25jZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImRlc3Ryb3lOb2RlIiwiZGF0YSIsImRlc3Ryb3kiLCJjcmVhdGVFbGVtZW50Iiwib2xkTmFtZSIsImN1c3RvbUNTU05hbWUiLCJuZXdDaGlsZCIsIm9sZENoaWxkIiwiaXNIb3N0RWxlbWVudCIsInNlbGVjdFJvb3RFbGVtZW50Iiwic2VsZWN0b3JPck5vZGUiLCJwcmVzZXJ2ZUNvbnRlbnQiLCJyZXN1bHQiLCJzbGljZSIsInNldEF0dHJpYnV0ZSIsImVsIiwicmVtb3ZlQXR0cmlidXRlIiwiZmxhZ3MiLCJzZXRWYWx1ZSIsImxpc3RlbiIsImxvYWRlZEV2ZW50Iiwib2JzIiwiRnVuY3Rpb24iLCJTdHJpbmciLCJwcm90b3R5cGUiLCJCb29sZWFuIiwiTnVtYmVyIiwiQ09NUE9ORU5UX1JFR0VYIiwiQVRUUl9TQU5JVElaRVIiLCJDT01QT05FTlRfVkFSSUFCTEUiLCJIT1NUX0FUVFIiLCJDT05URU5UX0FUVFIiLCJyZXBsYWNlTmdBdHRyaWJ1dGUiLCJpbnB1dCIsImNvbXBvbmVudElkIiwiYWRkU2NvcGVkU3R5bGVUb0NzcyIsImNvbXBvbmVudCIsInJvb3RNb2R1bGVJZCIsImNvbnRlbnRBdHRyIiwiaG9zdEF0dHIiLCJhZGRTdHlsZXMiLCJFbXVsYXRlZFJlbmRlcmVyX0ZhY3RvcnkiLCLJtcm1aW52YWxpZEZhY3RvcnkiLCJ0aHJvd051bGxQb3J0YWxFcnJvciIsInRocm93UG9ydGFsQWxyZWFkeUF0dGFjaGVkRXJyb3IiLCJ0aHJvd1BvcnRhbE91dGxldEFscmVhZHlEaXNwb3NlZEVycm9yIiwidGhyb3dVbmtub3duUG9ydGFsVHlwZUVycm9yIiwidGhyb3dOdWxsUG9ydGFsT3V0bGV0RXJyb3IiLCJ0aHJvd05vUG9ydGFsQXR0YWNoZWRFcnJvciIsIlBvcnRhbCIsImF0dGFjaCIsImhvc3QiLCJoYXNBdHRhY2hlZCIsIl9hdHRhY2hlZEhvc3QiLCJkZXRhY2giLCJpc0F0dGFjaGVkIiwic2V0QXR0YWNoZWRIb3N0IiwiQ29tcG9uZW50UG9ydGFsIiwidmlld0NvbnRhaW5lclJlZiIsImluamVjdG9yIiwiY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiVGVtcGxhdGVQb3J0YWwiLCJ0ZW1wbGF0ZSIsImNvbnRleHQiLCJ0ZW1wbGF0ZVJlZiIsIm9yaWdpbiIsImVsZW1lbnRSZWYiLCJEb21Qb3J0YWwiLCJCYXNlUG9ydGFsT3V0bGV0IiwiX2lzRGlzcG9zZWQiLCJhdHRhY2hEb21Qb3J0YWwiLCJfYXR0YWNoZWRQb3J0YWwiLCJwb3J0YWwiLCJhdHRhY2hDb21wb25lbnRQb3J0YWwiLCJhdHRhY2hUZW1wbGF0ZVBvcnRhbCIsIl9pbnZva2VEaXNwb3NlRm4iLCJkaXNwb3NlIiwic2V0RGlzcG9zZUZuIiwiX2Rpc3Bvc2VGbiIsIkNka1BvcnRhbCIsIkNka1BvcnRhbF9GYWN0b3J5IiwiybXJtWRpcmVjdGl2ZUluamVjdCIsIsm1ZGlyIiwiybXJtWRlZmluZURpcmVjdGl2ZSIsInNlbGVjdG9ycyIsImV4cG9ydEFzIiwiZmVhdHVyZXMiLCLJtcm1SW5oZXJpdERlZmluaXRpb25GZWF0dXJlIiwic2VsZWN0b3IiLCJDZGtQb3J0YWxPdXRsZXQiLCJfdmlld0NvbnRhaW5lclJlZiIsIl9pc0luaXRpYWxpemVkIiwiYXR0YWNoZWQiLCJhbmNob3JOb2RlIiwiX2dldFJvb3ROb2RlIiwiYXR0YWNoZWRSZWYiLCJfYXR0YWNoZWRSZWYiLCJuZ09uSW5pdCIsImNyZWF0ZUNvbXBvbmVudCIsImhvc3RWaWV3IiwiZW1pdCIsInZpZXdSZWYiLCJjcmVhdGVFbWJlZGRlZFZpZXciLCJDZGtQb3J0YWxPdXRsZXRfRmFjdG9yeSIsIlJlbmRlcmVyMiIsImlucHV0cyIsIsm1ybVJbnB1dEZsYWdzIiwib3V0cHV0cyIsIlBvcnRhbE1vZHVsZSIsIlBvcnRhbE1vZHVsZV9GYWN0b3J5IiwiybVtb2QiLCLJtcm1ZGVmaW5lTmdNb2R1bGUiLCLJtWluaiIsIsm1ybVkZWZpbmVJbmplY3RvciIsImV4cG9ydHMiLCJkZWNsYXJhdGlvbnMiLCJOYXRpdmVTY3JpcHREb21Qb3J0YWxPdXRsZXQiLCJvdXRsZXRFbGVtZW50IiwiX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIl9hcHBSZWYiLCJfZGVmYXVsdEluamVjdG9yIiwiX3ZpZXdVdGlsIiwiY29tcG9uZW50RmFjdG9yeSIsInJlc29sdmVDb21wb25lbnRGYWN0b3J5IiwiY29tcG9uZW50UmVmIiwiYXR0YWNoVmlldyIsImRldGFjaFZpZXciLCJyb290Tm9kZSIsIl9nZXRDb21wb25lbnRSb290Tm9kZSIsInZpZXdDb250YWluZXIiLCJkZXRlY3RDaGFuZ2VzIiwicmVtb3ZlIiwiRGV0YWNoZWRMb2FkZXIiLCJjaGFuZ2VEZXRlY3RvciIsImNvbnRhaW5lclJlZiIsImFwcFJlZiIsImRpc3Bvc2VGdW5jdGlvbnMiLCJjcmVhdGVDb21wb25lbnRQb3J0YWwiLCJjb21wb25lbnRUeXBlIiwiY3VzdG9tSW5qZWN0b3IiLCJ2YyIsImNyZWF0ZVRlbXBsYXRlUG9ydGFsIiwibG9hZEluQXBwUmVmIiwibG9hZEluTG9jYXRpb24iLCJtYXJrRm9yQ2hlY2siLCJsb2FkQ29tcG9uZW50IiwibG9hZENvbXBvbmVudFN5bmMiLCJsb2FkQ29tcG9uZW50SW5Mb2NhdGlvbiIsImxvYWRXaXRoRmFjdG9yeSIsImxvYWRXaXRoRmFjdG9yeUluTG9jYXRpb24iLCJEZXRhY2hlZExvYWRlcl9GYWN0b3J5IiwiybVjbXAiLCLJtcm1ZGVmaW5lQ29tcG9uZW50Iiwidmlld1F1ZXJ5IiwiRGV0YWNoZWRMb2FkZXJfUXVlcnkiLCLJtcm1dmlld1F1ZXJ5IiwiX3QiLCLJtcm1cXVlcnlSZWZyZXNoIiwiybXJtWxvYWRRdWVyeSIsImZpcnN0IiwibmdDb250ZW50U2VsZWN0b3JzIiwiZGVjbHMiLCJ2YXJzIiwiY29uc3RzIiwiRGV0YWNoZWRMb2FkZXJfVGVtcGxhdGUiLCLJtcm1cHJvamVjdGlvbkRlZiIsIsm1ybVlbGVtZW50IiwiybXJtWVsZW1lbnRDb250YWluZXIiLCJyZWFkIiwic3RhdGljIiwiUGFnZVNlcnZpY2UiLCJpblBhZ2UiLCJfaW5QYWdlJCIsImluUGFnZSQiLCJwYWdlRXZlbnRzJCIsIl9wYWdlRXZlbnRzJCIsImFzT2JzZXJ2YWJsZSIsInBhZ2UiLCJlbFJlZiIsInBhZ2VFdmVudCIsIlBhZ2VTZXJ2aWNlX0ZhY3RvcnkiLCLJtcm1aW5qZWN0IiwiVmlld0Jhc2UiLCJkZWNvcmF0b3JzIiwiY3VzdG9tRnJhbWVDb21wb25lbnRGYWN0b3J5IiwiY3VzdG9tUGFnZUZhY3RvcnlGcm9tRnJhbWUiLCJGcmFtZVBhZ2VDb21wb25lbnQiLCJhY3Rpb25CYXJIaWRkZW4iLCJuZ09uQ2hhbmdlcyIsImNoYW5nZXMiLCJwcmV2aW91c1ZhbHVlIiwiY3VycmVudFZhbHVlIiwibmdBZnRlclZpZXdJbml0IiwiRnJhbWVQYWdlQ29tcG9uZW50X0ZhY3RvcnkiLCLJtcm1UHJvdmlkZXJzRmVhdHVyZSIsInByb3ZpZGUiLCJ1c2VGYWN0b3J5IiwiZGVwcyIsIsm1ybVOZ09uQ2hhbmdlc0ZlYXR1cmUiLCJGcmFtZVBhZ2VDb21wb25lbnRfVGVtcGxhdGUiLCJwcm92aWRlcnMiLCJjdXN0b21GcmFtZURpcmVjdGl2ZUZhY3RvcnkiLCJGcmFtZURpcmVjdGl2ZSIsIkZyYW1lRGlyZWN0aXZlX0ZhY3RvcnkiLCJjdXN0b21QYWdlRmFjdG9yeSIsIlBhZ2VEaXJlY3RpdmUiLCJQYWdlRGlyZWN0aXZlX0ZhY3RvcnkiLCJGcmFtZVBhZ2VNb2R1bGUiLCJGcmFtZVBhZ2VNb2R1bGVfRmFjdG9yeSIsImlzUHJlc2VudCIsIm9iaiIsImlzQmxhbmsiLCJpc0FjdGlvbkl0ZW0iLCJpc05hdmlnYXRpb25CdXR0b24iLCJhY3Rpb25CYXJNZXRhIiwibmF2aWdhdGlvbkJ1dHRvbiIsImFkZEFjdGlvbkl0ZW0iLCJ0aXRsZVZpZXciLCJhY3Rpb25JdGVtcyIsInJlbW92ZUl0ZW0iLCJiYXIiLCJpbnNlcnRBY3Rpb25JdGVtQmVmb3JlIiwiYXBwZW5kQWN0aW9uSXRlbSIsImFjdGlvbkl0ZW1zQ29sbGVjdGlvbiIsImdldEl0ZW1zIiwiaW5kZXhUb0luc2VydCIsInNldEl0ZW1zIiwiYWRkSXRlbSIsIkFjdGlvbkJhckNvbXBvbmVudCIsImFjdGlvbkJhciIsInVwZGF0ZSIsIkFjdGlvbkJhckNvbXBvbmVudF9GYWN0b3J5IiwiQWN0aW9uQmFyQ29tcG9uZW50X1RlbXBsYXRlIiwiQWN0aW9uQmFyU2NvcGUiLCJvbk5hdkJ1dHRvbkluaXQiLCJuYXZCdG4iLCJvbk5hdkJ1dHRvbkRlc3Ryb3kiLCJuYXYiLCJvbkFjdGlvbkluaXQiLCJvbkFjdGlvbkRlc3Ryb3kiLCJBY3Rpb25CYXJTY29wZV9GYWN0b3J5IiwiQWN0aW9uQmFyU2NvcGVfVGVtcGxhdGUiLCJBY3Rpb25JdGVtRGlyZWN0aXZlIiwib3duZXJTY29wZSIsIkFjdGlvbkl0ZW1EaXJlY3RpdmVfRmFjdG9yeSIsIk5hdmlnYXRpb25CdXR0b25EaXJlY3RpdmUiLCJOYXZpZ2F0aW9uQnV0dG9uRGlyZWN0aXZlX0ZhY3RvcnkiLCJ0aHJvd0lmQWxyZWFkeUxvYWRlZCIsInBhcmVudE1vZHVsZSIsIm1vZHVsZU5hbWUiLCJ3YXNDYWxsZWQiLCJ3cmFwcGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJpc0xpc3RMaWtlSXRlcmFibGUiLCJpc0pzT2JqZWN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvIiwiTkdfVklFVyIsIlRFTVBMQVRFRF9JVEVNU19DT01QT05FTlQiLCJJdGVtQ29udGV4dCIsIiRpbXBsaWNpdCIsImV2ZW4iLCJvZGQiLCJOc1RlbXBsYXRlZEl0ZW0iLCJvbkNyZWF0ZSIsInNldHVwSXRlbUNvbnRleHQiLCJyZXN1bHRWaWV3IiwiZ2V0SXRlbVZpZXdSb290IiwiZ2V0RW1iZWRkZWRWaWV3UmVmIiwicmVhdHRhY2giLCJpc1ZhbGlkIiwib2xkVmlldyIsIkxpc3RWaWV3Q29tcG9uZW50IiwidGVtcGxhdGVkSXRlbXNWaWV3IiwiX2l0ZW1zIiwibmVlZERpZmZlciIsIl9kaWZmZXIiLCJfaXRlcmFibGVEaWZmZXJzIiwiX2luZGV4IiwiX2VsZW1lbnRSZWYiLCJfY2hhbmdlRGV0ZWN0b3JSZWYiLCJfdmlld1RvVGVtcGxhdGUiLCJXZWFrTWFwIiwic2V0dXBJdGVtVmlldyIsIm5nQWZ0ZXJDb250ZW50SW5pdCIsInNldEl0ZW1UZW1wbGF0ZXMiLCJfdGVtcGxhdGVNYXAiLCJmYWxsYmFja0l0ZW1UZW1wbGF0ZSIsIml0ZW1UZW1wbGF0ZVF1ZXJ5IiwicmVnaXN0ZXJUZW1wbGF0ZSIsImxvYWRlciIsInRlbXBsYXRlcyIsIml0ZW1UZW1wbGF0ZXMiLCJvbkl0ZW1Mb2FkaW5nIiwibHZpZXciLCJjdXJyZW50SXRlbSIsImdldEl0ZW0iLCJ0ZW1wbGF0ZUtleSIsIml0ZW1UZW1wbGF0ZVNlbGVjdG9yIiwic2V0dXBWaWV3UmVmIiwibmdEb0NoZWNrIiwiZGlmZiIsInJlZnJlc2giLCJMaXN0Vmlld0NvbXBvbmVudF9GYWN0b3J5IiwiY29udGVudFF1ZXJpZXMiLCJMaXN0Vmlld0NvbXBvbmVudF9Db250ZW50UXVlcmllcyIsImRpckluZGV4IiwiybXJtWNvbnRlbnRRdWVyeSIsIkxpc3RWaWV3Q29tcG9uZW50X1F1ZXJ5IiwiaG9zdEJpbmRpbmdzIiwiTGlzdFZpZXdDb21wb25lbnRfSG9zdEJpbmRpbmdzIiwiybXJtWxpc3RlbmVyIiwiTGlzdFZpZXdDb21wb25lbnRfaXRlbUxvYWRpbmdfSG9zdEJpbmRpbmdIYW5kbGVyIiwiJGV2ZW50IiwidXNlRXhpc3RpbmciLCJMaXN0Vmlld0NvbXBvbmVudF9UZW1wbGF0ZSIsIsm1ybVlbGVtZW50U3RhcnQiLCLJtcm1ZWxlbWVudEVuZCIsImNoYW5nZURldGVjdGlvbiIsIk9uUHVzaCIsInJvb3RMb2NhdG9yIiwiVGVtcGxhdGVLZXlEaXJlY3RpdmUiLCJjb21wIiwibnNUZW1wbGF0ZUtleSIsIm5zVGVtcGxhdGVLZXlzIiwidmFsdWVzIiwiVGVtcGxhdGVLZXlEaXJlY3RpdmVfRmFjdG9yeSIsIkZyYW1lU2VydmljZSIsImdldEZyYW1lIiwidG9wbW9zdCIsIkZyYW1lU2VydmljZV9GYWN0b3J5IiwiT3V0bGV0IiwiaXNQYWdlTmF2aWdhdGlvbkJhY2siLCJfbmF2aWdhdGluZ0JhY2tPdXRsZXRzIiwic2l6ZSIsImlzQmFjayIsIm91dGxldEtleXMiLCJhZGQiLCJvdXRsZXRLZXkiLCJwYXRoQnlPdXRsZXRzIiwibW9kYWxOYXZpZ2F0aW9uRGVwdGgiLCJTZXQiLCJmcmFtZXMiLCJzdGF0ZXMiLCJzaG91bGREZXRhY2giLCJzaG93aW5nTW9kYWwiLCJzZXRPdXRsZXRLZXlOYXZpZ2F0aW5nQmFjayIsIm5lc3RzIiwiayIsImNvbnRhaW5zRnJhbWUiLCJmcmFtZSIsInBlZWtTdGF0ZSIsImNvbnRhaW5zVG9wU3RhdGUiLCJzdGF0ZVVybCIsImxhc3RTdGF0ZSIsInNlZ21lbnRHcm91cCIsImdldEZyYW1lVG9CYWNrIiwiaXNOU0VtcHR5T3V0bGV0IiwiY3VycmVudEZyYW1lIiwiY2FuR29CYWNrIiwiZGVmYXVsdE5hdk9wdGlvbnMiLCJjbGVhckhpc3RvcnkiLCJhbmltYXRlZCIsIk5TTG9jYXRpb25TdHJhdGVneSIsImZyYW1lU2VydmljZSIsInN0YXJ0UGF0aCIsIm91dGxldHMiLCJwb3BTdGF0ZUNhbGxiYWNrcyIsIl9tb2RhbE5hdmlnYXRpb25EZXB0aCIsImdldFN0YXRlIiwiY3VycmVudE91dGxldCIsImN1cnJlbnRVcmxUcmVlIiwic3RhdGUiLCJ0cmVlIiwiY2hhbmdlZE91dGxldCIsImdldFNlZ21lbnRHcm91cEJ5T3V0bGV0IiwiaXNSb290U2VnbWVudEdyb3VwIiwidXBkYXRlU2VnbWVudEdyb3VwIiwidXJsU2VyaWFsaXplciIsInF1ZXJ5UGFyYW1zIiwidXJsIiwic2VyaWFsaXplIiwicHJlcGFyZUV4dGVybmFsVXJsIiwiaW50ZXJuYWwiLCJwdXNoU3RhdGUiLCJ0aXRsZSIsInB1c2hTdGF0ZUludGVybmFsIiwicGFyc2UiLCJ1cmxUcmVlUm9vdCIsImdldE91dGxldEtleSIsImdldFNlZ21lbnRHcm91cEZ1bGxQYXRoIiwib3V0bGV0IiwiZmluZE91dGxldCIsInVwZGF0ZVN0YXRlcyIsInJvb3RPdXRsZXQiLCJjcmVhdGVPdXRsZXQiLCJxdWV1ZSIsImN1cnJlbnRUcmVlIiwib3V0bGV0TmFtZSIsImN1cnJlbnRTZWdtZW50R3JvdXAiLCJvdXRsZXRQYXRoIiwicGFyZW50T3V0bGV0TmFtZSIsInBhcmVudE91dGxldFBhdGgiLCJwYXJlbnRPdXRsZXRLZXkiLCJwYXJlbnRPdXRsZXQiLCJjb250YWluc0xhc3RTdGF0ZSIsInVwc2VydE1vZGFsT3V0bGV0Iiwic2hpZnQiLCJyZXBsYWNlU3RhdGUiLCJmb3J3YXJkIiwiYmFjayIsInBvcCIsImNvdW50IiwiaXNQYWdlTmF2aWdhdGlvbiIsImNhbGxQb3BTdGF0ZSIsInRvcG1vc3RGcmFtZSIsImdldE91dGxldEJ5RnJhbWUiLCJmcmFtZVRvQmFjayIsImdvQmFjayIsIm9uUG9wU3RhdGUiLCJnZXRCYXNlSHJlZiIsImNoYW5nZSIsIm91dGxldFN0YXRlcyIsIm91dGxldExvZyIsInJldmVyc2UiLCJjb25jYXQiLCJfYmVnaW5CYWNrUGFnZU5hdmlnYXRpb24iLCJfZmluaXNoQmFja1BhZ2VOYXZpZ2F0aW9uIiwiX2JlZ2luTW9kYWxOYXZpZ2F0aW9uIiwiX2Nsb3NlTW9kYWxOYXZpZ2F0aW9uIiwiaXNTaG93aW5nTW9kYWwiLCJ0b3Btb3N0T3V0bGV0IiwiZmluZE91dGxldEJ5TW9kYWwiLCJfYmVnaW5QYWdlTmF2aWdhdGlvbiIsIm9wdGlvbnMiLCJuYXZPcHRpb25zIiwiX2dldE91dGxldHMiLCJ1cGRhdGVPdXRsZXRGcmFtZSIsImlzRW1wdHlPdXRsZXRGcmFtZSIsImNsZWFyT3V0bGV0IiwiaXNFcXVhbFRvQ3VycmVudCIsImZ1bGxQYXRoIiwiZ2V0Um91dGVGdWxsUGF0aCIsImN1cnJlbnRSb3V0ZSIsInVybHMiLCJnZXRQYXRoQnlPdXRsZXRzIiwidXJsU2VnbWVudEdyb3VwIiwicGF0aFRvT3V0bGV0IiwibGFzdFBhdGgiLCJhY3RpdmF0ZWRSb3V0ZVNuYXBzaG90IiwiZXF1YWxNb2RhbERlcHRoIiwibW9kYWxOYXZpZ2F0aW9uIiwiaXNOZXdQYWdlIiwiZXF1YWxTdGF0ZVVybHMiLCJsb2NhdGlvblN0YXRlIiwidXBkYXRlUGFyZW50c1N0YXRlcyIsIm5ld1NlZ21lbnRHcm91cCIsIm5ld091dGxldCIsInBhdGhMaXN0IiwiY3VycmVudFBhdGgiLCJjaGlsZHJlbkNvdW50Iiwib2xkU2VnbWVudEdyb3VwIiwic2VnbWVudGVkR3JvdXAiLCJjdXJyZW50TW9kYWxPdXRsZXQiLCJOU0xvY2F0aW9uU3RyYXRlZ3lfRmFjdG9yeSIsIk1vZGFsRGlhbG9nUGFyYW1zIiwiY2xvc2VDYWxsYmFjayIsIk1vZGFsRGlhbG9nU2VydmljZSIsInpvbmUiLCJkZWZhdWx0SW5qZWN0b3IiLCJjbG9zZWQkIiwiX2Nsb3NlZCQiLCJzaG93TW9kYWwiLCJwYXJlbnRWaWV3IiwiZ2V0Um9vdFZpZXciLCJfbmdEaWFsb2dSb290IiwiY29tcG9uZW50SW5qZWN0b3IiLCJtb2R1bGVSZWYiLCJyZWplY3QiLCJfc2hvd0RpYWxvZyIsImRvbmVDYWxsYmFjayIsImVyciIsIl90aGlzIiwiY29tcG9uZW50Vmlld1JlZiIsImRldGFjaGVkTG9hZGVyUmVmIiwicG9ydGFsT3V0bGV0IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJjbG9zZU1vZGFsIiwicGFyYW1zIiwib3BlbmVkTW9kYWxQYXJhbXMiLCJtb2RhbFBhcmFtcyIsImNoaWxkSW5qZWN0b3IiLCJ1c2VWYWx1ZSIsInRhcmdldFZpZXciLCJjaGFuZ2VEZXRlY3RvclJlZiIsInVzZUNvbnRleHRBc0NvbXBvbmVudFByb3BzIiwiTW9kYWxEaWFsb2dTZXJ2aWNlX0ZhY3RvcnkiLCJOYXRpdmVTY3JpcHROZ1NhZmVFdmVudCIsInJ1bkFmdGVyRXZlbnQiLCJldmVudCIsInByb3BlcnR5S2V5IiwiZ2V0TmdTYWZlIiwiZGVmYXVsdE5nU2FmZSIsImV2ZW50cyIsInJ1bkJlZm9yZSIsImRvbmUiLCJidWZmZXIiLCJvcmlnaW5hbERlbGVnYXRlIiwiYWx3YXlzUnVuQmVmb3JlIiwib2xkRm4iLCJzaG91bGRQdXNoIiwib25seUZpcnN0Iiwib25seUxhc3QiLCJUYWJWaWV3RGlyZWN0aXZlIiwic2VsZWN0ZWRJbmRleCIsIl9zZWxlY3RlZEluZGV4Iiwidmlld0luaXRpYWxpemVkIiwidGFiVmlldyIsIlRhYlZpZXdEaXJlY3RpdmVfRmFjdG9yeSIsIlRhYlZpZXdJdGVtRGlyZWN0aXZlIiwib3duZXIiLCJjb25maWciLCJfY29uZmlnIiwiaWNvblNvdXJjZSIsInRleHRUcmFuc2Zvcm0iLCJhcHBseUNvbmZpZyIsImFzc2lnbiIsImVuc3VyZUl0ZW0iLCJyZWFsVmlld3MiLCJuZXdJdGVtcyIsIlRhYlZpZXdJdGVtRGlyZWN0aXZlX0ZhY3RvcnkiLCJBbmRyb2lkRmlsdGVyQ29tcG9uZW50Iiwic2hvdyIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfRmFjdG9yeSIsIkFuZHJvaWRGaWx0ZXJDb21wb25lbnRfVGVtcGxhdGUiLCLJtcm1dGVtcGxhdGUiLCLJtcm1cHJvcGVydHkiLCJkZXBlbmRlbmNpZXMiLCJOZ0lmIiwiSU9TRmlsdGVyQ29tcG9uZW50IiwiSU9TRmlsdGVyQ29tcG9uZW50X0ZhY3RvcnkiLCJJT1NGaWx0ZXJDb21wb25lbnRfVGVtcGxhdGUiLCJWaXNpb25PU0ZpbHRlckNvbXBvbmVudCIsInZpc2lvbm9zIiwiVmlzaW9uT1NGaWx0ZXJDb21wb25lbnRfRmFjdG9yeSIsIlZpc2lvbk9TRmlsdGVyQ29tcG9uZW50X1RlbXBsYXRlIiwiQ0RLX0NPTVBPTkVOVFMiLCJOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGUiLCJOYXRpdmVTY3JpcHRDb21tb25Nb2R1bGVfRmFjdG9yeSIsImltcG9ydHMiLCJzY2hlbWFzIiwiZ2VuZXJhdGVGYWxsYmFja1Jvb3RWaWV3IiwicGFyZW50Um9vdFZpZXciLCJlcnJvckhhbmRsZXIiLCJnZW5lcmF0ZVJhbmRvbUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJzdWJzdHIiLCJOQVRJVkVTQ1JJUFRfTU9EVUxFX1NUQVRJQ19QUk9WSURFUlMiLCJ1c2VDbGFzcyIsIm11bHRpIiwiTkFUSVZFU0NSSVBUX01PRFVMRV9QUk9WSURFUlMiLCJOYXRpdmVTY3JpcHRNb2R1bGUiLCJOYXRpdmVTY3JpcHRNb2R1bGVfRmFjdG9yeSIsImRpc2FibGVSb290Vmlld0hhbmRpbmciLCJfX2Rpc2FibGVfcm9vdF92aWV3X2hhbmRsaW5nIiwicHJlQW5ndWxhckRpc3Bvc2FsJCIsInBvc3RBbmd1bGFyQm9vdHN0cmFwJCIsIm9uQmVmb3JlTGl2ZXN5bmMiLCJtb2R1bGVUeXBlIiwicmVhc29uIiwicmVmZXJlbmNlIiwib25BZnRlckxpdmVzeW5jIiwiaW1wb3J0IiwiZGVjbGluZSIsIl9fb25MaXZlU3luY0NvcmUiLCJlbWl0TW9kdWxlQm9vdHN0cmFwRXZlbnQiLCJkZXN0cm95UmVmIiwicnVuWm9uZVN5bmNUYXNrIiwiY3VycmVudCIsInRhc2siLCJzY2hlZHVsZUV2ZW50VGFzayIsImludm9rZSIsImNhbmNlbFRhc2siLCJab25lQ2FuV29ya1N5bmMiLCJjYW5SdW5TeW5jIiwidGhlbiIsIm5hdGl2ZVF1ZXVlQ2FuQmVEcmFpbmVkIiwibWFrZVRlc3REcmFpbiIsIl9fZHJhaW5NaWNyb3Rhc2tRdWV1ZSIsInJ1blN5bmNocm9ub3VzbHkiLCJxdWV1ZU1hY3JvdGFzayIsImNyZWF0ZVByb3ZpZGVyc0NvbmZpZyIsImFwcFByb3ZpZGVycyIsImJvb3RzdHJhcEFwcGxpY2F0aW9uIiwicm9vdENvbXBvbmVudCIsInJ1bk5hdGl2ZVNjcmlwdEFuZ3VsYXJBcHAiLCJtYWluTW9kdWxlUmVmIiwibG9hZGluZ01vZHVsZVJlZiIsInBsYXRmb3JtUmVmIiwiYm9vdHN0cmFwSWQiLCJ1cGRhdGVQbGF0Zm9ybVJlZiIsIm5ld1BsYXRmb3JtUmVmIiwib25EZXN0cm95IiwibGF1bmNoRXZlbnREb25lIiwidGFyZ2V0Um9vdFZpZXciLCJzZXRSb290VmlldyIsIl9jbG9zZUFsbE1vZGFsVmlld3NJbnRlcm5hbCIsImVtYmVkZGVkIiwibmV3Um9vdCIsInNob3dFcnJvclVJIiwic3RhY2siLCJlcnJvclRleHRCb3giLCJjb2xvciIsImJvb3RzdHJhcFJvb3QiLCJjdXJyZW50Qm9vdHN0cmFwSWQiLCJib290c3RyYXBwZWQiLCJvbk1haW5Cb290c3RyYXAiLCJhcHBNb2R1bGVCb290c3RyYXAiLCJjb21wb25lbnRzIiwic3R5bGVUYWciLCJsb2FkaW5nTW9kdWxlIiwibG9hZGluZ1JlZiIsImxvYWRpbmdTZXJ2aWNlIiwic3Vic2NyaWJlIiwibGF1bmNoVmlldyIsInN0YXJ0QW5pbWF0aW9uIiwiY2xlYW51cCIsImNhdGNoIiwid2FybiIsImRpc3Bvc2VQbGF0Zm9ybSIsImRpc3Bvc2VMYXN0TW9kdWxlcyIsImxhdW5jaENhbGxiYWNrIiwiZXhpdENhbGxiYWNrIiwib2xkQWRkRXZlbnRMaXN0ZW5lciIsIk5hdGl2ZVNjcmlwdEdsb2JhbHMiLCJfX3N5bWJvbF9fIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhdW5jaEV2ZW50IiwiZXhpdEV2ZW50Iiwic2hvdWxkRGlzcG9zZVBsYXRmb3JtIiwiaGFzTGF1bmNoZWQiLCJOYXRpdmVTY3JpcHRQbGF0Zm9ybVJlZlByb3h5IiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm1vZHVsZUZhY3RvcnkiLCJib290c3RyYXBNb2R1bGUiLCJjb21waWxlck9wdGlvbnMiLCJkZXN0cm95ZWQiLCJkZWZhdWx0UGFnZUZhY3RvcnlQcm92aWRlciIsIk5hdGl2ZVNjcmlwdFNhbml0aXplciIsInNhbml0aXplIiwiX2NvbnRleHQiLCJOYXRpdmVTY3JpcHREb2N1bWVudCIsImJvZHkiLCJpc092ZXJyaWRlIiwiQ09NTU9OX1BST1ZJREVSUyIsInBsYXRmb3JtTmF0aXZlU2NyaXB0IiwicGxhdGZvcm1OYXRpdmVTY3JpcHREeW5hbWljIiwiZXh0cmFQcm92aWRlcnMiLCJuZ1Jvb3RWaWV3IiwiYXN5bmMiLCJSb290Vmlld1Byb3h5IiwicGFyZW50Um9vdExheW91dCIsIl9hZGRWaWV3IiwiYXRJbmRleCIsImdlbmVyYXRlUm9vdExheW91dEFuZFByb3h5Iiwidmlld1Byb3h5IiwiUm9vdENvbXBvc2l0ZU1vZHVsZSIsIlJvb3RDb21wb3NpdGVNb2R1bGVfRmFjdG9yeSIsIk5hdGl2ZURpYWxvZ0NvbmZpZyIsImhhc0JhY2tkcm9wIiwiZGlzYWJsZUNsb3NlIiwiY2xvc2VPbk5hdmlnYXRpb24iLCJuYXRpdmVPcHRpb25zIiwidW5pcXVlSWQiLCJOYXRpdmVEaWFsb2dSZWYiLCJfbmF0aXZlTW9kYWxSZWYiLCJfYWZ0ZXJPcGVuZWQiLCJfYWZ0ZXJDbG9zZWQiLCJfYmVmb3JlQ2xvc2VkIiwiX3N0YXRlIiwiX2lkIiwic3RhdGVDaGFuZ2VkIiwiY2xlYXJUaW1lb3V0IiwiX2Nsb3NlRmFsbGJhY2tUaW1lb3V0IiwiX2ZpbmlzaERpYWxvZ0Nsb3NlIiwiX3Jlc3VsdCIsIm9uRGlzbWlzcyIsImNvbXBvbmVudEluc3RhbmNlIiwiY2xvc2UiLCJkaWFsb2dSZXN1bHQiLCJfc3RhcnRFeGl0QW5pbWF0aW9uIiwiYWZ0ZXJPcGVuZWQiLCJhZnRlckNsb3NlZCIsImJlZm9yZUNsb3NlZCIsImJhY2tkcm9wQ2xpY2siLCJhZGRQYW5lbENsYXNzIiwicmVtb3ZlUGFuZWxDbGFzcyIsIk5hdGl2ZU1vZGFsUmVmIiwiX2luamVjdG9yIiwiX3RoaXMyIiwiX2lzRGlzbWlzc2VkIiwiX21vZGFsIiwiX2Nsb3NlQ2FsbGJhY2siLCJtb2RhbFZpZXdSZWYiLCJfZ2VuZXJhdGVEZXRhY2hlZENvbnRhaW5lciIsInZjUmVmIiwiZGV0YWNoZWRGYWN0b3J5IiwiX3RoaXMzIiwic3RhcnRNb2RhbE5hdmlnYXRpb24iLCJ1c2VyT3B0aW9ucyIsIl9yZWYzIiwiY2FuY2VsYWJsZSIsIl90aGlzNCIsIl9yZWY0IiwiTkFUSVZFX0RJQUxPR19EQVRBIiwiTkFUSVZFX0RJQUxPR19ERUZBVUxUX09QVElPTlMiLCJfTmF0aXZlRGlhbG9nQmFzZSIsIm9wZW5EaWFsb2dzIiwiX3BhcmVudERpYWxvZyIsIl9vcGVuRGlhbG9nc0F0VGhpc0xldmVsIiwiX2FmdGVyT3BlbmVkQXRUaGlzTGV2ZWwiLCJfZ2V0QWZ0ZXJBbGxDbG9zZWQiLCJfYWZ0ZXJBbGxDbG9zZWRBdFRoaXNMZXZlbCIsIl9kZWZhdWx0T3B0aW9ucyIsIl9kaWFsb2dSZWZDb25zdHJ1Y3RvciIsIl9uYXRpdmVNb2RhbFR5cGUiLCJfZGlhbG9nRGF0YVRva2VuIiwibG9jYXRpb25TdHJhdGVneSIsImFmdGVyQWxsQ2xvc2VkIiwib3BlbiIsImNvbXBvbmVudE9yVGVtcGxhdGVSZWYiLCJfYXBwbHlDb25maWdEZWZhdWx0cyIsImdldERpYWxvZ0J5SWQiLCJkaWFsb2dSZWYiLCJfYXR0YWNoRGlhbG9nQ29udGVudCIsIl9yZW1vdmVPcGVuRGlhbG9nIiwiY2xvc2VBbGwiLCJfY2xvc2VEaWFsb2dzIiwiZGlhbG9nIiwibmF0aXZlTW9kYWxSZWYiLCJfY3JlYXRlSW5qZWN0b3IiLCJjb250ZW50UmVmIiwidXNlckluamVjdG9yIiwiZGlhbG9ncyIsIl9OYXRpdmVEaWFsb2dCYXNlX0ZhY3RvcnkiLCJUeXBlIiwiTmF0aXZlRGlhbG9nU2VydmljZSIsImRlZmF1bHRPcHRpb25zIiwicGFyZW50RGlhbG9nIiwiTmF0aXZlRGlhbG9nU2VydmljZV9GYWN0b3J5IiwiTmF0aXZlRGlhbG9nQ2xvc2VEaXJlY3RpdmUiLCJfZGlhbG9nIiwiZ2V0Q2xvc2VzdERpYWxvZyIsInByb3hpZWRDaGFuZ2UiLCJfb25CdXR0b25DbGljayIsIk5hdGl2ZURpYWxvZ0Nsb3NlRGlyZWN0aXZlX0ZhY3RvcnkiLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV9Ib3N0QmluZGluZ3MiLCJOYXRpdmVEaWFsb2dDbG9zZURpcmVjdGl2ZV90YXBfSG9zdEJpbmRpbmdIYW5kbGVyIiwiX21hdERpYWxvZ0Nsb3NlIiwiTmF0aXZlRGlhbG9nTW9kdWxlIiwiTmF0aXZlRGlhbG9nTW9kdWxlX0ZhY3RvcnkiLCJOU0ZpbGVTeXN0ZW0iLCJjdXJyZW50QXBwIiwiZmlsZUZyb21QYXRoIiwiZnJvbVBhdGgiLCJmaWxlRXhpc3RzIiwiZXhpc3RzIiwiTlNGaWxlU3lzdGVtX0ZhY3RvcnkiLCJnZW5lcmF0ZURldGFjaGVkTG9hZGVyIiwiZ2VuZXJhdGVOYXRpdmVTY3JpcHRWaWV3IiwidHlwZU9yVGVtcGxhdGUiLCJyZXVzaW5nRGV0YWNoZWRMb2FkZXIiLCJrZWVwTmF0aXZlVmlld0F0dGFjaGVkIiwiQmFzZVZhbHVlQWNjZXNzb3IiLCJwZW5kaW5nQ2hhbmdlTm90aWZpY2F0aW9uIiwib25DaGFuZ2UiLCJvblRvdWNoZWQiLCJyZWdpc3Rlck9uQ2hhbmdlIiwiYXJnIiwicmVnaXN0ZXJPblRvdWNoZWQiLCJzZXREaXNhYmxlZFN0YXRlIiwiaXNEaXNhYmxlZCIsIndyaXRlVmFsdWUiLCJfIiwibm9ybWFsaXplVmFsdWUiLCJURVhUX1ZBTFVFX0FDQ0VTU09SIiwiVGV4dFZhbHVlQWNjZXNzb3IiLCJub3JtYWxpemVkIiwiVGV4dFZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIlRleHRWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIlRleHRWYWx1ZUFjY2Vzc29yX2JsdXJfSG9zdEJpbmRpbmdIYW5kbGVyIiwiVGV4dFZhbHVlQWNjZXNzb3JfdGV4dENoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJDSEVDS0VEX1ZBTFVFX0FDQ0VTU09SIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3IiLCJjaGVja2VkIiwiQ2hlY2tlZFZhbHVlQWNjZXNzb3JfRmFjdG9yeSIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yX0hvc3RCaW5kaW5ncyIsIkNoZWNrZWRWYWx1ZUFjY2Vzc29yX2NoZWNrZWRDaGFuZ2VfSG9zdEJpbmRpbmdIYW5kbGVyIiwiREFURV9WQUxVRV9BQ0NFU1NPUiIsIkRhdGVWYWx1ZUFjY2Vzc29yIiwiZGF0ZSIsIkRhdGVWYWx1ZUFjY2Vzc29yX0ZhY3RvcnkiLCJEYXRlVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJEYXRlVmFsdWVBY2Nlc3Nvcl9kYXRlQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIlRJTUVfVkFMVUVfQUNDRVNTT1IiLCJUaW1lVmFsdWVBY2Nlc3NvciIsInRpbWUiLCJUaW1lVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiVGltZVZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiVGltZVZhbHVlQWNjZXNzb3JfdGltZUNoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJOVU1CRVJfVkFMVUVfQUNDRVNTT1IiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yIiwiTnVtYmVyVmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiTnVtYmVyVmFsdWVBY2Nlc3Nvcl9Ib3N0QmluZGluZ3MiLCJOdW1iZXJWYWx1ZUFjY2Vzc29yX3ZhbHVlQ2hhbmdlX0hvc3RCaW5kaW5nSGFuZGxlciIsIlNFTEVDVEVEX0lOREVYX1ZBTFVFX0FDQ0VTU09SIiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3IiLCJTZWxlY3RlZEluZGV4VmFsdWVBY2Nlc3Nvcl9GYWN0b3J5IiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3JfSG9zdEJpbmRpbmdzIiwiU2VsZWN0ZWRJbmRleFZhbHVlQWNjZXNzb3Jfc2VsZWN0ZWRJbmRleENoYW5nZV9Ib3N0QmluZGluZ0hhbmRsZXIiLCJOYXRpdmVTY3JpcHRGb3Jtc01vZHVsZSIsIk5hdGl2ZVNjcmlwdEZvcm1zTW9kdWxlX0ZhY3RvcnkiLCJEQVNIX0NBU0VfUkVHRVhQIiwiZGFzaENhc2VUb0NhbWVsQ2FzZSIsIm0iLCJ0b1VwcGVyQ2FzZSIsImNyZWF0ZUtleWZyYW1lQW5pbWF0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsImVhc2luZyIsImluZm8iLCJjcmVhdGVLZXlmcmFtZUFuaW1hdGlvbkluZm8iLCJrZXlmcmFtZUFuaW1hdGlvbkZyb21JbmZvIiwiaXNGb3J3YXJkcyIsImN1cnZlIiwiZ2V0Q3VydmUiLCJrZXlmcmFtZXMiLCJwYXJzZUFuaW1hdGlvbktleWZyYW1lIiwiZ2V0S2V5ZnJhbWVEdXJhdGlvbiIsImdldERlY2xhcmF0aW9ucyIsIm9mZnNldCIsInVucGFyc2VkRGVjbGFyYXRpb25zIiwiTmF0aXZlU2NyaXB0QW5pbWF0aW9uUGxheWVyIiwicGFyZW50UGxheWVyIiwiX3N0YXJ0U3Vic2NyaXB0aW9ucyIsIl9kb25lU3Vic2NyaXB0aW9ucyIsIl9maW5pc2hlZCIsIl9zdGFydGVkIiwiaW5pdEtleWZyYW1lQW5pbWF0aW9uIiwidG90YWxUaW1lIiwiaW5pdCIsImhhc1N0YXJ0ZWQiLCJvblN0YXJ0Iiwib25Eb25lIiwicGxheSIsImFuaW1hdGlvbiIsInBsYXlBbmltYXRpb24iLCJvblRhcmdldExvYWRlZCIsIm9uRmluaXNoIiwiX2UiLCJwYXVzZSIsImZpbmlzaCIsInJlc2V0IiwiaXNQbGF5aW5nIiwiY2FuY2VsIiwicmVzdGFydCIsInNldFBvc2l0aW9uIiwiX3AiLCJnZXRQb3NpdGlvbiIsIlNlbGVjdG9yIiwicmF3U2VsZWN0b3IiLCJtYXRjaCIsIm5zU2VsZWN0b3JNYXRjaCIsImNsYXNzU2VsZWN0b3JzTWF0Y2giLCJ0cmltIiwibnNTZWxlY3RvcnMiLCJjcmVhdGVTZWxlY3RvciIsImNsYXNzU2VsZWN0b3JzIiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsInNvbWUiLCJoYXNDbGFzcyIsImNscyIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbkRyaXZlciIsInZhbGlkUHJvcGVydGllcyIsIl9nZXRQcm9wZXJ0eU5hbWVzIiwiZ2V0UGFyZW50RWxlbWVudCIsInZhbGlkYXRlU3R5bGVQcm9wZXJ0eSIsIm1hdGNoZXNFbGVtZW50IiwibWFrZVNlbGVjdG9yIiwiY29udGFpbnNFbGVtZW50IiwiZWxtMSIsImVsbTIiLCJvcmlnaW5hbFZpZXciLCJ2aXNpdERlc2NlbmRhbnRzIiwidmlld01hdGNoZXMiLCJmb3VuZCIsInF1ZXJ5IiwicXVlcnlEZXNjZW5kYW50cyIsIm1hdGNoZXMiLCJjb21wdXRlU3R5bGUiLCJjYW1lbENhc2VQcm9wIiwiYW5pbWF0ZSIsImNiUGFyYW1zIiwiZWFjaENoaWxkIiwiSW5qZWN0YWJsZUFuaW1hdGlvbkVuZ2luZSIsImRvYyIsImRyaXZlciIsIm5vcm1hbGl6ZXIiLCJJbmplY3RhYmxlQW5pbWF0aW9uRW5naW5lX0ZhY3RvcnkiLCJpbnN0YW50aWF0ZVN1cHBvcnRlZEFuaW1hdGlvbkRyaXZlciIsImluc3RhbnRpYXRlRGVmYXVsdFN0eWxlTm9ybWFsaXplciIsIk5hdGl2ZVNjcmlwdEFuaW1hdGlvbnNNb2R1bGUiLCJOYXRpdmVTY3JpcHRBbmltYXRpb25zTW9kdWxlX0ZhY3RvcnkiLCJpc0xvY2FsUmVxdWVzdCIsImdldEFic29sdXRlUGF0aCIsIm5zRmlsZVN5c3RlbSIsInByb2Nlc3NMb2NhbEZpbGVSZXF1ZXN0Iiwic3VjY2Vzc1Jlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsIm9ic2VydmVyIiwibG9jYWxGaWxlIiwicmVhZFRleHQiLCJqc29uIiwiSlNPTiIsImVycm9yUmVzdWx0IiwiTnNIdHRwQmFja0VuZCIsInhockZhY3RvcnkiLCJoYW5kbGUiLCJyZXEiLCJoYW5kbGVMb2NhbEZpbGVSZXF1ZXN0IiwiY3JlYXRlU3VjY2Vzc1Jlc3BvbnNlIiwiY3JlYXRlRXJyb3JSZXNwb25zZSIsIk5zSHR0cEJhY2tFbmRfRmFjdG9yeSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJOYXRpdmVTY3JpcHRIdHRwQ2xpZW50TW9kdWxlIiwiTmF0aXZlU2NyaXB0SHR0cENsaWVudE1vZHVsZV9GYWN0b3J5IiwiZmluZFRvcEFjdGl2YXRlZFJvdXRlTm9kZUZvck91dGxldCIsImFjdGl2YXRlZFJvdXRlIiwicGFnZVJvdXRlckFjdGl2YXRlZFN5bWJvbCIsImxvYWRlclJlZlN5bWJvbCIsImRlc3Ryb3lDb21wb25lbnRSZWYiLCJsb2FkZXJSZWYiLCJnZXRTbmFwc2hvdEtleSIsInNuYXBzaG90IiwicGF0aEZyb21Sb290IiwiRGV0YWNoZWRTdGF0ZUNhY2hlIiwiY2FjaGUiLCJjYWNoZUl0ZW0iLCJwZWVrIiwibWFya0N1cnJlbnRGb3JDbGVhciIsIm1hcmtlZEZvckRlbGV0aW9uIiwiY2xlYXJNYXJrZWQiLCJjbGVhck1vZGFsQ2FjaGUiLCJyZW1vdmVkSXRlbXNDb3VudCIsImhhc01vZGFsUGFnZXMiLCJpc01vZGFsIiwibW9kYWxDYWNoZUNsZWFyZWQiLCJOU1JvdXRlUmV1c2VTdHJhdGVneSIsImNhY2hlQnlPdXRsZXQiLCJyb3V0ZSIsImZpbmRWYWxpZE91dGxldEFuZEtleSIsImlzUGFnZUFjdGl2YXRlZCIsInRtcCIsInRhcmdldFJvdXRlIiwicm91dGVPdXRsZXRLZXkiLCJpbmNsdWRlcyIsInNob3VsZEF0dGFjaCIsInN0b3JlIiwidG9wSXRlbSIsInJldHJpZXZlIiwiY2FjaGVkSXRlbSIsInNob3VsZFJldXNlUm91dGUiLCJmdXR1cmUiLCJjdXJyIiwic2hvdWxkUmV1c2UiLCJyb3V0ZUNvbmZpZyIsImNsZWFyQ2FjaGUiLCJtYXJrQ2FjaGVGb3JDbGVhciIsInBvcENhY2hlIiwibWFya0NhY2hlRm9yUG9wIiwiY2xlYXJNYXJrZWRDYWNoZSIsIk5TUm91dGVSZXVzZVN0cmF0ZWd5X0ZhY3RvcnkiLCJSb3V0ZXJFeHRlbnNpb25zIiwicm91dGVyIiwiY29tbWFuZHMiLCJleHRyYXMiLCJuYXZpZ2F0ZUJ5VXJsIiwiYmFja05hdmlnYXRpb25PcHRpb25zIiwiYmFja091dGxldHMiLCJvdXRsZXRzVG9CYWNrIiwiZmluZE91dGxldHNUb0JhY2siLCJvdXRsZXRUb0JhY2siLCJiYWNrVG9QcmV2aW91c1BhZ2UiLCJjYW5Hb0JhY2tUb1ByZXZpb3VzUGFnZSIsInJvb3RSb3V0ZSIsInJvdXRlclN0YXRlIiwicmVsYXRpdmVSb3V0ZSIsInJlbGF0aXZlVG8iLCJyZWxhdGl2ZVJvdXRlT3V0bGV0IiwiZmluZE91dGxldEJ5Um91dGUiLCJmaW5kT3V0bGV0c1JlY3Vyc2l2ZSIsImN1cnJlbnRSb3V0ZVNuYXBzaG9wIiwiUm91dGVyRXh0ZW5zaW9uc19GYWN0b3J5IiwiUm91dGVyIiwiTlNSb3V0ZXJMaW5rIiwibmdab25lIiwibmF2aWdhdG9yIiwicGFnZVRyYW5zaXRpb24iLCJvblRhcCIsInN0cmluZ2lmeSIsInBhZ2VUcmFuc2l0aW9uRHVyYXRpb24iLCJnZXRFeHRyYXMiLCJmcmFnbWVudCIsInF1ZXJ5UGFyYW1zSGFuZGxpbmciLCJwcmVzZXJ2ZUZyYWdtZW50IiwiYXR0ckJvb2xWYWx1ZSIsInRyYW5zaXRpb24iLCJnZXRUcmFuc2l0aW9uIiwic2tpcExvY2F0aW9uQ2hhbmdlIiwicmVwbGFjZVVybCIsImNvbnZlcnRDbGVhckhpc3RvcnkiLCJ1cmxUcmVlIiwiY3JlYXRlVXJsVHJlZSIsImlzTmFOIiwiTlNSb3V0ZXJMaW5rX0ZhY3RvcnkiLCJwcmVzZXJ2ZVF1ZXJ5UGFyYW1zIiwiY29udGFpbnNUcmVlIiwiY29udGFpbmVyIiwiY29udGFpbmVlIiwiZXhhY3QiLCJlcXVhbFNlZ21lbnRHcm91cHMiLCJjb250YWluc1NlZ21lbnRHcm91cCIsImVxdWFsUGF0aCIsInNlZ21lbnRzIiwibnVtYmVyT2ZDaGlsZHJlbiIsImNvbnRhaW5zU2VnbWVudEdyb3VwSGVscGVyIiwiY29udGFpbmVlUGF0aHMiLCJoYXNDaGlsZHJlbiIsImEiLCJiIiwiTlNSb3V0ZXJMaW5rQWN0aXZlIiwiYWN0aXZlIiwibnNSb3V0ZXJMaW5rQWN0aXZlT3B0aW9ucyIsInN1YnNjcmlwdGlvbiIsImlzQWN0aXZlIiwibGlua3MiLCJuc1JvdXRlckxpbmtBY3RpdmUiLCJ1bnN1YnNjcmliZSIsImhhc0FjdGl2ZUxpbmtzIiwicGFyc2VVcmwiLCJpc0FjdGl2ZUxpbmtzIiwicmVkdWNlTGlzdCIsInEiLCJyZWR1Y2UiLCJyZXMiLCJsaW5rIiwiaXNMaW5rQWN0aXZlIiwiTlNSb3V0ZXJMaW5rQWN0aXZlX0ZhY3RvcnkiLCJOU1JvdXRlckxpbmtBY3RpdmVfQ29udGVudFF1ZXJpZXMiLCJQYWdlUm91dGUiLCJzdGFydFJvdXRlIiwiaXNDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJjYWxsYWJsZU9uY2UiLCJjYWxsZWQiLCJEZXN0cnVjdGlibGVJbmplY3RvciIsImRlc3RydWN0aWJsZVByb3ZpZGVycyIsInJlZnMiLCJub3RGb3VuZFZhbHVlIiwic2tpcFNlbGYiLCJyb3V0ZVRvU3RyaW5nIiwiUGFnZVJvdXRlck91dGxldCIsImxvY2F0aW9uSW5qZWN0b3IiLCJsb2NhdGlvbkZhY3RvcnlSZXNvbHZlciIsImlzQWN0aXZhdGVkIiwiYWN0aXZhdGVkIiwiX2FjdGl2YXRlZFJvdXRlIiwiYWN0aXZhdGVkUm91dGVEYXRhIiwicGFyZW50Q29udGV4dHMiLCJhY3Rpb25CYXJWaXNpYmlsaXR5IiwiaXNFbXB0eU91dGxldCIsInBhZ2VGYWN0b3J5Iiwicm91dGVSZXVzZVN0cmF0ZWd5IiwiZW52aXJvbm1lbnRJbmplY3RvciIsImF0dGFjaEV2ZW50cyIsImRldGFjaEV2ZW50cyIsImFjdGl2YXRlRXZlbnRzIiwiZGVhY3RpdmF0ZUV2ZW50cyIsInNldEFjdGlvbkJhclZpc2liaWxpdHkiLCJvbkNoaWxkT3V0bGV0Q3JlYXRlZCIsImRldGFjaGVkTG9hZGVyRmFjdG9yeSIsImdldENvbnRleHQiLCJvbkNoaWxkT3V0bGV0RGVzdHJveWVkIiwiZGVhY3RpdmF0ZSIsInBvc3ROYXZGdW5jdGlvbiIsIm1hcmtBY3RpdmF0ZWRSb3V0ZSIsImlzRmluYWxQYWdlUm91dGVyT3V0bGV0IiwiY2hpbGRDb250ZXh0IiwiYWN0aXZhdGVXaXRoIiwiZ2V0T3V0bGV0IiwiYWN0aXZhdGVPbkdvRm9yd2FyZCIsInJlc29sdmVyT3JJbmplY3RvciIsImdldENvbXBvbmVudFR5cGUiLCJpc05hdmlnYXRpb24iLCJkZXN0cnVjdGlibGVzIiwicGFyZW50SW5qZWN0b3IiLCJnZXRPckNyZWF0ZUNvbnRleHQiLCJsb2FkQ29tcG9uZW50SW5QYWdlIiwibmF2aWdhdGlvbkNvbnRleHQiLCJjb21wb25lbnRWaWV3IiwidG9wQWN0aXZhdGVkUm91dGUiLCJ0aGlzUm91dGVLZXkiLCJuYXZpZ2F0ZWRGcm9tQ2FsbGJhY2siLCJ3cmFwIiwiaXNCYWNrTmF2aWdhdGlvbiIsIm5hdmlnYXRlZEZyb21FdmVudCIsImdldEN1cnJlbnROYXZpZ2F0aW9uIiwiaXNSZXBsYWNlIiwid2lwZUNhY2hlIiwiY2xlYXJDYWxsYmFjayIsIm5hdmlnYXRlZFRvRXZlbnQiLCJuYXZpZ2F0aW9uRW50cnkiLCJjdXJyZW50UGFnZSIsInJlcGxhY2VQYWdlIiwiY2hpbGRSb3V0ZSIsIlBhZ2VSb3V0ZXJPdXRsZXRfRmFjdG9yeSIsIsm1ybVpbmplY3RBdHRyaWJ1dGUiLCJFbnZpcm9ubWVudEluamVjdG9yIiwiTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbiIsImdldEJhc2VIcmVmRnJvbURPTSIsIm9uSGFzaENoYW5nZSIsIl9mbiIsInNlYXJjaCIsImhhc2giLCJwYXRobmFtZSIsIl9uZXdQYXRoIiwiTmF0aXZlc2NyaXB0UGxhdGZvcm1Mb2NhdGlvbl9GYWN0b3J5IiwiTlNFbXB0eU91dGxldENvbXBvbmVudCIsInBhZ2VSb3V0ZXJPdXRsZXQiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50X0ZhY3RvcnkiLCJOU0VtcHR5T3V0bGV0Q29tcG9uZW50X1F1ZXJ5IiwiTlNFbXB0eU91dGxldENvbXBvbmVudF9UZW1wbGF0ZSIsInByb3ZpZGVMb2NhdGlvblN0cmF0ZWd5IiwiTmF0aXZlU2NyaXB0Um91dGVyTW9kdWxlIiwiZm9yUm9vdCIsInJvdXRlcyIsIm5nTW9kdWxlIiwiZm9yQ2hpbGQiLCJOYXRpdmVTY3JpcHRSb3V0ZXJNb2R1bGVfRmFjdG9yeSIsImN1cnJlbnRSYWZJZCIsIm5vb3AiLCJOYXRpdmVTY3JpcHROZ1pvbmUiLCJlbmFibGVMb25nU3RhY2tUcmFjZSIsInNob3VsZENvYWxlc2NlRXZlbnRDaGFuZ2VEZXRlY3Rpb24iLCJzaG91bGRDb2FsZXNjZVJ1bkNoYW5nZURldGVjdGlvbiIsImhhc1BlbmRpbmdNYWNyb3Rhc2tzIiwiaGFzUGVuZGluZ01pY3JvdGFza3MiLCJpc1N0YWJsZSIsIm9uVW5zdGFibGUiLCJvbk1pY3JvdGFza0VtcHR5Iiwib25TdGFibGUiLCJvbkVycm9yIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJzZWxmIiwiX25lc3RpbmciLCJfb3V0ZXIiLCJfaW5uZXIiLCJmb3JrIiwibGFzdFJlcXVlc3RBbmltYXRpb25GcmFtZUlkIiwibmF0aXZlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmF0aXZlRGlzcGF0Y2hUb01haW5UaHJlYWQiLCJkaXNwYXRjaFRvTWFpblRocmVhZCIsImZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yIiwiaXNJbkFuZ3VsYXJab25lIiwiYXNzZXJ0SW5Bbmd1bGFyWm9uZSIsImFzc2VydE5vdEluQW5ndWxhclpvbmUiLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJydW5UYXNrIiwiRU1QVFlfUEFZTE9BRCIsInJ1bkd1YXJkZWQiLCJydW5PdXRzaWRlQW5ndWxhciIsImNoZWNrU3RhYmxlIiwiZGVsYXlDaGFuZ2VEZXRlY3Rpb25Gb3JFdmVudHMiLCJpc0NoZWNrU3RhYmxlUnVubmluZyIsImZha2VUb3BFdmVudFRhc2siLCJ1cGRhdGVNaWNyb1Rhc2tTdGF0dXMiLCJkZWxheUNoYW5nZURldGVjdGlvbkZvckV2ZW50c0RlbGVnYXRlIiwiaXNBbmd1bGFyWm9uZSIsIm9uSW52b2tlVGFzayIsImRlbGVnYXRlIiwib25FbnRlciIsImludm9rZVRhc2siLCJpc01haW5UaHJlYWQiLCJvbkxlYXZlIiwib25JbnZva2UiLCJzb3VyY2UiLCJvbkhhc1Rhc2siLCJoYXNUYXNrU3RhdGUiLCJoYXNUYXNrIiwiX2hhc1BlbmRpbmdNaWNyb3Rhc2tzIiwibWljcm9UYXNrIiwibWFjcm9UYXNrIiwib25IYW5kbGVFcnJvciIsImhhbmRsZUVycm9yIiwiybVDT01QT05FTlRfVkFSSUFCTEUiLCLJtUNPTlRFTlRfQVRUUiIsIsm1SE9TVF9BVFRSIiwiybVOYXRpdmVTY3JpcHRBbmd1bGFyRGVidWciLCLJtVZpZXdVdGlsIiwiybVhY3Rpb25CYXJNZXRhIiwiybVlbGVtZW50TWFwIiwiybVpc0FjdGlvbkl0ZW0iLCLJtWlzTmF2aWdhdGlvbkJ1dHRvbiJdLCJzb3VyY2VSb290IjoiIn0=